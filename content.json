{"meta":{"title":"RenAhahWiki","subtitle":"个人数据库/个人博客","description":"电气工程/控制工程/电机控制/电力电子/信息技术","author":"RenAhah","url":"https://renahah.github.io","root":"/"},"pages":[{"title":"","date":"2024-01-25T05:20:20.888Z","updated":"2024-01-25T05:20:20.888Z","comments":true,"path":"README.html","permalink":"https://renahah.github.io/README.html","excerpt":"","text":"RenAhahWiki_source RenAhahWiki源文件备份"},{"title":"异！误！","date":"2023-05-13T12:08:47.000Z","updated":"2024-01-25T05:20:20.888Z","comments":true,"path":"/404.html","permalink":"https://renahah.github.io/404.html","excerpt":"","text":"异页顶针，鉴定为404错误。 ⣿⣿⣿⠟⠛⠛⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⢋⣩⣉⢻⣿⣿ ⣿⣿⣿⠀⣿⣶⣕⣈⠹⠿⠿⠿⠿⠟⠛⣛⢋⣰⠣⣿⣿⠀⣿⣿ ⣿⣿⣿⡀⣿⣿⣿⣧⢻⣿⣶⣷⣿⣿⣿⣿⣿⣿⠿⠶⡝⠀⣿⣿ ⣿⣿⣿⣷⠘⣿⣿⣿⢏⣿⣿⣋⣀⣈⣻⣿⣿⣷⣤⣤⣿⡐⢿⣿ ⣿⣿⣿⣿⣆⢩⣝⣫⣾⣿⣿⣿⣿⡟⠿⠿⠦⠀⠸⠿⣻⣿⡄⢻ ⣿⣿⣿⣿⣿⡄⢻⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣾⣿⣿⣿⣿⠇⣼ ⣿⣿⣿⣿⣿⣿⡄⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⣰⣿ ⣿⣿⣿⣿⣿⣿⠇⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢀⣿⣿ ⣿⣿⣿⣿⣿⠏⢰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢸⣿⣿ ⣿⣿⣿⣿⠟⣰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⣿⣿ ⣿⣿⣿⠋⣴⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡄⣿⣿ ⣿⣿⠋⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⢸⣿ 12345 44 00000 44 NN NN tt FFFFFFF dd 444 00 00 444 NNN NN oooo tt FF oooo uu uu nn nnn dd 44 4 00 00 44 4 NN N NN oo oo tttt FFFF oo oo uu uu nnn nn dddddd44444444 00 00 44444444 NN NNN oo oo tt FF oo oo uu uu nn nn dd dd 444 00000 444 NN NN oooo tttt FF oooo uuuu u nn nn dddddd"},{"title":"Categories","date":"2024-01-25T05:20:21.091Z","updated":"2024-01-25T05:20:21.091Z","comments":true,"path":"categories/index.html","permalink":"https://renahah.github.io/categories/index.html","excerpt":"","text":""},{"title":"About","date":"2024-07-10T02:23:10.373Z","updated":"2024-01-25T05:20:21.091Z","comments":true,"path":"about/index.html","permalink":"https://renahah.github.io/about/index.html","excerpt":"","text":"关于我 一个普通而平凡的人。虽努力，但也不完全努力；虽顺利，但也不怎么顺利；虽失败，但也不彻底失败；虽然生命的起源与世界为何存在至今仍是未解之谜，但怎么说得证明自己存在的价值，为这个世界留下点什么。 虽是电气/自动化专业学生，但一直以来都对计算机感兴趣，看了下目前的个人博客，除了生活类内容外，绝大多数技术性分享都是计算机软件相关内容，最多涉及到单片机硬件，涉及其他学科的个人博客较少，涉及电气工程——电机控制方向的个人博客更是相当稀少（特指个人建立网站发布，不包括在CSDN、博客园等大型平台上发布的博客）。我的个人博客将弥补国内在这方面的空白。我就随便写一写，整理资料罢了。 音乐方面主要听电子音乐；想自学乐理及Fl Stdio做曲，但是懒得学 书籍方面主要看科幻小说，网文也看；想自己写科幻小说或者网文，但是懒得写 游戏方面主要玩我的世界(Minecraft)以及类似的沙盒游戏(Starbound,terraria,Minetest等)；想编程开发类似的沙盒游戏或者做Minecraft模组，但是懒得编 除此之外还玩玩音乐游戏，天赋不够水平一般，主要是听歌打节奏，毕竟音游曲与电子音乐有较大的重合度。 电影电视剧不怎么看，因为感觉信息密度太低，看书可以自由控制阅读节奏，脑补出的场景效果更好。 个人非常不喜欢把看视频作为学习某门课程知识的方式（除非是动手操作类的视频），对于理论知识的学习，对我个人而言其效率排序为文章≥PPT&gt;书籍&gt;视频。看视频学知识实在是太低效了，可能看半天也看不到重点；书籍的内容全面，但是内容过多，其中很多都是废话；上课用的PPT就很好，内容全是干货，当然有时会过于精炼，导致有的点get不到；而文章，我认为是学习知识的最好载体，基于PPT和书籍以及自己的心得体会整理而成的笔记，可以兼顾到书籍和PPT的优点，看文章的学习效率，可以说是视频的十倍不止。这或许是大家写博客的一个重要原因。 哪里有我 网易云音乐RenAhah 知乎任啊啊 B站我是任啊啊 微博RenAhah osu! RenAhah MalodyRenAhah githubRenAhah SpotifyRenAhah SoundcloudRenAhah 邮箱527849618@qq.com 网站内容规划 网站定位：个人知识数据库兼博客 ①电气工程——电机控制相关：研究生阶段专业知识数据库，包括不同种类电机的本体及调速原理方法，自动控制原理及方法；建模仿真软件ANSYS，MATLAB的使用及相关例程，DSP控制器编程方法及相关例程。 ②单片机——硬件相关：单片机知识数据库，包括微机原理，单片机原理，计算机控制技术，数字电子技术等基础知识；STM32等各类单片机编程方法及相关例程。 ③计算机——软件相关：网站搭建所需知识数据库(HTML,CSS,Javascript,php,SQL等)。其他编程语言笔记及项目实战(C,C++,Java,Python,lua等)。 ④兴趣爱好相关：作曲研究，读过的书籍整理及读后感，视频剪辑学习研究等。 ⑤个人日记：心路历程。"},{"title":"Tags","date":"2024-01-25T05:20:21.091Z","updated":"2024-01-25T05:20:21.091Z","comments":true,"path":"tags/index.html","permalink":"https://renahah.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"《论语》（一）","slug":"国学/《论语》（一）","date":"2025-08-18T23:35:40.000Z","updated":"2025-09-14T04:23:57.842Z","comments":true,"path":"国学/《论语》（一）/","link":"","permalink":"https://renahah.github.io/%E5%9B%BD%E5%AD%A6/%E3%80%8A%E8%AE%BA%E8%AF%AD%E3%80%8B%EF%BC%88%E4%B8%80%EF%BC%89/","excerpt":"","text":"学而 子曰：“学而时习之，不亦说yuè乎？有朋自远方来，不亦乐乎？人不知而不愠yùn，不亦君子乎？” 习，复习温习，引申义为实践。说，通“悦”，喜悦。愠，恼怒，怨恨。 有子曰：“其为人也孝弟，而好犯上者，鲜矣；不好犯上，而好作乱者，未之有也。君子务本，本立而道生。孝弟也者，其为仁之本与！” 弟，通“悌”，敬顺兄长。 一个人孝顺父母，敬爱兄长，却喜欢冒犯上级的人，是很少见的；不喜欢冒犯上级却喜欢作乱的人是没有的。 君子行事致力于根本，确立了根本，道也就产生了。孝悌就是仁道的根本吧！ 子曰：“巧言令色，鲜矣仁！” 花言巧语，装作好看的脸色，这样的人很少有仁心了。 曾子曰：“吾日三省吾身：为人谋而不忠乎？与朋友交而不信乎？传不习乎？” 为别人办事是否尽心尽力了？与朋友交往是否真诚守信了？对老师传授的学业是否认真复习了？ 子曰：“道千乘shèng之国，敬事而信，节用而爱人，使民以时。” 道，治理。乘，古代军队的基层单位。每乘拥有四匹马拉的兵车一辆，车上甲士3人，车下步卒72人，后勤人员25人，共计100人。敬事，严肃的治事态度。 治理一个具有千辆兵车的国家，要严肃治事并有诚信，要节约财用并爱护人民，要根据农时来使用民力。 子曰：“弟子入则孝，出则弟，谨而信，泛爱众，而亲仁。行有余力，则以学文。” 弟子，指年少者。入，指在家。出，指外出拜师学习。弟，通“悌”，敬顺兄长。 子夏曰：“贤贤易色；事父母，能竭其力；事君，能致其身；与朋友交，言而有信。虽曰未学，吾必谓之学矣。” 贤贤，尊崇贤者。易，有两种解释，一是改变的意思，此句为尊重贤者而改变好色之心；二是轻视的意思，即看重贤德而轻视女色。致，奉献。 （有上述道德品质的人）即使说自己没有学问，我也一定说他学习过了。 色，女色，可以理解为相貌，即看中内在的贤德而不看重外在的相貌。 子曰：“君子不重则不威，学则不固。主忠信。无友不如己者。过，则勿惮改。” 重，庄重。惮，害怕。 主忠信，做人以忠信为主。无友不如己者，不和道德品性不如自己的人交朋友。 曾子曰：“慎终追远，民德归厚矣。” 能谨慎对待父母的丧事，追思远祖，这样就能使百姓的德性趋于忠厚老实了。 子禽问于子贡曰：“夫子至于是邦也，必闻其政。求之与？抑与之与？”子贡曰：“夫子温、良、恭、俭、让以得之。夫子之求之也，其诸异乎人之求之与？” 其诸，语气词，大概。 孔子每到一个国家，都凭借温和、善良、恭敬、俭朴、谦让的美德来获知这个国家的政事。 子曰：“父在，观其志；父没，观其行；三年无改于父之道，可谓孝矣。” 父亲在世时，观察儿子的志向；父亲去世后，观察儿子的行为；他能三年不改变父亲的遗志，可以说是尽孝了。 有子曰：“礼之用，和为贵。先王之道，斯为美，小大由之。有所不行，知和而和，不以礼节之，亦不可行也。” 和，和谐，协调。节，节制。 礼的运用，以和谐为贵。先王治国之道的美好之处就在这里，无论小事大事都这样实行。 但如果遇到行不通的情况，只是为了和谐而求和谐，而不用礼加以节制，那也是不可行的。 有子曰：“信近于义，言可复也。恭近于礼，远耻辱也。因不失其亲，亦可宗也。” 复，实践，履行。因，依靠，凭藉。宗，尊敬。 讲信用要符合道义，符合道义的话才能实行。恭敬要符合于礼，这样才能远离耻辱。所依靠的都是可亲近的人，这样的就可以尊敬了。 子曰：“君子食无求饱，居无求安，敏于事而慎于言，就有道而正焉，可谓好学也已。” 就，靠近、看齐。有道，有道德的人。正，匡正、端正。 君子饮食不求饱足，居住不求安适，行事勤敏而言语谨慎，请有道德的人对自己的言行加以匡正，这样可以说是好学的了。 子贡曰：“贫而无谄，富而无骄，何如？”子曰：“可也。未若贫而乐，富而好礼者也。” 子贡曰：“《诗》云：‘如切如磋，如琢如磨。’其斯之谓与？”子曰：“赐也，始可与言《诗》已矣，告诸往而知来者。” 谄，巴结、奉承。 贫穷而不谄媚，富有而不骄傲，这也算可以了，但是不如虽贫穷却乐于遵循道义，虽富裕却喜好礼仪的人。 切，切断。磋，锉平。琢，雕刻。磨，磨光。切磋琢磨是对骨器、玉器等的不同加工方式，比喻在道德学问上的磨砺研修。 （这句话也被引用在《大学》的“止于至善”部分，比喻君子修身治学的精益求精）。 其斯之谓与，大概说的就是这个道理吧。 诸，通“之”。往，过去的事情。来，未来的事情。告诸往而知来者，指的是子贡在孔子讲过的话中领会到了还没有说到的意思，做到了举一反三。 子曰：“不患人之不己知，患不知人也。” 不怕别人不了解自己，只怕自己不了解别人。（在了解别人的过程中，也使别人了解自己。） 为政 子曰：“为政以德，譬如北辰居其所而众星共之。” 北辰，指北极星。共，通“拱”，环绕。 以德治政，当政者就会像北极星一样安居其位，而众星都环绕着它。 子曰：“诗三百，一言以蔽之，曰：‘思无邪。’” 蔽，概括。思无邪，思想纯正。 子曰：“道之以政，齐之以刑，民免而无耻。道之以德，齐之以礼，有耻且格。” 道，引导。政，政令法规。齐，整治。格，正。 用法令和刑罚治理民众，民众虽会免于犯罪，但没有羞耻心。用道德和礼教引导民众，民众既有羞耻心又能守规矩。 子曰：“吾十有五而志于学，三十而立，四十而不惑，五十而知天命，六十而耳顺，七十而从心所欲，不逾矩。” 而立，能够自立。不惑，不被外界事物迷惑。天命，不能为人力所支配的事情。耳顺，对那些于己不利的意见也能正确对待。 十五岁到四十岁是学习领会的阶段。五十、六十岁是安心立命的阶段，不受环境左右。七十岁是主观意识和作人的规则融合为一的阶段，能够随心所欲的同时不越出规矩。 孟懿子问孝。子曰：“无违。” 樊迟御，子告之曰：“孟孙问孝于我，我对曰，无违。”樊迟曰：“何谓也？”子曰：“生，事之以礼；死，葬之以礼，祭之以礼。” 无违，不要违背，这里指孝的含义就是不违背礼。御，这里指樊迟为孔子驾车。 父母活着，按照礼侍奉他们；父母去世，按照礼安葬他们，按照礼祭祀他们。 孟武伯问孝。子曰：“父母唯其疾之忧。” 孟武伯，前文孟懿子之子。其，指子女。 父母不用担忧子女的为人行事，只担忧其患病（为人行事是可以自我改善的，而很多疾病不是人能改变的）。 子游问孝。子曰：“今之孝者，是谓能养。至于犬马，皆能有养。不敬，何以别乎？” 孝不仅仅是供养父母就行了，因为犬马也靠人喂养着。所以还需要存敬重之心，否则孝顺父母就和喂养犬马没什么区别了。 子夏问孝。子曰：“色难。有事，弟子服其劳；有酒食，先生馔zhuàn，曾是以为孝乎？” 色，脸色。难，不容易。弟子，指晚辈、儿女等。先生，年长者，这里指父母。馔，吃喝。曾，乃，表示疑问。 尽孝最难做到的就是对父母和颜悦色，若仅仅是有事情让子女去操劳，有酒食让父母享用，难道能认为这样就可以算是孝了吗？ 子曰：“吾与回言终日，不违，如愚。退而省其私，亦足以发，回也不愚。” 不违，不提相反的意见和问题。 孔子终日向颜回讲学，他从来也不提出任何疑问，像是愚笨无知的样子。等他退下之后，考察其私下的言行举止，完全能发挥所学内容，所以他并不愚笨。 子曰：“视其所以，观其所由，察其所安。人焉廋sōu哉？人焉廋哉？” 所以，所做的事情。所由，做事的动机。所安，安心做什么事情。安，指心里安乐。廋，隐匿。 了解一个人需要听其言而观其行，根据其言论与所做的事情考察其做事动机与内心想法。这样就不会有秘密存在了。 子曰：“温故而知新，可以为师矣。” 子曰：“君子不器。” 器，器皿。器皿各有其专门的用途，这里用来比喻才识狭隘而不博通。 君子应当博学多识，具有多方面才干，不只局限于某个方面。 子贡问君子。子曰：“先行其言而后从之。” 先做后说。 子曰：“君子周而不比，小人比而不周。” 周，合群。比（bì），勾结，结党营私。 君子能团结他人而不结党营私。小人之间相互勾结却不团结。 子曰：“学而不思则罔，思而不学则殆。” 罔，迷惘。殆，疑惑。 子曰：“攻乎异端，斯害也已。” 第一种解释：攻，治，致力研究。异端，指各种杂学、技艺等。致力于学习异端学说，是有害的。 第二种解释：攻，攻击。异端，不正确的言论。攻击那些不正确的言论（异端学说），可以消除祸害。 第三种解释：攻击异端学说，是有害的。 第四种解释：异端，也可以理解为事情的两个极端。做事情走极端，做过了或者做不到位都是有害的。 子曰：“由！诲女知之乎！知之为知之，不知为不知，是知zhì也。” 不要不懂装懂。 子张学干禄。子曰：“多闻阙疑，慎言其余，则寡尤；多见阙殆，慎行其余，则寡悔。言寡尤，行寡悔，禄在其中矣。” 干，求取。阙，缺。阙疑，保留有疑惑的问题，不妄作推断。寡，少。尤，过错。阙殆，同“阙疑”。 多听别人说，有怀疑的地方不说出来，其余有把握的也要谨慎地说出来，这样就能少犯错。多看别人做，有怀疑的地方不做，其余有把握的也要谨慎地做，这样就能少后悔。 哀公问曰：“何为则民服？”孔子对曰：“举直错诸枉，则民服；举枉错诸直，则民不服。” 错，通“措”，放置。枉，邪曲。 举用正直的人，把邪恶的人置于一旁，那么百姓就会服从。 季康子问：“使民敬、忠以劝，如之何？”子曰：“临之以庄，则敬；孝慈，则忠；举善而教不能，则劝。” 季康子，鲁哀公时任正卿，权臣。以，连接词，与“而”同。劝，勤勉，努力。 要使百姓恭敬、忠诚、勤劳，要怎么做？你庄重地对待他们，百姓就会尊敬你；你对父母孝顺、对子弟慈祥，百姓就会忠于你；你举用善良的人，教导能力差的人，百姓就会勤勉。 或谓孔子曰：“子奚不为政？”子曰：“《书》云：‘孝乎惟孝，友于兄弟，施于有政。’是亦为政，奚其为为政？” 或，有人。奚，疑问词，相当于“为什么”。 做到孝顺父母，友爱兄弟，并将类似的道理用到治理国家上，也算是参与政事。 子曰：“人而无信，不知其可也。大车无輗ní，小车无軏yuè，其何以行之哉？” 大车，牛车。輗，大车车辕前面横木上的木销子。小车，马车。軏，小车车辕前面横木上的木销子。 一个人如果没有信用，不知道他还可做什么。 子张问：“十世可知也？”子曰：“殷因于夏礼，所损益，可知也；周因于殷礼，所损益，可知也。其或继周者，虽百世，可知也。” 世，代，古时称30年为一世，另一种解释为朝代。因，沿袭、继承。损益，减少和增加，变动。 子曰：“非其鬼而祭之，谄也。见义不为，无勇也。” 不该由你祭的鬼你却祭他，这是谄媚。遇见合乎道义的事你却不做，这是没有勇气。 四书五经——中华书局 四书五经译注（套装全九册）——上海古籍出版社 论语——识典古籍","categories":[{"name":"国学","slug":"国学","permalink":"https://renahah.github.io/categories/%E5%9B%BD%E5%AD%A6/"}],"tags":[{"name":"国学","slug":"国学","permalink":"https://renahah.github.io/tags/%E5%9B%BD%E5%AD%A6/"}]},{"title":"《中庸》","slug":"国学/《中庸》","date":"2025-07-18T05:01:49.000Z","updated":"2025-08-18T06:59:03.662Z","comments":true,"path":"国学/《中庸》/","link":"","permalink":"https://renahah.github.io/%E5%9B%BD%E5%AD%A6/%E3%80%8A%E4%B8%AD%E5%BA%B8%E3%80%8B/","excerpt":"","text":"一 天命之谓性，率性之谓道，脩道之谓教。 天命，人的本性。率性，遵循人的本性。道，人类社会的发展规律。脩，通“修”。教，教育、教化。 道也者，不可须臾离也，可离非道也。是故君子戒慎乎其所不睹，恐惧乎其所不闻。莫见xiàn乎隐，莫显乎微。故君子慎其独也。 君子在没人看见的地方也保持谨慎，在没人听见的地方也心怀恐惧。 在隐蔽和细节之处更容易表现出本色。 所以君子更加小心谨慎地对待一人独处的时候。 慎，慎重，谨慎。独，一人独处之时。慎独，儒家的一种“内求”的道德修养方法。 喜怒哀乐之未发，谓之中；发而皆中zhònɡ节，谓之和。中也者，天下之大本也；和也者，天下之达道也。致中和，天地位焉，万物育焉。 中，意为不偏不倚，无过无不及，指处理事情达到恰如其分的适中状态。 中（zhònɡ）节，符合人的本性，即符合常理，符合道德规范。中，符合。节，节度。 和，多种事物的协调统一。 达道，一切事物遵循的普遍规律，这里指人们共同遵行的原则。位，这里用作动词，各在其位的意思。 喜怒哀乐没有表现出来的时候，叫做“中”；表现出来以后符合节度，叫做“和”。 “中”是天下一切道理的最大根本所在，“和”是天下一切事物最普遍的规律。 达到“中和”的境界，天地就各安其位了，万物便随性发育了。 二 仲尼曰：“君子中庸，小人反中庸。君子之中庸也，君子而时中；小人之反中庸也，小人而无忌惮也。” 时，时时，经常。 君子之所以符合中庸之道，是因为他们随时能保持恰如其分的适中状态；小人之所以违背中庸，是因为他们肆无忌惮。 三 子曰：“中庸其至矣乎！民鲜能久矣。” 其，语气词，恐怕、大概的意思。至，至高无上。 中庸之道可以说是至高无上的道德标准了吧！很少有人能够长久坚持中庸之道了（很少有人能做到，这种情况持续很久了）。 四 子曰：“道之不行也，我知之矣：知zhì者过之，愚者不及也；道之不明也，我知之矣：贤者过之，不肖xiào者不及也。人莫不饮食也，鲜能知味也。” 知（zhì）者，聪明的人。知，通“智”。 对于中庸之道，聪明的人认识过头了，愚笨的人认识不到，贤能的人做的过头，不贤的人做的不够。 就像人们每天都要吃饭，但却很少有人能够真正品尝滋味（仔细品尝确定具体的咸淡程度）。 味，滋味，引申为中庸之道所蕴含的精华。 五 子曰：“道其不行矣夫fú！” 矣夫，表示感叹的语气助词。 中庸之道大概是不能够实行了啊！ 六 子曰：“舜其大知zhì也与yú！舜好hào问而好察迩ěr言，隐恶而扬善，执其两端，用其中于民，其斯以为舜乎！” 迩，意为近，浅近。迩言，指老百姓说的通俗易懂的话。 舜喜欢向别人请教，善于分析浅显话语的含义。能够包容别人的短处，宣扬别人的长处。他能把握认识上的‘过’和‘不及’这两个方面，采用适中的办法治理百姓。 七 子曰：“人皆曰予知zhì，驱而纳诸罟擭ɡǔ huò陷阱之中，而莫之知辟bì也；人皆曰予知，择乎中庸而不能期jī月守也。” 罟，罗网的总称。擭，装有机关的捕获野兽的木笼。罟擭，泛指捕捉野兽的器具。 辟，通“避”，回避，躲避。 期月，一整月，这里比喻时间不长。 人人都说自己聪明，可是（在利欲的驱使下）却像野兽一样陷入罗网陷阱中却不知躲避，选择了中庸之道后却连一个月时间也不能坚持（好胜心难以满足，欲壑难填）。 八 子曰：“回之为人也，择乎中庸，得一善，则拳拳服膺，而弗失之矣。” 拳拳服膺，牢牢记在心里。拳拳，牢握不舍的意思，引申为很恳切的意思。服膺，紧贴胸前，表示牢记在心，真诚信服之意。服，着，放置。膺，胸怀。 颜回选择了中庸之道，每得到一点好处，就牢牢地记在心里，再也不把它失去。 虽说中庸之道难于做到，但只要努力了，就一定会进步。 九 子曰：“天下国家可均也，爵禄可辞也，白刃可蹈也，中庸不可能也。” 均：平定，公平治理。 中庸之道是非常难以坚持做到的。 十 子路问强。子曰：“南方之强与yú？北方之强与yú？抑而强与yú？宽柔以教，不报无道，南方之强也，君子居之。衽rèn金革，死而不厌，北方之强也，而强者居之。故君子和而不流，强哉矫qiáo！中立而不倚，强哉矫！国有道，不变塞焉，强哉矫！国无道，至死不变，强哉矫！” 强：坚强，势力过人。与，同“欤”，疑问语气词。而，第二人称代词，相当于“尔”。 你问的是南方人的强，还是北方人的强，还是你的强？ 宽柔，宽厚柔弱，以忍胜人。报，报复。无道，残暴无礼。 衽金革，枕着武器睡觉，意为随时准备战斗。厌，后悔。 和而不流，性格平和而不随波逐流。和，待人温和。流，迁就别人，随大流。矫，强悍刚毅的样子。 国有道，国家政治清明，统治者治国遵从礼制与德治。不变塞，不改变（穷困潦倒时）的志向。 君子与人平和相处而不随波逐流，保持中立而不偏不倚，国家政治清明时不改变穷困潦倒时的志向（不被功名利禄所腐蚀），国家政治黑暗时坚持操守，宁死不变，才是真的强。 孔子勉励子路在“北方之强”的基础之上吸取“南方之强”的长处，坚守中庸之道。 十一 子曰：“素隐行怪，后世有述焉，吾弗为之矣。君子遵道而行，半途而废，吾弗能已矣。君子依乎中庸，遁世不见知而不悔，唯圣者能之。” 素，应为“索”字，探索，寻求。隐，隐僻。索隐行怪，寻求隐僻的道理，专做怪诞的事情（以欺世盗名）。已，停止。遁世，逃避世俗，指隐居。见知，被了解，被任用。 有的人探索隐僻的道理，专做怪异的事情，后世虽然也有人为他著述立传，但我绝对不会这样做。君子应遵循正道行事，有的人却半途而废了，但我绝对不会中途停止。 君子凡事都依中庸之道去做，即便避世隐居，不被理解，也绝不悔恨，这只有圣人才能做到。 十二 君子之道，费而隐。夫妇之愚，可以与yù知焉，及其至也，虽圣人亦有所不知焉；夫妇之不肖xiào，可以能行焉，及其至也，虽圣人亦有所不能焉。 费而隐，广大而精微。费，广泛、广大。隐，隐蔽、微妙。夫妇，匹夫匹妇，普通男女百姓。与（yù），通“预”，参与。不肖，不贤，这里指普通的无所作为的。 中庸之道既广泛又深入。老百姓虽然愚昧，也可以知道一些道理；但其最高深精妙的部分，即便是圣人也有不知道的地方。 天地之大也，人犹有所憾。故君子语大，天下莫能载焉；语小，天下莫能破焉。 憾，这里指思想上有不满足的地方。破，解析，剖析。 天地这么大，人们仍对它不满足。从中庸的宏观方面而言，天下没有人能够承担它；从中庸的微观方面而言，天下没有人能够剖析它。 《诗》云：“鸢飞戾lì天，鱼跃于渊。”言其上下察也。君子之道，造端乎夫妇，及其至也，察乎天地。 鸢，一种鹰类的凶猛的鸟。戾，至，到达。察，洞察，观察。造端，开始，开端。乎，于。 引用诗经语句说明中庸之道的应用场景十分广泛。 中庸之道从老百姓都懂的浅显道理开始，达到其最高深精妙境界时，就可以洞察天下一切事物的道理了。 十三 子曰：“道不远人；人之为道而远人，不可以为道。《诗》云：‘伐柯伐柯，其则不远。’执柯以伐柯，睨nì而视之，犹以为远。故君子以人治人，改而止。忠恕违道不远，施诸己而不愿，亦勿施于人。 中庸之道并不远离于人，若有人修道时故作高深，以致道远离了人，那就不可以称为修中庸之道了。 伐，砍伐。柯，斧柄。则，法则，样式，这里指做斧柄的样板。睨，斜着眼睛看。 砍伐树木做斧柄，斧柄的样式就在眼前，手握着斧柄样式砍伐树木做斧柄，眼睛直视时看不出什么差异，但如果你斜眼一看，还是会发现差异很大。 忠，尽己之心。恕，推己及人。诸，“之于”二字的合音。 君子按照人的道理来治理人，别人如果有过错，改正了也就可以了。如果能做到忠和恕，那么就离中庸之道不远了。己所不欲，勿施于人。 “以人治人”，存在两种解释，其一是按照人所共有的道理来治理人；其二是根据不同人的情况采取不同的办法治理。 “君子之道四，丘未能一焉：所求乎子以事父，未能也；所求乎臣以事君，未能也；所求乎弟以事兄，未能也；所求乎朋友先施之，未能也。庸德之行，庸言之谨，有所不足，不敢不勉；有余，不敢尽。言顾行，行顾言，君子胡不慥zào慥尔！” 君子之道四，孝（子事父）、忠（臣事君）、悌（弟事兄）、信（对朋友讲信用）。 庸德，平凡的德行。胡，怎么，为什么。慥慥尔，忠厚诚实的样子。 孔子谦虚地认为自己还不够孝、忠、悌、信，因此对自己的品德与言行做出了严格要求。 所作的若还不够，不敢不加倍努力；所说的若还有没做到的，就不敢把话说尽。 言顾行，行顾言，做到言行一致。 十四 君子素其位而行，不愿乎其外。素富贵，行乎富贵；素贫贱，行乎贫贱；素夷狄，行乎夷狄；素患难，行乎患难。君子无入而不自得焉。 素其位而行，安于平时所处的位置，做自己应该做的事。素来，向来。愿，羡慕。外，等级名分之外。 讲求中庸之道的君子，安心地处于所处的位置上做自己应该做的事，不羡慕本分以外的名利。 在上位，不陵下；在下位，不援上。正己而不求于人，则无怨。上不怨天，下不尤人。故君子居易以俟sì命，小人行险以徼jiǎo幸。 陵，通“凌”，欺凌。援，攀附，巴结。尤，抱怨。 处于上位时，不欺压在下位的人；处于下位时，不攀附在上位的人。端正自己而不苛求别人，这样就不会有什么抱怨了。 居易，处于平易而安全的境地。俟，等待。行险，铤而走险。徼，通“侥”。徼幸，企图因偶然的机会而获得成功。 讲求中庸之道的君子安居现状以等待时机，小人却铤而走险企图侥幸获得成功。 子曰：“射有似乎君子，失诸正鹄zhēnɡ ɡǔ，反求诸其身。” 正鹄，“正”和“鹄”是两种鸟名，古人在布做成的箭靶子中心画上正的图案，在皮革做成的箭靶子中心画上鹄的图案，作为箭靶子中心的代称。 射箭的道理，与君子立身处世之道有相似之处。如果箭没有射中靶心，就应该回过头来从自己身上寻找原因。 十五 君子之道，辟如行远，必自迩ěr；辟如登高，必自卑。 辟：通“譬”。迩，近。卑，低处。 中庸之道，就像走远路一样，一定是从近处出发；就像登高山一样，一定得从低处起步。 由浅入深，循序渐进，不可好高骛远。 《诗》曰：“妻子好合，如鼓瑟琴。兄弟既翕xì，和乐且耽chén。宜尔室家，乐尔妻帑nú。”子曰：“父母其顺矣乎！” 翕，聚合，这里指关系融洽。耽，快乐的样子，原文作“湛”，深厚的意思。 宜，适宜，使人和睦。妻帑，妻子儿女的统称。帑，同“孥”，指子孙。 妻子儿女感情和睦，就像弹琴鼓瑟一样。兄弟关系融洽，和顺又快乐。使你的家庭美满，使你的妻儿幸福。这样父母也就称心如意了吧。 践行中庸之道首先着眼于身边切近的地方，从“齐家”做起。 十六 子曰：“鬼神之为德，其盛矣乎！视之而弗见，听之而弗闻，体物而不可遗。使天下之人，齐zhāi明盛服，以承祭祀。洋洋乎如在其上，如在其左右。《诗》曰：‘神之格思，不可度duó思，矧shěn可射yì思？’夫微之显，诚之不可揜yǎn如此夫！” 体物，体现在事物之中。齐（zhāi），通“斋”，斋戒，在祭祀之前沐浴，以表示诚心。明，洁净。盛服，华美庄重的祭服，意为穿戴整齐。洋洋乎，形容鬼神盛大而飘忽的样子。 格，降临。思，句尾语气助词。度（duó），揣度、猜测。矧（shěn），况且，怎么可以。射（yì），因厌恶而怠慢不敬。 微之显，鬼神之事既隐微虚无，又昭明显现。揜（yǎn），通“掩”，掩盖。夫，感叹词“啊”。 用鬼神之德比喻中庸之道的无处不在，既广泛又精妙。 十七 子曰：“舜其大孝也与！德为圣人，尊为天子，富有四海之内，宗庙飨xiǎnɡ之，子孙保之。故大德必得其位，必得其禄，必得其名，必得其寿。故天之生物，必因其材而笃焉。故栽者培之，倾者覆之。《诗》曰：‘嘉乐君子，宪宪令德。宜民宜人，受禄于天。保佑命之，自天申之。’故大德者必受命。” 飨，用酒食款待人，这里指用祭品供奉祖先。子孙保之，子孙后代保持不断。 因，依，顺着。材，资质，本性。笃，厚待，这里指精心培养。倾者，歪斜不正，不能成材的人。覆，毁坏，毁灭。 上天生养万物，必定根据其资质来判断是否应该精心培养它。能成材的就好好培养，不能成才的就放任其走向毁灭。 嘉乐，和善而安乐。宪宪，原文作“显显”，光明。令德，美好的德行。民，民众。人，百官。申，陈述、说明。 和善而安乐的君子，有光明美好的德行，让人民安居乐业，享受上天赐予的福禄。上天保佑他，任用他，给他以重大的使命。所以说有大德的人必能秉承天命。 十八 子曰：“无忧者，其惟文王乎！以王季为父，以武王为子，父作之，子述之。 王季，周文王的父亲，名季历，商朝末期的西方诸侯，号称西伯，周成王时追谥为“王季”。作，开创。述，继承。 “武王缵zuǎn大tài王、王季、文王之绪，壹戎衣而有天下，身不失天下之显名，尊为天子，富有四海之内，宗庙飨之，子孙保之。 缵，继承。大（tài）王，季历的父亲古公亶（dǎn）父，商朝后期在西部兴起，号称西伯，奠定了周朝王业的基础。绪，功业。 壹，通“一”，戎衣，战袍。壹戎衣而有天下，一披上战袍就拥有了整个天下，指周武王推翻商朝获取天下之迅速。显名，赫赫威名。 “武王末受命，周公成文武之德，追王wànɡ大王、王季，上祀先公以天子之礼。斯礼也，达乎诸侯、大夫及士、庶人。父为大夫，子为士，葬以大夫，祭以士；父为士，子为大夫，葬以士，祭以大夫。期jī之丧，达乎大夫；三年之丧，达乎天子。父母之丧，无贵贱，一也。” 末，末年，晚年。受命，接受天命，这里指做天子。追王，死后追谥为王。王，用作动词，尊为君王的意思。祀，祭祀。先公，指古公亶父以上的周朝的历代祖宗。 如果父亲是大夫，儿子是士，父亲死后用大夫的礼制安葬，儿子祭祀时则用士的礼制；如果父亲是士，儿子是大夫，父亲死后用士的礼制安葬，儿子祭祀时则用大夫的礼制。 期，一周年。期之丧，又称期服，指服丧一年的服制。 为旁亲服一年齐衰（zīcuī）丧的礼制，从庶人实行到大夫为止；为父母亲服三年斩衰丧的礼制，一直实行到天子。 为父母服丧，则没有贵与贱的区别，无论天子抑或庶人都是一样的。 十九 子曰：“武王、周公，其达孝矣乎！夫孝者，善继人之志，善述人之事者也。春秋修其祖庙，陈其宗器，设其裳chánɡ衣，荐其时食。 所谓孝道，就是善于继承先人的志向，善于传承先人未竟的事业。 春秋，泛指四季，这里指祭祀祖先的时节。裳，遮蔽下体的衣裙。衣，上衣。裳衣，祖先生前穿过的衣服。荐，进献。时食，四季应时的食品。 “宗庙之礼，所以序昭穆也；序爵，所以辨贵贱也；序事，所以辨贤也；旅酬下为上，所以逮贱也；燕毛，所以序齿也。践其位，行其礼，奏其乐，敬其所尊，爱其所亲，事死如事生，事亡如事存，孝之至也。 所以...也，是用来做...的。序，用作动词，指排列次序。昭穆，宗庙里牌位的次序。按照周代宗法制度规定的次序，始祖牌位居于中央，始祖以下，二世、四世、六世等（偶数世）的牌位放置在始祖牌位的左方，称为“昭”；三世、五世、七世等（奇数世）的牌位放置在始祖牌位的右方，称为“穆”。 事，职事，这里指祭祀进献祭品时所担任的职务。旅酬，古代一种众人同饮的礼节，一般在祭礼尾声时进行。旅，指众人；酬，指敬酒。下为上，位卑年幼的人向位尊年长的人敬酒。逮贱，先祖的恩惠下达到卑贱者。逮，到。燕，通“宴”，祭祀完成后举行的宴会。毛，即须发，这里指按年龄（须发的颜色）排定座次。 践，登上。事，侍奉，服侍。事死如事生，侍奉已去世的祖先就像他还活着的时候那样。 “郊社之礼，所以事上帝也；宗庙之礼，所以祀乎其先也。明乎郊社之礼，禘dì尝之义，治国其如示诸掌乎？” 郊社，冬至日在都城的南郊举行祭天仪式，称为“郊”；夏至日在都城的北郊举行祭地仪式，称作“社”。禘，一种只有天子才能举行的极为隆重的祭祀祖先的大祭，五年一次在宗庙里举行。尝，天子、诸侯在秋天举行的宗庙祭祀（春曰礿yuè，夏曰禘dì，秋曰尝，冬曰烝zhēng），这里借指四季的祭祀之礼。示，通“置”，放置。 如果能明白祭祀的礼节和意义，那么治理国家就像把放在手掌上的东西指给别人看一样容易了。 二十 哀公问政。子曰：“文武之政，布在方策。其人存，则其政举；其人亡，则其政息。人道敏政，地道敏树。夫政也者，蒲卢也。故为政在人，取人以身，修身以道，修道以仁。 文武之政，周文王和周武王所制定的政治制度和治国措施。布，散布，流传，这里指记载。方策，指典籍。方，书写用的木。策，编起来的竹简。 敏，奋勉，努力从事。治人之道在于努力搞好政事，就像经营土地的道理就在于努力搞好种植一样。 蒲卢，芦苇，比喻贤人为政容易取得成效（芦苇容易成活而且生长迅速）。 国君想要治理好国家，关键在于有贤人的辅佐；想要得到贤人的辅佐，首先必须修养好自身的品德；想要修养好自身的品德，就在于要遵循中庸之道；想要准确地把握中庸之道，就在于是否理解仁的道理。 “仁者，人也，亲亲为大；义者，宜也，尊贤为大。亲亲之杀shài，尊贤之等，礼所生也。故君子不可以不修身；思修身，不可以不事亲；思事亲，不可以不知人；思知人，不可以不知天。 第一个“亲”是动词，亲爱；第二个“亲”是名词，亲族。 所谓仁就是做人的道理，亲爱自己的亲族是做人的头等大事；所谓义就是做事要合宜得当，尊敬贤能是做事的头等大事。 杀（shài），减少，降等。亲爱亲族要分远近亲疏，尊敬贤能要分品德才能的高下，这就是礼所产生的原因。 想要成为君子，不可以不修养自己的品德、尽心地侍奉亲族、了解人性、知晓天理。 “天下之达道五，所以行之者三，曰：君臣也，父子也，夫妇也，昆弟也，朋友之交也，五者天下之达道也；知zhì、仁、勇三者，天下之达德也；所以行之者一也。 达道，共同遵循的普遍道理。昆弟，兄弟。 天下人都要遵循的大道有五条：君臣之道、父子之道、夫妇之道、兄弟之道、朋友的交往之道。实行这五条大道所要具备的基本品德有三项：智慧、仁爱、勇敢。确保这三项基本品德的前提只有一个（下文要讲的“诚”）。 “或生而知之，或学而知之，或困而知之，及其知之，一也；或安而行之，或利而行之，或勉强而行之，及其成功，一也。 有的人天生知道，有的人通过学习知道，有的人经历困苦后才知道，只要最终都知道了，结果就是一样的了。 有的人自愿去实行大道，有的人为了利益去实行大道，还有的人勉强着实行大道，只要他们都实行了，结果就是一样的了。 “好学近乎知zhì，力行近乎仁，知耻近乎勇。知斯三者，则知所以修身；知所以修身，则知所以治人；知所以治人，则知所以治天下国家矣。 爱好学习，就接近智慧了；努力行善，就接近仁爱了；懂得耻辱，就接近勇敢了。 知道了这三点，也就知道了应该如何修养自身的品德，进而知道如何管理他人、治理国家。 “凡为天下国家有九经，曰：修身也，尊贤也，亲亲也，敬大臣也，体群臣也，子庶民也，来百工也，柔远人也，怀诸侯也。 体，体察，体恤。子庶民，像爱护子女那样爱护百姓，子用作动词。来，招来。百工，各种工匠。柔，怀柔，安抚。怀，安抚。 治理天下国家的九条大纲有：修养自身品德、尊重贤能之人、亲爱亲近之人、敬重上级大臣、体恤下级群臣、爱民如同爱子、招揽各类工匠、优待边远族人、安抚四方诸侯。 其中修身、尊贤是根本，亲亲是齐家之道，敬大臣、体群臣、子庶民、来百工是治国之道，柔远人、怀诸侯是平天下之道。 “修身则道立，尊贤则不惑，亲亲则诸父昆弟不怨，敬大臣则不眩，体群臣则士之报礼重，子庶民则百姓劝，来百工则财用足，柔远人则四方归之，怀诸侯则天下畏之。 诸父，叔父和伯父。昆弟，兄和弟，也包括堂兄堂弟。眩，迷惑、糊涂。劝，受到勉励。畏，敬服。 “齐zhāi明盛服，非礼不动，所以修身也；去谗远色，贱货而贵德，所以劝贤也；尊其位，重其禄，同其好恶，所以劝亲亲也；官盛任使，所以劝大臣也；忠信重禄，所以劝士也；时使薄敛，所以劝百姓也；日省xǐnɡ月试，既廪称chèn事，所以劝百工也；送往迎来，嘉善而矜jīn不能，所以柔远人也；继绝世，举废国，治乱持危，朝聘以时，厚往而薄来，所以怀诸侯也。 齐，通“斋”，斋戒。明，洁净。非礼不动，不合乎礼的事不做。 官盛任使，设置足够多的属官以供差遣任用。 时使，适时役使，指应在农闲时才使百姓服劳役，避免耽误农时。薄敛，减轻赋税。 省，检查，察看。试，考核，测试。日省月试，经常检查考核。既廪称事，发给的薪水粮食要与其工作业绩相符。既廪，即“饩（xì）廪”，“饩”是赠送食物之意，“廪”是粮仓，这里指代粮食。称，适合、相符的意思。 矜，怜悯，同情。嘉善而矜不能，能力强就嘉奖，能力不足就同情和救济。 继绝世，让中断俸禄的世家继续享受俸禄。举废国，恢复被灭掉的国家。治乱持危，平定祸乱并扶持危局。 朝聘以时，严格按照周礼规定的时间向天子恭行朝聘之礼。朝，诸侯直接朝见天子。聘，诸侯派卿大夫去向天子进贡。 具体说明修身、尊贤、亲亲、敬大臣、体群臣（劝大臣与劝士）、子庶民、来百工、柔远人、怀诸侯的具体方法。 “凡为天下国家有九经，所以行之者一也。 治理天下国家有以上九条纲要，而用来实行上述纲要的前提却只有一个（引出下文所要讲的“诚”）。 “凡事豫则立，不豫则废。言前定则不跲jiá，事前定则不困，行前定则不疚，道前定则不穷。 豫，通“预”，预先有准备。跲（jiá），绊倒，这里指说话结巴。疚，感到惭愧。 凡是预先做好准备就能成功，不做好准备就会失败。说话前考虑好就不会结巴，做事前计划好就不会遇到困难，修养德行前确定好目标就不会感到愧疚，行路前确定好路线，就不会走投无路。 “在下位不获乎上，民不可得而治矣；获乎上有道，不信乎朋友，不获乎上矣；信乎朋友有道，不顺乎亲，不信乎朋友矣；顺乎亲有道，反诸身不诚，不顺乎亲矣；诚身有道，不明乎善，不诚乎身矣。 诚，一种真诚笃实的道德信念，是实行智、仁、勇等的基础。 在下位的人，如果得不到在上位的人信任，就不可能治理好平民百姓。想要得到上位的人的信任，首先要得到朋友的信任；想要得到朋友的信任，首先要使父母亲顺适称心；想要使父母亲顺适称心，首先要使自身真诚；想要使自身真诚，首先要明白什么是善。 “诚者，天之道也；诚之者，人之道也。诚者，不勉而中zhònɡ，不思而得，从容中道，圣人也；诚之者，择善而固执之者也。 诚者，前者是天然赋予的真诚，后者是天生就真诚的人。诚之者，前者指（通过努力修养）使之达到诚的地步，后者指努力修养真诚品德的人。中（zhònɡ），符合。 天生就真诚的人，不用勉强就能符合道德规范，不用思考就能得到道理，能够从容地遵循中庸之道，这样的人就是圣人；努力修养使自己达到真诚品德的人，就选择至善的道德，坚持不懈去达到它。 “博学之，审问之，慎思之，明辨之，笃行之。有弗学，学之弗能，弗措也；有弗问，问之弗知，弗措也；有弗思，思之弗得，弗措也；有弗辨，辨之弗明，弗措也；有弗行，行之弗笃，弗措也。人一能之，己百之；人十能之，己千之。果能此道矣，虽愚必明，虽柔必强。” 笃，切实。 广泛地学习，审慎地询问，慎重地思考，明确地辨析，切实地履行。 弗，不。措，停下，搁置。弗措，不停，不放弃。 假如学习了却没有学会，就不能半途而废，否则就不如一开始就不学。询问、思考、辨析、履行同理。 别人用一分功夫能做到的，自己就下一百分的功夫；别人用十分功夫能做到的，自己就下一千分的功夫。如果真能用这样的毅力追求中庸之道，即使愚笨也一定可以聪明起来，即使柔弱也一定可以刚强起来。 二十一 自诚明，谓之性；自明诚，谓之教。诚则明矣，明则诚矣。 由真诚而自然明白什么是善，这叫做天性；由明白什么是善后做到真诚，这叫做教化。真诚了自然就会明白什么是善，明白什么是善后也就会做到真诚。 二十二 唯天下至诚，为能尽其性。能尽其性，则能尽人之性；能尽人之性，则能尽物之性；能尽物之性，则可以赞天地之化育；可以赞天地之化育，则可以与天地参sān矣。 至诚，最诚的人，也就是“自诚明”者，圣人。赞，帮助，协助。参，通“叁”，这里指天地人并列为三。 只有天下最真诚的人，才能充分发挥自身的本性，进而充分发挥众人和万物的本性，帮助天地造化养育万物，与天地并列为三了。 二十三 其次致曲，曲能有诚。诚则形，形则著，著则明，明则动，动则变，变则化。唯天下至诚为能化。 其次，次于“自诚明”者的“自明诚”者，贤人。曲，局部，一个方面。致曲，致力于某一方面。 形，显露。动，感动。化，感化。 “自明诚”者专注于某个方面也能达到真诚。达到真诚就会表现出来，渐渐显著，彰显光辉，感动他人，转变人心，化育万物。只有天下至诚之人，才能做到化育万物。 二十四 至诚之道，可以前知。国家将兴，必有祯祥；国家将亡，必有妖孽。见xiàn乎蓍shī龟，动乎四体。祸福将至，善，必先知之；不善，必先知之。故至诚如神。 前知，预知未来。祯祥，吉祥的征兆。蓍龟，用蓍草和龟甲做成的占卜用品。动乎四体，表现在身体动作上。四体，四肢，泛指身体。如神，如神灵那样灵验微妙，无法用言语形容。 二十五 诚者，自成也；而道，自道dǎo也。诚者，物之终始，不诚无物。是故君子诚之为贵。诚者，非自成己而已也，所以成物也。成己，仁也；成物，知也。性之德也，合外内之道也。故时措之宜也。 自成，自我成全，自我完善。自道，自我引导。道，通“导”，引导。 真诚是自我完善的基础，中庸之道是自我引导的准则。 真诚贯穿于事物的始终，没有真诚就没有万事万物。 成己，让自己有所成就。 真诚并不是达到自我完善就够了，还要完善万事万物。 真诚是人性当中固有的品德，是把外在的事物和内在的德性融合为一的基本原则。所以任何时候施行都是适宜的。 二十六 故至诚无息。不息则久，久则征，征则悠远，悠远则博厚，博厚则高明。 无息，没有间断。征，征验，显露于外。高明，高大光明。 博厚，所以载物也；高明，所以覆物也；悠久，所以成物也。博厚配地，高明配天，悠久无疆。如此者，不见xiàn而章，不动而变，无为而成。 广博而深厚，是用以承载万物的；高大而光明，是用以涵盖万物的；悠久而长远，是用以成就万物的。广博而深厚，可以与地相匹配；高大而光明，可以与天相匹配；悠久而长远，则是永无边际的。 见，通“现”，表现。章，通“彰”，显著。 达到这种境界，不表现出来也能自然彰明，不去变动也会自然变化，无所作为也可以自然成就万物。 天地之道，可一言而尽也：其为物不贰，则其生物不测。天地之道：博也，厚也，高也，明也，悠也，久也。 不贰，专诚如一，没有二心。不测，不可测量，无法估计。 天地之道用一个字来概括（那就是“诚”）。意思就是“诚”本身专一不二，其演化出的万物多得没法估计。 天地之道，就在于广博、深厚、高大、光明、悠远、长久。 今夫fú天，斯昭昭之多，及其无穷也，日月星辰系焉，万物覆焉；今夫地，一撮土之多，及其广厚，载华岳而不重，振河海而不泄，万物载焉；今夫山，一卷石之多，及其广大，草木生之，禽兽居之，宝藏兴焉；今夫水，一勺之多，及其不测，鼋yuán鼍tuó、鲛龙、鱼鳖生焉，货财殖焉。 今夫，句首语气词。斯，这。昭昭，光明的样子。振，接纳，汇聚。一卷石，如拳头般大的一小块石头。卷，通“拳”。 鼋，如乌龟一类的水生爬行动物，背甲近圆形，暗绿色，俗称团鱼。鼍，子鳄，是鳄鱼的一种。鲛，鲨鱼。鳖，甲鱼。 天不过是由星星点点的光亮组成，但其无穷无尽，使得太阳、月亮、星辰都悬挂在它的上面，世上的万物都被它覆盖着；地不过是由一撮撮泥土构成，但其宽广博厚，承载华岳不觉得重，汇聚江河湖海而不会泄露，世间万物都承载其上；山不过是由一块块石头构成，但其广阔高大，草木生长于此，飞禽走兽栖息于此，矿藏也可以从中开发出来；水不过是一勺一勺地积聚而成，但其深不可测，各种海洋生物都可以在那里生存，各种海洋资源也可以开发出来。 《诗》云：“维天之命，於wū穆不已！”盖曰天之所以为天也。“於乎不pī显，文王之德之纯！”盖曰文王之所以为文也，纯亦不已。 於，句首语气词，感叹。穆，深远。於乎，通“呜呼”，感叹。不（pī）：意为“岂不”；一说，不通“丕”，大的意思。显：显著，光明。纯，纯洁无瑕。 上天的道理十分深远。周文王之所以被尊谥为“文”，就在于他的德行无止境的纯粹吧。 二十七 大哉，圣人之道！洋洋乎，发育万物，峻极于天。优优大哉！礼仪三百，威仪三千，待其人而后行。故曰：苟不至德，至道不凝焉。故君子尊德性而道问学，致广大而尽精微，极高明而道中庸，温故而知新，敦厚以崇礼。是故居上不骄，为下不倍。国有道，其言足以兴；国无道，其默足以容。《诗》曰：“既明且哲，以保其身。”其此之谓与！ 洋洋乎，浩浩荡荡，广大、丰富、充沛的样子。优优，宽裕充足的样子。 礼仪三百，威仪三千，指的是西周时制定的礼仪大纲三百六十项，礼仪细则三千余条。 其人，这里指后面所说的“至德”之人。 如果不是具有至高德行的人，至高的大道也就不会凝聚在他的身上。 道，追求、致力于。敦厚，朴实忠厚。 君子既要尊崇道德修养，又要致力于学问，既要广泛涉猎又要深入钻研，既要掌握高明的道理又要追求中庸之道，温习旧知识的同时学习新知识，朴实忠厚的同时还要崇尚修养礼仪。 倍，通“背”，违背。默，沉默。容，为避免遭受祸端的容身之处。 这样君子身居上位时不会骄傲，身居下位时不会背叛。国家政治清明的时候，他进言使国家兴盛；国家政治昏乱的时候，他能沉默不语足以容身自保。 明智且通达事理，可以保全自身，大概说的就是这个意思。 二十八 子曰：“愚而好自用，贱而好自专，生乎今之世，反古之道，如此者，烖zāi及其身者也。” 自用，刚愎自用，全凭主观意愿行事。自专，独断专横。烖，通“灾”。 生活在当今时代却要恢复古代礼制的人，灾祸一定会降临到他的身上。 非天子，不议礼，不制度，不考文。今天下车同轨，书同文，行同伦。虽有其位，苟无其德，不敢作礼乐焉；虽有其德，苟无其位，亦不敢作礼乐焉。 议礼，议定礼制。制度，创制法度。考文，考订文字规范。 即使有天子的地位，倘若没有圣人的品德，是不敢制定礼乐制度的；即使有圣人的品德，倘若没有天子的地位，也是不敢制定礼乐制度的。 子曰：“吾说夏礼，杞不足征也；吾学殷礼，有宋存焉；吾学周礼，今用之，吾从周。” 我探讨夏代的礼制，但在夏的后裔杞国那里已找不到充分的验证；我学习殷代的礼制，在殷的后裔宋国那里还保存了一些，可供考证；我学习周代的礼制，当今社会正在实行着，所以我主张遵从周礼。 孔子把夏、商之礼只当作学术研究的对象进行探讨，而自己在实际生活中所遵守的则是当代的周礼。 二十九 王wànɡ天下有三重焉，其寡过矣乎！上焉者，虽善无征，无征不信，不信民弗从；下焉者，虽善不尊，不尊不信，不信民弗从。故君子之道，本诸身，征诸庶民，考诸三王而不缪，建诸天地而不悖，质诸鬼神而无疑，百世以俟圣人而不惑。 王，用作动词，称王于天下。三重，三件重要的事（议礼、制度、考文）。其，大概。寡过，减少过错。 上焉者，在上位的人，君王。下焉者，在下位的人，臣子。 上位者所制定的礼制虽然完善美好，但得不到验证就不会被民众信任和服从。下位者所制定的礼制虽然完善美好，但没有尊贵的地位，也不会被民众信任和服从。 君子治理天下要从自身德行做起，从百姓那里得到验证，考察夏、商、周三代先王的做法而没有谬误，在天地之间实施而没有违背，卜筮于鬼神而没有疑问，等到百世以后再有圣人出现也不会对此感到迷惑。 质诸鬼神而无疑，知天也；百世以俟圣人而不惑，知人也。是故君子动而世为天下道，行而世为天下法，言而世为天下则。远之则有望，近之则不厌。 卜筮于鬼神而没有疑问，这是懂得了天道；百世以后的圣人不对此感到迷惑，这是懂得了人道。 因此君子的举止、行为、言论能成为世世代代天下人的准则。 离他远的人怀有仰慕之心，离他近的人不感到厌恶。 《诗》曰：“在彼无恶wù，在此无射yì。庶几夙夜，以永终誉。”君子未有不如此而蚤zǎo有誉于天下者也。 恶，憎恶，怨恨。射，原文作“斁”，讨厌，厌恶。庶几，将近，几乎，差不多。终誉，将美好的声誉保持到底。蚤，通“早”。 （杞、宋二国君主）在其本国没有人憎恶，在周朝这里也没有人讨厌。几乎从早到晚勤于政事，用以永远保持美好的名誉。 君子没有不这样做而很早就美名传扬天下的。 周王欢迎夏、商二王的后代杞、宋二国前来周朝助祭之诗。 三十 仲尼祖述尧、舜，宪章文、武；上律天时，下袭水土。辟如天地之无不持载，无不覆帱dào；辟如四时之错行，如日月之代明。万物并育而不相害，道并行而不相悖。小德川流，大德敦化。此天地之所以为大也。 祖述，宗奉前人之道并加以传述。宪章，效法。律，遵循。袭，因袭，符合。 辟，通“譬”，比如。持载，扶持承载。帱，覆盖。错行，交替运行。代，轮流。明，照耀。敦化，敦厚而变化无穷。 歌颂孔子所推崇的中庸之道，远宗尧舜，近法文武，并能根据天地之间一切事物的客观规律而揭示其本质，故而可以与天地并立，可以化育万物。 三十一 唯天下至圣，为能聪明睿知zhì，足以有临也；宽裕温柔，足以有容也；发强刚毅，足以有执也；齐zhāi庄中正，足以有敬也；文理密察，足以有别也。 睿知，通达明智，才识深远。临，居高临下，治理人民。宽裕，指胸怀宽广豁达。容，包容。发强，奋发图强。有执，有决断与操守。齐，斋戒，这里指恭敬。 文理密察，足以有别也。指的是至圣之人的文章有条理，思想缜密明察，足以辨别是非。 溥pǔ博渊泉，而时出之。溥博如天，渊泉如渊。见xiàn而民莫不敬，言而民莫不信，行而民莫不说yuè。是以声名洋溢乎中国，施yì及蛮貊mò。舟车所至，人力所通，天之所覆，地之所载，日月所照，霜露所队zhuì，凡有血气者，莫不尊亲，故曰配天。 溥，普遍，辽阔。博，广大。 至圣之人的道德广博且精微深远，如同深渊中的泉水般，任何时候都不断涌出来；如同无边无际的天空，精微深远好像那幽邃的深渊。 见（xiàn），通“现”，显现，表现于外。说（yuè），通“悦”，喜悦。 洋溢，广泛传播。施（yì），延伸，播扬。蛮貊，南蛮北貊，泛指边远之地的少数民族。队，通“坠”，降落。有血气者，具有血性和刚正之气的人。配天，与天相匹配。 三十二 唯天下至诚，为能经纶天下之大经，立天下之大本，知天地之化育。夫焉有所倚？肫zhūn肫其仁，渊渊其渊，浩浩其天！苟不固聪明圣知达天德者，其孰能知之？ 经纶，本义纺织前整理丝缕，这里指规划、治理。大经，治理天下的大纲。大本，根本原则。 夫焉有所倚，除了“诚”之外，还能倚靠什么呢？ 肫肫，通“忳忳”，诚恳的样子。渊渊，水深不可测，这里指深邃渊博的聪明才智。浩浩，广阔无际的样子。 固，实在。天德，天然赋予的美德。 如果不是实在具有聪明智慧通达天赋美德的人，还有谁能够懂得天地至道呢？ 三十三 《诗》曰：“衣锦尚絧jiǒnɡ。”恶wù其文之著也。故君子之道，闇àn然而日章；小人之道，的dí然而日亡。君子之道，淡而不厌，简而文，温而理，知远之近，知风之自，知微之显，可与入德矣。 衣，穿。锦，有彩色花纹的丝织品，这里指锦绣衣裳。尚，加在上面，这里指套在外面。絧，粗麻制成的罩衣。恶，讨厌。文，花纹。著，明显。 内穿锦绣制成的衣服，外面却套着粗麻罩衣。这是嫌锦衣的彩色花纹太显眼了。 闇然，隐藏不露。章，通“彰”，彰显。的（dí）然，鲜明、表露出来的意思。 君子之道虽然隐藏不露但会日益显著，小人之道虽然外表风光但会日益消亡。 君子之道，平淡而不令人厌烦，简洁而有文采，温和而有条理，由近知远，由风知源，由微知显，可以进入道德的境界了。 《诗》云：“潜虽伏矣，亦孔之昭！”故君子内省不疚，无恶于志。君子之所不可及者，其唯人之所不见乎！《诗》云：“相在尔室，尚不愧于屋漏。”故君子不动而敬，不言而信。 孔，很。昭，明显，彰明，原文为“炤（zhào）”。 （鱼儿在水中）虽然潜伏得很深，但还是可以看得很清楚的。所以君子经常自我反省，以做到无所愧疚，心志之中没有恶念。君子为一般人所达不到的地方，大概就在这些别人看不见的地方了。 相，看，注视。尔，你。屋漏，指古代室内西北角设小帐的地方。相传是神明所在，这里以屋漏代指神明。不愧屋漏喻指心地光明，不在暗中做坏事，起坏念头。 看你独自在室内的时候，是不是能无愧于神明。君子在没有做事的时候也是恭敬的，在没有对人许诺的时候也是恪守诚信的。 《诗》曰：“奏假ɡé无言，时靡mǐ有争。”是故君子不赏而民劝，不怒而民威于鈇fū钺。《诗》曰：“不pī显惟德，百辟其刑之。”是故君子笃恭而天下平。 奏，进奉，假（ɡé），通“格”，指诚心能与鬼神相感应。靡，没有。鈇钺，斧子，引申为刑法。 默默无言的祷告，感通神灵，就不会有争执。君子不用奖赏，就会使人们受到鼓励，不用发怒，人们就会比看见刑具还要敬畏。 不（pī），通“丕”，大。百辟，诸侯。刑，通“型”，效法。 （天子）大显德行，诸侯们都效法他。君子敦厚恭敬就会使天下太平。 《诗》云：“予怀明德，不大声以色。”子曰：“声色之于以化民，末也。”《诗》曰：“德輶yóu如毛。”毛犹有伦。“上天之载，无声无臭xiù。”至矣！ 予，我。以，与、和。化，教化，训导。末，树梢，次要的东西。 我怀有光明的品德，因此不会厉声厉色的教化人民。厉声厉色的教化人民，是末流的手段。 輶，古代一种轻便的车子，这里是轻的意思。伦，类，比较。载，通“栽”，这里指培植生长。臭，气味。 用德行感化人民，轻而易举如同毫毛。毫毛虽轻，但还有东西可以和它比较。 上天在无声无息之中化育万物，达到了最高的境界。 四书五经——中华书局 四书五经译注（套装全九册）——上海古籍出版社","categories":[{"name":"国学","slug":"国学","permalink":"https://renahah.github.io/categories/%E5%9B%BD%E5%AD%A6/"}],"tags":[{"name":"国学","slug":"国学","permalink":"https://renahah.github.io/tags/%E5%9B%BD%E5%AD%A6/"}]},{"title":"《大学》","slug":"国学/《大学》","date":"2025-07-14T01:00:04.000Z","updated":"2025-07-22T03:18:06.878Z","comments":true,"path":"国学/《大学》/","link":"","permalink":"https://renahah.github.io/%E5%9B%BD%E5%AD%A6/%E3%80%8A%E5%A4%A7%E5%AD%A6%E3%80%8B/","excerpt":"","text":"经文 大学之道，在明明德，在亲民，在止于至善。 大学与小学相对，小学指的是“洒扫应对进退、礼乐射御书数”等文化基础知识和礼节。大学指的是伦理、政治、哲学等“穷理正心，修己治人”的学问。 明明德，前一个明为动词，意思是“显明、弘扬”；后一个明为形容词，明德指人生来具备的善良光明的美德。 “亲”通“新”，革新。新民就是让人们革除旧的恶习，劝人向善。 止于至善，就是达到最完善的境界。 知止而后在定，定而后能静，静而后能安，安而后能虑，虑而后能得。 “止”，名词，指所止之地。“定”，确定，坚定。 知道应达到的境界才能坚定自己的志向；有坚定的志向才能有宁静且不躁动的意念；意念宁静才能心境安适；心境安适才能考虑问题周到；考虑问题周到才能有所收获。 物有本末，事有终始。知所先后，则近道矣。 知道事情的先后次序，就接近“大学”的道理了。 古之欲明明德于天下者，先治其国。欲治其国者，先齐其家，欲齐其家者，先修其身。欲修其身者，先正其心。欲正其心者，先诚其意。欲诚其意者，先致其知。致知在格物。 物格而后知至，知至而后意诚，意诚而后心正，心正而后身修，身修而后家齐，家齐而后国治，国治而后天下平。 治其国，指的是治理自己所在的邦国；齐其家，指的是整顿自己的家族。 修其身，正其心，诚其意，指的是修养自己的品德，端正自己的心思，使自己的意念真诚。 致其知，指的是获得认识事物的方法。格物，格有明辨，领悟之意，物指的是事物的道理。 自天子以至于庶人，壹是皆以修身为本。 其本乱而末治者，否矣；其所厚者薄，而其所薄者厚，未之有也。 要把修养自己的品德作为根本，不存在根本混乱而细枝末节治理的很好的人。 厚与薄指的的尊重与轻蔑。他尊重的人却对他轻蔑，他轻蔑的人却对他尊重，这样的事是没有的。 【注】三纲：明明德、亲民、止于至善。三纲是大学之道的主要目标。 八目：格物、致知、诚意、正心、修身、齐家、治国、平天下。八目是达成三纲的手段。 明明德 《康诰》曰：“克明德。”《大tài甲》曰：“顾諟天之明命。”《帝典》曰：“克明峻德。”皆自明也。 克，能够。能够弘扬光明的品德。 顾，思念。諟，通“是”，此。明命，光明的秉性。时刻记着这上天所赋予你的光明的德性。 峻，通“俊”，高大，崇高。 这些说的都是自己弘扬光明的品德。 新民 汤之《盘铭》曰：“苟日新，日日新，又日新。”《康诰》曰：“作新民。”《诗》曰：“周虽旧邦，其命维新。”是故，君子无所不用其极。 《盘铭》，指商汤在洗澡盆上镌刻的箴言。 新，本指洗涤身上的污垢，这里指提高自身修养，去恶从善实现品行上的焕然一新。 假如一天可以通过洗澡来去除污垢，那就应该天天洗澡清洗身体，一天比一天干净。这里指应当每天坚持改善自己的品行，摒弃恶行。 作，激励，振作。 维是语气助词。周朝虽然是古老的国家，但它所秉承的天命却在不断自我更新，指周文王不断坚持改进自己的德行。 止于至善 诗云，“邦畿jī千里，惟民所止。” 邦畿，都城及其周围的地区。止，停留，居住。国度附近地区都是民众向往的地方。 诗云，“缗mín蛮黄鸟，止于丘隅。”子曰：“于止，知其所止，可以人而不如鸟乎？” 缗蛮，黄鸟的叫声。丘隅，山边弯曲之处。 鸟都知道要在哪里栖息，人怎么能不如鸟呢？暗指人应当找准自己的位置。 诗云，“穆穆文王，於wū缉熙敬止。”为人君，止于仁；为人臣，止于敬；为人子，止于孝；为人父，止于慈；与国人交，止于信。 穆穆，庄重深远的样子。於，赞叹的语气词，相当于“啊”。辑，继续。熙，光明。敬止，能端庄恭敬而安于所止之地。这里指周文王平能够发扬光明的美德，恭敬地达到所止的至善境界。 后一句具体解释作为国君、臣子、长辈、晚辈、朋友时“止于至善”的要求。 诗云，“瞻彼淇澳yù，菉lù竹猗yī猗。有斐fěi君子。如切如磋，如琢如磨。瑟兮僩xiàn兮，赫兮喧兮。有斐君子，终不可諠xuān兮。”“如切如磋”者，道学也；“如琢如磨”者，自修也；“瑟兮僩兮”者，恂栗xún lì也；“赫兮喧兮”者，威仪也；“有斐君子，终不可諠兮”者，道盛德至善，民之不能忘也。 瞻，远望。淇，淇水，是卫国境内的河流。澳，河岸转弯处。菉，原文为“绿”。猗猗，形容植物长得光泽而茂盛的样子。 斐，文质彬彬的样子。切、磋、琢、磨，用打磨玉器的动作比喻君子修身治学的精益求精。 瑟，严肃庄重的样子。僩，威武刚毅的样子。赫，显耀，盛大。喧，通“煊”，显著，光明。諠，忘记。 恂栗，诚惶诚恐的样子，这里指恭敬而谨慎。 诗云，“於戏wū hū，前王不忘！”君子贤其贤，而亲其亲。小人乐其乐，而利其利。此以没mò世不忘也。 於戏，“呜呼”，感叹词。前王不忘，指的是前代的圣贤君主的恩泽不会被后人遗忘。 贤其贤，第一个“贤”字是动词，尊重，以之为贤的意思；第二个“贤”字是名词，指有德才的贤人。 亲其亲，第一个“亲”字是动词，亲近，与之相亲的意思；第二个“亲”字是名词，指亲人。 小人，这里指平民，不是道德卑劣之人。 乐其乐而利其利，享受（前王创造的）欢乐并获得（前王遗留的）利益。 本末 子曰：“听讼，吾犹人也，必也使无讼乎！”无情者，不得尽其辞，大畏民志，此谓知本。 在审理案件方面，我与别人没什么区别。但我的最终目的是使案子不再发生。 审理案件只是手段，属于“末”。而使隐瞒实情的人不能够花言巧语，使人心畏服，这才是“本”。 格物致知 此谓知本。此谓知之至也。 传之五章，盖释格物、致知之义，而今亡矣。间尝窃取程子之意以补之曰：所谓致知在格物者，言欲致吾之知，在即物而穷其理也。盖人心之灵，莫不有知；而天下之物，莫不有理。惟于理有未穷，故其知有不尽也。是以大学始教，必使学者即凡天下之物，莫不因其已知之理而益穷之，以求至乎其极。至于用力之久，而一旦豁然贯通焉，则众物之表、里、精、粗无不到，而吾心之全体大用无不明矣。此谓物格，此谓知之至也。 经文所说的“达到明确认识的关键是探究事物的道理”，意思是说，要想让我们达到有明确的认识，就需要接触外界的事物并且极力探究其中的规律。 每个人都具备认识事物的能力，万事万物都存在一定的道理。只是这些道理没有被人们完全认识，也就是人们对事物的认识不到位。 人们对于天下的事物，都要根据已经知道的道理进一步探究它，尽可能达到认知的极限。 长期探究事物道理之后，终有一天会豁然开朗，融会贯通，事物的表象与实质、细节与全局都被完全掌握，对于事物本体的作用都明明白白，了然于心。这就叫作事物的道理都被探索，这就是对事物的认识达到了最完善的程度。 体：本体。用：作用。“体”和“用”是中国哲学的一对重要范畴。 诚意 所谓诚其意者，毋自欺也，如恶wù恶臭xiù，如好hào好色，此之谓自谦qiè，故君子必慎其独也！ 意念真诚指的是不自欺欺人。 要像厌恶那难闻的气味一样（憎恨邪恶的事物），像喜爱美丽的容貌一样（喜爱美好的事物）。 自谦(qiè)，自求快意的满足。谦，同“慊”，满足，惬意。 慎其独，指独处的时候仍要一丝不苟，严格要求自己。 小人闲居为不善，无所不至，见君子而后厌yā然，掩其不善，而著其善。人之视己，如见其肺肝然，则何益矣？此谓诚于中，形于外，故君子必慎其独也。 厌（yā）然，躲藏掩饰的神态。 小人在私底下干坏事，在君子面前就伪装起来，但人们可以像看见心肺肝脏一样认清小人的真面目，掩盖有什么好处呢？ 内在的德行都会通过外在的形象表现出现，所以君子在独处时也小心谨慎。 曾子曰：“十目所视，十手所指，其严乎！”富润屋，德润身，心广体胖pán，故君子必诚其意。 独处时要时刻小心谨慎，就好像有许多双眼晴在注视着自己，许多只手在指点着自己一样。 心广体胖，如果一个人心胸开阔，身体自然会舒适安泰。 正心与修身 所谓修身在正其心者，身在所忿懥zhì，则不得其正；有所恐惧，则不得其正；有所好乐，则不得其正；有所忧患，则不得其正。 心不在焉，视而不见，听而不闻，食而不知其味。此谓修身在正其心。 忿懥（zhì）：愤怒。 修身与齐家 所谓齐其家在修其身者，人之其所亲爱而辟焉，之其所贱恶而辟焉，之其所畏敬而辟焉，之其所哀矜而辟焉，之其所敖惰而辟焉。故好而知其恶，恶而知其美者，天下鲜矣！故谚有之曰：“人莫知其子之恶，莫知其苗之硕。”此谓身不修不可以齐其家。 辟，偏向，这里指受到原有印象影响更加偏爱/厌恶/敬畏/同情/轻视他人。 哀矜，同情，怜悯。敖惰，傲视和怠慢。 知道偏爱的人的缺点与厌恶的人的优点是难得可贵的。 溺爱子女的人往往不知道孩子的坏毛病，贪得无厌的农夫不认为自己的庄稼已经长得很壮。 因此，管理好家庭之前需要先提高自身修养，做到没有偏见。 齐家与治国 所谓治国必先齐其家者，其家不可教，而能教人者，无之。故君子不出家而成教于国：孝者，所以事君也；弟tì者，所以事长也；慈者，所以使众也。 《康诰》曰：“如保赤子。”心诚求之，虽不中，不远矣。未有学养子而后嫁者也。 弟，通“悌”，指对兄长应有的尊敬态度。 能够把家庭治理好的君子，即使不出家门也算是受到了治理国家方面的教育。 能孝顺好父母就能很好地侍奉君主；能恭敬地对待兄长就能侍奉好上级官员；能慈爱子女就能对人民施行仁治。 赤子，指婴儿。保护人民要像母亲保护初生的婴儿一样，内心真诚地去追求，即使达不到目标，也不会相差太远。 没有先学会如何养孩子再去出嫁的人。出嫁后之所以能养育好孩子，完全是出于母爱的一片真诚。 一家仁，一国兴仁；一家让，一国兴让；一人贪戾lì，一国作乱。其机如此。此谓一言偾fèn事，一人定国。 尧、舜帅天下以仁，而民从之；桀、纣帅天下以暴，而民从之；其所令，反其所好，而民不从。是故君子有诸己而后求诸人，无诸己而后非诸人。所藏乎身不恕，而能喻诸人者，未之有也。故治国在齐其家。 让，谦恭礼让。戾，专横暴虐。机，弓弩上的发射机关，这里引申为“关键”。偾，败坏。 统治者的命令与自己的实际做法相反，老百姓是不会服从的。 诸，之于。君子想让别人去做什么时，首先自己去做；君子想让别人不做什么时，首先自己不做。 恕，儒家的恕道，是推己及人，将心比己的品德。意为自己不愿意别人做的，也不去对别人做。喻，使明白。 自己不践行恕道，却能使他人实行恕道，是不可能的。 《诗》云：“桃之夭夭，其叶蓁zhēn蓁。之子于归，宜其家人。”宜其家人，而后可以教国人。 《诗》云：“宜兄宜弟。”宜兄宜弟，而后可以教国人。 《诗》云：“其仪不忒tè，正是四国。”其为父子兄弟足法，而后民法之也。 此谓治国在齐其家。 夭夭，鲜嫩，艳丽。蓁蓁，树叶茂盛的样子。之，这个。子，女子。归，出嫁。宜，使和睦。自己家族的人和睦相处之后，才可以教化全国的人民和睦相处。 仪，仪表，威仪。这里指人的言行举止。忒，差错。四国，四方各国。 治国与平天下 所谓平天下在治其国者：上老老，而民兴孝；上长长，而民兴弟；上恤孤，而民不倍。是以君子有絜xié矩之道也。 前一个“老”为动词，指尊敬老人，后一个“老”是名词。 前一个“长”为动词，指尊敬长辈，后一个“长”是名词。弟通“悌”。 倍，通“背”，违背，背弃。 絜矩之道，儒家的一种处理人际关系的法则，以推己度人为标尺，以求人际关系的协调平衡。絜是量度，矩是画方形的工具，引申为法度。 所恶于上，毋以使下；所恶于下，毋以事上；所恶于前，毋以先后；所恶于后，毋以从前；所恶于右，毋以交于左；所恶于左，毋以交于右：此之谓絜矩之道。 具体解释“絜矩之道”，就是说若别人干的事令自己感到厌恶，就不要对其他人做这件令人厌恶的事。 反面例子就是别人不让你好的同时，你也以同样的态度对待他人，既然自己已经不舒服了，那就让所有人都同样不舒服。这样做虽然最初会让人感觉很解气，有一种大仇得报的爽感，或者说实现了某种意义上的“平等”，大家都一样难受了。但这对于建立良好的人际关系没有一点好处。 《诗》云：“乐只君子，民之父母。”民之所好，好之；民之所恶，恶之。此之谓民之父母。 和善快乐的君子（其喜好与厌恶的事情与人民喜好与厌恶的事情相同），犹如人民的父母。只，语气助词。 《诗》云：“节彼南山，维石岩岩。赫赫师尹，民具尔瞻。”有国者不可以不慎。辟，则为天下僇lù矣。 节，高大险峻的样子。维，语气词。岩岩，山石矗立高峻的样子。 赫赫，势位显盛的样子。师，太师。尹，太师的姓。具，通“俱”。尔，你。瞻，看。 辟，邪僻，这里指偏离儒家的道德规范。僇，通“戮”，杀戮，这里指推翻。 作为治国者，时时刻刻都会受到天下人民的监视，因此一定要小心谨慎，若违背道德，则会被天下人民推翻。 《诗》云：“殷之未丧师，克配上帝。仪监于殷，峻命不易。”道得众则得国，失众则失国。是故君子先慎乎德。 丧师，失去民心。师，民众。克配上帝，能够配得上祭祀上帝，意指接受“天命”做天子。 仪监，原文“宜鉴”，宜以……为借鉴。峻命，天命。峻，大。不易，不容易。 殷商没有丧失民心的时候，有接受天命的资格。后来失去民心，被周武王推翻。后世的君王应以此为鉴，毕竟天命的维持并不容易。国家的维持依靠的是人民的拥护，君王应当注重修养自己的品德。 有德此有人，有人此有土，有土此有财，有财此有用。德者，本也；财者，末也。外本内末，争民施夺。是故财聚则民散，财散则民聚。是故言悖而出者，亦悖而入；货悖而入者，亦悖而出。 外，表面化的。本，指德。内，实质性的。末，指财。 拥有好的品德，才能得到人民拥护，进而得到土地和财富。表面上注重品德实质上却重视财富，那就是与民争利。 聚集财富会失去人心，还财于民会凝聚人心。君主违背常理而发出的命令，人民也会违背命令作为回应；违背常理收集财富，财富最终也会违背常理地失去。 《康诰》曰：“惟命不于常。”道善则得之，不善则失之矣。 惟，句首语气词。命，天命。常，始终如一。天命不会（在不行善时）始终存在。 行善就能得到天命，不行善就会失去天命。 《楚书》曰：“楚国无以为宝，惟善以为宝。”舅犯曰：“亡人无以为宝，仁亲以为宝。” 楚昭王派王孙圉出使晋国。晋国赵简子问楚国的珍宝白珩所值几何。王孙圉答道：楚国没有把美玉当作珍宝，只把行善积德当成珍宝。 舅犯是晋国公子重耳的舅舅，曾追随重耳流亡在外十九年，辅助重耳复国即位。他说：逃亡在外的人没有什么可以当作珍宝，只有把以仁爱之心当作珍宝。 《秦誓》曰：“若有一个臣，断断兮，无他技，其心休休焉，其如有容焉。人之有技，若己有之；人之彦圣，其心好之。不啻chì若自其口出，寔shí能容之，以能保我子孙黎民，尚亦有利哉。人之有技，媢mào疾以恶之；人之彦圣，而违之俾bǐ不通。寔不能容，以不能保我子孙黎民，亦曰殆哉！”唯仁人放流之，迸bǐnɡ诸四夷，不与同中国。此谓唯仁人为能爱人，能恶人。 断断，真诚不二的样子。休休，平易宽广、善良敦厚的样子。彦，俊美。圣，聪明。彦圣，指德才兼美的人。不啻，不但。寔，“实”的异体字，实在。 假如有这样一个臣子，很忠诚老实，没有什么其他特长，但他的心地宽厚善良，很有容人之量。他看到别人有特长，就像他自己拥有一样；别人有美好的德行，他发自内心的佩服他。不只是口头上随便说说，而是确实能容下他人，这样的人能够保护我的子孙和百姓，对我也是有利的。 媢，原文作“冒”。疾，通“嫉”。媢疾，妒忌。违，阻碍，反对。俾，使。通，原文作“达”。殆，危险。迸，通“摒”，驱逐。 假如还有这样一个人，看到别人有能力，就心怀妒忌地厌恶他；别人有美好的德行，就打压他使之不能上达于国君。这样的人实在是不能包容别人，因而不能保护我的子孙和百姓，也可以说是很危险了。 只有具备仁德的人才能做到爱憎分明。 见贤而不能举，举而不能先，命也；见不善而不能退，退而不能远，过也。好人之所恶，恶人之所好，是谓拂人之性，灾必逮夫fú身。是故君子有大道，必忠信以得之，骄泰以失之。 命，这里指“慢”，怠慢。拂，违背。逮，及，到。夫，助词，此。 发现贤能的人而不加以举荐，即使举荐了也不重用，这是对贤能的人的怠慢；发现不善的人不能加以罢免，即使罢免了也不放逐到边远的地方去，这是犯了过分宽纵的错误。这叫做违背人性，灾祸一定会降临到他身上。 生财有大道：生之者众，食之者寡；为之者疾，用之者舒，则财恒足矣。 生产财富的人要多，消耗财富的人要少；管理财富的人要勤快，使用财富的人要节俭。这样财富便会长久地保持充裕了。 仁者以财发身，不仁者以身发财。未有上好仁，而下不好义者也；未有好义，其事不终者也；未有府库财，非其财者也。 仁爱的人仗义疏财以修养自身的德行，不仁的人不惜以生命为代价去敛钱发财。 没有处于上位的人喜好仁德，而下位的人不喜好道义的；没有喜好道义而做事却半途而废的；没有府库中（用仁义得来）的财物，最终不属于自己所有的。 孟献子曰：“畜马乘shènɡ，不察于鸡豚；伐冰之家，不畜牛羊；百乘之家，不畜聚敛之臣，与其有聚敛之臣，宁有盗臣。”此谓国不以利为利，以义为利也。 畜马乘，指大夫之家。畜，豢养，这里是“有”的意思。乘，四匹马拉的车子。察，关注。豚，猪。 伐冰之家，丧祭时有条件用冰保鲜的家族，指公卿之家。 百乘之家，拥有一百辆车乘的家族，指有封邑采地的大家族。聚敛之臣，搜括钱财的家臣。聚，聚集。敛，征收。 养得起四匹马拉车的大夫之家，就不应该图谋喂鸡养猪的利益；丧祭时具有用冰保鲜条件的公卿之家，就不应该图谋饲养牛羊的利益；官做到拥有百辆车乘地位的家族，就不应该豢养聚敛财富的家臣，与其有聚敛财富的家臣，宁可有盗窃主人财物的家臣。 一个国家不应该以物质财富作为利益，应该以仁义作为利益。 长国家而务财用者，必自小人矣。彼为善之，小人之使为国家，灾害并至。虽有善者，亦无如之何矣！此谓国不以利为利，以义为利也。 君主如果专门注重积聚货财，这一定是受小人的误导了。君主若还以为这种小人是好人，并任用小人来治理国家，那么灾难祸害都将到来。即使有善人也已无法挽救了。 四书五经——中华书局 四书五经译注（套装全九册）——上海古籍出版社","categories":[{"name":"国学","slug":"国学","permalink":"https://renahah.github.io/categories/%E5%9B%BD%E5%AD%A6/"}],"tags":[{"name":"国学","slug":"国学","permalink":"https://renahah.github.io/tags/%E5%9B%BD%E5%AD%A6/"}]},{"title":"电机控制算法综述01-1-PID控制器的Matlab仿真实现","slug":"课题笔记/电机控制器算法综述/电机控制算法综述01-1-PID控制器的Matlab仿真实现","date":"2025-04-08T07:06:17.000Z","updated":"2025-09-14T04:17:29.608Z","comments":true,"path":"课题笔记/电机控制器算法综述/电机控制算法综述01-1-PID控制器的Matlab仿真实现/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B001-1-PID%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84Matlab%E4%BB%BF%E7%9C%9F%E5%AE%9E%E7%8E%B0/","excerpt":"","text":"这一专栏将介绍电机控制算法，为接下来的课题研究提供参考。 本文将总结各个PID控制器实现方法（纯matlab代码、Simulink自带模块、S函数），被控对象的不同建模方法（传递函数、微分方程、Simulink自带离散或连续模块），分析各个方法在不同方面的优劣。 后面的文章将结合《先进PID控制MATLAB仿真》书籍相关内容，对PID控制器参数的传统整定方法（Ziegler-Nichols方法等）进行介绍。 matlab代码实现PID控制 自建离散PID函数，配合差分方程形式的被控对象 这一章节采用单个matlab脚本文件，编写针对差分方程形式的被控对象进行离散PID控制的matlab程序，不涉及Simulink仿真和S函数。 文中程序改编自RBF神经网络PID控制器的设计与仿真 对于任何一个控制系统仿真实验，无论用的是什么软件，进行的是什么仿真，第一个要考虑的问题就是仿真步长和仿真时间。 这里取步长（采样时间）Ts=0.01s，仿真时间T=1s。与此同时，就可以计算出程序运行的总步数N=T/Ts=100。 接下来构建被控对象，该系统的核心公式为： \\(y(k+1) = a_1 \\cdot y(k) + a_2 \\cdot y(k-1) + b_1 \\cdot u(k) + b_2 \\cdot u(k-1)\\) 这是一个二阶离散系统，式中y(k+1)就是下一时刻被控对象的输出量，如果被控对象是电机，那么y可以是转速；u(k)是PID控制器输出量（被控对象的输入量），如果被控对象是电机，u的物理意义根据控制系统实际情况会有所不同，可能是电压、电流、转矩等。 该系统的传递函数为\\(G(z)=\\frac{Y(z)}{U(z)}=\\frac{b_1 z^{-1}+b_2 z^{-2}}{1-a_1 z^{-1}-a_2 z^{-2}}\\) 接下来是PID控制器设计，采用的是位置式PID，其核心公式为： \\(u(k)=K_p \\cdot e(k) + K_i \\cdot \\sum e(k) + K_d \\cdot ec(k)\\) 与PID参数相乘的三项分别是误差、误差累积和与误差变化量，它们的计算公式为： \\(\\left\\{ \\begin{gathered} e(k)=r(k)-y(k) \\\\ \\sum e(k) = \\sum e(k-1) + T_s \\\\ ec(k)=e(k)-e(k-1) \\end{gathered} \\right.\\) 注：一些文献中的误差变化量公式为\\(ec(k)=\\frac{e(k)-e(k-1)}{T_s}\\) 然后采用max与min函数将控制量u限幅至-10至10之间： \\(u(k)=\\max(\\min(u(k), 10), -10)\\) 离散被控对象+离散PID的matlab仿真代码(点击展开或收起) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152% 自建离散PID函数，配合差分方程形式的被控对象clc;clear;close all;% 仿真参数Ts=0.01;T=1;N=T/Ts; % 被控对象（二阶离散系统）a1 = 1.5; a2 = -0.7; b1 = 0.2; b2 = 0.1;% PID参数Kp = 0.2;Ki = 30;Kd = 1;% 初始化系统变量y = zeros(1, N+1); % 输出 1对应t=0s N对应t=0.99s N+1对应t=1su = zeros(1, N+1); % 控制量e = zeros(1, N+1); % 误差ec = 0;sum_e = 0; % 误差积分% 参考信号（阶跃信号）r = zeros(1, N+1);step_time = 0.5; % 阶跃时间0.5秒step_index = round(step_time / Ts) + 1; % 转换为索引(round为四舍五入函数)r(step_index:end) = 1; % 阶跃信号% 主循环for k = 2:N+1 %2:101共100个数据 T=0.01s到T=1s % 计算误差和误差变化率 e(k) = r(k) - y(k); ec = e(k) - e(k-1); sum_e = sum_e + e(k) * Ts; % 计算控制量（PID输出） u(k) = Kp * e(k) + Ki * sum_e + Kd * ec; u(k) = max(min(u(k), 10), -10); % 限幅 % 应用控制量到系统 y(k+1) = a1 * y(k) + a2 * y(k-1) + b1 * u(k) + b2 * u(k-1);end% 绘制结果t = (1:N) * Ts; %T=0.01到T=1s共100个数据figure;subplot(3,1,1);plot(t, r(2:N+1), &#x27;r--&#x27;, t, y(2:N+1), &#x27;b-&#x27;);%T=0.01s到T=1s共100个数据xlabel(&#x27;时间 (s)&#x27;);ylabel(&#x27;输出量&#x27;);xlim([0 1]);ylim([0 1.2]);legend(&#x27;给定值&#x27;, &#x27;系统输出&#x27;);title(&#x27;系统响应&#x27;);subplot(3,1,2);plot(t, e(2:N+1));xlabel(&#x27;时间 (s)&#x27;);ylabel(&#x27;误差&#x27;);xlim([0 1]);ylim([-0.05 0.05]);title(&#x27;误差&#x27;);subplot(3,1,3);plot(t, u(2:N+1));xlabel(&#x27;时间 (s)&#x27;);ylabel(&#x27;控制量&#x27;);xlim([0 1]);ylim([0 1.5]);title(&#x27;系统输入&#x27;); 该仿真程序所描述的就是一个最简单的控制系统，如下图所示： 图1 最简单的控制系统 程序中取\\(a_1=1.5,a_2=-0.7,b_1=0.2,b_2=0.1\\)，系统的输出公式为： \\(y(k+1)=1.5y(k)-0.7y(k-1)+0.2u(k)+0.1u(k-1)\\) 程序中的给定信号为阶跃信号，在0.5s时给定值为1。 程序后半部分绘制仿真所得的波形，包括给定值r与系统输出值y、误差量e、控制量u随时间变化波形，如下图所示： 图2 离散PID控制仿真波形 可以观察到给定值出现阶跃后，系统输出值在0.04s后便达到给定值附近。 而控制量u最终稳定在0.67左右。这是因为当系统稳定时，有y(k+1)=y(k)=y(k-1)=r，u(k)=u(k-1)，带入到前面的系统输出公式可以得到y=1.5y-0.7y+0.2u+0.1u=0.8y+0.3u，解得u=2/3，与实验结果相符。 这一现象也说明，系统控制量的稳定值u(∞)只与被控对象有关，与所选取的PID参数无关，当然若PID参数选取的不好会导致系统不稳定，但如果系统稳定对应的控制量稳定值就是唯一的。 自建离散PID函数，配合差分方程形式的电机被控对象 上文仿真程序的被控对象是一个二阶离散系统，下面根据电机运动方程建立离散系统模型。 文中程序改编自电机控制算法综述01-2-模糊PID控制器的Matlab仿真 电机的运动方程如下： \\(T_e-T_L=J\\frac{d^2 \\theta}{dt^2}+B\\frac{d\\theta}{dt}=J\\frac{d \\omega}{dt}+B\\omega\\)。 式中转速\\(\\omega=\\frac{d\\theta}{dt}\\)，\\(T_e\\)是电磁转矩，\\(T_L\\)是负载转矩，\\(J\\)为转动惯量，\\(B\\)为粘性摩擦系数（有的文献也用\\(D\\)表示）。 运动方程转换为差分方程形式，程序中的代码如下： speed = (1 - B*Ts/J)*speed + (Kt*Ts/J)*u; \\(y(t+1)=(1-\\frac{B\\cdot Ts}{J})y(t)+\\frac{K_t \\cdot T_s}{J}u(t)\\) 这是一个一阶离散系统。其中速度speed就是被控对象的输出量y；u就是控制量，它是PID控制器的输出量，也是被控对象出入量，这里的物理意义就是电压。Ts为采样时间。 对应的传递函数可以写作：\\(G(z)=\\frac{Y(z)}{U(z)}=\\frac{K_t \\cdot T_s/J z^{-1}}{1-(1-B\\cdot T_s/J) z^{-1}}\\) 该差分方程再转换回运动方程的形式，如下： \\(K_t \\cdot u=J\\frac{y(t+1)-y(t)}{T_s}+B \\cdot y(t)\\) 对于不同的电机，电压到转矩的转换过程各有不同，这取决于电机的动态特性（与电枢电阻、电感、磁链等相关）以及功率变换器件工作特性，但通常电压与转矩（这里指电磁转矩与负载转矩之差）呈正比关系。 程序中对转换过程进行简化，取\\(T_e-T_L=K_t \\cdot u\\)，式中\\(K_t\\)是转矩常数，也就是电压转换到转矩的比例系数。 离散电机被控对象+离散PID的matlab仿真代码(点击展开或收起) 1234567891011121314151617181920212223242526272829303132333435% 离散PID函数，差分方程形式的电机被控对象clear; clc;J = 0.01; % 转动惯量B = 0.1; % 阻尼系数Kt = 0.15; % 转矩常数Ts = 0.001; % 采样时间T = 0:Ts:0.1; % 仿真时间speed = 0;target_speed = 100; % 目标转速Kp = 100;Ki = 40;Kd = 0.001;% PID参数e_prev = 0;integral = 0;speed_history = zeros(size(T));% 存储结果u_history = zeros(size(T));for k = 2:length(T) %2:101共100个数据 T=0.001s到T=0.1s e = target_speed - speed; ec = (e - e_prev) / Ts; integral = integral + e * Ts; u = Kp * e + Ki * integral + Kd * ec;%计算控制量 u = max(min(u, 220), -220);%电压限幅 % 更新系统状态（简化电机模型） speed = (1 - B*Ts/J)*speed + (Kt*Ts/J)*u; speed_history(k) = speed; u_history(k) = u; e_prev = e;endfigure;subplot(2,1,1);plot(T, speed_history, &#x27;b&#x27;, T, target_speed*ones(size(T)), &#x27;r--&#x27;);title(&#x27;转速响应&#x27;); xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;转速(rpm)&#x27;); legend(&#x27;实际&#x27;, &#x27;目标&#x27;);xlim([0 0.1]);ylim([0 120]);subplot(2,1,2);plot(T, u_history, &#x27;g&#x27;);title(&#x27;控制量&#x27;); xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;控制电压(V)&#x27;);xlim([0 0.1]);ylim([0 250]); 离散PID和离散电机被控对象的仿真程序如上所示，设定仿真时长T=0.1s，仿真步长Ts=0.001s，目标转速为100r/min。 转动惯量J=0.01，摩擦系数B=0.1，转矩常数Kt=0.15。 PID控制器与前一个程序类似，唯一区别为误差变化量公式为\\(ec(k)=\\frac{e(k)-e(k-1)}{T_s}\\)。 控制量限幅设为220，也就是将电压限制在220V以内。 运行该程序，得到电机转速（被控对象输出）与电压（PID控制器输出，被控对象输入）波形如下图所示。 图3 离散PID电机控制仿真波形 可以看到电机在36ms时转速达到给定值100r/min附近。 电机运行可以分为两个阶段，第一个阶段时恒压升速阶段，电压维持在限幅值220V，转速可近似看作是匀速上升。 第二个阶段转速达到稳定值，电压也随之下降，最终稳定在66.67V左右。 这个电压（控制量）稳定值也可以按照之前的方法进行计算。 稳态下有y(∞)=y(t+1)=y(t)，程序中的差分方程可转化为： \\(y(\\infty)=(1-\\frac{B\\cdot Ts}{J})y(\\infty)+\\frac{K_t \\cdot T_s}{J}u(\\infty)\\) \\(\\Rightarrow \\frac{B\\cdot Ts}{J}y(\\infty)=\\frac{K_t \\cdot T_s}{J}u(\\infty) \\Rightarrow u(\\infty)=\\frac{B}{K_t}y(\\infty)=\\frac{0.1}{0.15}\\times 100\\approx 66.67\\) 计算值与实验值相符。 下面进一步研究恒压升速阶段，根据限幅电压与转矩常数，可以计算出这一阶段的电磁转矩与负载转矩之差\\(T_e-T_L=0.15 \\times 220=33N \\cdot m\\) 带回到运动方程公式，可得\\(K_t \\cdot u=33N \\cdot m=J\\frac{y(t+1)-y(t)}{T_s}+B \\cdot y(t)\\) 当电机刚刚起动时，转速为0，也就是y(t)=0 此时可计算出\\(y(t+1)-y(t)=\\frac{33\\cdot T_s}{J}=3.3r/min\\) 实验波形中t=0.001s时刻的转速为3.3r/min，与计算值相符。 当电机转速接近目标转速时，假设转速达到100r/min 此时可计算出\\(y(t+1)-y(t)=\\frac{(33-B \\cdot 100)\\cdot T_s}{J}=2.3r/min\\) 实验波形中t=0.034s时刻转速为95.52r/min，t=0.035s时刻转速为97.86r/min，两者转速差为2.34r/min，与计算结果相近。 可见随着转速升高，转速差由3.3r/min降低至2.3r/min，也就是说转速加速度随着转速升高而降低。 这主要是受到了摩擦系数B的影响，相当于是为电机施加了一个额外的负载转矩，且该额外负载转矩大小与转速成正比。 当转速达到100r/min时，摩擦系数产生的等效额外负载转矩值为10N·m。 若取摩擦系数B=0，则电机恒压升速阶段的加速度保持恒定。 matlab内置PID函数，配合传递函数形式的被控对象 文中程序改编自电机控制器算法综述02-1-蚁群算法 前文采用离散传递函数的被控对象建立了离散PID控制系统程序，接下来利用matlab内置pid函数，编写连续传递函数被控对象的PID控制系统程序。 为了便于对比，首先将上一个程序中的差分方程形式的电机被控对象传递函数转换为连续传递函数。 离散传递函数为\\(G(z)=\\frac{Y(z)}{U(z)}=\\frac{K_t \\cdot T_s/J z^{-1}}{1-(1-B\\cdot T_s/J) z^{-1}}=\\frac{0.015z^{-1}}{1-0.99z^{-1}}\\) 输入以下代码在matlab中建立传递函数模型，tf函数的三个输入分别为分子、分母和采样时间。 G = tf([0.015],[1 -0.99],0.001) 然后用d2c函数将离散传递函数转换为连续传递函数。 Gc=d2c(G) 得到的连续传递函数为\\(G(s)=\\frac{15.08}{s + 10.05}\\) 连续电机被控对象+matlab内置PID函数的仿真代码(点击展开或收起) 1234567891011121314151617181920212223% matlab内置PID函数，传递函数形式的被控对象clear; clc;Kp = 100;Ki = 40;Kd = 0.001;% PID参数Tf = 0.001; % 滤波器时间常数controller = pid(Kp, Ki, Kd, Tf); % 使用带滤波器的PID控制器（PIDF）s = tf(&#x27;s&#x27;);motor = 15.08 / (s+10.05);% 被控对象模型sys_u = controller / (1 + controller * motor);% 从r到u的传递函数sys = feedback(controller * motor, 1); % 闭环系统（从r到y的传递函数）t = 0:0.001:0.1; % 仿真时间y = step(sys, t); % 系统输出响应u = step(sys_u, t); % 控制器输出响应figure;subplot(2,1,1);plot(t,y);plot(t, y, &#x27;b&#x27;, t, ones(size(t)), &#x27;r--&#x27;);title(&#x27;转速响应&#x27;); xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;转速(rpm)&#x27;);legend(&#x27;实际&#x27;, &#x27;目标&#x27;);xlim([0 0.1]);ylim([0 2]);subplot(2,1,2);plot(t,u);title(&#x27;控制量&#x27;); xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;控制电压(V)&#x27;);xlim([0 0.1]);ylim([0 110]); 该程序采用matlab内置的pid函数，其传递函数为\\(C(s)=K_p+\\frac{K_i}{s}+\\frac{K_d s}{T_f s+1}\\) 这里的微分项传统PID控制器多了一个滤波器，滤波系数为\\(T_f\\)。 这是因为原微分项\\(K_d s\\)物理上不可实现，实际设备需要低通滤波器限制高频增益。 引入滤波器可以使系统成为真有理传递函数，避免分子阶次高于分母阶次的非因果问题，造成仿真报错。 feedback函数的作用是计算带有反馈的闭环系统的传递函数，对于文中的闭环系统，从输入r到输出y的传递函数计算公式为： \\(Y(s)=\\frac{C(s)G(s)}{1+C(s)G(s)}\\) step函数的作用是计算该传递函数的阶跃响应。 另外，要想查看PID控制器输出量u随时间变化情况，需要得到从输入r到控制器输出u的传递函数，其公式为： \\(U(s)=\\frac{C(s)}{1+C(s)G(s)}\\) 同样用step函数得到该传递函数的阶跃响应。 图4 连续与离散系统波形对比 运行仿真程序，就能得到上图左侧的y与u随时间变化曲线。 该程序进行的是阶跃响应，相当于目标转速为1r/min，同时没有对控制器输出u进行限幅，对离散PID程序进行同样的调整，得到上图右侧的转速与电压随时间变化曲线。 可以观察到连续系统的转速与控制量波动更小，曲线更平滑。 电机起动时的控制器输出u最大，随后迅速降低，其峰值约为100。 经过实验发现该值受到比例系数\\(K_p\\)影响，与\\(K_p\\)大小呈正比。 这是因为在电机起动阶段，转速误差值较大，PID控制器比例部分起主要作用，可以使得转速快速跟踪给定。 而随着转速误差减小，比例部分的作用也会不断变弱，到转速稳定阶段，积分部分开始起主要作用，用于消除稳态静差。 连续与离散系统转速稳定阶段的控制器输出u稳定值皆为0.66，这也与理论计算结果相符。 matlab内置函数ode45，配合微分方程形式的电机被控对象 文中程序改编自电机控制算法综述03-滑模控制 上文采用matlab内置的pid函数建立的连续传递函数被控对象的控制系统存在不能对pid函数进行限幅，只能进行单位阶跃响应的问题，下面采用matlab的微分方程(ordinary differential equation，ODE)求解器，建立微分方程形式的电机被控对象的PID控制程序。 为简化程序，考虑到当前电机模型下PID控制中的微分环节的作用不大，因此这里采用的是PI控制。（实际上是DeepSeek生成的程序中没微分项） 微分方程形式的电机电机被控对象PI控制的仿真代码(点击展开或收起) 123456789101112131415161718192021222324252627282930313233343536J = 0.01; % 转动惯量 (kg.m^2)b = 0.1; % 阻尼系数 (N.m.s)K = 0.15; % 电机转矩常数 (N.m/A)Kp = 100;Ki = 40;target_speed = 100; % 目标转速 (rad/s)tspan = [0 0.1]; % 仿真时间范围x0 = [0; 0]; % 初始状态 [转速; 误差积分][t, x] = ode45(@(t,x) motor_dynamics(t, x, target_speed, J, b, K, Kp, Ki), tspan, x0);% 提取状态变量speed = x(:, 1); % 电机实际转速integral_error = x(:, 2); % 误差积分项 % 计算控制信号和误差error = target_speed - speed;control_signal = Kp*error + Ki*integral_error;control_signal = max(min(control_signal, 220), -220);figure;subplot(2,1,1);plot(t, speed, &#x27;b&#x27;, t, target_speed*ones(size(t)), &#x27;r--&#x27;);title(&#x27;转速响应&#x27;); xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;转速(rpm)&#x27;);legend(&#x27;实际&#x27;, &#x27;目标&#x27;);xlim([0 0.1]);ylim([0 120]);subplot(2,1,2);plot(t, control_signal, &#x27;g&#x27;);title(&#x27;控制量&#x27;); xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;控制电压(V)&#x27;);xlim([0 0.1]);ylim([0 250]);% 定义电机动态方程function dxdt = motor_dynamics(t, x, target_speed, J, b, K, Kp, Ki) speed = x(1); % 当前转速 integral_error = x(2); % 误差积分项 error = target_speed - speed;% 计算当前误差 u = Kp * error + Ki * integral_error; % 控制电压 u = max(min(u, 220), -220);%电压限幅 dspeed_dt = (K*u - b*speed) / J;% J*dw/dt = K*u - b*w dxdt = [dspeed_dt; error];% 返回状态导数（误差积分的变化率=当前误差）end obe45使用变步长进行连续求解，该函数标准格式为[t, Xt] = ode45(odefun, tspan, X0) 函数的输入有三个，其中odefun代指所导入的函数，可以是函数句柄、函数文件名、匿名函数句柄或内联函数名。 在程序中写作@(t,x) motor_dynamics(t, x, target_speed, J, b, K, Kp, Ki)，其中@(t,x)为匿名函数，motor_dynamics是匿名函数所指代的函数。 tspan为仿真的时间区间，可以连续也可以离散，程序中设为[0 0.1]，表示仿真时长为0.1s。X0为状态变量初始值向量。 函数的输出有两个，其中t为返回列向量的时间点（由于是变步长，因此各个时间点的间隔不固定），Xt为返回对应t的求解列向量。 本程序中状态变量x包括转速和误差积分这两项。 motor_dynamics函数除了必须有的x和t这两个参数外，还带入了另外一些参数，分别是目标转速target_speed、转动惯量J、摩擦系数b、转矩常数K、比例系数Kp与积分系数Ki。 返回的求解列向量Xt就是状态变量的导数，或者说是微分值。程序中为转速的变化量dspeed_dt和转速误差值error。 其中转速变化量由运动方程移项获得，即 \\(T_e-T_L=K_t u=J\\frac{d \\omega}{dt}+B\\omega \\Rightarrow \\frac{d \\omega}{dt}=\\frac{K_t u-B\\omega}{J}\\) 图5 微分方程形式电机PI控制仿真波形 转速与电压波形如上图所示，可见其与图3类似，转速也是在36ms左右达到给定转速附近。 但转速稳定阶段的电压波动相较于图3更大，这可能是变步长的缘故。 Simulink实现PID控制 这里介绍采用Simulink搭建电机PID控制系统的方法，主要分为三种，第一种是采用最基本的模块（Commonly Used Blocks中的Gain、Sum、Delay、Saturation等基础模块），搭建出一个PID控制模块；第二种是采用自带的PID模块；第三种是用S-function建立PID模块。 采用最基本的模块构建PID模块 图6 Simulink搭建PID控制系统 按照前文所述搭建出的电机PID控制系统如上图所示，其电压与转速波形也与图3相吻合。 Simulink自带PID模块 Simulink自带的PID模块可以实现连续时间和离散时间的PID控制算法，支持抗饱和、外部重置和信号跟踪等高级功能。 该模块具体使用方法参见：https://ww2.mathworks.cn/help/simulink/slref/pidcontroller.html 图7 Simulink内置PID模块 该模块时域可设置为连续时间或离散时间，其中连续时间公式为： \\(U(s)=P+I\\frac{1}{s}+D\\frac{N}{1+N\\frac{1}{s}}=P+I\\frac{1}{s}+D\\frac{s}{\\frac{1}{N}s+1}\\) 在配置界面中，与I相乘的\\(\\frac{1}{s}\\)和与D相乘的\\(\\frac{N}{1+N\\frac{1}{s}}\\)分别被称作积分器与滤波器。 其中N是滤波器系数，默认值为100，该值与前文matlab内置的PID函数的滤波器系数Tf的关系式为： \\(N=\\frac{1}{T_f}\\) 时域设置为离散时间的公式如下，式中Ts是采样周期： \\(U(z)=P+I\\cdot T_s \\frac{1}{z-1}+D\\frac{N}{1+N\\cdot T_s \\frac{1}{z-1}}\\) 该式中同样包含滤波器系数N，若取消勾选“使用滤波导数”，则公式为： \\(U(z)=P+I\\cdot T_s \\frac{1}{z-1}+D\\frac{1}{T_s}\\frac{z-1}{z}\\) 该公式不含滤波系数，与D相乘的部分被称作微分器。 PID控制器设置为离散形式时，还可以调整积分器和滤波器方法（连续函数中积分项与微分项中的s用什么样的含z表达式代替）。 默认设置为前向欧拉(Forward Euler)：\\(\\frac{1}{s}=\\frac{T_s}{z-1}\\) 这种方法适用于采样时间较小的情况，此时奈奎斯特极限远大于控制器的带宽。对于较大的采样时间，使用前向欧拉方法可能会导致不稳定，即使是对一个在连续时间下稳定的系统进行离散化。 设置为后向欧拉(Backward Euler)时，\\(\\frac{1}{s}=\\frac{T_s z}{z-1}\\) 这种方法对稳定的连续时间系统进行离散化总能得到一个稳定的离散时间结果。 设置为梯形(Trapezoidal)时，\\(\\frac{1}{s}=\\frac{T_s}{2}\\frac{z+1}{z-1}\\) 这种方法对稳定的连续时间系统进行离散化总能得到稳定的离散时间结果。在所有可用的积分方法中，梯形方法在离散化系统的频域特性和相应的连续时间系统之间提供了最接近的匹配。 打开PID控制器配置界面，可以看到五个选项卡。 “主要”界面可以设置比例、积分、微分系数和滤波器系数N。 可以设置源的形式，如果设置为外部源，那么上述参数就不是在配置界面中设置，这时PID控制器会多出四个输入端口，分别输入P、I、D、N。 另外，还可以选择自动调节PID参数的方法，实现PID参数自动整定，调节方法包括基于传递函数与基于频率响应两种。 参考链接（步骤清晰）利用MATLAB工具箱自动整定SIMULINK PID参数 最后还有一个选项为“启用过零检测”，过零检测（Zero Crossing Detection）只有采用变步长求解器时才有用。 过零检测的原理是根据采样过程中变量的变化率（前后两个采样点的变化量）来动态调整仿真步长，当前后两个采样点的值变化大时，则缩小采样步长；当前后两个采样点的值变化小时，则增大步长。 这样做可以增大变化率大的时候的采样频率，提高仿真精度；降低变化率小的时候的采样频率，提高仿真速度（效率）。 第二个选项卡“初始化”，可以设置积分器和滤波器的初始值。 外部重置（External reset）的作用是触发外部信号时将积分器和滤波器重置为前面设置的初始值，可选的外部信号有上升沿、下降沿、任一沿、电平信号。 跟踪模式（Tracking mode），这个没怎么看懂。 作用是使得模块输出跟随在TR端口提供的跟踪信号。启用跟踪模式后，跟踪信号与模块输出之间的差值通过增益Kt反馈到积分器输入。 跟踪模式的应用包括无冲击控制转换（Bumpless control transfer）和防止多回路控制结构中的模块饱和。 第三个选项卡“饱和”，可以设置PID控制器输出u和积分器的上下限。 另外还可以设置抗饱和方法，包括反算（back-calculation）和钳位（clamping）。 “反算”是指当模块输出饱和时，将饱和控制输出与未经饱和处理的原控制输出之间的差值加到积分器。反算系数Kb是加到积分器前要乘以的倍数，默认值为1。 “钳位”又称作有条件积分，当控制器输出超出限制且积分器输出与PID模块输入（误差e）具有相同符号时，积分停止。当控制器输出超出限制且积分器输出与模块输入具有相反符号时，积分恢复。 钳位适合具有相对较小死区时间的系统，对于具有较大死区时间的系统，瞬态性能会较差。 后面两个选项卡“数据类型”与“状态属性”与硬件代码生成相关，这里略。 S-function建立PID模块 S函数(S-function)是System-function系统函数的缩写，是指采用非图形化的方式（计算机语言）描述的一个功能块。 S函数的模块搭建与程序编写方法可以参考单神经元PID控制器的设计与仿真 图8 采用S函数搭建电机PID控制器 图9 S函数模块参数与封装配置 搭建的控制系统模型如上图所示，S函数一共有四个参数，分别是采样时间T和控制参数Kp,Ki,Kd。 状态变量x有三个，分别是误差e、误差累计和sum_e和误差变化量ec，这三个状态变量分别与Kp,Ki,Kd相乘得到PID控制器输出量。 输入量u有两个，分别是设定转速rin与实际转速y。 输出量除了PID控制器输出量外，还有e、sum_e、ec，连接到示波器上可以观察它们随时间的变化。 PID模块S函数代码(点击展开或收起) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152function [sys,x0,str,ts] = PID_S(t,x,u,flag,T,Kp,Ki,Kd)% PID控制器S函数实现% 输入：u(1)=参考转速, u(2)=实际转速% 输出：y(1)=控制量switch flag case 0 % 初始化 [sys,x0,str,ts] = mdlInitializeSizes(T); case 2 % 离散状态更新 sys = mdlUpdate(t,x,u,T); case 3 % 输出计算 sys = mdlOutputs(t,x,u,T,Kp,Ki,Kd); case &#123;1,4,9&#125; % 未使用flag sys = []; otherwise error([&#x27;未处理的flag = &#x27;,num2str(flag)]);end%% 初始化函数function [sys,x0,str,ts] = mdlInitializeSizes(T)sizes = simsizes;sizes.NumContStates = 0; % 无连续状态sizes.NumDiscStates = 3; % 状态变量x=[e,sum_e,ec]sizes.NumOutputs = 4; % 输出量[u,e,sum_e,ec]sizes.NumInputs = 2; % 输入量[r, y]sizes.DirFeedthrough = 1; % 输入直接影响输出sizes.NumSampleTimes = 1;sys = simsizes(sizes); % 状态变量初始化x0 = [0,0,0];str = [];ts = [T 0]; % 采样时间%% 状态更新函数function sys = mdlUpdate(t,x,u,T)e_prev = x(1);sum_e = x(2);r = u(1);y = u(2);e = r - y;sum_e = sum_e + e*T;if t == 0 ec = 0;else ec = (e - e_prev)/T;endsys = [e,sum_e,ec];%% 输出计算函数function sys = mdlOutputs(~,x,~,~,Kp,Ki,Kd)e = x(1);sum_e = x(2);ec = x(3);u_out = Kp*e + Ki*sum_e + Kd*ec;sys = [u_out,e,sum_e,ec]; 取采样时间为0.001s时，得到的电压与转速波形波动较大。 因此这里取采样时间T=1e-06s，得到电压与转速波形以及e、sum_e、ec随时间变化波形如下图所示。 图10 电压与转速波形 图11 e、sum_e、ec随时间变化波形","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机控制器算法综述","slug":"课题笔记/电机控制器算法综述","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"电机控制算法综述01-2-模糊PID控制器的Matlab仿真","slug":"课题笔记/电机控制器算法综述/电机控制算法综述01-2-模糊PID控制器的Matlab仿真","date":"2025-04-08T03:34:04.000Z","updated":"2025-10-18T15:16:22.267Z","comments":true,"path":"课题笔记/电机控制器算法综述/电机控制算法综述01-2-模糊PID控制器的Matlab仿真/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B001-2-%E6%A8%A1%E7%B3%8APID%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84Matlab%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"这一专栏将介绍电机控制算法，为接下来的课题研究提供参考。 本文首先采用DeepSeek生成一个模糊PID控制电机转速的matlab脚本代码，结合代码介绍模糊PID控制原理。 然后介绍Simulink自带模糊控制工具箱(Fuzzy Logic Toolbox)的使用方法，采用Simulink搭建采用模糊PID控制电机转速的仿真模型。（未完待续） 最后对采用模糊PID前后的控制效果进行对比，另外对纯matlab脚本与Simulink仿真实现的控制效果进行对比。（未完待续） 模糊PID控制的matlab脚本实现 DeepSeek生成代码如下： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205% 主程序：模糊PID控制的电机转速环控制%clear; clc;% 电机参数J = 0.01; % 转动惯量B = 0.1; % 阻尼系数Kt = 0.15; % 转矩常数Ts = 0.001; % 采样时间T = 0:Ts:0.1; % 仿真时间% 初始状态speed = 0;target_speed = 100; % 目标转速% PID初始参数Kp0 = 100;Ki0 = 40;Kd0 = 0.001;% 初始化误差记录e_prev = 0;integral = 0;% 存储结果speed_history = zeros(size(T));u_history = zeros(size(T));kp_history = zeros(size(T));ki_history = zeros(size(T));kd_history = zeros(size(T));% 初始化模糊控制器fuzzy_params = init_fuzzy();% 主控制循环for k = 1:length(T) % 计算误差 e = target_speed - speed; % 计算误差变化率 if k == 1 ec = 0; else ec = (e - e_prev) / Ts; end % 模糊推理调整参数 [delta_Kp, delta_Ki, delta_Kd] = fuzzy_pid(e, ec, fuzzy_params); % 更新PID参数（并进行限幅） Kp = max(min(Kp0 + delta_Kp, 1000), 0); Ki = max(min(Ki0 + delta_Ki, 1000), 0); Kd = max(min(Kd0 + delta_Kd, 1000), 0); % 计算控制量 integral = integral + e * Ts; derivative = ec; u = Kp * e + Ki * integral + Kd * derivative; % 执行限幅 u = max(min(u, 220), -220); % 更新系统状态（简化电机模型） speed = (1 - B*Ts/J)*speed + (Kt*Ts/J)*u; % 保存数据 speed_history(k) = speed; u_history(k) = u; kp_history(k) = Kp; ki_history(k) = Ki; kd_history(k) = Kd; e_prev = e;end% 绘制结果figure(1);subplot(2,1,1);plot(T, speed_history, &#x27;b&#x27;, T, target_speed*ones(size(T)), &#x27;r--&#x27;);title(&#x27;转速响应&#x27;); xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;转速(rpm)&#x27;); legend(&#x27;实际&#x27;, &#x27;目标&#x27;);subplot(2,1,2);plot(T, u_history, &#x27;g&#x27;);title(&#x27;控制量&#x27;); xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;控制电压(V)&#x27;);figure(2);subplot(3,1,1);plot(T, kp_history);title(&#x27;PID参数变化&#x27;);xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;Kp&#x27;);subplot(3,1,2);plot(T, ki_history);xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;Ki&#x27;);subplot(3,1,3);plot(T, kd_history);xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;Kd&#x27;);% 初始化模糊控制器函数function params = init_fuzzy() % 输入变量隶属度函数参数 params.e_mf = [ % 误差e的模糊集参数 [-30, -30, -20] % 1: NB [-30, -20, -10] % 2: NM [-20, -10, 0] % 3: NS [-10, 0, 10] % 4: Z [0, 10, 20] % 5: PS [10, 20, 30] % 6: PM [20, 30, 30] % 7: PB ]; params.ec_mf = [ % 误差变化率ec的模糊集参数 [-30, -30, -20] % 1: NB [-30, -20, -10] % 2: NM [-20, -10, 0] % 3: NS [-10, 0, 10] % 4: Z [0, 10, 20] % 5: PS [10, 20, 30] % 6: PM [20, 30, 30] % 7: PB ]; % 输出变量单点值 params.dKp = [-0.3, -0.2, -0.1, 0, 0.1, 0.2, 0.3]; % ΔKp的模糊集值 params.dKi = [-1.5, -1, -0.5, 0, 0.5, 1, 1.5];% ΔKi的模糊集值 params.dKd = [-0.0003, -0.0002, -0.0001, 0, 0.0001, 0.0002, 0.0003];% ΔKd的模糊集值 % 模糊规则表[E, EC, dKp, dKi, dKd] params.rules = [ 1 1 7 1 5;1 2 7 1 3;1 3 6 2 1;1 4 6 2 1;1 5 5 3 1;1 6 4 4 2;1 7 4 4 2; 2 1 7 1 5;2 2 7 1 3;2 3 6 3 1;2 4 5 4 2;2 5 5 4 2;2 6 4 4 3;2 7 3 4 3; 3 1 6 1 4;3 2 6 2 3;3 3 6 3 2;3 4 5 4 3;3 5 4 5 3;3 6 3 5 3;3 7 3 5 3; 4 1 6 3 4;4 2 6 3 3;4 3 5 4 3;4 4 4 4 3;4 5 3 5 3;4 6 2 6 3;4 7 2 6 3; 5 1 5 3 4;5 2 5 4 4;5 3 4 5 4;5 4 3 5 4;5 5 3 6 4;5 6 2 6 4;5 7 2 6 4; 6 1 4 4 7;6 2 4 4 6;6 3 3 5 5;6 4 3 6 5;6 5 2 6 5;6 6 2 7 5;6 7 1 7 5; 7 1 4 4 7;7 2 4 4 6;7 3 3 5 6;7 4 3 6 6;7 5 2 6 6;7 6 1 7 7;7 7 1 7 7; ];end% 模糊PID控制器函数function [dKp, dKi, dKd] = fuzzy_pid(e, ec, params) % 模糊化 E=-e;%误差e定义为r-y，但模糊控制表中E定义为y-r e_deg = calc_membership(E, params.e_mf); ec_deg = calc_membership(ec, params.ec_mf); % 推理和解模糊 [dKp, dKi, dKd] = defuzzify(e_deg, ec_deg, params);end% 隶属度计算函数function degrees = calc_membership(x, mf_params) degrees = zeros(1, size(mf_params,1)); for i = 1:size(mf_params,1) a = mf_params(i,1); b = mf_params(i,2); c = mf_params(i,3); if x &lt;= a degrees(i) = 0; elseif x &gt;= c degrees(i) = 0; elseif x &gt;= a &amp;&amp; x &lt;= b if a == b degrees(i) = 1; else degrees(i) = (x - a)/(b - a); end else if b == c degrees(i) = 1; else degrees(i) = (c - x)/(c - b); end end endend% 解模糊函数function [dKp, dKi, dKd] = defuzzify(e_deg, ec_deg, params) sum_w_kp = 0; sum_kp = 0; sum_w_ki = 0; sum_ki = 0; sum_w_kd = 0; sum_kd = 0; for i = 1:size(params.rules,1) rule = params.rules(i,:); e_idx = rule(1); ec_idx = rule(2); kp_idx = rule(3); ki_idx = rule(4); kd_idx = rule(5); % 规则激活强度 strength = min(e_deg(e_idx), ec_deg(ec_idx)); % 加权累加 sum_kp = sum_kp + strength * params.dKp(kp_idx); sum_w_kp = sum_w_kp + strength; sum_ki = sum_ki + strength * params.dKi(ki_idx); sum_w_ki = sum_w_ki + strength; sum_kd = sum_kd + strength * params.dKd(kd_idx); sum_w_kd = sum_w_kd + strength; end % 计算解模糊值 dKp = sum_kp / (sum_w_kp + eps); dKi = sum_ki / (sum_w_ki + eps); dKd = sum_kd / (sum_w_kd + eps);end 电机模型的搭建 对于各种类型的旋转动力系统，其动力学方程式（机电能量转换方程）为： \\(T_e-T_L=J\\frac{d^2 \\theta}{dt^2}+B\\frac{d\\theta}{dt}=J\\frac{d \\omega}{dt}+B\\omega\\)。 式中转速\\(\\omega=\\frac{d\\theta}{dt}\\)，\\(T_e\\)是电磁转矩，\\(T_L\\)是负载转矩，\\(J\\)为转动惯量，\\(B\\)为粘性摩擦系数（有的文献也用\\(D\\)表示）。 注：没错，这个公式不仅仅适用于电机，将电磁转矩\\(T_e\\)换成原动力转矩后，就可以适用于任何绕轴旋转的系统。对于电机而言原动力自然是电；如果这个转轴是由蒸汽驱动的，那么原动力就是蒸汽产生的热量；这个轴当然也可以是人力或畜力驱动的。 本文将该方程式转换为差分方程形式，其代码为： speed = (1 - B*Ts/J)*speed + (Kt*Ts/J)*u; 将其整理成动力学方程式的样式如下： \\(K_t \\cdot u=J\\frac{speed(t+1)-speed(t)}{T_s}+B \\cdot speed(t)\\) 式中Ts为采样时间（步长），是仿真运行过程中两个时刻的间隔时间，单位为秒。 上文代码中原采样时间为0.01s，实际上这个采样时间太大了，为了使得仿真运行更精确，我将其修改为0.001s，也就是1ms，可以满足对算法可行性进行初步试验的需要。而对于实际的电机控制系统，采样时间通常取\\(10^{-5}s\\)(10μs)或\\(10^{-6}s\\)(1μs)，这样的仿真结果更为精确，可以满足毕业论文的需要。 u是模糊PID控制器输出量，对于电机控制系统这个量就是电压。 对于不同的电机，电压到转矩的转换过程各有不同，这取决于电机的动态特性（与电枢电阻、电感、磁链等相关）以及功率变换器件工作特性，但通常电压与转矩呈正比关系。 本文对这个转换过程进行简化，取\\(T_e-T_L=K_t \\cdot u\\)，式中\\(K_t\\)是转矩常数，也就是电压转换到转矩的比例系数。 当前时刻转速为\\(speed(t)\\)，位于代码等号右侧，下一时刻转速为\\(speed(t+1)\\)，位于代码等号左侧。 由此得到的转速变化量\\(\\frac{d \\omega}{dt}=\\frac{speed(t+1)-speed(t)}{T_s}\\) PID控制器设计 PID控制器输出公式如下： u = Kp * e + Ki * integral + Kd * derivative; \\(u=K_p \\cdot e + K_i \\cdot \\int e + K_d \\cdot ec\\) e是转速误差，即目标转速减去实际转速所得的差； integral是误差累计和，程序中的初始值为0，其计算公式为\\(integral(t+1) = integral(t) + e \\cdot T_s\\) derivative是误差变化率(ec)，其计算公式为\\(ec=(e-e_{prev})/T_s\\)。 式中\\(e_{prev}\\)是上一时刻的误差，该值在程序中的初始值为0。 但这里就会出现一个问题，若电机目标转速设定为100转，显然t=0时刻（程序中k=1时）实际转速为0，得到e=100，那么计算得到的ec值就会极大，这显然不符合实际情况，因此设定k=1时ec=0。 模糊PID控制器控制原则 模糊PID控制器的核心在于根据控制过程的不同阶段（启动阶段、动态调节阶段、稳态阶段）动态特性，通过误差（e）和误差变化率（ec）的模糊关系，动态调整PID参数（Kp,Ki,Kd），尽可能兼顾系统动态与稳态性能（响应速度、超调量、稳态误差等）要求。 对于不同的被控对象，由于其动态特性有所不同，因此得到的控制规则也会不同。因此需要根据控制系统实际情况修正控制规则，下面给出的规则仅做参考。 起动阶段：此时电机转速误差为较大正值(e=PB)，误差变化量为较大负值(ec=NB)。 此时需要增大\\(Kp\\)使其具有较高的响应速度，限制\\(K_i\\)避免积分饱和，适当增大\\(K_d\\)抑制超调。 （\\(K_p\\)要大，\\(K_i\\)要小，\\(K_d\\)较大） 调节阶段：此时电机转速误差与误差变化量绝对值不大不小(e=PM,NM;ec=NM,PM)。 此时需要减小\\(K_p\\)避免超调，逐步增大\\(K_i\\)以消除稳态误差，保持\\(K_d\\)不变实现稳定过渡。 （\\(K_p\\)要小，\\(K_i\\)适中，\\(K_d\\)不变） 稳定阶段：此时电机转速误差与误差变化量绝对值均很小(e=PS,ZO,NS;ec=NS,ZO,PS)。 此时需要维持较小\\(K_p\\)防止振荡，增大\\(K_i\\)消除残余误差，适当增大\\(K_d\\)增强抗干扰能力。 （\\(K_p\\)要小，\\(K_i\\)要大，\\(K_d\\)要大） 在另一篇文章中，要求\\(K_d\\)取较小值，减小被控过程的制动作用，进而补偿在调节过程初期由于\\(K_d\\)值较大所造成的调节过程的时间延长 模糊化 将精确值(e,ec)转化为模糊值(E,EC)的过程被称作模糊化。 论域：系统输入的误差e与误差变化率ec、输出的PID参数变化量\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)的取值范围被称作论域。 模糊集：模糊量E和EC的所有可能取值的集合是模糊集。本文代码中模糊集为{NB、NM、NS、ZO、PS、PM、PB}，依次代表负大(Negative Big)、负中(Negative Medium)、负小(Negative Small)、零(Zero)、正小(Positive Small)、正中(Positive Medium)、正大(Positive Big)。 量化因子：论域中的精确值转换到模糊集中的模糊值时的比例值为量化因子。 精确值x的论域是{x_L,x_H}，模糊集为{-n,-n+1,-n+2,...,-1,0,1,...,n-1,n,n+1}，则量化因子\\(k_x=\\frac{2n}{x_H-x_L}\\) 文中代码误差e的论域为{-30,30}，模糊集{NB、NM、NS、ZO、PS、PM、PB}可以记作{-3,-2,-1,0,1,2,3}，n=3，求得量化因子\\(k_e=\\frac{1}{10}\\)。 可以得到精确值到模糊值的转换公式\\(y=k_x(x-\\frac{x_H+x_L}{2})\\) 比如若误差e的值为20，\\(e_L=-30,e_H=30,k_e=10\\)，则可计算出\\(y=\\frac{1}{10} \\times (20-\\frac{30+(-30)}{2})=2\\)，其对应的模糊值为PM。 而若误差e的值为23，则计算得y=1.3，该值在1与2之间，所以对应模糊值为PM与PB。 比例因子：模糊值转换到输出量精确值的比例关系为比例因子。 \\(k_u=\\frac{2n}{u_H-u_L}\\)，值得注意的是，这里的u是输出的PID参数变化量\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)，不是模糊PID控制器最后的输出量。 隶属度与隶属度函数：一般精确值不太可能对应一个模糊值，很可能对应多个模糊值，比如上文误差e=23时，对应的模糊值为PM与PB。那么这个精确值对应于PM的程度高还是对应于PB的程度更高，这就需要引入隶属度与隶属度函数的概念。 最常用的隶属度函数形式为三角形，这里就以三角形为例。 图1 三角形隶属度函数 隶属度\\(\\mu(x)=\\left\\{ \\begin{gathered} 0 &amp; x\\le a 或 x\\ge b \\\\ \\frac{x-a}{b-a} &amp; a \\le x \\le b \\\\ \\frac{c-x}{c-b} &amp; b \\le x \\le c \\\\ 1 &amp; (a=b,x=a)或(b=c,x=c) \\end{gathered}\\right.\\) 根据上述公式，可以计算出误差e=23时，PM的隶属度函数为0.7，PB的隶属度函数为0.3，NB、NM、NS、ZO、PS的隶属度函数值为0。 模糊推理 模糊推理是根据模糊控制表，将模糊值E与EC与PID参数变化量\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)的模糊值相对应。 本文程序中模糊控制表储存于params.rules中，其中第一行1 1 7 1 5表示当E=NB、EC=NB时，dKp=PB、dKi=NB、dKd=PS。 模糊控制表的建立基于长期积累所得的控制经验，本文所采用的模糊控制表是网络上流传最广的一种。 对于某个特定条件下的控制，需要结合被控对象的实际情况及电机控制需求对该规则表加以调整。 图2 ΔKp、ΔKi、ΔKd模糊规则表 上述模糊规则表目前存在一个比较引人注目的争议，该争议涉及模糊值E的定义问题。在绝大多数的文献与仿真模型中，误差e被定义为设定值减去实际值所得之差，即e=r-y，按此道理应当将r-y所得的e模糊化得到E。 但也有人认为，该模糊表中的E是由y-r所得的e模糊化而来，并且若定义e=y-r，则该模糊表更契合既定控制要求。 （可以设计实验来对比两种定义下的控制效果，实际控制效果比误差定义更重要） 参考文章： CSDN-模糊PID控制的规则表一点理解 知乎-怎么理解模糊pid控制表？ 解模糊 解模糊是模糊控制流程的最后一部，即将PID参数变化量\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)的模糊值转换为相应的精确值。 解模糊存在多种算法，其中包括重心法（Centroid Method，面积中心法）、最大值平均法（Mean of Maxima, MoM）、中心平均法（Center Average）等，更多细节可以参考这篇文章： CSDN-推理过程的去模糊化（Defuzzification）方法详解 其中重心法是最为常用的解模糊算法，它取的是加权平均值，其公式如下： \\[\\Delta K=\\frac{\\sum_{i=1}^n \\mu_i c_i}{\\sum_{i=1}^n \\mu_i}\\] 该公式的输出\\(\\Delta K\\)为PID参数变化量\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)。 式中n是模糊规则的条数（上文代码中有49条规则），\\(\\mu_i\\)为第i条规则的激活强度，\\(c_i\\)是对应的模糊集值（存储于params.dKp,params.dKi,params.dKd）。 激活强度\\(\\mu_i=\\min(\\mu_e,\\mu_{ec})\\)，也就是各个模糊集值的最小值。这体现了模糊逻辑中的最小化原则，该原则可避免高激活强度规则掩盖弱规则的影响，确保控制量调整更稳健。 最后，得到下一时刻的PID控制器参数值为： \\[K(n)=K(n-1)+\\Delta K\\] 模糊PID控制的Simulink仿真模型搭建 To Be Countinued未完待续......","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机控制器算法综述","slug":"课题笔记/电机控制器算法综述","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"电机控制器算法综述02-1-蚁群算法","slug":"课题笔记/电机控制器算法综述/电机控制器算法综述02-1-蚁群算法","date":"2025-03-10T13:46:56.000Z","updated":"2025-09-14T04:17:15.176Z","comments":true,"path":"课题笔记/电机控制器算法综述/电机控制器算法综述02-1-蚁群算法/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B002-1-%E8%9A%81%E7%BE%A4%E7%AE%97%E6%B3%95/","excerpt":"","text":"这一专栏将介绍电机控制算法，为接下来的课题研究提供参考。 本文将介绍群智能算法中的蚁群算法，它是历史最悠久的群智能算法之一。 本文首先结合旅行商问题介绍蚁群算法的原理，然后将蚁群算法应用于电机转速环PID控制器的参数优化。 蚁群算法概述 蚁群算法（Ant Colony Optimization, ACO）是一种模拟蚂蚁群体觅食行为的群智能优化算法，该算法采用的分布式并行计算机制，易于与其它方法结合，具有较强的鲁棒性，适用于组合优化问题的求解。 首先简单总结一下蚁群觅食的现象： 蚂蚁在运动时，会在路径上释放出一种称为信息素(Pheromone)的物质，并且能够感知这种物质的存在及其强弱，并根据信息素的浓度指导运动的方向。 当遇到没有走过的路口时，蚂蚁会随机挑选一个方向前进。 蚂蚁走的路径越长则在该路径上的单位长度上的信息素越小。 当后来的蚂蚁再次遇到这个路口时，选择信息素强度高的方向的概率就会增加，这样就形成了一个正反馈机制。 最短路径上的信息素的强度越来越大，而其它路径上的信息素的强度随时间的流逝而逐渐消失。最终寻找到最短的路径。 当原先的最短路径上出现障碍物时，蚂蚁能够重新寻找另外一条最短路径，这体现了蚂蚁对外部环境的适应性（鲁棒性）。 列举完这些现象后，结合公式进行进一步的阐述，并将蚁群算法应用于旅行商问题： 旅行商问题(Travelling Salesman Problem，TSP)： 假设地图上有n个城市，n个城市间均有道路连接，不同城市间的道路长度不同，这使得不同城市间的交通成本不同。 一个商人需要从某个城市出发，按照一定的顺序访问这n个城市，且每个城市恰好访问一次，最终回到出发城市。 目标是求出一个最优的访问顺序，使得总交通成本最低。 图0 旅行商问题图示 节点与路径：假设蚂蚁由起点S出发，中途经过节点A、B、C，最后到达终点D，那么在这一过程中的SA、AB、BC、CD均为所经过的路径（路径是相邻两点之间构成的线段）。 在旅行商问题中，各个城市是节点，城市间的道路是路径。 信息素：蚂蚁在经过路径之时，会在路径上留下信息素，信息素浓度越高，意味着蚂蚁越愿意选择这一路径（形成正反馈）。 可以用\\(\\tau_{ij}\\)表示节点\\(i\\)到节点\\(j\\)之间的信息素。 信息素的更新：每一轮迭代后都会更新信息素，其表达式为： \\[\\tau_{ij}(t+1)=(1-\\rho)\\tau_{ij}(t)+\\Delta \\tau_{ij}\\] 式中\\(\\rho \\in (0,1)\\)为信息素的挥发系数，这意味着若没有新的蚂蚁走过此路径，则该路径上的信息素浓度会不断降低。 \\(\\Delta \\tau_{ij}=\\sum\\limits_{k = 1}^m \\Delta \\tau_{ij}^k\\)，为信息素在本次迭代的增量，是各个蚂蚁在本次迭代中释放的信息素之和。 单个蚂蚁释放的信息素：主要分为三种模型。 首先是ant-cycle模型，其公式为\\(\\Delta \\tau_{ij}^k = \\left\\{ {\\begin{array}{*{20}{c}} \\frac{Q}{L_k} &amp;&amp; 若第k只蚂蚁在本次迭代经过了路径ij \\\\ 0 &amp;&amp; 其他 \\end{array}} \\right.\\) 式中\\(Q\\)是一个正数，代表信息素的浓度，\\(L_k\\)为第\\(k\\)只蚂蚁在本轮迭代所经过路径的总长度。 (总长度越低，意味着这条路越好走，释放的信息素就越多） 将\\(\\frac{Q}{L_k}\\)换成\\(\\frac{Q}{d_{ij}}\\)就是ant-quantity模型（\\(d_{ij}\\)是路径\\(ij\\)的长度），再换成\\(Q\\)就是ant-density模型。 ant-cycle模型利用全局信息更新路径上的信息素量，其优化性能要好于采用局部信息的ant-quantity模型与ant-density模型。 状态转移概率公式：在第\\(t\\)次迭代，蚂蚁位于\\(i\\)节点时，选择\\(j\\)节点的概率如下 \\[p_{ij}^k(t)= \\left\\{ {\\begin{array}{*{20}{c}} \\frac{[\\tau_{ij}(t)]^\\alpha \\cdot [\\eta_{ij}(t)]^\\beta}{\\sum\\limits_{s\\in J_k(i)}[\\tau_{is}]^\\alpha \\cdot [\\eta_{is}]^\\beta} &amp;&amp; 当j \\in J_k(i)时 \\\\ 0 &amp;&amp; 其他 \\end{array}} \\right.\\] 式中\\(J_k(i)\\)表示蚂蚁下一步可以选择的所有节点，在程序运行过程中，需要定义一个禁忌表\\(tabu_k\\)，该表存储当前蚂蚁已经走过的节点，\\(J_k(i)\\)是所有节点去除\\(tabu_k\\)后剩余的部分。 \\(\\eta_{ij}\\)是启发式因子，通常取\\(\\eta_{ij}=\\frac{1}{d_{ij}}\\)。 \\(\\alpha\\)与\\(\\beta\\)是信息素与启发式因子的权重系数，体现了信息素和启发式因子的相对重要程度。 该公式采用的是轮盘赌算法，分子对应单个节点，分母对应所有节点的和。路径上信息素浓度越大或路径越短时，节点被选中的概率越大。 蚁群算法应用于旅行商问题 下面是将蚁群算法应用于解决旅行商问题的matlab实例，代码来自智能优化算法及其MATLAB实例(第2版)例5.1。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119%%%%%%%%%%%%%%%%%%%%蚁群算法解决TSP问题%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%初始化%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%clear all; %清除所有变量close all; %清图clc; %清屏m=50; %蚂蚁个数Alpha=1; %信息素重要程度参数 Beta=5; %启发式因子重要程度参数Rho=0.1; %信息素蒸发系数G_max=200; %最大迭代次数Q=100; %信息素增加强度系数C=[1304 2312;3639 1315;4177 2244;3712 1399;3488 1535;3326 1556;... 3238 1229;4196 1044;4312 790;4386 570;3007 1970;2562 1756;... 2788 1491;2381 1676;1332 695;3715 1678;3918 2179;4061 2370;... 3780 2212;3676 2578;4029 2838;4263 2931;3429 1908;3507 2376;... 3394 2643;3439 3201;2935 3240;3140 3550;2545 2357;2778 2826;... 2370 2975]; %31个省会城市坐标%%%%%%%%%%%%%%%%%%%%%%%%第一步：变量初始化%%%%%%%%%%%%%%%%%%%%%%%%n=size(C,1); %n表示问题的规模（城市个数）D=zeros(n,n); %D表示两个城市距离间隔矩阵for i=1:n for j=1:n if i~=j D(i,j)=((C(i,1)-C(j,1))^2+(C(i,2)-C(j,2))^2)^0.5; else D(i,j)=eps; end D(j,i)=D(i,j); endendEta=1./D; %Eta为启发因子，这里设为距离的倒数Tau=ones(n,n); %Tau为信息素矩阵Tabu=zeros(m,n); %存储并记录路径的生成NC=1; %迭代计数器R_best=zeros(G_max,n); %各代最佳路线L_best=inf.*ones(G_max,1); %各代最佳路线的长度figure(1);%优化解while NC&lt;=G_max %%%%%%%%%%%%%%%%%%第二步：将m只蚂蚁放到n个城市上%%%%%%%%%%%%%%%% Randpos=[]; for i=1:(ceil(m/n)) Randpos=[Randpos,randperm(n)]; end Tabu(:,1)=(Randpos(1,1:m))&#x27;; %%%%%第三步：m只蚂蚁按概率函数选择下一座城市，完成各自的周游%%%%%% for j=2:n for i=1:m visited=Tabu(i,1:(j-1)); %已访问的城市 J=zeros(1,(n-j+1)); %待访问的城市 P=J; %待访问城市的选择概率分布 Jc=1; for k=1:n if length(find(visited==k))==0 J(Jc)=k; Jc=Jc+1; end end %%%%%%%%%%%%%%%%%%计算待选城市的概率分布%%%%%%%%%%%%%%%% for k=1:length(J) P(k)=(Tau(visited(end),J(k))^Alpha)... *(Eta(visited(end),J(k))^Beta); end P=P/(sum(P)); %%%%%%%%%%%%%%%%按概率原则选取下一个城市%%%%%%%%%%%%%%%% Pcum=cumsum(P); Select=find(Pcum&gt;=rand); to_visit=J(Select(1)); Tabu(i,j)=to_visit; end end if NC&gt;=2 Tabu(1,:)=R_best(NC-1,:); end %%%%%%%%%%%%%%%%%%%第四步：记录本次迭代最佳路线%%%%%%%%%%%%%%%%%% L=zeros(m,1); for i=1:m R=Tabu(i,:); for j=1:(n-1) L(i)=L(i)+D(R(j),R(j+1)); end L(i)=L(i)+D(R(1),R(n)); end [L_best(NC),pos]=min(L); R_best(NC,:)=Tabu(pos(1),:); %%%%%%%%%%%%%%%%%%%%%%%%%第五步：更新信息素%%%%%%%%%%%%%%%%%%%%%% Delta_Tau=zeros(n,n); for i=1:m for j=1:(n-1) Delta_Tau(Tabu(i,j),Tabu(i,j+1))=... Delta_Tau(Tabu(i,j),Tabu(i,j+1))+Q/L(i); end Delta_Tau(Tabu(i,n),Tabu(i,1))=... Delta_Tau(Tabu(i,n),Tabu(i,1))+Q/L(i); end Tau=(1-Rho).*Tau+Delta_Tau; %%%%%%%%%%%%%%%%%%%%%%%第六步：禁忌表清零%%%%%%%%%%%%%%%%%%%%%% Tabu=zeros(m,n); %%%%%%%%%%%%%%%%%%%%%%%%%历代最优路线%%%%%%%%%%%%%%%%%%%%%%%%%% for i=1:n-1 plot([ C(R_best(NC,i),1), C(R_best(NC,i+1),1)],... [C(R_best(NC,i),2), C(R_best(NC,i+1),2)],&#x27;bo-&#x27;); hold on; end plot([C(R_best(NC,n),1), C(R_best(NC,1),1)],... [C(R_best(NC,n),2), C(R_best(NC,1),2)],&#x27;ro-&#x27;); title([&#x27;优化最短距离:&#x27;,num2str(L_best(NC))]); hold off; pause(0.005); NC=NC+1; end%%%%%%%%%%%%%%%%%%%%%%%%%%第七步：输出结果%%%%%%%%%%%%%%%%%%%%%%%%%%Pos=find(L_best==min(L_best));Shortest_Route=R_best(Pos(1),:); %最佳路线Shortest_Length=L_best(Pos(1)); %最佳路线长度figure(2),plot(L_best)xlabel(&#x27;迭代次数&#x27;)ylabel(&#x27;目标函数值&#x27;)title(&#x27;适应度进化曲线&#x27;) 程序要解决的问题可以归纳为：已知二维平面上31个节点（城市）的坐标，需要从某一节点出发，不重复的沿直线依次经过所有节点，最后还要回到出发节点，求距离最短的走法。 参数初始化： 定义蚁群个体数量\\(m=50\\)，迭代次数\\(G_{max}=200\\)（迭代的循环变量是NC）。 定义单个蚂蚁释放信息素多少相关的\\(Q\\)，状态转移概率公式中的信息素与启发式因子的权重系数\\(\\alpha\\)与\\(\\beta\\)，信息素更新公式中的挥发系数\\(\\rho\\)。 \\(C\\)是一个\\(31 \\times 2\\)矩阵，用于存储平面上所有节点的坐标。 n=size(C,1);将矩阵\\(C\\)的行数赋值给变量\\(n\\)，\\(n\\)表示节点（城市）的数量。 接下来建立了一个\\(31 \\times 31\\)的矩阵\\(D\\)来存储节点之间所构成的路径的距离，用到了距离公式\\(d=\\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}\\)。 这里使用eps来定义同一个节点间的距离（\\(i=j\\)时的\\(D(i,j)\\)），这是个matlab函数，返回值为一个很小的正数，其值为\\(2^{-52}\\)。 另外定义\\(D(j,i)=D(i,j)\\)，说明这是一个对称的TSP问题，两个节点在两个方向（从\\(i\\)到\\(j\\)与从\\(j\\)到\\(i\\)）的距离相等。若是非对称TSP问题，则会有\\(D(j,i) \\ne D(i,j)\\)。 定义启发因子\\(\\eta_{ij}=\\frac{1}{d_{ij}}\\)。 定义矩阵\\(\\tau_{n \\times n}\\)，存储各个路径的信息素。 定义矩阵\\(tabu_{m \\times n}\\)，也就是禁忌表，存储一次迭代过程中\\(m\\)只蚂蚁各自所选择的路线（经过节点的顺序）。 定义矩阵\\(R_{best}\\)，储存各次迭代的最优路线。 定义矩阵\\(L_{best}\\)，储存各次迭代最优线路的总长度。定义中用到了inf函数，使得其默认值为无穷大。 自此初始化工作全部结束，下面进行的是循环迭代过程。 将m只蚂蚁放到n个城市上： 首先确定蚂蚁的初始位置，定义Randpos用于储存随机生成的数据，该数组的元素个数并不固定，因此默认设为空。 然后进入一个for循环，cell函数是向上取整，这里\\(m=50,n=31\\)，因此循环次数为2。 randperm(n)函数会返回一个包含从1到\\(n\\)的随机序列，根据代码所写，每次循环都会使Randpos增加\\(n\\)个互不相同的元素。 对于本程序，Randpos的最终会有62个元素，前31个互不相同，后31个也互不相同。 最后Randpos中的前\\(m\\)个元素会赋值给禁忌表\\(tabu\\)的第一列。 相较于直接生成1到\\(n\\)之间的随机数，这样可以确保当\\(m \\ge n\\)时，每个城市上至少有一只蚂蚁。 蚂蚁按照状态转移概率公式经过各个节点： 外循环\\(j\\)从2到\\(n\\)，共\\((n-1)\\)次，每次循环对应一次节点的选择，对应起点之外的另外\\((n-1)\\)个节点。 内循环\\(i\\)对应每一只蚂蚁。 首先将这个蚂蚁已经走过的节点存储于数组visited中，共有\\((j-1)\\)个节点。 剩下的\\((n-j+1)\\)个节点就是未走过的节点，建立一个长度为\\((n-j+1)\\)的全零数组\\(J\\)，用于存储这些节点。 然后将\\(J\\)赋值给\\(P\\)（使二者拥有相同的元素个数），这个\\(P\\)在后面将用于存储蚂蚁下一步要走的各个节点的概率。 接下来又进入一个循环\\(k\\)，这个循环用于将所有未走过的节点填充到数组\\(J\\)中。 这里根据matlab给出的提示，将原文if(length(find(visited==k))==0)修改为if(isempty(find(visited==k, 1)))，以提高代码运行效率。 这个循环依次对各个节点进行判断，find(visited==k, 1)会返回visited数组中值为\\(k\\)（代表第\\(k\\)个节点）的第1个元素的元素下标（这个下标是几并不重要，重要的是能不能找到这个元素）。 find函数的返回值是数组，若visited数组中找不到值为\\(k\\)的元素，则会返回一个空数组，isempty的返回值为1（真）。若找到了，isempty的返回值为0（假）。 所以说，这个循环的作用是依次判断蚂蚁是否经过第\\(k\\)个节点，若未经过，则将这个节点存储到数组\\(J\\)中。 跳出这个小循环后，进入另一个小循环，该循环的变量也是\\(k\\)。这个循环按照状态转移概率公式得到蚂蚁下一步要走的各个节点的概率，最后储存于数组\\(P\\)。 最后一部分代码用于确定要去的下一个节点，cumsum是累计求和函数，所返回的数组与输入的数组具有相同的元素个数，返回数组的第1个元素与输入相同，第2个元素是输入的前2个之和，第3个元素的输入的前3个之和，以此类推，最后一个元素是输入数组的所有元素值之和。 所以得到的数组\\(P_{cum}\\)的值会单调递增，最后一个元素的值为1。 rand函数会生成一个在0到1之间的随机数，正好可以与\\(P_{cum}\\)的范围重合。 接下来的find(Pcum&gt;=rand)会寻找\\(P_{cum}\\)数组中大于0到1之间的随机数的所有元素，存储于数组\\(Select\\)中，而\\(Select\\)的第一个元素就是下一次迭代要经过的节点。 这里举一个例子，假设还剩下3个待走过的节点，根据状态转移概率公式计算得到的概率\\(P=[0.1,0.3,0.6]\\)，那么通过累计求和后得到\\(P_{cum}=[0.1,0.4,1]\\)。 若\\(0 &lt; rand \\le 0.1\\)，则数组\\(Select\\)将存储全部三个节点，最后要去的就是第一个节点；若\\(0.1 &lt;rand \\le 0.4\\)，则数组\\(Select\\)将存储第二个与第三个节点，最后要去的是第二个节点；若\\(0.4 &lt;rand &lt; 1\\)，则数组\\(Select\\)只存储第三个节点，最后要去的就是第三个节点。 接下来是一个判断，只有迭代到第二轮及以后才执行下一行代码。下一行代码将上一次迭代得到的最优路径赋值给禁忌表的第一行。 （这样写意味着从第二轮开始，蚁群中的1号蚂蚁的路径会一直被上一轮迭代产生的最优路径所替代） 在接下来的路径对比中，这个最优路径会与蚁群迭代产生的新路径进行对比，若新路径的总距离均大于这个最优路径，则这个最优路径依旧是最优路径；若新路径的总距离有小于这个最优路径的，新路径就会取代它成为新的最优路径。 记录本次迭代最佳路线： 列向量\\(L\\)存储本次迭代各个蚂蚁走过的总距离。 代码比较好理解，调用的是禁忌表\\(tabu\\)的数据，首先计算第一个节点到第二个节点，第二个节点到第三个节点，一直到最后一个节点间的距离，然后还要加上最后一个节点到第一个节点的距离（题目要求最后回到出发节点）。 然后将\\(L\\)中的最小值幅值给\\(L_{best}\\)，作为这一次迭代蚂蚁走过总距离的最小值，并获得最小值对应的下标。 （这里将原文L_best(NC)=min(L);pos=find(L==L_best(NC));修改为[L_best(NC),pos]=min(L);） 最后将总距离最小的那只蚂蚁的路径赋值给\\(R_{best}\\)，作为这一轮迭代的最优路径。 更新信息素： 按照上文所述公式更新路径间的信息素。 首先求单个蚂蚁释放的信息素，采用的是ant-cycle模型，外循环对应\\(m\\)个蚂蚁，内循环对应一只蚂蚁在本次迭代所经过的路径。 然后将其代入到信息素更新公式。 然后将禁忌表清零，为下一轮迭代做准备。 代码的最后一部分就不必多说了，绘制迭代过程中的图形，求出最优路径与最小的总距离，得到最小总距离随迭代次数变化的曲线，如下图所示。 图1 优化后的路径 图2 适应度进化曲线 蚁群算法应用于PID控制器参数优化 为了使得蚁群算法应用于PID控制器的参数优化，需要对算法本身进行一定的调整。 对于旅行商问题，优化的目的是找到一条最短的路径以经过所有的节点。而对于电机PID控制器，其优化目标是寻找出一组最优的\\(K_p,K_i,K_d\\)参数，使得电机的控制性能最好。 信息素并不释放在路径上，而是在节点上，而节点就是待优化的\\(K_p,K_i,K_d\\)参数。 另外，需要定义与电机控制性能相关的评价函数，这相当于旅行商问题中的路径长度。 图3 基于蚁群算法优化PID控制参数图示 蚁群算法优化PID控制参数的路径图如上图所示，每一只蚂蚁需要依次经过\\(K_p,K_i,K_d\\)这三组节点，每一组节点选择其中的一个节点经过，最后迭代得到最优的一组\\(K_p,K_i,K_d\\)参数。 下面简要介绍所编写程序的思路： 首先是节点的取值，三个参数各有100个元素，构成的是等差数列。初步确定\\(K_p\\)为1:1:100，\\(K_i\\)为0.1:0.1:10，\\(K_p\\)为10:10:1000（首项：等差：末项）。 然后是信息素矩阵，由于信息素释放在节点上，因此可以定义一个\\(100 \\times 3\\)矩阵。 为确保初始蚁群能够经过所有的节点，蚁群个体数量\\(m=100\\)，初始蚁群的\\(K_p,K_i,K_d\\)均用randperm(m)生成。 也就是说，在程序中节点取值个数与蚂蚁个数相等。 此外，该代码对状态转移概率公式做出调整，公式中只含\\(\\alpha\\)项，没有\\(\\beta\\)项，这是因为信息素全部在节点上，节点之间没有信息素。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586%蚁群算法优化PID控制器参数%%初始化close all; %清图clc; %清屏m=100; %蚂蚁个数=每个节点的离散取值个数n=3; %节点个数，这里是Kp,Ki,Kd三个Alpha=1; %信息素重要程度参数 Rho=0.1; %信息素蒸发系数G_max=200; %最大迭代次数Q=1; %信息素增加强度系数Kp_list = 1:1:100; %Kp离散值(与蚂蚁个数相等)Ki_list = 0.1:0.1:10; %Ki离散值Kd_list = 1:10:1000; %Kd离散值Tau=ones(m,n); %初始信息素矩阵，三列分别为Kp,Ki,KdNC=1; %迭代计数Ants=ones(m,n); %记录每个蚂蚁的位置（节点，还没有转化为Kp,Ki,Kd值）L=zeros(m,1); %各个蚂蚁的适应度值Ants_best=zeros(G_max+1,n); %初始蚁群与各代最佳Kp,Ki,Kd参数L_best=zeros(G_max+1,1); %初始蚁群与各代最佳适应度值%% 初始蚁群for i=1:n Ants(:,i)=randperm(m);%确保每个节点的每个离散取值上均有蚂蚁endfor i=1:m L(i)=evaluatePID(Kp_list(Ants(i,1)),Ki_list(Ants(i,2)),Kd_list(Ants(i,3)));end[L_best(1),pos]=min(L);Ants_best(1,:)=[Kp_list(Ants(pos,1)),Ki_list(Ants(pos,2)),Kd_list(Ants(pos,3))];fprintf(&#x27;初始蚁群最优适应度=%.4f 最优参数：%.4f,%.4f,%.4f\\n&#x27;,L_best(1),Ants_best(1,1),Ants_best(1,2),Ants_best(1,3));while NC&lt;=G_max%% 更新信息素 Delta_Tau=zeros(m,n);%信息素增量 for i=1:m for j=1:n Delta_Tau(Ants(i,j),j)=Delta_Tau(Ants(i,j),j)+Q/L(i); end end Tau=(1-Rho).*Tau+Delta_Tau;%% 按照状态转移概率公式确定下一轮迭代的蚁群位置 P=zeros(m); for j=1:n for k=1:m P(k)=(Tau(k,j))^Alpha; end P=P/(sum(P)); Pcum=cumsum(P); for k=1:m Select=find(Pcum&gt;rand); Ants(k,j)=Select(1); end end%% 得到蚁群适应度，更新最优蚁群与适应度数据 for i=1:m L(i)=evaluatePID(Kp_list(Ants(i,1)),Ki_list(Ants(i,2)),Kd_list(Ants(i,3))); end [Lbest,pos]=min(L); if(Lbest&lt;L_best(NC)) Ants_best(NC+1,:)=[Kp_list(Ants(pos,1)),Ki_list(Ants(pos,2)),Kd_list(Ants(pos,3))]; L_best(NC+1)=Lbest; else Ants_best(NC+1,:)=Ants_best(NC,:); L_best(NC+1)=L_best(NC); end fprintf(&#x27;第%d次迭代蚁群最优适应度=%.4f 最优参数：%.4f,%.4f,%.4f\\n&#x27;,NC,L_best(NC+1),Ants_best(NC+1,1),Ants_best(NC+1,2),Ants_best(NC+1,3)); NC=NC+1;end%% 绘制曲线plot(L_best)xlabel(&#x27;迭代次数&#x27;)ylabel(&#x27;目标函数值&#x27;)title(&#x27;适应度进化曲线&#x27;)%% 适应度评估函数function itae = evaluatePID(Kp, Ki, Kd) controller = pid(Kp, Ki, Kd); %创建PID控制器 s = tf(&#x27;s&#x27;); %电机模型（示例为直流电机模型） motor = 1 / ((1+20*s)*(1+10*s)); %假设是一个二阶系统 sys = feedback(controller*motor, 1);%建立闭环系统 t = 0:0.001:10; y = step(sys, t); %阶跃响应 error = 1 - y; %目标转速为1（标幺值） itae = sum(t(:).*abs(error(:))); %ITAE性能指标（积分时间绝对误差）end 蚁群算法的改进方向 该程序接下来的改进思路如下： 1.对于群智能算法，通常在迭代初期需要有尽可能大的搜索范围，避免陷入局部最优解；而迭代后期则需要减小搜索范围，以获得尽可能精确的解。可以根据迭代次数调整信息素浓度\\(Q\\)，使之先大后小。或者限制信息素\\(\\tau\\)的最大值与最小值。 2.增加信息素对周围节点的影响，目前信息素仅释放在蚂蚁走过的节点上，可以将释放的范围扩大至临近节点。比如蚂蚁走过\\(K_p=50\\)对应的节点时，同时将信息素释放到\\(K_p=47 \\sim 53\\)范围内的其余节点，释放的量随距离的增大而减小。 3.PID参数是连续性的参数，而蚁群算法主要针对离散参数的优化，因此这里将PID参数离散化成等差数列，这样就降低了参数优化的精确性。 To Be Countinued未完待续...... 智能优化算法及其MATLAB实例(第2版)","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机控制器算法综述","slug":"课题笔记/电机控制器算法综述","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"电机控制算法综述03-滑模控制","slug":"课题笔记/电机控制器算法综述/电机控制算法综述03-滑模控制","date":"2025-03-02T03:42:11.000Z","updated":"2025-10-18T15:14:19.561Z","comments":true,"path":"课题笔记/电机控制器算法综述/电机控制算法综述03-滑模控制/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B003-%E6%BB%91%E6%A8%A1%E6%8E%A7%E5%88%B6/","excerpt":"","text":"这一专栏将介绍电机控制算法，为接下来的课题研究提供参考。 本文首先介绍滑模控制原理，然后介绍采用滑模控制优化PID参数的电机控制系统Matlab仿真代码。 滑模控制原理 滑模控制（Sliding Mode Control, SMC）是一种非线性控制方法，通过设计特定滑动模态，使系统状态轨迹在有限时间内到达并保持在预设滑模面上，具有强鲁棒性和抗扰动特性。 滑模面（Sliding Surface），也称为切换面，是一个由设计者定义的超平面。滑模面是由状态变量及其导数组成的数学表达式，它决定了系统的行为模式。一旦系统的状态轨迹到达这个表面，理论上应该沿此表面滑向期望的目标点。 滑动模态（Sliding Mode）指的是当系统状态进入并保持在滑模面上时所表现出的一种特殊动态行为。在这种状态下，尽管外部扰动或参数变化可能会影响系统性能，但由于采用了特定的设计策略，使得系统能够维持一种相对稳定的运动趋势。 滑模面的构建 要想建立滑动模态，首先要构建合适的滑模面，而构建合适滑模面的前提是明确系统模型与控制目标。 确定系统的模型 电机的动力学系统（转子机械运动方程式）是一个二阶系统，其表达式如下。 \\(T_e=J\\frac{d^2 \\theta}{dt^2}+B\\frac{d\\theta}{dt}+T_L=J\\frac{d \\omega}{dt}+B\\omega+T_L\\)。 式中转速\\(\\omega=\\frac{d\\theta}{dt}\\)。 取转角\\(\\theta=x_1\\)、转速\\(\\omega=x_2\\)，可以将其改写为状态方程的形式如下： \\(\\left\\{ {\\begin{array}{*{20}{c}} { {\\dot x_1} = x_2} \\\\ { {\\dot x_2} = -\\frac{B}{J}x_2 + \\frac{1}{J}u - \\frac{1}{J}d(t)} \\end{array}} \\right.\\) 式中\\(J\\)为转动惯量，\\(B\\)为粘性摩擦系数。 \\(u=T_e\\)为电磁转矩，也是滑模控制器的输出量，被控对象（电机动力学系统）的输入量。 \\(d(t)=T_L\\)为负载转矩，也可以理解成系统的扰动。 这个二阶系统当然也可以写为：\\(J{\\ddot \\theta}+B{\\dot \\theta}=u-d(t)\\) 明确控制目标 这里要实现的目标是转速闭环控制，即转速误差为零。 定义转速误差\\(e=\\omega_{ref}-\\omega\\)，式中\\(\\omega_{ref}\\)是参考转速，也可以说是给定转速。 确定控制目标为\\(e=0,{\\dot e}=0\\)，在误差为零的同时确保误差加速度也为零，这样做可以提高系统抗扰动能力。 滑模面的确定原则 根据上述系统模型与控制目标，确定滑模面为： \\(s={\\dot e}+\\lambda e \\quad (\\lambda &gt; 0)\\) 下面介绍确定滑模面所需要遵循的原则。 跟踪误差阶次匹配 若系统阶次为\\(n\\)，则滑模面的微分方程阶次为\\((n-1)\\)。 这样可以保证滑动模态方程降阶为\\((n-1)\\)维，避免零动态不稳定问题，确保滑模运动与系统阶次匹配。 因此对于二阶系统，设计的是一阶滑模面。 收敛速度控制 式中\\(\\lambda\\)决定误差\\(e\\)的收敛速度。 \\(\\lambda\\)越大，系统收敛越快，但需满足\\(\\lambda_{max}&lt;\\frac{1}{\\tau_s}\\) 式中\\(\\tau_s\\)为系统最小时间常数。 工程上通常取\\(\\lambda=(3 \\sim 5)/t_{set}\\)，式中\\(t_{set}\\)为期望调节时间。 注：关于时间常数 时间常数\\(\\tau\\)是描述系统惯性特性的核心参数，表示系统响应达到稳态值63.2%所需的时间。 对于包含惯性、阻尼和刚度（弹性）的完整二阶机械系统，其动力学方程为 \\(J{\\ddot \\theta}+B{\\dot \\theta}+K \\theta=T\\) 其时间常数根据阻尼比及其响应特性的不同可分为三种情况（此处略去不表）。 对于上文提及的二阶电机动力学系统，由于其不含刚度项（忽略弹性形变）， 该系统的传递函数\\(G(s)=\\frac{1}{s(Js+B)}\\) 其特征方程为\\(s(Js+B)=0\\)，对应能求出两个极点。 一个是零极点（\\(s=0\\)），对应积分环节，反映位置累积特性，无时间常数。 另一个是惯性极点（\\(s=-B/J\\)），对应一阶惯性环节，时间常数\\(\\tau=\\frac{J}{B}\\)。 综上所述，不含刚度项的二阶机械系统的时间常数与一阶机械系统相同，为\\(\\tau=\\frac{J}{B}\\)。 对于典型一阶电气系统，其时间常数\\(\\tau=\\frac{L}{R}\\) 对于电机控制系统，其通常会包含多个子系统，其时间常数通常取各个子系统时间常数的最小值，即最小时间常数。 物理可实现性 滑模面表达式必须满足如下条件 1.仅包含可测量状态量； 2.不引入不可测高阶导数项； 3.满足传感器精度限制。 鲁棒性优化 滑模控制的鲁棒性优化旨在设计控制律，使得系统在存在外部扰动、模型不确定性及参数摄动时，仍能保持稳定并实现期望的动态性能。 其本质是通过滑模切换项的增益设计，抵消系统的不确定性影响，确保滑模运动始终收敛到预设的滑模面。 扰动上界\\(D\\)：系统所受扰动（包括外部干扰、未建模动态、参数误差等）的最大幅值。 要求总扰动\\(|d(t)|&lt;D \\quad t \\ge 0\\) 安全裕度\\(\\Delta\\)：为应对扰动上界估计误差或未预见干扰而额外增加的增益裕度。 \\(\\Delta = k_D \\cdot D \\quad k_D \\in [0.1,0.3]\\) 若\\(k_D\\)过小，可能导致鲁棒性不足；若\\(k_D\\)过大，则会加剧高频抖振，增加能耗。 切换增益\\(\\eta\\)：控制律中切换项（符号函数项）的增益系数，用于补偿扰动。 要求\\(\\eta \\ge D + \\Delta\\) 趋近率的确定 趋近律（Reaching Law）是滑模控制的核心组成部分，用于描述系统状态从初始位置向滑模面趋近的动态过程。其设计直接影响系统的收敛速度、抗干扰能力及控制输入的平滑性。趋近律通过定义状态变量\\(s\\)（即滑模面）的微分方程，确保系统轨迹在有限时间内到达并保持在滑模面上。 常用的趋近率 等速趋近律：\\({\\dot s}=-\\eta \\cdot sign(s) \\quad \\eta&gt;0\\) （线性收敛，速度较慢） 指数趋近律：\\({\\dot s}=-ks -\\eta \\cdot sign(s) \\quad \\eta&gt;0,k&gt;0\\) （线性收敛，速度较慢。增大\\(k\\)可加速趋近，但需避免过大导致抖振加剧） 幂次趋近率：\\({\\dot s}=-k|s|^\\alpha sign(s) \\quad k&gt;0,1&gt;\\alpha&gt;0\\) （有限时间收敛，速度最快，典型值取\\(\\alpha=0.5\\)） 稳定性证明（李雅普诺夫方法） 李雅普诺夫第二方法基本原理：若存在标量函数\\(V(x)\\)对状态空间中所有非零状态点\\(x\\)满足\\(V(x)&gt;0\\)（正定）且\\({\\dot V}(x)&lt;0\\)（负定），则系统在原点渐近稳定。 基于上述原理分析滑模控制的稳定性，首先要选取合适的标量函数\\(V(x)\\)。 所构造的标量函数要求其对于\\(x\\)具有连续一阶偏导数，且\\(V(0)=0\\)。 这里取\\(V=\\frac{1}{2}s^2\\)。 显然所取的函数符合条件\\(V(0)=0\\)，\\(V(s)&gt;0\\)，下面对其是否符合\\({\\dot V}(s)&lt;0\\)做进一步验证。 \\({\\dot V}=s{\\dot s}=s[\\eta sign(s)-ks] \\le -\\eta |s| \\quad (\\eta&gt;0)\\) （这里采用指数趋近率） 由此可知所取的标量函数符合要求\\({\\dot V}(s)&lt;0\\)，进而证明了所构造滑模控制系统的稳定性。 高频抖振抑制 为抑制滑模控制所存在的抖振问题，可以将趋近率中的符号函数替换为饱和函数。 \\(sat(s/\\Phi)=\\left\\{ {\\begin{array}{*{20}{c}} {s/\\Phi}&amp;{|s|\\le \\Phi} \\\\ {sign(s)}&amp;{|s|&gt;\\Phi} \\end{array}} \\right.\\) 式中\\(\\Phi\\)为边界层厚度，其选取需兼顾跟踪精度与平滑性。 另外，需要合理选择趋近率中的\\(\\eta\\)以兼顾抗扰能力与平滑性。 若\\(\\eta\\)过大，则会使切换项剧烈变化，执行器高频颤振；若\\(\\eta\\)过小，则会无法克服扰动，造成跟踪误差发散。 基于滑模控制的PID控制器Matlab代码 使用DeepSeek生成如下所示的Matlab代码： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103% 滑模控制优化PID参数的直流电机转速控制clc; clear; close all;% 电机参数J = 0.0027; % 转动惯量B = 0.0004924; % 阻尼系数% 滑模控制参数lambda = 80; % 滑模面系数(增大可加快收敛)【50-&gt;80】eta = 20; % 切换项增益(增强抗扰动能力)【15-&gt;20】% 自适应率系数alpha = 100; % Kp调整系数【500-&gt;800】beta = 10; % Ki调整系数【300】gamma = 4; % Kd调整系数【100-&gt;150】% 参考转速信号 (阶跃信号)dtheta_ref = @(t) 10.0*(t &gt;= 0.5); % 目标转速10rad/sddtheta_ref = @(t) 0; % 参考加速度为零% 初始状态 [theta, theta_dot, integral_e, Kp, Ki, Kd]x0 = [0; 0; 0; 30; 2; 2]; % 调整PID初始参数% 仿真时间tspan = [0 2];% 解微分方程[t, x] = ode45(@(t,x) motorSystem(t, x, J, B, lambda, eta, alpha, beta, gamma, dtheta_ref, ddtheta_ref), tspan, x0);% 提取结果theta_dot = x(:,2); % 电机实际转速Kp = x(:,4);Ki = x(:,5);Kd = x(:,6);% 绘制结果figure;subplot(2,1,1);plot(t, theta_dot, &#x27;b&#x27;, t, dtheta_ref(t), &#x27;r--&#x27;);title(&#x27;转速跟踪&#x27;);legend(&#x27;实际转速&#x27;, &#x27;参考转速&#x27;);xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;转速(rad/s)&#x27;);grid on;subplot(2,1,2);plot(t, Kp, &#x27;r&#x27;, t, Ki, &#x27;g&#x27;, t, Kd, &#x27;b&#x27;);title(&#x27;PID参数自适应调整&#x27;);legend(&#x27;Kp&#x27;, &#x27;Ki&#x27;, &#x27;Kd&#x27;);xlabel(&#x27;时间(s)&#x27;); ylabel(&#x27;参数值&#x27;);grid on;% 系统微分方程定义（转速控制版本）function dxdt = motorSystem(t, x, J, B, lambda, eta, alpha, beta, gamma, dtheta_ref, ddtheta_ref) theta = x(1); theta_dot = x(2); integral_e = x(3); Kp = max(x(4), 0); % 强制非负 Ki = max(x(5), 0); Kd = max(x(6), 0); % 计算转速跟踪误差 e = dtheta_ref(t) - theta_dot; e_dot = ddtheta_ref(t) - (theta_dot*B/J); % 等价于 -theta_ddot % 滑模面设计 s = e_dot + lambda*e; % PID控制输出 u_pid = Kp*e + Ki*integral_e + Kd*e_dot; % 滑模控制切换项（带饱和函数） sat_thickness = 0.5; if abs(s) &lt;= sat_thickness u_sw = eta*(s/sat_thickness); else u_sw = eta*sign(s); end % 总控制输入 u = u_pid + u_sw; % 改进的自适应律（带死区和非负约束） dead_zone = 0.05; if abs(e) &gt; dead_zone dKpdt = alpha*e*s; dKidt = beta*integral_e*s; dKddt = gamma*e_dot*s; else dKpdt = 0; dKidt = 0; dKddt = 0; end % 系统动态方程 theta_ddot = (u - B*theta_dot)/J; dxdt = [theta_dot; theta_ddot; e; dKpdt; dKidt; dKddt];end 该程序采用Matlab自带的求解器obe45对电机动力学系统微分方程进行求解，其使用变步长进行连续求解，其状态变量\\(x\\)包括转角\\(\\theta\\)，转速\\(\\dot \\theta\\)，误差\\(e\\)的积分以及PID控制器参数\\(K_p,K_i,K_d\\)。 该函数标准格式为[t, Xt] = ode45(odefun, tspan, X0) 其中odefun代指所导入的函数，可以是函数句柄、函数文件名、匿名函数句柄或内联函数名。 在程序中写作@(t,x) motorSystem(t, x, J, B, lambda, eta, k, alpha, beta, gamma, dtheta_ref, ddtheta_ref)，其中@(t,x)为匿名函数，motorSystem是匿名函数所指代的函数。 tspan为仿真的时间区间，可以连续也可以离散，程序中设为[0 2]，表示仿真时长为2s。 X0为状态变量初始值向量，t为返回列向量的时间点，Xt为返回对应t的求解列向量。 程序前半部分对各个参数进行定义，其中令转动惯量J=0.0027kg·m^2，粘性摩擦系数B=0.0004924N·m·s。该值与DeepSeek最初生成值不同，我按照Simulink中的永磁同步电机仿真模型默认值对其修改，该参数更符合电机控制的实际情况。 对于滑模控制参数，定义了滑模面系数\\(\\lambda\\)与切换增益\\(\\eta\\)。 还有影响\\(K_p,K_i,K_d\\)更新速率的自适应系数\\(\\alpha,\\beta,\\gamma\\)，若要使控制系统\\(K_p,K_i,K_d\\)参数一直保持初始值不变，即进行普通的PID控制，可以将自适应系数全部设为0，以便于控制系统初始PID参数调试。 接下来对转速参考信号\\(\\dot \\theta_{ref}\\)与转速的导数参考信号\\(\\ddot \\theta_{ref}\\)进行定义，这里用到了匿名函数。 转速参考信号最初为0，在0.5s时刻为阶跃信号，给定转速10rad/s。 理论上在0.5s时刻其导数值为无穷大（Dirac函数），但在实际仿真中，ode求解器可能无法处理这种情况，因此这里转速的导数一直保持为0。 接下来研究motorSystem函数，其输入量包括时间\\(t\\)，状态变量\\(x\\)，以及各个参数\\(J,B,\\lambda,\\eta,\\alpha,\\beta,\\gamma,{\\dot \\theta_{ref}},{\\ddot \\theta_{ref}}\\)。 输出量dtxt是输入量状态变量\\(x\\)的微分量（对时间\\(t\\)求导），包括\\({\\dot \\theta},{\\ddot \\theta},e,\\frac{\\text{d}K_p}{\\text{d}t},\\frac{\\text{d}K_i}{\\text{d}t},\\frac{\\text{d}K_d}{\\text{d}t}\\)。 在该函数中做出了下述定义： 转速误差\\(e={\\dot \\theta_{ref}} - {\\dot \\theta}\\) 转速导数的误差\\({\\dot e}={\\ddot \\theta_{ref}} - \\frac{B}{J}{\\dot \\theta}\\) 滑模面\\(s={\\dot e}+\\lambda e \\quad (\\lambda &gt; 0)\\) 总控制输入\\(u=u_{pid}+u_{sw}\\) 等效控制项\\(u_{pid}=K_p \\cdot e + K_i \\cdot \\int e \\text{d}t + K_d \\cdot {\\dot e}\\)，基于PID控制维持标称系统性能。 切换项\\(u_{sw}=\\eta \\cdot sat(s/\\Phi)\\)，用于补偿系统不确定性和扰动。 切换项基于前文所述的等速趋近律构建，并将符号函数替换为饱和函数以抑制滑模控制所存在的抖振问题。 \\(K_p,K_i,K_d\\)的自适应率 \\(\\left\\{ {\\begin{array}{*{20}{c}} {\\frac{\\text{d}K_p}{\\text{d}t}=\\alpha * e * s} \\\\ {\\frac{\\text{d}K_i}{\\text{d}t}=\\beta * \\int e * s} \\\\ {\\frac{\\text{d}K_d}{\\text{d}t}=\\gamma * {\\dot e} * s} \\end{array}} \\right.\\) 程序中对\\(K_p,K_i,K_d\\)的值进行了非负约束，通过代码K=max(K,0)，使之保持为正数。 此外还添加了死区约束，当转速误差小于一个较小的值dead_zone时，将\\(\\frac{\\text{d}K_i}{\\text{d}t},\\frac{\\text{d}K_d}{\\text{d}t}\\)设为0，使得\\(K_p,K_i,K_d\\)的值不再发生变化。 电机动力学系统动态方程\\({\\ddot \\theta} = (u - B*{\\dot \\theta})/J\\) 该动态方程根据前文所述系统模型移项改写得到。","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机控制器算法综述","slug":"课题笔记/电机控制器算法综述","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"},{"name":"DeepSeek","slug":"DeepSeek","permalink":"https://renahah.github.io/tags/DeepSeek/"}]},{"title":"RBF神经网络PID控制器的设计与仿真","slug":"课程笔记/神经网络原理及应用/RBF神经网络PID控制器的设计与仿真","date":"2025-02-26T02:55:55.000Z","updated":"2025-03-02T04:22:05.023Z","comments":true,"path":"课程笔记/神经网络原理及应用/RBF神经网络PID控制器的设计与仿真/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/RBF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9CPID%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"为课题研究所整理的笔记。 本文将介绍RBF神经网络PID控制器原理及其改进、仿真具体步骤。 RBF神经网络原理 径向基函数（Radial basis function，RBF）神经网络是一种三层前馈网络，由输入层、隐含层和输出层组成。其核心思想是通过非线性映射将输入空间转换到高维空间，然后在高维空间中实现线性可分或函数逼近。 图1 RBF神经网络结构 输入层：接受输入向量\\(\\text{x} \\in \\mathbb{R}^n\\)。本文PID控制器的输入量为误差\\(e\\)与误差变化率\\(\\dot e\\)。 隐含层：使用径向基函数（如高斯函数）作为激活函数，将输入量映射到高维空间。 输出层：对隐含层输出进行线性加权组合，生成最终输出。本文PID控制器的输出量为比例、积分、微分系数增量\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)。 激活函数：实现输入层到隐含层的计算。 第\\(j\\)个隐含层节点输出为 \\[h_j=e^{(-\\frac{\\parallel \\text{x}-\\text{c}_j \\parallel^2}{2b_j^2})}=e^{(-\\frac{\\sum_{i=1}^n(x_i-c_{ij})^2}{2b_j^2})}\\] 式中\\(c_j\\)为第\\(j\\)个隐含节点的中心向量，\\(b_j\\)为第\\(j\\)个隐含节点的宽度参数，控制高斯函数的平滑度。 “两个竖线”为欧几里得范数，表示输入与中心的距离。 径向基函数：一个取值仅仅依赖于离原点距离的实值函数，满足\\(\\phi(x)=\\phi(\\parallel x \\parallel)\\)的函数可被称作径向基函数。 高斯函数：形式为\\(\\phi(r)=e^{-(\\varepsilon r)^2}\\)，其中定义\\(r=(\\parallel x-x_i \\parallel)\\)。显然其中的\\(x_i\\)是中心向量。 高斯函数的另一种形式为\\(f(x)=ae^{-(x-b)^2/2c^2}\\)。 欧几里得范数：对于向量\\(x=(x_1,x_2,\\cdots,x_n)\\)，其欧几里得范数\\(\\parallel x \\parallel=\\sqrt{x_1^2+x_2^2+\\cdots+x_n^2}\\) 显然，如果是\\(x\\)是二维向量，则其欧几里得范数的几何含义就是该向量在二维空间中的长度，三维向量同理，也可以说\\(\\parallel x \\parallel\\)是向量的模长。 隐含层到输出层的运算：\\(\\Delta \\text{k}=\\text{h}\\text{W}\\) 式中\\(\\text{h}=[h_1,h_2,\\cdots,h_H]\\)，为隐含层输出向量。\\(H\\)为隐含层节点数，文中为5。 \\(\\text{W} \\in \\mathbb{R}^{H \\times m}\\)为输出层权重矩阵，\\(m\\)为输出维度，本文输出量为\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)，输出维度数为3。 权重更新：下面介绍数学推导过程。 首先定义一个目标函数，作为系统优化的目标与权重更新的依据。 目标函数：\\(E=\\frac{1}{2}e(k)^2=\\frac{1}{2}[r(k)-y(k)]^2\\) 求目标函数对于权重的梯度：\\(\\frac{\\partial E}{\\partial W_{jk}}=e(k)\\frac{\\partial e(k)}{\\partial u}\\frac{\\partial u}{\\partial \\Delta K_k}\\frac{\\partial \\Delta K_k}{\\partial W_{jk}}\\) 式中\\(\\frac{\\partial e(k)}{\\partial u}\\approx J\\)为系统雅可比矩阵，通过数值差分估计，在代码中\\(J=\\frac{y(k) - y(k-1)}{u(k-1) - u(k-2)}\\) \\(\\frac{\\partial u}{\\partial \\Delta K_k}\\)为PID控制器输出\\(u(k)\\)对RBF神经网络的输出量（这里为PID控制器三个参数的变化量）的偏导数。 其中\\(\\frac{\\partial u}{\\partial \\Delta K_p}=e(k)\\)、\\(\\frac{\\partial u}{\\partial \\Delta K_i}=\\sum e(k) \\cdot T_s\\)、\\(\\frac{\\partial u}{\\partial \\Delta K_d}=\\dot e(k)\\) 这对应PID控制器输出公式\\(u(k)=K_p * e(k) + K_i * \\sum e(k) \\cdot T_s + K_d * \\dot e(k)\\) 最后\\(\\frac{\\partial \\Delta K_k}{\\partial W_{jk}}=h_j\\) 根据目标函数对于权重的梯度，得到权重更新公式：\\(\\Delta W_{jk}=\\eta_\\omega \\frac{\\partial E}{\\partial W_{jk}}\\) 式中\\(\\eta_\\omega\\)为权重学习率，系数越大权重更新速度越快。 具体到权重矩阵各个维度（PID的三个参数）的权重更新公式如下： \\(\\Delta W_{j1}=\\eta_\\omega \\cdot e(k) \\cdot J \\cdot h_j \\cdot \\eta_p\\) \\(\\Delta W_{j2}=\\eta_\\omega \\cdot \\sum e(k) \\cdot T_s \\cdot J \\cdot h_j \\cdot \\eta_i\\) \\(\\Delta W_{j3}=\\eta_\\omega \\cdot \\dot e(k) \\cdot J \\cdot h_j \\cdot \\eta_d\\) 式中\\(\\eta_p,\\eta_i,\\eta_d\\)为PID参数的学习率。 RBF神经网络PID控制器Matlab代码 使用DeepSeek生成如下所示的Matlab代码： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143% RBF神经网络优化PID控制器参数clc;clear;close all;% 仿真参数Ts = 0.01; % 采样时间T = 10; % 总仿真时间N = T / Ts; % 总步数% 被控对象（二阶离散系统）a1 = 1.5; a2 = -0.7; b1 = 0.2; b2 = 0.1;% PID初始参数Kp = 0.2; % 原值为0.1Ki = 30; % 原值为0.01Kd = 1; % 原值为0.05% RBF网络参数H = 5; % 隐含层节点数input_size = 2; % 输入维度（e, ec）output_size = 3; % 输出维度（ΔKp, ΔKi, ΔKd）% 初始化RBF参数（中心、宽度、权重）c = rand(input_size, H) * 2 - 1; % 中心在[-1,1]随机分布b = ones(1, H) * 1.5; % 宽度初始化为1.5W = rand(H, output_size) * 0.1 - 0.05; % 权重初始化为小随机值% 学习率eta_w = 0.01; % 权重学习率eta_p = 0.01; % Kp学习率eta_i = 0.001; % Ki学习率eta_d = 0.01; % Kd学习率% 初始化系统变量y = zeros(1, N+2); % 输出（索引1对应t=0）u = zeros(1, N+2); % 控制量e = zeros(1, N+2); % 误差ec = zeros(1, N+2); % 误差变化率sum_e = 0; % 误差积分% 参考信号（阶跃信号）r = zeros(1, N+2);step_time = 0.5; % 阶跃时间0.5秒step_index = round(step_time / Ts) + 1; % 转换为索引r(step_index:end) = 1; % 阶跃信号% 记录变量Kp_list = zeros(1, N);Ki_list = zeros(1, N);Kd_list = zeros(1, N);error_list = zeros(1, N);u_list = zeros(1, N);% 主循环for k = 2:N+1 % 计算误差和误差变化率 e(k) = r(k) - y(k); ec(k) = e(k) - e(k-1); sum_e = sum_e + e(k) * Ts; % RBF输入 x = [e(k); ec(k)]; % 计算隐含层输出 h = zeros(1, H); for j = 1:H h(j) = exp(-sum((x - c(:,j)).^2) / (2 * b(j)^2)); end % RBF输出（PID参数调整量） delta_K = h * W; % 更新PID参数 Kp = max(Kp + eta_p * delta_K(1), 0); Ki = max(Ki + eta_i * delta_K(2), 0); Kd = max(Kd + eta_d * delta_K(3), 0); % 计算控制量（PID输出） u_current = Kp * e(k) + Ki * sum_e + Kd * ec(k); u_current = max(min(u_current, 10), -10); % 限幅 % 应用控制量到系统 u(k) = u_current; y(k+1) = a1 * y(k) + a2 * y(k-1) + b1 * u(k) + b2 * u(k-1); % 估计Jacobian (dy/du) if k &gt; 2 &amp;&amp; (u(k-1) - u(k-2)) ~= 0 J = (y(k) - y(k-1)) / (u(k-1) - u(k-2)); else J = 0.1; % 初始估计 end % 更新RBF权重 if k &gt; 2 e_k = e(k); for j = 1:H dW1 = eta_w * e_k^2 * J * h(j) * eta_p; dW2 = eta_w * e_k^2 * J * sum_e * h(j) * eta_i; dW3 = eta_w * e_k^2 * J * ec(k) * h(j) * eta_d; W(j,1) = W(j,1) + dW1; W(j,2) = W(j,2) + dW2; W(j,3) = W(j,3) + dW3; end end % 记录数据 Kp_list(k-1) = Kp; Ki_list(k-1) = Ki; Kd_list(k-1) = Kd; error_list(k-1) = e(k); u_list(k-1) = u_current;end% 绘制结果t = (0:N-1) * Ts;figure;subplot(3,1,1);plot(t, r(2:N+1), &#x27;r--&#x27;, t, y(2:N+1), &#x27;b-&#x27;);xlabel(&#x27;Time (s)&#x27;);ylabel(&#x27;Output&#x27;);legend(&#x27;Reference&#x27;, &#x27;System Output&#x27;);title(&#x27;System Response&#x27;);subplot(3,1,2);plot(t, error_list);xlabel(&#x27;Time (s)&#x27;);ylabel(&#x27;Error&#x27;);title(&#x27;Tracking Error&#x27;);subplot(3,1,3);plot(t, Kp_list, &#x27;r&#x27;, t, Ki_list, &#x27;g&#x27;, t, Kd_list, &#x27;b&#x27;);xlabel(&#x27;Time (s)&#x27;);ylabel(&#x27;Parameter Value&#x27;);legend(&#x27;Kp&#x27;, &#x27;Ki&#x27;, &#x27;Kd&#x27;);title(&#x27;Adaptive PID Parameters&#x27;);figure;plot(t, u_list);xlabel(&#x27;Time (s)&#x27;);ylabel(&#x27;Control Signal&#x27;);title(&#x27;Control Input&#x27;); 该程序总仿真时间为10s，采样时间（步长）为0.01s，因此总步数为1000步。 AI生成了一个二阶离散系统作为被控对象，其表达式为： \\(G(z)=\\frac{Y(z)}{U(z)}=\\frac{0.2z^{-1}+0.1z^{-2}}{1-1.5z^{-1}+0.7z^{-2}}\\) 利用差分方程得到被控对象输出值： \\(y(k+1) = a1 \\cdot y(k) + a2 \\cdot y(k-1) + b1 \\cdot u(k) + b2 \\cdot u(k-1)\\) \\(= 1.5y(k) - 0.7y(k-1) + 0.2u(k) + 0.1u(k-1)\\) PID控制器初始参数被设置为\\(K_p=0.1,K_i=0.01,K_d=0.05\\)，按照这个参数运行后出现了仿真运行一段时间后响应曲线出现较大幅度震荡的问题。 为此再次询问DeepSeek，它给出的办法是：禁用RBF神经网络，首先采用固定的PID参数做调试。 经过反复调整，最终初始参数被确定为\\(K_p=0.2,K_i=30,K_d=1\\)。 系统在0.5s时刻被施加一个阶跃信号（即0.5s前目标值为0，0.5s后目标值为1）。 此外，为防止系统不稳定，为输出的控制量限幅[-10~10]。 将固定参数的PID控制与RBF神经网络优化的PID控制进行对比，如下图所示。 图2 系统响应曲线对比 可以观察到采用RBF神经网络优化后波动更小，对于给定信号的跟随性能更好。 RBF神经网络优化 在询问DeepSeek如何解决响应震荡的同时，DeepSeek同时给出了一些RBF神经网络的优化建议。 改进Jacobian估计： 数值差分估计雅可比矩阵时，添加平滑滤波和小变化阈值保护，当控制量变化小于一个值时，则将估计值设为默认值。 这可以防止控制量变化过小时所造成的估计值不准确。 1234567891011% 修改Jacobian估计部分if k &gt; 2 delta_u = u(k-1) - u(k-2); if abs(delta_u) &gt; 1e-3 % 添加变化量阈值 J = (y(k) - y(k-1)) / delta_u; else J = 0.1; % 默认值或保持上次有效估计 endelse J = 0.1;end 添加误差信号滤波： 误差信号中的高频噪声会被RBF网络放大，导致参数误调整。这里对误差e和误差变化率ec进行一阶低通滤波。 1234567% 在初始化后添加滤波参数alpha = 0.2; % 滤波系数（0 &lt; α &lt; 1，值越小滤波越强）% 在主循环中修改误差计算e_raw = r(k) - y(k);e(k) = alpha * e_raw + (1 - alpha) * e(k-1); % 滤波后误差ec(k) = e(k) - e(k-1); % 基于滤波后误差计算变化率 引入动量项平滑权重更新： 梯度下降法容易陷入局部震荡，引入动量项可平滑更新方向。 12345678910111213% 在初始化部分添加动量参数momentum = 0.8; % 动量系数dW_prev = zeros(size(W)); % 记录上一次权重变化% 修改权重更新部分dW1 = eta_w * e_k^2 * J * h(j) * eta_p;dW2 = eta_w * e_k^2 * J * sum_e * h(j) * eta_i;dW3 = eta_w * e_k^2 * J * ec(k) * h(j) * eta_d;% 加入动量dW_current = [dW1, dW2, dW3];W(j,:) = W(j,:) + dW_current + momentum * dW_prev(j,:);dW_prev(j,:) = dW_current; % 保存当前变化 在其他一些文献中，还会看到一个概念叫做“惯性项”。针对动量项与惯性项的区别，CSDN的“C知道”的答复如下： 在神经网络的优化过程中，动量项和惯性项都是为了加速收敛并克服局部极小值问题而引入的技术。然而两者有着不同的定义和作用机制。 动量项通过增加一个基于过去梯度累积的速度向量来调整权重更新的方向和大小。这有助于减少振荡，并使学习过程更稳定和平滑。具体来说，在每次迭代时不仅考虑当前梯度方向，还会加入之前几次迭代积累下来的信息，从而形成一种“惯性”，使得算法能够更快地穿越平坦区域而不易陷入鞍点或局部最优解附近的小波动之中。 值得注意的是，“惯性项”这一术语并不常见于标准机器学习文献中；相反，人们更倾向于讨论“动量”。如果这里所说的惯性指的是某种形式的记忆效应，则其概念可能类似于动量——即让模型记住之前的移动趋势以便更好地指导未来的参数更新路径。但在严格意义上讲，二者应当视为同一事物的不同表述方式。 综上所述，所谓的“惯性项”很可能是指广义上的动量机制的一部分特性表现而已，并无本质差异。不过需要注意的是，在某些特定上下文中可能存在细微差别，因此建议查阅原始资料确认确切含义。 此外，DeepSeek提出可以采用更复杂的自适应机制（如滑模控制）对RBF神经网络进行优化。关于滑模控制的原理以及采用滑模控制优化的RBF神经网络PID控制器Matlab代码，参见下一篇文章。 参考资料 百度百科-径向基函数 DeepSeek C知道-开发者的首选AI搜索引擎","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"课程笔记/神经网络原理及应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"DeepSeek","slug":"DeepSeek","permalink":"https://renahah.github.io/tags/DeepSeek/"},{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"神经网络原理及应用","permalink":"https://renahah.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}]},{"title":"永磁同步电机-Simulink仿真模型内部结构与官方仿真例程","slug":"课题笔记/永磁同步电机/永磁同步电机-Simulink仿真模型内部结构与官方仿真例程","date":"2025-01-19T13:11:48.000Z","updated":"2025-10-19T05:36:49.691Z","comments":true,"path":"课题笔记/永磁同步电机/永磁同步电机-Simulink仿真模型内部结构与官方仿真例程/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA/%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA-Simulink%E4%BB%BF%E7%9C%9F%E6%A8%A1%E5%9E%8B%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E4%B8%8E%E5%AE%98%E6%96%B9%E4%BB%BF%E7%9C%9F%E4%BE%8B%E7%A8%8B/","excerpt":"","text":"本文将结合Simulink模型库中的永磁同步电机模型、电机控制仿真例程、Matlab官方文档，分析仿真模型内部结构与Simulink仿真原理。 参考资料 关于永磁同步电机及其Simulink仿真分析，可以作为参考的文章如下： 【1】永磁同步电机 该文章初步介绍了永磁同步电机的结构、数学模型、空间脉宽矢量调制方法（SVPWM）、控制策略等内容。 【2】CSDN—沉沙丶—永磁同步电机矢量控制系列教程 采用转速电流双闭环PI控制，电流环\\(i_d=0\\)控制策略搭建永磁同步电机控制系统仿真模型。文章3、4、5在此基础上对PI控制器进行改进。 【3】鲁棒控制理论与应用02-H∞控制器的设计方法 采用H∞控制策略对转速环与电流环\\(i_q\\)进行控制，搭建控制系统仿真模型。 【4】基于粒子群算法的电机控制器参数整定研究 采用改进粒子群算法对转速环PI控制器进行优化，通过迭代得到最优的PI控制器参数。 【5】BP神经网络PID控制器的设计与仿真 采用BP神经网络对转速环PI控制器进行优化，在仿真运行过程中实时调整PI控制器参数。 【6】CSDN—SKWASU—simulink电机仿真笔记一 对永磁同步电机Simulink仿真模型内部结构进行了初步分析，并进行公式推导，有一定的参考价值。 永磁同步电机参数设置 本文所用软件为Matlab R2023a，首先打开库浏览器，选择Simscape-&gt;Electrical-&gt;Specialized Power Systems-&gt;Electrical Machines，就能找到永磁同步电机(Permanent Magnet Synchronous Machine)的模型，也可以直接在库浏览器中搜索Permanent Magnet Synchronous Machine。 图0 永磁同步电机模型 对模型右键打开“帮助(H)”，就可以看到该模型的官方帮助文档，该文档也可以在网页上打开，链接为：https://ww2.mathworks.cn/help/releases/R2023a/sps/powersys/ref/permanentmagnetsynchronousmachine.html 该文档介绍了永磁同步电机的数学模型，相电感与角度关系曲线，以及电机模型中可以设置的参数。 双击该模块进入配置界面，第一个选项卡为Configuration。 Number of Phases为电机相数，可以选择3相或5相，这里选择默认的三相。（头一回知道还有五相永磁同步电机） Back EMF waveform为反电动势波形，默认值Sinusoidal为正弦电动势，Trapezoidal为梯形电动势。（这里选择正弦电动势，若选择梯形电动势，则该电机为无刷直流电机） Rotor Type为转子类型，默认值为Round（隐极，此时交轴与直轴电感相等），Salient-pole为凸极，通常交轴电感大于直轴电感\\(L_q&gt;L_d\\)。（只有电机相数选择为三相，且反电动势波形为正弦波时会出现该选项） Mechanical input是机械输入类型，默认为Torque Tm，表示将施加到轴上的扭矩作为机械输入。还可以选择Speed w转速作为输入，若选择Mechanical rotational port，则可以将机器轴连接到具有机械旋转端口的其他Simscape模块（此时电机模型Tm端不是箭头形状，而是端口）。 Preset model为预设模型，包括一些预设的电气和机械参数，默认值为No，即不使用预设。 第二个选项卡为Parameters，用于设置电机的电气和机械参数。 Stator phase resistance Rs为定子相电阻，默认为0.0485Ω。 下面设置定子电感： 若电机相数选择三相，反电动势波形选择梯形波，则设置Stator phase inductance Ls为定子相电感，默认为8.5e-3H。 若电机相数选择三相，反电动势波形选择正弦波，转子类型为Round，则设置Armature inductance为相电感\\(L=L_d=L_q\\)，默认值为0.000395H。 若电机相数选择三相，反电动势波形选择正弦波，转子类型为Salient-pole，则设置Inductances[Ld(H) Lq(H)]为d轴和q轴电感，默认值为[8.5e-3,8.5e-3]。（显然需要修改默认值使得两个电感值不相等，否则按照默认值转子就不是凸极而是隐极了） 下面设置电机常数： Specify通过设置一个参数来确定另外两个参数。 默认值为Flux linkage established by magnets (V.s)，表示永磁体磁链\\(\\Psi_f\\)，默认值为0.1194Wb。 Voltage Constant (V_peak L-L / krpm)默认值为86.6271V，表示电机作为发电机驱动时每1000r/min下的峰值开路电压。（反电动势常数\\(K_e\\)，表示每1000r/min所产生的反电动势峰值大小\\(V_{peak}\\)，测量的是电机两相之间的线电压） Torque Constant (N·m / A_peak)默认值为0.7164N·m，表示每安培对应的电机转矩（转矩常数\\(K_t\\)）。 【思考题1】三个参数之间的换算公式是什么？ \\(\\Psi_f=\\frac{V_{peak}}{\\sqrt 3 \\omega_e}\\) \\(K_e=\\frac{V_{peak}}{\\omega_{rpm} / 1000}\\) \\(K_t=\\frac{3}{2}p\\Psi_f\\) \\(\\frac{K_e}{\\Psi_f}=\\frac{\\sqrt 3 \\omega_e}{\\omega_{rpm} / 1000}=\\sqrt 3 \\frac{2\\pi p}{60}\\times 1000 \\approx 181.38p\\) 式中\\(p\\)为电机极对数。 若电机相数选择三相，反电动势波形选择梯形波，则设置Back EMF flat area (degrees)电动势半周期内的平顶宽度，默认值为120°。 下面设置的是机电能量转换常数，Inertia,viscous damping,pole pairs,static friction [ J(kg.m^2) F(N.m.s) p() Tf(N.m)]分别对应转动惯量、粘性摩擦系数、极对数、轴静摩擦转矩。默认值为[0.0027 0.0004924 4 0]。 Initial conditions[wm(rad/s) thetam(deg) ia,ib(A)]为初始条件，分别对应初始转速，机械角度，A相与B相电流。默认值为[0,0,0,0] 注：该仿真模型中定子绕组为Y形连接且无零线，三相电流和为0，可以求出C相电流\\(i_c=-i_a-i_b\\)。 Rotor flux position when theta = 0这一项选择的是转子磁通方向相对于相位A轴的参考位置。默认为90 degrees behind phase A axis (modified Park)，表示电角度\\(\\theta_r=0\\)时转子磁通方向滞后于A相绕组轴线方向90°。如下图所示： 图1 二极PMSM简化结构图 左图为官方文档提供的示意图，右图来源为《现代永磁电动机交流伺服系统》P65图4-6。 图中as、bs、cs为定子三相绕组的轴线方向，其建立了一个三相静止坐标系（3s坐标系，固定在定子上）。 取永磁体基波磁场的方向\\(F_f\\)为d轴，q轴超前于d轴90°电角度。d轴与q轴构建的是两相旋转坐标系（2r坐标系，固定在转子上）。 官方文档中提到这样选取参考位置可以更便于实现对电机的矢量控制，因为\\(\\theta_r=0\\)时相电感值最大。 Advanced选项卡涉及仿真求解器的相关设置，没太搞明白，故不叙述。 永磁同步电机模型内部结构 对永磁同步电机模型右键封装-&gt;查看封装内部，就可以看到开关磁阻电机模型的内部结构，如下图所示。 图2 永磁同步电机模型内部结构 最上面的模块上写着“SPS internal use,Do not delete”，该模块已被加密处理，无法破解，其输入端对应电机的三相绕组（若电机相数设置为五相，则对应五相绕组），该模块可用于获取各相绕组的电压。 此外，电机模型中定义了一个名为PM的结构体，与电机相关的参数包含其中，无法破解。 下半部分的模块主要包括电力转换模块(Electrical model)与机电能量转换模块(Mechanical model)两大部分。 其中，电力转换模块将各相绕组线电压、电角度、转速等通过一定的数学变换转换为各相定子静止电流、dq轴旋转电流、各相的Hall信号。机电能量转换模块根据电机的机械方程，由电机的电磁转矩、负载转矩计算得到电机的实时电角度与转速。 Measurements模块将电力转换模块与机电能量转换模块得到的各个数据进行整合，使用Bus Creator将其整合为一个输出量m。 数据依次为三相静止定子电流\\(i_a,i_b,i_c\\)，两相旋转定子电流\\(i_q,i_d\\)，两相旋转定子电压\\(V_q,V_d\\)，三相Hall信号\\(h_a,h_b,h_c\\)，电机转速\\(\\omega_m\\)，转子电角度\\(\\theta_m\\)与电磁转矩\\(T_e\\)。 该输出量可以用Bus Selector模块拆解为单独的各个变量，便于连接示波器查看图像。 电力转换模块 图3 电力转换模块 abc2qd模块 首先将线电压\\(V_{ab},V_{bc}\\)转换为两相旋转定子电压\\(V_q,V_d\\)。如下图所示： 图4 abc2qd 可以看到两个fcn模块前的Mux总线有四个输入，分别是\\(V_{ab},V_{bc},sin\\theta,cos\\theta\\)，这四个输入量在fcn中分别表示为u(1),u(2),u(3),u(4)。 两个fcn模块计算出的输出量为\\(V_q,V_d\\)。 下面介绍fcn模块内公式的推导过程： 注：该仿真模型三相绕组采用Y形联结且无零线，有关系式\\(V_a+V_b+V_c=0,i_a+i_b+i_c=0\\) ①首先将线电压\\(V_{ab},V_{bc}\\)转换为相电压\\(V_a,V_b\\)。 列如下方程式并求解： \\[\\left\\{ {\\begin{array}{*{20}{c}}{V_{ab} = V_a - V_b} \\\\ {V_{bc} = V_b - V_c} \\\\ {V_a+V_b+V_c=0} \\end{array}} \\right. \\Rightarrow \\left\\{ {\\begin{array}{*{20}{c}}{V_a=\\frac{2}{3}V_{ab}+\\frac{1}{3}V_{bc}} \\\\ {V_b=-\\frac{1}{3}V_{ab}+\\frac{1}{3}V_{bc}} \\\\ {V_c=-\\frac{1}{3}V_{ab}-\\frac{2}{3}V_{bc}} \\end{array}} \\right.\\] 得到线电压到相电压的变换矩阵： \\[\\left[ {\\begin{array}{*{20}{c}}{V_a} \\\\ {V_b} \\end{array}} \\right]=\\left[ {\\begin{array}{*{20}{c}} {\\frac{2}{3}}&amp;{\\frac{1}{3}} \\\\ {-\\frac{1}{3}}&amp;{\\frac{1}{3}} \\end{array}} \\right] \\left[ {\\begin{array}{*{20}{c}} {V_{ab}} \\\\ {V_{bc}} \\end{array}} \\right]\\] ②然后将\\(V_a,V_b\\)转换为两相静止定子电压\\(V_\\alpha,V_\\beta\\)，进行的是Clarke变换(3s/2s变换) 标准Clarke变换公式为： \\[\\left[ {\\begin{array}{*{20}{c}} V_\\alpha \\\\ V_\\beta \\end{array}}\\right]=\\frac{N_3}{N_2}\\left[ {\\begin{array}{*{20}{c}} 1&amp;-\\frac{1}{2}&amp;-\\frac{1}{2} \\\\ 0&amp;\\frac{\\sqrt{3}}{2}&amp;-\\frac{\\sqrt{3}}{2} \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} V_a \\\\ V_b \\\\ V_c \\end{array}}\\right]\\] 其中\\(\\frac{N_3}{N_2}\\)为三相绕组与两相绕组的匝数比。 若要求三相电流与两相的电流幅值相等，则取\\(\\frac{N_3}{N_2}=\\frac{2}{3}\\)；若要求三相与两相的总功率不变，则取\\(\\frac{N_3}{N_2}=\\sqrt\\frac{2}{3}\\) 对于本模型，取\\(\\frac{N_3}{N_2}=\\frac{2}{3}\\)，同时将\\(V_a+V_b+V_c=0\\)代入到矩阵。 \\(V_a+V_b+V_c=0 \\Rightarrow V_c=-V_a-V_b\\) \\(V_\\alpha=\\frac{N_3}{N_2}(V_a-\\frac{1}{2}V_b-\\frac{1}{2}V_c)=\\frac{N_3}{N_2}(V_a-\\frac{1}{2}V_b+\\frac{1}{2}V_a+\\frac{1}{2}V_b)=\\frac{3}{2}V_a\\) \\(V_\\beta=\\frac{N_3}{N_2}(\\frac{\\sqrt 3}{2}V_b-\\frac{\\sqrt 3}{2}V_c)=\\frac{N_3}{N_2}(\\frac{\\sqrt 3}{2}V_b+\\frac{\\sqrt 3}{2}V_a+\\frac{\\sqrt 3}{2}V_b)=\\frac{N_3}{N_2}(\\frac{\\sqrt 3}{2}V_a+{\\sqrt 3}V_b)\\) 最后得到如下Clarke变换公式： \\[\\left[ {\\begin{array}{*{20}{c}} V_\\alpha \\\\ V_\\beta \\end{array}}\\right]=\\frac{2}{3}\\left[ {\\begin{array}{*{20}{c}} \\frac{3}{2}&amp;0 \\\\ \\frac{\\sqrt{3}}{2}&amp;\\sqrt{3} \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} V_a \\\\ V_b \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\\\ \\frac{\\sqrt{3}}{3}&amp;\\frac{2\\sqrt{3}}{3} \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} V_a \\\\ V_b \\end{array}}\\right]\\] 【思考题2】根据电流幅值相等与总功率不变的两种\\(\\frac{N_3}{N_2}\\)取法存在什么不同？对仿真会造成怎样的影响？本电机仿真模型为何采取电流幅值相等的原则？ ③最后将两相静止定子电压\\(V_\\alpha,V_\\beta\\)转换为两相旋转定子电压\\(V_q,V_d\\)，进行的是Park变换(2s/2r变换) 标准Park变换公式为： \\[\\left[ {\\begin{array}{*{20}{c}} V_d \\\\ V_q \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} cos\\theta&amp;sin\\theta \\\\ -sin\\theta&amp;cos\\theta \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} V_\\alpha \\\\ V_\\beta \\end{array}}\\right]\\] 然而，本仿真模型中Park变换中电角度\\(\\theta\\)相较于标准Park变换滞后了90°，如下所示： \\[\\left[ {\\begin{array}{*{20}{c}} V_d \\\\ V_q \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} sin\\theta&amp;-cos\\theta \\\\ cos\\theta&amp;sin\\theta \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} V_\\alpha \\\\ V_\\beta \\end{array}}\\right]\\] 换言之，将该Park变换矩阵中的\\(\\theta\\)加90°之后可以得到标准Park变换矩阵。 \\[\\left[ {\\begin{array}{*{20}{c}} sin(\\theta+\\frac{\\pi}{2})&amp;-cos(\\theta+\\frac{\\pi}{2}) \\\\ cos(\\theta+\\frac{\\pi}{2})&amp;sin(\\theta+\\frac{\\pi}{2}) \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} cos\\theta&amp;sin\\theta \\\\ -sin\\theta&amp;cos\\theta \\end{array}}\\right]\\] 那么，差的这90°到哪里去补呢？补在机电能量转换模块里了，到那里再说。 【扩展阅读】关于电机坐标变换(Clarke变换与Park变换)更详尽的原理性叙述，可以参考《电力拖动自动控制系统—运动控制系统（第5版）》P161-P165与《交流调速系统（第二版）》P177-P183。 最后的最后，就是将上述矩阵相乘，得到两相旋转定子电压\\(V_d,V_q\\)与线电压\\(V_{ab},V_{bc}\\)、电角度\\(\\theta\\)的关系式。 \\[\\left[ {\\begin{array}{*{20}{c}} V_d \\\\ V_q \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} sin\\theta&amp;-cos\\theta \\\\ cos\\theta&amp;sin\\theta \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\\\ \\frac{\\sqrt{3}}{3}&amp;\\frac{2\\sqrt{3}}{3} \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} {\\frac{2}{3}}&amp;{\\frac{1}{3}} \\\\ {-\\frac{1}{3}}&amp;{\\frac{1}{3}} \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}} {V_{ab}} \\\\ {V_{bc}} \\end{array}} \\right]\\] \\(\\Rightarrow V_d=\\frac{1}{3}[2sin\\theta V_{ab}+(sin\\theta-\\sqrt 3 cos\\theta)V_{bc}]=\\frac{1}{3}[sin\\theta(2V_{ab}+V_{bc})-\\sqrt 3 cos\\theta V_{bc}]\\) \\(\\Rightarrow V_q=\\frac{1}{3}[2cos\\theta V_{ab}+(cos\\theta+\\sqrt 3 sin\\theta)V_{bc}]=\\frac{1}{3}[cos\\theta(2V_{ab}+V_{bc})+\\sqrt 3 sin\\theta V_{bc}]\\) 得到的结果与图4中fcn模块中填写的表达式一致，说明上述公式推导的结果正确。 注：fcn中的表达式包含两个常量，PM.sqrt3是\\(\\sqrt 3\\)，PM.one_third是\\(\\frac{1}{3}\\)。 iq,id模块 图5 vdq2idq 该模块将两相旋转电压\\(V_q,V_d\\)转换为两相旋转电流\\(i_q,i_d\\)，其转换基于dq坐标系下的电压方程： \\[\\left\\{ {\\begin{array}{*{20}{c}} V_d=Ri_d+L_d\\frac{ {\\text{d}}i_d}{ {\\text{d}}t}-\\omega_e L_q i_q \\\\ V_q=Ri_q+L_q\\frac{ {\\text{d}}i_q}{ {\\text{d}}t}+\\omega_e(L_d i_d+\\Psi_f) \\end{array}}\\right.\\] 式中\\(L_d,L_q\\)为dq轴电感，\\(\\omega_e\\)为转子电角速度。 \\(\\Psi_f\\)为转子永磁磁场对应的磁链，在电机模型中，其值被存储在PM.Flux变量中，该值大小与前文配置界面设定的参数Flux linkage established by magnets (V.s)相同（可以说是同一个东西）。 \\(\\omega_e \\Psi_f\\)为永磁体正弦磁场在转速\\(\\omega_e\\)下q轴绕组产生的感应电动势。 该电压方程由下面两个方程得到： \\[\\left\\{ {\\begin{array}{*{20}{c}} V_d=Ri_d+p\\Psi_d-\\omega_e \\Psi_q \\\\ V_q=Ri_q+p\\Psi_q+\\omega_e \\Psi_d \\end{array}}\\right.\\] \\[\\left\\{ {\\begin{array}{*{20}{c}} \\Psi_d=\\Psi_f+L_d i_d \\\\ \\Psi_q=L_q i_q \\end{array}}\\right.\\] 式中p为微分算子，该算子对时间t求导，不是电机的极对数。 \\(\\Psi_d\\)为定子磁链直轴分量，包括电枢电流直轴分量产生的电枢反应磁场\\(L_d i_d\\)与转子永磁磁场\\(\\Psi_f\\)两部分。\\(\\Psi_q\\)为定子磁链交轴分量，只包括电枢电流交轴分量产生的电枢反应磁场\\(L_q i_q\\)。 【思考题3】将上述电压方程与磁链方程联立并取\\(p\\Psi_f=0\\)，就能得到最终仿真模型中用到的方程式，在《现代永磁电动机交流伺服系统》P66中亦取\\(p\\Psi_f=0\\)。所以为何取\\(p\\Psi_f=0\\)？ 答：因为这里\\(\\Psi_f\\)是一个常量，不随时间t变化而变化（导数值为0）。 最后还有一个细节，就是对于\\(i_d\\)与\\(i_q\\)计算公式中的离散积分模块，其初始条件（积分初始值）分别为PM.isdo与PM.isqo，前文配置界面中已经设置A相与B相电流均为0，因此这里变换后得到的\\(i_d\\)与\\(i_q\\)初始值亦为0。 qd2abc模块 图6 qd2abc 将两相旋转电流\\(i_q,i_d\\)转换为三相静止电流\\(i_a,i_b,i_c\\)。 首先用Park逆变换转换为两相静止电流\\(i_\\alpha,i_\\beta\\)，再用Clarke逆变换转换为三相静止电流。 左侧的Mux总线有四个输入，分别为\\(sin\\theta,cos\\theta,i_q,i_d\\)。 右侧三个输出，首先通过fcn模块输出\\(i_a\\)与\\(i_b\\)，根据三相电流之和为0这一公式，得到\\(i_c=-i_a-i_b\\)。 \\[\\left[ {\\begin{array}{*{20}{c}} i_a \\\\ i_b \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\\\ -\\frac{1}{2}&amp;\\frac{\\sqrt 3}{2} \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} sin\\theta&amp;cos\\theta \\\\ -cos\\theta&amp;sin\\theta \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_d \\\\ i_q \\end{array}} \\right]\\] \\(\\Rightarrow i_a=i_q cos\\theta+i_d sin\\theta\\) \\(\\Rightarrow i_b=\\frac{1}{2}[cos\\theta(-i_q-\\sqrt 3 i_d)+sin\\theta(\\sqrt 3 i_q-i_d)]\\) 得到的结果与图6中fcn模块中填写的表达式一致，说明上述公式推导的结果正确。 运算过程中的矩阵由前文中的Park矩阵与Clarke矩阵做逆运算得到，其中Clarke矩阵先对其乘以\\(\\frac{N_3}{N_2}\\)后求逆，得到的结果与fcn模块中填写的表达式一致。 【思考题4】为什么对Clarke矩阵先乘以\\(\\frac{N_3}{N_2}\\)后求逆？（在一些参考资料中有其他获得逆Clarke矩阵的方法，需要进一步研究分析） 霍尔效应传感器 图7 Hall effect sensor 在实际的电机控制系统中，可以通过安装在电机上不同位置的霍尔效应传感器推算转子位置（可以直接获得转子所在区域，结合电机转速与距离上一次变换转子区域所经过的时间可以估算当前转子位置）。 本仿真模型反其道而行之，根据转子电角度推算要输出的霍尔信号。 首先将弧度制下的角度转换为-180°~180°范围下的角度。 输入为弧度制的\\(\\theta\\)，首先经过三角函数模块输出为\\(sin\\theta\\)与\\(cos\\theta\\)，然后进入反正切函数(atan2)模块，得到限制在\\([-\\pi,\\pi]\\)范围内的\\(\\theta\\)。 atan2模块的输出公式如下： \\[atan2(sin\\theta,cos\\theta)=\\left\\{ {\\begin{array}{*{20}{c}} {arctan(\\frac{sin\\theta}{cos\\theta})}&amp;{cos\\theta&gt;0} \\\\ {arctan(\\frac{sin\\theta}{cos\\theta})+\\pi}&amp;{sin\\theta \\ge 0,cos\\theta&lt;0} \\\\ {arctan(\\frac{sin\\theta}{cos\\theta})-\\pi}&amp;{sin\\theta&lt;0,cos\\theta&lt;0} \\\\ {\\frac{\\pi}{2} }&amp;{sin\\theta&gt;0,cos\\theta=0} \\\\ {-\\frac{\\pi}{2} }&amp;{sin\\theta&lt;0,cos\\theta=0} \\\\ undefined &amp;{sin\\theta=0,cos\\theta=0} \\end{array}}\\right.\\] 最后将输出值乘以\\(\\frac{180}{\\pi}\\)，实现从弧度到角度的转换，输出量the_deg值域为[-180°,180°]。 【举例】若输入角度为\\(\\frac{7}{6}\\pi\\) 首先计算\\(sin\\frac{7}{6}\\pi=-\\frac{1}{2},cos\\frac{7}{6}\\pi=-\\frac{\\sqrt 3}{2}\\) 然后得到\\(tan\\frac{7}{6}\\pi=\\frac{sin\\frac{7}{6}\\pi}{cos\\frac{7}{6}\\pi}=\\frac{\\sqrt 3}{3}\\) 由于\\(sin\\frac{7}{6}\\pi&lt;0,cos\\frac{7}{6}\\pi&lt;0\\)，故atan模块输出值为\\(arctan(\\frac{\\sqrt 3}{3})=\\frac{\\pi}{6}-\\pi=-\\frac{5}{6}\\pi\\) 最后将该值乘以\\(\\frac{180}{\\pi}\\)得到最终结果-150° 显然当\\(\\theta=\\frac{13}{6}\\pi,\\frac{19}{6}\\pi,\\frac{25}{6}\\pi,\\cdots\\)时，输出值亦为-150° 得到角度之后，接下来按照设定好的条件判断输出的霍尔信号值，一共有三路霍尔信号，其输出值为1的区间分别为[-60°,120°]、[-180°,120°]∪[60°,180°]、[-180°,0°]，在上述区间外输出值为0。 这样就可以根据输出的三路霍尔信号值，将一个周期内的转子电角度划分为[-180°,-120°]、[-120°,-60°]、[-60°,0]、[0°,60°]、[60°,120]、[120°,180°]共六个区间。 转矩计算模块 转矩方程为： \\(T_e=1.5pi_q[i_d(L_d-L_q)+\\Psi_f]\\) 公式中有1.5这个系数，是因为前面按照电流幅值相等的原则进行Clarke变换，若采用恒功率变换，则公式中不用乘以1.5。 机电能量转换模块 图8 机电能量转换模块 该模块的搭建基于运动方程： \\(J\\frac{ {\\text{d}}\\omega_m}{ {\\text{d}}t}=T_e-T_L-B\\omega_m\\) 式中\\(J\\)为转动惯量，\\(T_L\\)为负载转矩，\\(B\\)为粘滞摩擦系数，\\(\\omega_m\\)为机械角速度。 电角速度\\(\\omega_e=p\\omega_m\\)（机械角速度乘以极对数为电角速度） 图中有两个离散积分模块，第一个将\\(\\frac{ {\\text{d}}\\omega_m}{ {\\text{d}}t}\\)转换为\\(\\omega_m\\)，其积分初始条件为PM.wmo，可以在配置界面中设置，默认为0；第二个将\\(\\omega_e\\)转换为\\(\\theta\\)，其积分初始条件为PM.tho+PM.thOffest，其中PM.tho=0，PM.thOffest用于补偿上文中Park变换滞后的90°，因此是一个常数\\(\\frac{\\pi}{2}\\)。 粘滞摩擦系数用Coulombic and Viscous Friction模块实现，包括库伦摩擦值PM.Tf与粘性摩擦系数PM.F两部分。 输出we为电角速度，the弧度制的转子总角度，m包括机械角速度、弧度制的总机械角度、电磁转矩。","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"永磁同步电机","slug":"课题笔记/永磁同步电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"永磁同步电机","slug":"永磁同步电机","permalink":"https://renahah.github.io/tags/%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA/"}]},{"title":"开关磁阻电机05-Simulink仿真模型内部结构与官方仿真例程","slug":"课题笔记/开关磁阻电机/开关磁阻电机05-Simulink仿真模型内部结构与官方仿真例程","date":"2025-01-10T23:15:40.000Z","updated":"2025-03-03T13:09:33.383Z","comments":true,"path":"课题笔记/开关磁阻电机/开关磁阻电机05-Simulink仿真模型内部结构与官方仿真例程/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA05-Simulink%E4%BB%BF%E7%9C%9F%E6%A8%A1%E5%9E%8B%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E4%B8%8E%E5%AE%98%E6%96%B9%E4%BB%BF%E7%9C%9F%E4%BE%8B%E7%A8%8B/","excerpt":"","text":"本文将结合Simulink模型库中的开关磁阻电机模型、电机控制仿真例程、Matlab官方文档，分析仿真模型内部结构与Simulink仿真原理。 开关磁阻电机模型参数设置 本文所用软件为Matlab R2023a，首先打开库浏览器，选择Simscape-&gt;Electrical-&gt;Specialized Power Systems-&gt;Electrical Machines，就能找到开关磁阻电机(Switched Reluctance Motor)的模型，也可以直接在库浏览器中搜索Switched Reluctance Motor。 图0 开关磁阻电机模型 对模型右键打开“帮助(H)”，就可以看到该模型的官方帮助文档，该文档也可以在网页上打开，链接为：https://ww2.mathworks.cn/help/releases/R2023a/sps/powersys/ref/switchedreluctancemotor.html 该文档简要展示了开关磁阻电机的磁化特性曲线，以及电机模型中可以设置的参数。 双击该电机模型，进入参数设置界面，分为Parameters和Model两个选项卡。 Parameters的第一项是Type，可以选择6/4、8/6、10/8开关磁阻电机，还可以选择预定特性模型的额定功率开关磁阻电机（无需设置Model选项卡），默认值为6/4。 Stator resistance是定子相绕组的电阻值\\(R_s\\)，默认为0.01Ω。 Inertia是转动惯量\\(J\\)，默认值为0.0082kg·㎡。 Friction是粘性摩擦系数\\(B\\)，默认值为0.01。 Initial speed and position是电机初始转速\\(w_0\\)(rad/s)与转子初始位置\\(\\theta_0\\)(rad)，以数组形式表示，默认值为[0,0]。 Sample time是采样时间，默认值为-1，表示模型的采样时间与Powergui模块指定的采样时间一致。 Machine Model分为通用模型(Generic Model)与特定模型(Specific Model)，其与电机的磁化特性相关，对于通用模型，需要设置以下参数： Unaligned inductance是转子处于“不对齐位置”时的电感\\(L_q\\)，默认值为\\(0.67\\times 10^{-3}H\\)。 Aligned inductance是转子处于“对齐位置”时的不饱和电感\\(L_d\\)，默认值为\\(23.6\\times 10^{-3}H\\)。 Saturated aligned inductance是转子处于“对齐位置”时的饱和电感\\(L_{dsat}\\)，默认值为\\(0.15\\times 10^{-3}H\\)。 Maximum current是定子最大电流\\(I_m\\)，默认为450A。 Maximum flux linkage是定子电流最大时的最大磁链\\(\\Phi_m\\)，默认为0.486Wb。 图1 理论磁化特性 上图为官方文档中展示的理论磁化特性曲线。图中“Unaligned”为“不对齐位置”的曲线，此时定子凸极对准转子轭部，电感最小，磁阻最大，磁路不饱和，磁化曲线近乎近似为一条直线。“Aligned”为“对齐位置”的曲线，此时磁阻较小，电感较大，磁路进入饱和状态，磁链随电流的增加速度先快后慢，具有较强的非线性。 设置完成后，可以勾选参数设置界面最下方Plot magnetization curves(绘制磁化曲线)，采用通用模型默认设置所得的6/4开关磁阻电机磁化曲线如下图所示。 图2 开关磁阻电机磁化曲线（通用模型） 该磁化曲线展示了6/4开关磁阻电机转子角度0°至45°下电流与磁链的关系曲线。 值得注意的是该模型中“不对齐位置”转子角度为45°，“对齐位置”转子角度为0°，这与大多数教材、网络资料、论文中的定义（“不对齐位置”转子角度为0°，“对齐位置”转子角度为45°）不同。 图3 开关磁阻电机相电感与相电流关系 但本质原理是不变的，上图为官方文档中展示的相电感与相电流关系。 根据简化公式：\\(T(\\theta,i) = \\frac{ { {i^2}}}{2}\\frac{\\partial L}{\\partial \\theta} =\\frac{ { {i^2}}}{2}\\frac{ {\\text{d}}L}{ {\\text{d}}\\theta}\\) 设置的开通与关断角要确保有电流流过时电感处于上升阶段，电感处于下降阶段时要确保没有电流流过，这样才能产生正向转矩，确保电机的正常运行。 对于特定模型，则可以通过建立二维表格，自定义电机磁化曲线。 首先确定所定义磁化曲线的来源，Source选择为Dialog时，可以直接在对话框中创建对应的变量。Source选择为MAT-File时，需要导入mat格式文件。 Magnetization characteristic table为磁化特性二维表格，默认名称为srm64_60kw.mat，若Source选择为MAT-File，则该文件需要包含三个变量，分别命名为FTBL、RotorAngles与StatorCurrents。若Source选择为Dialog，则可以定义一个二维数组变量，对应mat文件中的FTBL。 Rotor angle vector为转子角度变量，对应mat文件中的RotorAngles，默认值为[0,10,20,30,40,45]。 Stator current vector为定子电流变量，对应mat文件中的StatorCurrents，默认值为[0:25:450]，该向量从0开始，到450结束，间隔为25，共计有19个元素。 若按照默认值，则会建立一个19*6（19行6列）的磁化特性二维表格，该表格描述了磁链、角度、电流之间的关系，也被称为电机的ψ-i-θ模型。 开关磁阻电机模型的输入端TL指的是负载转矩，A1、A2、B1、B2、C1、C2...通过功率变换模块的上下桥臂，连接到电机的各相绕组。 通过输出端m可以得到电机的各相定子电压、各相磁链、各相电流、电机转矩、电机转速、转子转过的总角度波形数据。 开关磁阻电机模型内部结构 对开关磁阻电机模型右键封装-&gt;查看封装内部，就可以看到开关磁阻电机模型的内部结构，如下图所示。 图4 开关磁阻电机模型内部结构 上半部分是被加密处理的文件，无法破解，但其作用中肯定包括获取各相绕组的电压。 图5 开关磁阻电机模型内部结构 下半部分如图所示，它根据开关磁阻电机的原理搭建而成，输入为上半部分处理得到的各相绕组的电压，以及外部输入的负载转矩。 大致的思路是先将电压转换为磁链，其转换基于相电压平衡方程式： \\(U_k=R_k i_k-e_k=R_k i_k + \\frac{d\\Psi_k}{dt}\\) \\(\\Rightarrow U_k-R_k i_k=\\frac{d\\Psi_k}{dt}\\) 然后根据前文构建的ψ-i-θ模型将磁链转换为电流，再根据T-i-θ模型将电流转换为转矩，获得的各相转矩求和得到总转矩，总转矩与负载转矩经过Mechnaic机电能量转换模块得到转速与转子转过的总角度。转速经过Pos_sensor模块转换为各相的转子角度。最后用Bus Creator将电机本体的各个动态参数（各相定子电压、各相磁链、各相电流、电机转矩、电机转速、转子转过的总角度）整理为一个输出量。 电机模型中定义了一个名为SP的结构体，所有参数都在其中。与该结构体内各个参数形成的代码亦被加密，无法破解。 图6 角度转换模块 角度转换模块Pos_sensor如上图所示，其作用是将角度取模转换为各相绕组的转子角度，输入量为转速w，单位弧度每秒(rad/s)，首先将其乘以180/π转换为度每秒(°/s)，然后通过积分模块转换为转子转过的总角度，最后与一定的角度取模得到各相绕组的转子角度。 一定的角度存储于SP.PosSensor中，对于三相6/4开关磁阻电机，该值为90度。 积分模块中的初始条件表示各相绕组转子角度的初始值，在模块中的定义为SP.initialw + SP.theta0*180/pi，对于三相6/4开关磁阻电机，该值为[0,-30,-60]。 图7 机电能量转换模块 机电能量转换模块Mechnaic如上图所示，它的建立基于转子机械运动方程式\\(T_e=J\\frac{d^2 \\theta}{dt^2}+B\\frac{d\\theta}{dt}+T_L=J\\frac{d \\omega}{dt}+B\\omega+T_L\\)。 式中转速\\(\\omega=\\frac{d\\theta}{dt}\\)。 ψ-i-θ模型与T-i-θ模型 对于开关磁阻电机的本体模型，最为关键的部分就是ψ-i-θ模型与T-i-θ模型。其中ψ-i-θ模型在前面的参数配置过程中已被定义，在本体模型中，被存储于SP.ITBLD之中，该变量为181x101的二维数组，可以推测其对原始数据（前文的19 * 6数组）进行了一定的处理细化。而T-i-θ模型被存储与SP.TTBLD之中，为181x101的二维数组，目前尚不清楚该模型是如何生成，需要进一步的研究分析。 下面介绍获取两个模型具体数据的方法。 首先，打开仿真模型，点击“运行”右边的“步进”一次。 步进可以按照仿真步长逐步运行仿真。若点击“运行”，则会一次性完成仿真，就无法查看到SP.ITBLD与SP.TTBLD中的数据。 双击打开2D-Lookup Table，点击“编辑表和断点”，得到ψ-i-θ模型与T-i-θ模型图像如下所示： ψ-i-θ与T-i-θ模型 开关磁阻电机控制仿真例程1-电流斩波控制 在matlab中输入power_SwitchedReluctanceMotor，就可以打开一个开关磁阻电机的仿真例程。 该例程在电脑中的位置为： ...\\MATLAB\\R2023a\\toolbox\\physmod\\powersys\\demos\\machines\\power_SwitchedReluctanceMotor.slx 帮助文档链接为： https://ww2.mathworks.cn/help/releases/R2023a/sps/ug/switched-reluctance-motor.html 图8 开关磁阻电机官方例程 该例程中包含三个单独的开关磁阻电机控制系统，所采用的电机模型分别为6/4特定模型（外部导入电机磁化曲线数据）、8/6 75KW通用模型、10/8 10KW通用模型。三者均采用电流斩波控制策略，下面对6/4特定模型结构做具体介绍。 角度转换模块如图9所示，先将转速取积分得到转过的总角度，再取模得到各相绕组转子角度，该模块在图6基础上增加了开通角与关断角的判断，当转子角度处于开通角与关断角之间时，输出信号sig值为1，否者输出信号sig值为0，输出的sig值与电流设定值做乘法运算，得到的就是各相电流的电流参考值。 图9 角度转换与导通判断模块 功率变换模块如图10所示，采用三相不对称半桥结构，具体原理参考开关磁阻电机04-Simulink仿真模型搭建 不对称半桥有“导通”、“续流”、“关断”三种状态，该模型输入信号同时连接到上下两个桥臂，因而只具有导通与关断状态（硬斩波）。 图10 功率变换模块 开关磁阻电机控制仿真例程2-转速电流双闭环控制 上文提到的开关磁阻电机控制系统仅对电流进行了控制，Matlab提供的另一个例程采用转速环作为外环，电流滞环作为内环，实现双闭环控制。 该例程可以通过输入power_motordrive_SRM_6_4打开。 在电脑中的位置为...\\MATLAB\\R2023a\\toolbox\\physmod\\powersys\\demos\\motordrives\\power_motordrive_SRM_6_4.slx 帮助文档链接为： https://ww2.mathworks.cn/help/releases/R2023a/sps/ug/power-motordrive-SRM-6-4.html 图11 开关磁阻电机官方例程 其中，转速与电流控制模块如下图所示。 图12 转速与电流控制模块 转速环采用PI控制器。Commutation Logic为角度转换模块，与图9结构相似。Current Regulator为电流滞环模块。 该电机采用全桥功率变换器，如下图所示。 图13 全桥功率变换器 与上文不对称半桥模块类似，该模型输入信号同时连接到上下两个桥臂，具有“导通”与“关断”两种状态。 未完待续：关于各类功率变换器件的原理，后续会专门写文章，结合Matlab提供的模型与例程加以介绍。","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"课题笔记/开关磁阻电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"开关磁阻电机","permalink":"https://renahah.github.io/tags/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}]},{"title":"开关磁阻电机04-Simulink仿真模型搭建","slug":"课题笔记/开关磁阻电机/开关磁阻电机04-Simulink仿真模型搭建","date":"2024-09-12T11:21:44.000Z","updated":"2024-10-17T09:19:10.235Z","comments":true,"path":"课题笔记/开关磁阻电机/开关磁阻电机04-Simulink仿真模型搭建/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA04-Simulink%E4%BB%BF%E7%9C%9F%E6%A8%A1%E5%9E%8B%E6%90%AD%E5%BB%BA/","excerpt":"本文介绍直接采用Simulink搭建开关磁阻电机仿真模型以及不对称半桥功率变换模块的方法，该方法借助了Maxwell有限元分析所得的转矩-位置-电流模型与磁链-位置-电流模型。 相较于采用Maxwell-Simplorer-Simulink联合仿真的方法，该方法更加便捷，可以极大程度的减少计算量与仿真时间（针对需要多次仿真调整参数的情况），缺点是精度不够高。","text":"本文介绍直接采用Simulink搭建开关磁阻电机仿真模型以及不对称半桥功率变换模块的方法，该方法借助了Maxwell有限元分析所得的转矩-位置-电流模型与磁链-位置-电流模型。 相较于采用Maxwell-Simplorer-Simulink联合仿真的方法，该方法更加便捷，可以极大程度的减少计算量与仿真时间（针对需要多次仿真调整参数的情况），缺点是精度不够高。 T-θ-i模型与ψ-θ-i模型搭建 Maxwell仿真 下面介绍转矩-位置-电流模型（T-θ-i模型）的建立方法。参考视频开关磁阻电机maxwell转矩特性分析（角度-电流-转矩 曲线），视频原作者为不仅好友可见。 首先在对Maxwell电机模型做静态场仿真，建立转矩-角度特性曲线，然后将该曲线转换为可以在Matlab中使用的转矩-位置-电流模型。 打开AnsysEM，打开电机模型文件，点击主菜单Maxwell3D(或Maxwell2D)-&gt;Solution Type，或者在Project Manager窗口对该模型右键Solution Type。Megnetic选择Magnetostatic静态场仿真。 首先设置转子旋转角度变量，选中模型中的转子，点击Draw-&gt;Rotate，弹出的界面Angle输入degree（一个变量，可以任意命名），再点OK，弹出的窗口也点OK。 接下来设置电流，视频中的是2D仿真模型，点击对应的Excitations-&gt;Current，在Value中输入I，建立电流变量。在2D仿真模型中，一组线圈对应四个电流截面，需要注意电流方向，其中两个电流截面的方向为Negative。接下来需要建立电流通路，点击Parameters-&gt;Assign-&gt;Matrix，其中Source为要连接为通路的电流截面的一端，勾选Include，Return Path选取另外的一端。最终四个截面形成两个通路。 在3D仿真模型中，这四个截面所形成的两个通路，对应一相绕组(Phase)。直接设置该相绕组，Value输入I即可。 接下来设置求解器，右键Analysis-&gt;Add Solution Setup，弹出的界面直接OK即可。 接下来设置参数扫描，右键Optimetrics-&gt;Add-&gt;Parametric，点击Add，选择degree变量，角度的范围取决于电机转子极数，如6/4开关磁阻电机转子为4极，角度范围就是0至90度。Start与Stop自然是扫描开始与结束的角度，Step为每次增加的角度，这个角度越小扫描的越细，生成的曲线就越平滑。 然后选择电流(I)变量，Start、Stop、Step值根据实际情况选取。 接下来选取转矩，选中转子，右键Assign Parameters-&gt;Torque，弹出的界面OK即可。 接下来设置输出图像，右键Results-&gt;Create Magentostatic Report-&gt;Rectangular Report。Primary Sweep选择degree，Category为Torque，Families选项卡选中I。点击New Report生成图像。 图1 矩角特性曲线 注：开始仿真前需要确保定子凸极中轴线与转子凹槽部分重合（转子与定子不对齐）。 同理，可以输出磁链-位置-电流（ψ-θ-i模型）特性曲线，右键Results-&gt;Create Magentostatic Report-&gt;Rectangular Report。 Primary Sweep选择I，Category为Winding，Quantity选择Fluxlinkage。 Families选项卡选degree，点击degree所在行右侧的三个小点，勾选Select Vaulues，为方便观察图像，选择0°、5°、10°、…、45°。 生成的图像如下所示，可以观察到0至45度范围内磁链随着角度的增加而增加。 这是因为在0至45度过程中，转子由齿对槽的“不对齐位置”转动到齿对齿的“对齐位置”，磁路中磁阻不断减小，磁通不断增大，磁路由线性不饱和状态到非线性饱和状态，该现象符合“磁阻最小原理”。 同理，45至90度磁链随着角度的增加而减少。 图2 磁链特性曲线 Matlab曲面绘制 下面介绍使用Matlab绘制转矩特性与磁链特性曲面的方法。该曲面可以绘制到论文中，更加直观的体现三个变量间的关系。 首先对生成的矩角特性曲线与磁链特性曲线右键Export，保存为Comma delimited data files(.csv)格式。 这是一个逗号分隔值文件，可以用Excel打开，记录着曲线中每个点的位置信息。 接下来打开该文件，对其中的数据做一定的调整。 首先删除表格的第一行，因为这一行是表头，没有数据。 然后对第一列的数据做调整，第一列的数据是电流，原来的单位是mA，这里调整为A，也就是将数据除以1000（这里采用在matlab代码中调整的方式）。 然后在Matlab输入以下代码，或者建立一个脚本文件： 参考文献：Matlab由三维散点绘制三维曲面（含等高线，剖面图） 12345678910data=readmatrix(&#x27;TorquePlot11.csv&#x27;);x=data(:,1)/1000;y=data(:,2);z=data(:,3);[X,Y,Z]=griddata(x,y,z,linspace(min(x),max(x))&#x27;,linspace(min(y),max(y)),&#x27;v4&#x27;);%插值figure,surf(X,Y,Z);%三维曲面xlabel(&#x27;i/(A)&#x27;);ylabel(&#x27;θ/(°)&#x27;);zlabel(&#x27;T/(N·m)&#x27;);title(&#x27;矩角特性&#x27;); 图3 矩角特性曲面 12345678910data=readmatrix(&#x27;WindingPlot11.csv&#x27;);x=data(:,1)/1000;y=data(:,2);z=data(:,3);[X,Y,Z]=griddata(x,y,z,linspace(min(x),max(x))&#x27;,linspace(min(y),max(y)),&#x27;v4&#x27;);%插值figure,surf(X,Y,Z);%三维曲面xlabel(&#x27;i/(A)&#x27;);ylabel(&#x27;θ/(°)&#x27;);zlabel(&#x27;ψ/(Wb)&#x27;);title(&#x27;磁链特性&#x27;); 图4 磁链特性曲面 注：把对应的文件名修改一下即可。 在开关磁阻电机的Simulink仿真模型中，我们需要的是T-θ-i模型与i-ψ-θ模型，也就是说需要将原有的生成ψ-θ-i模型的代码做一定的调整。 12345678910data=readmatrix(&#x27;WindingPlot11.csv&#x27;);x=data(:,3);y=data(:,2);z=data(:,1)/1000;[X,Y,Z]=griddata(x,y,z,linspace(min(x),max(x))&#x27;,linspace(min(y),max(y)),&#x27;linear&#x27;);%插值figure,surf(X,Y,Z);%三维曲面xlabel(&#x27;ψ/(Wb)&#x27;);ylabel(&#x27;θ/(°)&#x27;);zlabel(&#x27;i/(A)&#x27;);title(&#x27;磁链特性&#x27;); 其中griddata函数的方法可以是linear、natural、cubic、nearest或v4，默认方法为linear，这里采用默认方法可以生成合适的三维曲面。 图5 磁链特性曲面（输出为电流值） Simulink模型导入 下面介绍将曲面数据导入到Simulink的Lookup2D模块的方法。 首先打开上文绘制曲面所得到的数据，这些数据保存在X,Y,Z这三个变量中，在Matlab的主页-&gt;变量-&gt;打开变量中可以找到它们。也可以在Matlab脚本中选中这几个变量，然后右键打开这个变量。 变量X与Y记载的是自变量信息，其中X为行，Y为列。Z是因变量（输出量）。默认设置下，每行与每列均有100个数据。 将X的一整行与Y的一整列分别复制粘贴到Lookup2D模块参数界面内的“行索引输入值”与“列索引输入值”，注意这些值要用中括号“[]”框住。 在“表数据”一栏输入一个变量名，点栏右侧的三个点创建数据，表达式选“Simulink.Parameter”，再点击创建即可。 点击界面右侧的“编辑”，将Z的数据填入“电子表格”，注意观察表格中的行与列与Z变量数据中的行与列是否一致，若不一致需要选择“ColumnIndex”或“RowIndex”下拉菜单调换位置。 对于T-θ-i模型，直接复制粘贴即可。而i-ψ-θ模型不行，因为观察数据可以发现，其中部分数据为NaN（Not a Number），这里的处理方法是先将数据复制粘贴到一个Excel表格中，点击Ctrl+F将所有的“NaN”替换为电流最大值。 对于T-θ-i模型，也可以不使用Matlab绘制得到的曲面数据，可以直接使用Maxwell仿真得到的数据，按照规则输入数据即可。 Simulink仿真模型搭建 开关磁阻电机仿真模型 根据开关磁阻电机的工作原理，建立Simulink仿真模型如下： 图6 开关磁阻电机Simulink仿真模型 参考的是开关磁阻电机基本方程式，参见开关磁阻电机02-开关磁阻电机原理。 注：在电机控制系统中，转速有三种单位，第一种是弧度每秒(rad/s)，通常记作\\(\\omega\\)；将其乘以\\(180/\\pi\\)后的单位为度每秒(°/s)；再将其乘以60再除以360，得到的单位是(r/min)，通常记作\\(n\\)。 也就是说，\\(\\omega\\)乘以\\(30/\\pi\\)后可以得到\\(n\\)。 机电能量转换模型 接下来是机电能量转换模型： 它的建立基于转子机械运动方程式\\(T_e=J\\frac{d^2 \\theta}{dt^2}+D\\frac{d\\theta}{dt}+T_L=J\\frac{d \\omega}{dt}+D\\omega+T_L\\)。 式中转速\\(\\omega=\\frac{d\\theta}{dt}\\)。 图7 机电能量转换模型 角度检测模块 接下来介绍角度检测模块： 图8 角度检测模块 首先将输入的速度乘以\\(180/\\pi\\)，将单位由rad/s转换为°/s，再对其取积分得到单位时间内转子转过的总角度值，最后对总角度值做取模运算，得到转子在一个周期内的位置角度\\(\\theta\\)，这里一个周期的角度是360度除以转子凸极个数。 然后在打开积分模块配置界面，对初始条件进行设置。 比如对于三相6/4开关磁阻电机，转子在一个周期内的位置角度是90度，可以设置为[0 60 30]，这时输出的是三个位置角度，其初始值依次为0度、60度、30度，这样的初始值设置可以确保三相电流依次导通。 功率变换模块 接下来介绍与电机本体相连的功率变换器的建模方法。 图9 功率变换模块 功率变换模块通过对不对称半桥结构施加直流电压的方式实现对电机的供电。功率变换器的输入值是由控制器输出的各相PWM信号，输出为各相电压，它们也是电机模型的输入量。 IGBT有栅极(G)、发射极(E)、集电极(C)这三个极，其中栅极相当于开关，受PWM信号控制。 若栅极与发射极间通入正向电压，则会形成沟道，给PNP晶体管提供基极电流，使IGBT导通；若通入反向电压，则会消除沟道，切断基极电流，使IGBT关断。 图10 不对称半桥模块 不对称半桥两端连接到定子绕组的两端，一共有三种工作状态。 “1”状态：\\(T_1\\)、\\(T_2\\)导通，绕组中施加正向电压，为励磁阶段。绕组通电，绕组从电源吸收电能，电流迅速上升，电感中存储一定能量。在正电压的作用下，输出转矩会快速增大。 “0”状态：\\(T_2\\)、\\(D_2\\)导通，为续流阶段。若没有电流，绕组电流为零，若有电流，电流则会慢慢下降。输出转矩会缓慢减小。 “-1”状态：\\(D_1\\)、\\(D_2\\)导通，绕组中施加负电压，为反向励磁阶段（退磁模式）。绕组电流迅速下降。输出转矩会快速减小。 图11 不对称半桥工作状态 本文搭建的模型仅支持“1”状态与“-1”状态，这种模式被称为“硬开关模式”。 若加入“0”状态，则被称作“软开关模式”，“0”状态下只有绕组线圈导通，电流可以平缓的减小，可以更有效地抑制转矩脉动。 参考文献 黄泽众. 基于转矩分配函数的开关磁阻电机驱动与控制系统研究[D]. 江西理工大学，2019. 杨森峰. 基于转矩分配函数的开关磁阻电动机转矩控制研究[D]. 杭州电子科技大学，2017.","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"课题笔记/开关磁阻电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"开关磁阻电机","permalink":"https://renahah.github.io/tags/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}]},{"title":"电机控制器算法综述02-粒子群算法","slug":"课题笔记/电机控制器算法综述/电机控制器算法综述02-粒子群算法","date":"2024-09-04T05:45:46.000Z","updated":"2025-09-14T04:17:21.504Z","comments":true,"path":"课题笔记/电机控制器算法综述/电机控制器算法综述02-粒子群算法/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B002-%E7%B2%92%E5%AD%90%E7%BE%A4%E7%AE%97%E6%B3%95/","excerpt":"","text":"这一专栏将介绍电机控制算法，为接下来的课题研究提供参考。 本文首先介绍粒子群算法原理及其改进算法，后续文章将介绍其他群智能算法。 绪论 智能优化算法 智能优化算法是为解决信号解析、图像辨析、模式识别、任务调度、生产规划分配、控制系统设计等各行各业的复杂优化类问题，受到人类智能、生物种群的社会行为或者是自然界的固有现象而启发，通过现代化的计算机技术手段所设计出的算法。 广义上的智能优化算法包括群体智能类算法、进化类算法、神经网络算法、模拟退火算法、禁忌搜索算法等各类新型算法。 群体智能类算法 群体智能类算法是一种新兴的智能优化算法，其思想来源于对鸟群、鱼群等生物群体行为的研究。它是一种在自然界生物群体所表现出来的智能现象启发下提出的智能方法，具有自组织、自学习、自适应和内在并行性等特征。和传统的纯数学方法相比，群智能算法通过达尔文的“适者生存、优胜劣汰”的自然法则来求解问题，对问题的连续性和可微性没有要求，通用性较好，更易于求解复杂的优化问题。 粒子群算法 粒子群优化算法(Particle Swarm Optimization, PSO)是由肯尼迪和埃伯哈特提出的一种新型智能优化算法，属于演化类智能优化算法，其算法灵感来源于自然界中鸟群觅食时的群体行为特点。粒子群算法将鸟群中的一只只觅食的鸟抽象为一个个粒子，这些粒子只具备坐标与速率这两个属性，鸟群中的鸟不知道食物的具体位置，但是知道其余各个鸟的具体位置，以及它们各自离食物的距离。 可以将这里的食物想象成一种有味道但透明不可见的物质，这意味着距离越近，食物味道越浓。我们假设距离越近且食物味道越浓的情况下，鸟儿的“表情”越兴奋，并且鸟儿可以通过观察其他鸟的“表情”的方式来得知它们与食物的距离。 粒子群中各个粒子存在的信息共享机制，虽然单独的鸟未必每次运动都会离目标越近，但鸟群整体会越来越靠近目标食物位置。 粒子群算法易于理解，快速高效，在实时性强的复杂函数优化问题的最优化求解上效果显著，目前广泛应用于模式识别、神经网络、深度学习、控制系统参数整定、目标函数最优化等各个场景。其缺点是运算过程中容易陷入局部最优解，导致所求解的不全面，使问题处理效果不尽人意。 粒子群算法原理 内容参见基于粒子群算法的电机控制器参数整定研究。为确保文章的完整性，这里再次复述一遍。 假设粒子群参数维度为\\(N\\)，粒子群中粒子总数\\(m\\)，迭代次数为\\(n\\)，设定迭代速度系数为\\(c_1\\)、\\(c_2\\)、\\(\\omega\\)。 注：\\(N\\)体现的是优化目标的变量个数，比如说鸟群所寻找的食物，这个食物的在三维空间中的坐标\\((x,y,z)\\)就是优化目标，即\\(N=3\\)。\\(m\\)是鸟的数量，\\(n\\)是鸟移动的次数。 为确保每个粒子在限定范围内呈随机分散分布，输入向量\\(x=(x_1,x_2,\\cdots,x_N )^T\\)的限制范围为： \\[\\left\\{ \\begin{gathered} x_{\\min }^{(1)} &lt; {x_1} &lt; x_{\\max }^{(1)} \\hfill \\\\ x_{\\min }^{(2)} &lt; {x_2} &lt; x_{\\max }^{(2)} \\hfill \\\\ ... \\hfill \\\\ x_{\\min }^{(N)} &lt; {x_N} &lt; x_{\\max }^{(N)} \\hfill \\\\ \\end{gathered} \\right.\\] 记\\(X_{min}=(x_{min}^{(1)},x_{min}^{(2)},\\cdots,x_{min}^{(N)} )\\)，\\(X_{max}=(x_{max}^{(1)},x_{max}^{(2)},\\cdots,x_{max}^{(N)})\\) 输入向量应满足\\(X_{min}&lt;x&lt;X_{max}\\) 这里设定每个粒子的初始速度\\(v_0 = 0\\)，则第\\(j\\)个粒子\\((1 \\leqslant j \\leqslant m)\\)下一步的迭代速度可以用公式表示成： \\[{v^{(j)}} = \\omega \\cdot {v_0} + {c_1} \\cdot rand \\cdot ({P^{(j)}} - {X^{(j)}}) + {c_2} \\cdot rand \\cdot ({P_G} - {X^{(j)}})\\] 迭代速度公式由三个部分相加而得，其中\\(rand\\)表示调用函数生成的0到1之间的随机数。 公式第一部分体现了粒子的自身因素，其包含粒子上一次迭代时的速度信息，\\(v_0\\)是上一次迭代时的粒子速度； 第二部分体现了粒子的学习因素，\\(P^{(j)}\\)为第\\(j\\)个粒子在历次迭代运动过程中最接近于待优化问题结果的那一次迭代时的位置（鸟离食物最近时的位置）； 第三部分体现粒子的交流因素，\\(P_G\\)表示当前的最接近于待优化问题结果的粒子的所在位置（鸟群离食物最近时的位置）。 粒子迭代速度系数可以根据仿真实际需要加以修改，结合实际情况与工程实践经验，可以取\\(\\omega=1,c_1=c_2=2\\)，对于粒子群中粒子数量较多的情况，为确保运算结果能得到较快收敛，可以适当减小\\(\\omega\\)的值。 首先鸟可以获取自身在空间中的速度与位置。第一部分体现鸟移动时的惯性，下一次移动的速度会受到上一次速度的影响；对于第二部分与第三部分，鸟可以记住自身闻到食物味道最大（离食物最近）时的位置，还知道整个鸟群离食物最近的位置，这两个位置也会影响到下一次移动的速度。 根据迭代速度公式计算下一时刻的速度及其粒子位置，其公式可表达为： \\[X_{k + 1}^{(j)} = X_k^{(j)} + v_{k + 1}^{(j)} \\cdot dt\\] 式中\\(X_{k+1}^{(j)}\\)表示第\\((k+1)\\)步迭代的位置，\\(X_k^{(j)}\\)表示第\\(k\\)步迭代的位置，\\(v_{k+1}^{(j)}\\)表示第\\((k+1)\\)步迭代的速度，\\(dt\\)是仿真间隔，默认值为1，适当减小该值可以使仿真更慢更平滑。 计算\\(P_G\\)与\\(P^{(j)}\\)的公式如下所示，用于迭代过程中的最优粒子与粒子群的更新： \\[{P_G} = \\left\\{ \\begin{gathered} P_G^{(k)},F(P_G^{(k)}) &gt; F(P_G^{(k + 1)}) \\hfill \\\\ P_G^{(k + 1)},F(P_G^{(k)}) &lt; F(P_G^{(k + 1)}) \\hfill \\\\ \\end{gathered} \\right.\\] \\[P_G^{(j)} = \\left\\{ \\begin{gathered} P_k^{(j)},F(P_k^{(j)}) &gt; F(P_{k + 1}^{(j)}) \\hfill \\\\ P_{k + 1}^{(j)},F(P_k^{(j)}) &lt; F(P_{k + 1}^{(j)}) \\hfill \\\\ \\end{gathered} \\right.\\] 图1 粒子群算法流程框图 改进粒子群算法 在粒子群算法的参数调整中，惯性因子\\(\\omega\\)以及学习因子\\(c_1,c_2\\)是关键。 学习因子主要影响粒子的目标方向感，即目标识别能力。 在进化上，\\(c_1\\)相对越大，粒子行为越独立，“分散”现象越明显，即学习因素比重较大，全局最优解颇具盲目性，算法收敛速度慢; \\(c_2\\)相对越大，粒子群体意识越强，“群聚”现象越明显，交流因素比重大，但容易陷入局部最优解。 为解决传统的粒子群算法存在的收敛速度慢、容易陷入局部最优解等问题。需要对算法的惯性权重与学习因子在迭代过程中动态调整。 对于学习因子，在前期应当有较大的搜索空间，随着粒子的进化逐渐缩小搜索区域，向全局最优解加速进化，这就要求\\(c_1\\)应当先大后小，\\(c_2\\)先小后大。 学习因子在迭代过程中的公式如下所示，这里引入了反正切函数进行优化。设定\\(c_1\\)与\\(c_2\\)的值域为\\([0.1,2]\\)。\\(n\\)为迭代总次数，\\(k\\)为当前迭代次数。 \\(c_1=-\\frac{4.265}{2\\pi}arctan[\\frac{8}{n}(k-\\frac{n}{2})]+1\\) \\(c_2=\\frac{4.265}{2\\pi}arctan[\\frac{8}{n}(k-\\frac{n}{2})]+1\\) 注：arctan的结果单位是角度，式中\\(2\\pi\\)为360° 对于惯性因子，应当先大后小，使算法在迭代初期增强全局搜索能力，更大范围遍历整体空间，避免陷入局部最优解；而在后期增强局部搜索能力，在更小范围内搜索到精确解。 惯性因子\\(\\omega\\)在迭代过程中的公式如下所示，其在迭代过程中由权重最大值\\(\\omega_{max}\\)线性衰减至权重最小值\\(\\omega_{min}\\)。\\(n\\)为迭代总次数，\\(k\\)为当前迭代次数。 \\(\\omega=\\omega_{max}-\\frac{k}{n}(\\omega_{max}-\\omega_{min})\\) 这里取\\(\\omega_{max}=0.9\\)、\\(\\omega_{min}=0.4\\) 选取评价函数 评价函数通过一定的公式将各个评价指标与目标优化效果联系起来，体现的是当前结果与期望中的优化结果的差距，评价函数值越小意味着与控制目标越接近，越符合理想控制要求。在鸟群觅食的过程中，评价函数是鸟到食物的空间距离，距离值越小意味着鸟越接近食物。 评价函数有多种选取方式，对于电机控制系统，可以将与系统动态、稳态性能相关的指标代入公式。 在文章基于粒子群算法的电机控制器参数整定研究中，根据实际控制需求，选取了五个性能参数，它们分别是电机转速环调节时间\\(T_{sn}\\)、转速环超调量\\(\\omega_{sn}\\)、突加负载最大转速降落\\(n_d\\)、突加负载转速环恢复时间\\(T_{sd}\\)与系统稳定后的转速波动\\(n_{err}\\)。 最后将上述参数带入如下式所示的评价函数，其中\\(T_{sn0},\\omega_{sn0},n_{d0},T_{sd0}\\)为常数。 \\[f=3*\\log(\\frac{T_{sn}}{T_{sn0}}+1)+3*\\log(\\frac{\\omega_{sn}}{\\omega_{sn0}}+1)+\\log(\\frac{n_d}{n_{d0}}+1)+\\log(\\frac{T_{sd}}{T_{sd0}}+1)+10*n_{err}\\] 显然上述五个性能参数值都是越小越好，所以要确保构造的评价函数值与五个性能参数值呈正相关。 随后对评价函数各项前乘以一定的系数，以体现不同参数对控制效果好坏的影响程度，或者说评价时更侧重于考虑其中的哪些性能参数。 在一些文献中，常常仅考虑误差一项，使用对误差积分的方式来体现电机的控制性能，这一类函数被称作适应度函数。 常见的适应度函数有： 平方误差积分(ISE)——\\(f=\\int_0^{\\infty}e(t)^2dt\\) 绝对误差积分(IAE)——\\(f=\\int_0^{\\infty}|e(t)|dt\\) 时间乘以误差平方积分(ITSE)——\\(f=\\int_0^{\\infty}te(t)^2dt\\) 时间乘以绝对误差积分(ITAE)——\\(f=\\int_0^{\\infty}t|e(t)|dt\\) 其中ITAE、ITSE考虑到了电机起动时的误差较大，但起动阶段控制器对电机速度的影响较小，因此将时间乘到积分项中，使得稳态运行阶段的误差对于适应度函数值的影响更大。目前ITAE在这几种适应度函数中最为常用。","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机控制器算法综述","slug":"课题笔记/电机控制器算法综述","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"电机控制算法综述01-PID控制与模糊控制","slug":"课题笔记/电机控制器算法综述/电机控制算法综述01-PID控制与模糊控制","date":"2024-09-03T12:18:13.000Z","updated":"2025-09-14T04:17:36.364Z","comments":true,"path":"课题笔记/电机控制器算法综述/电机控制算法综述01-PID控制与模糊控制/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B001-PID%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%A8%A1%E7%B3%8A%E6%8E%A7%E5%88%B6/","excerpt":"这一专栏将介绍电机控制算法，为接下来的课题研究提供参考。 本文将介绍PID控制与模糊控制。 PID控制 PID控制又称比例-积分-微分(Proportional-Integral-Derivative)控制，它将控制系统偏差的比例、积分、微分环节通过一定的线性组合得到控制量，实现对被控变量的闭环控制。PID控制算法简单，只需调整好比例、积分、微分这三个参数，就可以得到较好的控制效果，PID控制在各行各业中得到了广泛的应用。","text":"这一专栏将介绍电机控制算法，为接下来的课题研究提供参考。 本文将介绍PID控制与模糊控制。 PID控制 PID控制又称比例-积分-微分(Proportional-Integral-Derivative)控制，它将控制系统偏差的比例、积分、微分环节通过一定的线性组合得到控制量，实现对被控变量的闭环控制。PID控制算法简单，只需调整好比例、积分、微分这三个参数，就可以得到较好的控制效果，PID控制在各行各业中得到了广泛的应用。 图1 PID控制框图 PID控制系统框图如上图所示，其中\\(r(t)\\)为输入，\\(e(t)\\)为误差，\\(u(t)\\)为经过运算所得的控制量，\\(y(t)\\)实际的输出量（如转速、电流等）。输出与输入所得的偏差经过比例、积分、微分运算处理后求和得到控制量，进而得到新的输出值，如此循环往复，使得实际值（输出量）接近并稳定在设定值（输入量）附近，当输入量发生变化时，输出也会跟踪输入。 PID控制的运算公式如下： \\(u(t)=K_p[e(t)+\\frac{1}{T_i}\\int_0^t e(t)dt+T_d\\frac{de(t)}{dt}]\\) \\(=K_p e(t)+K_i \\int_0^t e(t)dt+K_d\\frac{de(t)}{dt}]\\)① 式中\\(K_p\\)为比例系数，\\(K_i=\\frac{K_p}{T_i}\\)为积分系数，\\(T_i\\)为积分时间常数，\\(K_d=\\frac{K_p}{T_d}\\)为微分系数，\\(T_i\\)为微分时间常数。 比例系数\\(K_p\\)会影响系统的响应速度。在其他参数不变的情况下，增大比例系数，可以在相同误差量下产生更大的输出。适当的比例系数可以使系统有更快的响应速度，提高系统的调节精度。比例系数过大更容易导致系统超调量过大，使系统不稳定；比例系数过小会使系统对设定值改变的反应速度变慢，影响控制效果。 积分系数\\(K_i\\)针对系统历史产生的误差，用于消除采用比例环节时系统可能产生的稳态误差，选取合适的积分系数，可以有效去除系统的稳态误差，且积分系数越大，消除效果越显著。但过大的积分系数，会在系统运行初期产生过饱和现象，使系统不稳定。 微分系数\\(K_d\\)主要通过对系统未来误差的预测，以削弱任何来自于偏差产生方向的变化，选取合适的微分系数，可以有效改善系统的动态性能。微分系数过大会则会延长系统反应扰动的时间，降低系统的抵抗扰动的能力。 早期的PID控制通过模拟电路实现，其运算公式如①所示，随着数字电子技术与微处理器的发展，现代的电机控制主要采用数字PID控制方式。数字PID主要分为位置式与增量式。 位置式PID公式如下： \\(u(k)=K_p[e(k)+\\frac{T}{T_i}\\sum_{j=0}^k e(j)+\\frac{T_d}{T}(e(k)-e(k-1))]\\) \\(=K_p e(k)+K_i \\sum_{j=0}^k e(j)+K_d(e(k)-e(k-1))\\)② 该公式以\\(T\\)为采样周期，将连续运算转化为离散运算。计算得到的控制量\\(u_(k)\\)对应被控对象的实际位置，与每个时刻的偏差值\\(e(k)\\)皆有关，若系统出现故障，检测得到的值与实际值不符，则公式的积分部分会累计出较大的偏差，造成积分饱和，使系统处于开环状态。可以通过积分限幅和输出值限幅的方式限制过度的积分饱和所造成的系统失控。 首先根据式②得到\\(k-1\\)时刻的位置式PID公式为： \\(u(k-1)=K_p e(k-1)+K_i \\sum_{j=0}^{k-1} e(j)+K_d(e(k-1)-e(k-2))\\)③ 式②减去式③，得到增量式PID公式如下： \\(\\Delta u(k)=K_p[e(k)-e(k-1)]+K_i e(k)+K_d[e(k)-2e(k-1)+e(k-2)]\\)④ 该公式计算的是控制量的改变量，仅仅需要三个时刻的\\(e(k)\\)值，若系统出现故障，检测得到的值与实际值不符，仍能保持原来的控制量输出。增量式PID只需做输出值限幅，不用做积分限幅。 增量式PID的缺点体现在积分截断效应（将基准积分点分解为有限多个离散的积分点所产生的误差）较大，存在稳态误差。 PID控制的关键在于找到一组合适的\\(K_p,K_i,K_d\\)参数，以实现更好的控制效果，尽可能地提高控制性能，这个寻找参数的过程被称作参数整定。传统的参数整定方法又称工程整定方法，主要包括Z-N整定与衰减曲线方法，它通过大量的实验获取控制经验，需要根据实际情况与控制需求做出反复的调整。但随着科技的进步及生产力的发展，传统PID整定方法渐渐难以满足针对越来越复杂的被控对象的控制需求及越来越高的控制性能要求。因此需要将PID控制与模糊控制、智能优化算法、神经网络算法、滑模控制等新型控制方法相结合，改善PID控制参数整定效果及控制性能。 模糊控制 本节主要介绍模糊PID控制方法。传统PID控制的三个参数在电机运行过程中保持不变，不能很好的适应复杂环境与扰动下的电机控制需求。模糊PID控制采用了模糊算法，可以根据系统的性能对PID的比例、积分、微分参数做实时调整，有效提高系统的动态性能、稳态性能及鲁棒性。 图2 模糊PID控制框图 模糊PID控制系统框图如上图所示，其中e是误差（设定值减去实际值）、ec是误差变化量，这两个量是模糊控制器的输入值。 首先，对e和ec做模糊化，将这两者由精确的数值转化为模糊量E与EC。 设定e和ec的论域，论域是输入值的上下限。再设定模糊量E和EC的模糊集，模糊集中的元素通常用两个字母表示，如模糊集{NB、NM、NS、ZO、PS、PM、PB}，这七个子集的含义分别是负大(Negative Big)、负中(Negative Medium)、负小(Negative Small)、零(Zero)、正小(Positive Small)、正中(Positive Medium)、正大(Positive Big)。 将数值用模糊值来表示，比如设论域为{-240,240}，模糊集为{NB、NM、NS、ZO、PS、PM、PB}，那么模糊集中的七个子集就可以对应论域中的-180,-120,-60,0,60,120,180。 输入值显然不太可能正好是这几个值，所以需要引入隶属度与隶属度函数这两个概念。 隶属度体现了论域中某个数值隶属于某个模糊子集的程度，隶属度函数反映了数值与各个模糊子集的隶属度的关系。 隶属度函数有很多种形式，如梯形、三角形、高斯型、Z型、S型。这里采用最常用的梯形与三角形为例构造隶属度函数，其中NB与PB采用梯形构造，其余子集采用三角形构造。 图3 隶属度函数 各个子集的隶属度函数如上图所示，以e=175为例，此时E同时属于NB与NM两个子集，其中对NB的隶属度为0.75，对NM的隶属度为0.25，对其他子集的隶属度为0。 同理，确定PID控制器中三个参数的变化量（\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)）的论域与模糊集，为接下来的模糊推理与解模糊做准备，最大值及模糊集的划分需要考虑系统实际情况及电机控制需求加以确定。 模糊推理是指根据专家经验建立模糊规则表进行推理的过程，规则表确定了输入值E与EC在属于不同的模糊子集的情况下对应\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)所处的模糊子集。下面是列举一个\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)模糊规则表的例子，它未必适用于某个特定条件下的控制，需要结合被控对象的实际情况及电机控制需求对该规则表加以调整。 图4 ΔKp模糊规则表 \\(K_p\\)值影响系统的响应速度。增大\\(K_p\\)能提高响应速度，减小稳态偏差，但\\(K_p\\)过大会产生较大的超调，使系统不稳定；减小\\(K_p\\)可以减小超调，提高稳定性，但\\(K_p\\)过小会减慢响应速度，延长调节时间。 调节初期，应适当取较大的\\(K_p\\)值以提高响应速度； 调节中期，\\(K_p\\)应取较小值，使系统具有较小的超调并保证一定的响应速度； 调节后期，需要将\\(K_p\\)值调到较大值来减小静差，以提高控制精度。 图5 ΔKi模糊规则表 积分控制主要是用来消除系统的稳态偏差。由于某些原因(如饱和非线性等)，积分过程有可能在调节过程的初期产生积分饱和，从而引起调节过程的较大超调。 调节初期，为防止积分饱和，其积分作用应当弱一些，甚至可以取零； 调节中期，为了避免影响稳定性，其积分作用应该比较适中； 调节后期，应增强积分作用，以减小调节静差。 图6 ΔKd模糊规则表 \\(K_d\\)值的选取对调节动态特性影响很大。\\(K_d\\)值过大，调节过程制动就会超前，致使调节时间过长；\\(K_d\\)值过小，调节过程制动就会落后，从而导致超调增加。 调节初期，应加大微分作用，这样可得到较小甚至避免超调； 调节中期，由于调节特性对\\(K_d\\)值的变化比较敏感，因此，\\(K_d\\)值应适当小一些并应保持固定不变； 调节后期，\\(K_d\\)值应减小，以减小被控过程的制动作用，进而补偿在调节过程初期由于\\(K_d\\)值较大所造成的调节过程的时间延长。 根据模糊化处理所得的偏差E与偏差变化量EC，以及\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)的模糊规则表，可以得到\\(\\Delta K_p,\\Delta K_i,\\Delta K_d\\)所属的模糊子集，接下来要进行的是解模糊，将模糊值还原为准确数值。 重心法是最为常用的解模糊算法，它取的是加权平均值，其公式如下： \\[y=\\frac{\\sum_{i=1}^n f_i y_i}{\\sum_{i=1}^n y_i}\\] 式中n是模糊子集的个数，f为模糊子集对应的量化值（隶属度为1时的对应值）。 将所得数值乘以一个比例系数\\(\\alpha\\)，就可以得到变化量\\(\\Delta K\\)，进而得到n时刻的PID控制器参数值为： \\[K(n)=K(n-1)+\\Delta K = K(n-1) + y*\\alpha\\]","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机控制器算法综述","slug":"课题笔记/电机控制器算法综述","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"开关磁阻电机03-Maxwell-Simplorer-Simulink联合仿真","slug":"课题笔记/开关磁阻电机/开关磁阻电机03-Maxwell-Simplorer-Simulink联合仿真","date":"2024-07-19T11:20:30.000Z","updated":"2024-09-03T01:33:42.826Z","comments":true,"path":"课题笔记/开关磁阻电机/开关磁阻电机03-Maxwell-Simplorer-Simulink联合仿真/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA03-Maxwell-Simplorer-Simulink%E8%81%94%E5%90%88%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"基于B站视频基于Simulink-Simplorer-Maxwell的开关磁阻电机联合仿真整理的学习笔记，视频原作者为不仅好友可见。 准备工作 首先，打开Matlab，点击菜单栏“主页”选项卡的“环境”部分的“设置路径”，将AnsysEM软件位置添加到路径中。 C:\\Program Files\\AnsysEM\\AnsysEM24.1\\Win64\\cpl\\matlab\\2023a 注意两个软件的版本适配，不同版本的AnsysEM所支持的Matlab版本范围不同。 打开AnsysEM，主菜单Tools-&gt;Options-&gt;General Options，选择General-&gt;Miscellaneous，在Matlab Optimization的Matlab Path中选取自己安装的Matlab的exe文件位置。 主菜单点击Project-&gt;Insert Simplorer Project，为Maxwell仿真模型建立一个Simplorer模型。 主菜单点击Twin Builder-&gt;Add Component-&gt;Maxwell Component-&gt;Add Transient Cosimulation点击确定，可以将Maxwell电机模型导入到Simplorer。 接下来搭建功率变换电路（过程略）。 接下来在Simulink中搭建控制模型（过程略）。 接下来建立Simlink接口模块。主菜单点击Twin Builder-&gt;Add Component-&gt;Add Simulink Component，在Link Assignment中点击右上角一个“虚线方框”图标添加引脚。 在Simulink Variable中编辑引脚名字，Direction选To Simulink(In)意为将信号由Simplorer传递至Simulink，From Simulink(Out)意为将Simulink内的信号输出到Simplorer。都勾选上Add Pin。 各个引脚中，各项电流\\(i_a,i_b,i_c,i_d\\)、转子位置角\\(\\theta\\)、电磁转矩\\(T_e\\)与转速N的方向为To Simulink； 各个开关器件控制信号与负载转矩\\(T_L\\)的方向为From Simulink。 建立Simplorer与Simulink通信的S函数模块，S函数模块可以在库浏览器中找到(Simulink-&gt;User-Defined Functions-&gt;S Function)。 双击这个S函数模块，将其命名为AnsoftSFunction，然后点击“应用”，弹出Simplorer连接设置窗口，勾选Read Link information from file后，会弹出文件选择界面，选择Maxwell工程文件。将输入与输出信号依次连接起来。 在Matlab中点击运行，可以观察到两个软件同时运行。 注意事项 设置仿真步长： Simplorer点击Simplorer-&gt;Analysis-&gt;TR，进入仿真时长设置界面。 Matlab在仿真模型区域右键模型配置参数，可以看到仿真步长设置。使用默认设置即可。 Maxwell与Simplorer需要有相同的仿真时长与周期。 开始仿真前，点击电机模型，主菜单点击Maxwell 3D-&gt;Design Settings，打开Advanced Product Coupling选项卡，勾选Enable transient-transient link with Twin Builder，这样才能开始仿真。 控制策略：外环（转速环）采用PI控制。并采用转矩分配策略。 解决错误 （1）双击S函数模块，显示为： 计算S-Function block 'www/S-Function'的'OpenFcn'回调时出错。回调字符串为'AnsoftLinkDialog();' 该问题可以无视，不影响仿真程序运行。 （2）在Matlab中点击运行后报错 在Matlab中的报错信息为： Error Initializing Simplorer; 在AnsysEM中的报错信息为： At least one of the following boundaries needs to be specified: Vector potential, Balloon or (odd)Symmetry. 问题得到解决，问题出在视频作者给的Maxwell电机仿真文件没有设置边界条件，设置方法如下： 将Draw菜单栏中的Select由Object改为Edge。然后分别选中定子外径与转子内径，右键Assign Boundary-&gt;Vector Potential设置边界。","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"课题笔记/开关磁阻电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"开关磁阻电机","permalink":"https://renahah.github.io/tags/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}]},{"title":"Maxwell教程00-1055报错解决方案","slug":"工业软件/ANSYS/Maxwell教程00-1055报错解决方案","date":"2024-07-16T03:10:33.000Z","updated":"2024-07-23T12:34:03.067Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程00-1055报错解决方案/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B00-1055%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","excerpt":"这是一个每隔一段时间就会发生的问题，具体表现为软件无法打开并弹出一个错误窗口。","text":"这是一个每隔一段时间就会发生的问题，具体表现为软件无法打开并弹出一个错误窗口。 图1 错误窗口 错误信息显示如下： 123456789101112131415Failover feature &#x27;ANSYS electronics_desktop&#x27; is not available.Request name electronics_desktop does not exist in the licensing pool.Cannot read data from license server system. The license server system appears to be running, but is notresponding. If this persists, notify the System Administrator.(The license server manager (lmgrd) and vendor daemon processesshould be terminated and restarted.)Featureelectronics_desktopLicense path1055@LAPTOP-********;FlexNet Licensing error-16,10009. System Error10054 &quot;WinSockConnection reset by peer&quot; 问题的原因是1055端口被占用，解决方案是把这个端口找出来并关掉。 首先在开始菜单搜索“运行”。（也可以Win键+R键打开这个窗口） 图2 搜索“运行” 然后在弹出的窗口中输入cmd，进入命令提示符窗口。 图3 输入cmd 进入窗口后，先输入cd C:\\Windows\\system32，按下Enter键。 然后输入netstat -ano | findstr \"1055\"，再按下Enter键。 图4 cmd界面 这条命令显示了1055端口的使用情况，图上显示该端口对应的PID(Process ID)是5756。 图5 任务管理器 打开任务管理器，选择最下面一栏“服务”，搜索5756。就可以看到这个PID正在运行的服务。 右键点击“停止”，关掉这个服务，问题便解决了。 若还不行，那就重启电脑。","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"电机设计02-定子与转子设计","slug":"课程笔记/电机设计/电机设计02-定子与转子设计","date":"2024-07-15T05:38:59.000Z","updated":"2024-08-14T11:36:23.836Z","comments":true,"path":"课程笔记/电机设计/电机设计02-定子与转子设计/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A1/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A102-%E5%AE%9A%E5%AD%90%E4%B8%8E%E8%BD%AC%E5%AD%90%E8%AE%BE%E8%AE%A1/","excerpt":"","text":"为进一步掌握电机设计相关相关原理与方法整理的笔记。 根据教材电机设计（第2版）以及电机设计教学视频p9-p16整理，若有错误敬请指正。 定子绕组与冲片设计 定子槽数的确定 每极每相槽数\\(q=\\frac{Z}{2pm}\\)，\\(Z\\)为定子槽数 \\(q\\)选大的影响： (1)电机开槽多，谐波含量下降，附加损耗下降。谐波漏抗减小。（使磁势波形更接近于正弦波） (2)每槽导体数下降，槽漏抗减小，电机转矩增大。 (3)槽中线圈边的总散热面积增加，有利于散热，温升下降。 (4)工艺难度增加，绝缘材料用量增加，槽的利用率下降，下线困难。 综合考虑，\\(q\\)通常取\\(2 \\sim 6\\)，尽量取整数。 极数少功率大时\\(q\\)可以选大些，极数多时\\(q\\)选小些。 定子绕组的设计 参见电机学04-交流电机理论的共同问题 绕组的接法： Y接：适用于\\(P_N \\leq 4kW\\)的小型电机，为了限制电流。 Δ接：适用于功率较大的电机。 Y-Δ混合接法（正弦绕组）：里面Δ接，外面Y接；或里面Δ接，外面Y接。该方法可有效抑制谐波。 每相串联导体数\\(N_\\Phi\\)： 由感应电机额定功率\\(P_N=mUI\\eta cos\\varphi\\)，以及线负荷\\(A=\\frac{2mNI}{\\pi D}=\\frac{mN_\\Phi I}{\\pi D}\\) 引入功电流\\(I_{kW}=\\frac{P_N}{mU}\\) 得到每相串联导体数\\(N_\\Phi=\\frac{\\eta cos\\varphi \\pi D A}{mI_{kW}}\\) 注：匝有一圈的意思，每一圈所穿越的磁场都有两条边，每一条穿越磁场的边可称为一根导体。故每相串联导体数\\(N_\\Phi\\)是每相串联匝数\\(N\\)的二倍。 每槽导体数\\(N_{s1}\\)： 若绕组并联支路数为\\(a_1\\) 则每槽导体数\\(N_{s1}=\\frac{2mNa_1}{Z_1}=\\frac{m a_1 N_{\\Phi 1}}{Z_1}\\) 对于单层绕组，\\(N_{s1}\\)取整数，每线圈匝数\\(N_{c1}=N_{s1}\\) 对于双层绕组，\\(N_{s1}\\)取偶数，每线圈匝数\\(N_{c1}=\\frac{N_{s1}}{2}\\) 定子槽形设计 常用的感应电机的定子槽形有梨形槽、梯形槽、半开口槽、开口槽四种（见教材P237）。 其中梨形槽与梯形槽右被称作半闭口槽，常用于小型低压电机（功率100kW以下，电压500V以下）。其中梨形槽的槽面积利用率更高，冲模寿命长，槽绝缘的弯曲程度小，不易损伤，目前得到了广泛的应用。 中型低压电机常采用半开口槽，中型高压（3000V以上）电机常采用开口槽。 梨形槽的设计 本节将介绍软线圈散下线的梨形槽的定子槽形设计方法。 注：电机线圈按其结构和制造工艺的不同，可分为成型线圈（即硬绕组）和散嵌线圈（即软绕组、散下线），小型电机大多数采用软绕组，大型电机多采用硬绕组。 成型线圈一般为绝缘扁铜线制成的，较容易保持一定形状。常用的电磁线有漆包扁线、丝包扁线和云母扁线等，不同的电压等级应选择不同绝缘等级的电磁线。 软绕组一般为散嵌绕组，用圆电磁线单匝绕制或多匝并绕绕制而成。常用的电磁线以漆包线为主。 图1 梨形槽设计 梨形槽示意图如上图所示，其中： \\(b_{01}\\)槽口宽度，能下线就行； \\(h_{s0}\\)槽口高度，保证有一定的机械强度即可； \\(\\alpha_1\\)斜肩角，规定\\(\\alpha_1=30^\\circ\\)； 需要重点考虑的参数为\\(b_{s1}\\)、\\(h_{s2}\\)、\\(r_s\\)，\\(h_{s1}\\)可以根据\\(b_{s1}\\)、\\(b_{01}\\)、\\(\\alpha_1\\)由几何关系求得。 图2 定子齿与定子轭 两个定子槽之间的部分形似牙齿，称作定子齿；在定子槽底部之外，“牙齿”的根部被称作定子轭。 定子齿是气隙磁通穿过的路径（硅钢片是导磁材料，定子齿的磁导率很高，而定子槽的材料磁导率很低）。 通常将齿的两边（图中左定子槽的右侧边与右定子槽的左侧边）设计成平行的。使得磁通在定子齿部平行穿过，然后在轭部分流。 两个槽中心线之间的圆周距离，称作齿距，\\(t_1=\\frac{\\pi D_{i1}}{Z_1}\\)，式中\\(D_{i1}\\)为定子内径。 以平行齿为例设计槽形尺寸，一般情况下定子齿磁密\\(B_{t1}=1.55 \\sim 1.65T\\)，定子轭磁密\\(B_{j1}=1.4 \\sim 1.5T\\)。 在一个齿距内，气隙磁通满足等式：\\(B_\\delta t_1 l_{ef}=B_{t1}b_{t1}l_t K_{Fe}\\) 式中\\(K_{Fe}\\)为铁心的叠压系数，对于0.5mm铁心，涂漆时的系数为0.92，不涂漆时的系数为0.95。 气隙磁密有效长度\\(l_{ef}\\)与铁心长度\\(l_t\\)相接近，可近似看作二者相等。 可以求出齿宽\\(b_{t1}=\\frac{B_\\delta t_1}{B_{t1}K_{Fe}}\\) 在一个极距内，满足等式：\\(\\frac{1}{2}\\alpha_p&#39; B_\\delta \\tau l_{ef}=B_{j1} h_{j1}l_t K_{Fe}\\) 可以求出轭部计算高度\\(h_{j1}=\\frac{\\tau \\alpha_p&#39; B_\\delta}{2B_{j1} K_{Fe}}\\) 弧线\\(AA&#39;\\)的长度\\(\\frac{\\pi[D_{i1}+2h_{s0}+2h_{s1}]}{Z_1}=b_{s1}+b_{t1}\\) 其中\\(h_{s1}=\\frac{b_{s1}-b_{01}}{2} tan\\alpha_1\\) 可以根据上述两式求出\\(b_{s1}\\)与\\(h_{s1}\\)。 弧线\\(BB&#39;\\)的长度\\(\\frac{\\pi[D_{i1}+2(h_{s0}+h_{s1}+h_{s2})]}{Z_1}=2r_s+b_{t1}\\) 定子外径与内径之差的一半\\(\\frac{D_1-D_{i1}}{2}=h_{s0}+h_{s1}+h_{s2}+h_{j1}+\\frac{2}{3}r_s\\) 注：轭部计算高度\\(h_{j1}\\)比实际的轭部高度要大一些，一般情况下比轭部高度多出槽底半圆半径的三分之一。 可以根据上述两式求出\\(h_{s2}\\)与\\(r_s\\)。 槽满率 槽的边界需要留出一定区域用于绝缘，对于双层绕组，绕组在定子槽内分为上下两个边，两边之间也需要绝缘，如下图所示： 图3 双层绕组定子槽 图中\\(h\\)为槽楔厚度，\\(\\Delta_i\\)为槽绝缘厚度。 槽面积\\(A_s=0.5\\pi r_s^2+0.5(b_{s1}+2r_s)(h_{s1}+h_{s2}-s)\\) 对于单层绕组，槽绝缘面积\\(A_i=[\\pi r_s+2(h_{s1}+h_{s2})]\\times \\Delta_i\\) 对于双层绕组，槽绝缘面积\\(A_i=[\\pi r_s+2(h_{s1}+h_{s2})]\\times \\Delta_i+(b_{s1}+2r_s)\\times \\Delta_i\\) 这里将槽斜边与槽楔高度处的横边的长度近似看作\\(2(h_{s1}+h_{s2})\\)，双层绕组上下边边界长度近似看作\\(0.5(b_{s1}+2r_s)\\)，为确保绝缘性在此基础上乘二计算槽绝缘面积。 槽有效面积\\(A_e=A_s-A_i\\) 绕组所占的面积\\(A_r=N_{s1}(n_1 d_1&#39;^2+n_2 d_2&#39;^2)\\) 式中\\(N_{s1}\\)为每槽导体数，每一个导体对应\\(n_1\\)个与\\(n_2\\)个包裹绝缘线后直径为\\(d_1&#39;\\)与\\(d_2&#39;\\)的导线。 导线面积不使用圆的面积来计算，是因为它们实际上占用的是正方形的区域。各个圆之间存在空隙，这一部分面积无法得到利用。 槽满率\\(S_f=\\frac{A_r}{A_e}\\) 槽满率的取值范围为\\(75\\% \\sim 78\\%\\)。 若槽满率过大，则绕组会下不到槽里去；若槽满率过小，槽利用率过低，不利于绕组散热（绕组与铁心的接触不充分，绕组散热主要靠绕组与铁心的热传导）。 总结：通过电负荷选线规，通过磁负荷开槽，通过槽满率校验选线和开槽是否合适。 硬线圈的设计 硬线圈对应定子槽形有半开口槽与开口槽，本节将介绍硬线圈开口槽定子槽形设计方法。 线规的选择见教材P397，其中a和b对应单个线圈的长边和短边，根据a与b的值查表得到线圈过流面积S。 过流面积S略小于a与b的乘积，这是因为线圈不是标准的矩形，棱上有倒角。 图4 硬线圈开口槽 若设计出来的过流面积过大，可以考虑并绕（横向或纵向并绕）。 图中红色部分为槽绝缘，绿色部分为匝间绝缘，蓝色部分为层间垫片。 对于图中的硬线圈开口槽，设匝间绝缘厚为c，层间绝缘厚为d，松散量为e，则有： 槽宽\\(b_{s1}=2a+2\\Delta_i+4c+e\\) 槽高\\(h_{s2}=8b+2\\Delta_i+4c+d+e\\) 图5 硬线圈开口槽 确定好槽宽和槽高后，需要代入公式计算定子齿磁密\\(B_{t1}\\)与定子轭部磁密\\(B_{j1}\\)，判断槽宽和槽高是否符合要求。 图中设计出来的不是平行齿，通常认定定子齿最窄处与最宽处之间，靠近最窄处距离为二者\\(\\frac{1}{3}\\)的位置的宽度为齿宽。 在计算时，也可以直接将定子齿最窄处的宽度认定为齿宽。 视频中未提及齿宽计算公式，个人感觉可以用定子齿距与槽宽大致确定齿宽\\(b_{t1}=t_1-b_{s1}\\) 在一个齿距内求定子齿磁密\\(B_{t1}\\)： \\(B_\\delta t_1 l_{ef}=B_{t1}b_{t1}l_t K_{Fe}\\) 在一个极距内求定子轭部磁密\\(B_{t1}\\)： \\(\\frac{1}{2}\\alpha_p&#39; B_\\delta \\tau l_{ef}=B_{j1} h_{j1}l_t K_{Fe}\\) 视频中\\(\\alpha_p&#39;\\)前无系数\\(\\frac{1}{2}\\)，我不清楚哪种正确，我认为软线圈与硬线圈的计算公式应该是一致的。 若二者值偏大或偏小，可以通过调整a和b的方式调整\\(b_{s1}\\)与\\(h_{s2}\\)，进而使\\(b_{t1}\\)与\\(h_{j1}\\)改变。 总结：通过电负荷选线规和开槽，通过磁负荷校验开槽是否合适。 转子绕组与铁心设计 转子槽数的确定 转子槽数的选取要与所选的定子槽数相配合，若槽配合选择不当，则可能导致电机无法起动、震动噪声大、产生附加损耗和附加转矩。具体详见教材P240-P245。 确定转子槽数关键点： ①减小附加损耗和附加转矩：选择近槽配合（转子槽数略少于定子槽数）。 ②减小噪声：选择远槽配合。 ③减小异步寄生转矩：\\(Z_2 \\leqslant 1.25(Z_1+p)\\)，式中\\(Z_2\\)为转子槽数。 ④减小同步寄生转矩：见教材P245表10-7。 ⑤减小振动和噪声：见教材P245表10-7。 图6 产生不良后果的槽配合 其中①与②不可兼得，设计时需考虑具体情况。③④⑤尽量都要遵守。 成熟的槽配合见教材P245表10-8与表10-9。 转子槽形的选择 图7 感应电动机笼型转子常用槽形 (a)与(b)是平行齿槽形，二者电气性能基本相似。其中(a)的槽形齿部截面逐渐变化，强度较高，主要用于功率较大的电机；(b)的槽形冲模制造更容易，主要用于小功率电机。 (c)与(d)是平行槽，二者集肤效应比平行齿显著，利于改善起动性能，主要用于功率较小的两级电机。 (e)为凸形槽，(f)为刀形槽，优点是集肤效应显著，起动性能好，缺点是形状复杂，冲模加工困难，刀形槽冲模相对容易。应用在对起动要求高的电机上。 (g)与(h)是闭口槽。可以减少电机的附加损耗，缺点是增加了转子的槽漏抗。 (i)为双笼转子槽形，(j)为深槽形（梯形槽）。双笼转子槽的上笼为起动笼，可以有效提高起动转矩；下笼为运行笼，可以减小转子损耗。深槽形同理，起动时转子电流频率较高，电流集中在上侧，上侧槽截面积小使得槽电阻大（转子电阻大），使起动转矩变大；稳态运行时转子电流频率很小（异步电机转差率很小），电流集中在下侧，下侧截面积大，转子电阻小，可以减小转子损耗。 槽形尺寸的确定 推算转子导条电流： \\(I_2=k_I I_1\\frac{m_1 N_{\\Phi 1}k_{dp1}}{m_2 N_{\\Phi 2}k_{dp2}}\\) 式中\\(m_1\\)为定子相数，\\(N_{\\Phi 1}\\)为定子每相串联匝数，\\(k_{dp1}\\)为定子基波绕组系数。 \\(m_2\\)为转子相数，\\(N_{\\Phi 2}\\)为转子每相串联匝数，\\(k_{dp2}\\)为转子基波绕组系数。 对于三相笼型感应电机，\\(m_2=z_2\\)，\\(N_{\\Phi 2}=1\\)，\\(k_{dp2}=1\\)（既不分布也不短距） \\(I_2=3k_I I_1\\frac{N_{\\Phi 1}k_{dp1}}{Z_1}\\) 选择导条电流密度\\(J_B\\)： 为保证足够的起动转矩，电流密度不能太小，电流密度太大会使转差率变大，转子电阻损耗增加，效率降低，发热增加。 对于普通中小型感应电机，铸铝转子取\\(J_B=2 \\sim 4.5A/mm^2\\)。 推算出转子导条导电面积\\(S_2&#39;=\\frac{I_2}{J_B}\\) 图8 转子齿与转子轭 这里按照平行齿进行设计，因为平行齿形状简单，容易设计。 ①确定转子齿磁密\\(B_{t2}\\)，通常比定子齿磁密略小。 根据设定的转子齿磁密及下述公式得到齿距\\(b_{t2}\\) \\(B_\\delta t_2 l_{ef}=B_{t2}b_{t2}l_t K_{Fe}\\) ②确定转子轭部磁密\\(B_{j2}\\) 可以推算出轭部计算高度\\(h_{j2&#39;}\\) \\(\\frac{1}{2}\\alpha_p&#39; B_\\delta \\tau l_{ef}=B_{j2} h_{j2&#39;}l_t K_{Fe}\\) ③根据弧线\\(AA&#39;\\)几何关系求出\\(b_{12}\\)和\\(h_{21}\\) ④根据弧线\\(BB&#39;\\)几何关系求出\\(r_{12}\\)和\\(h_{22}\\) ⑤根据上述求得的尺寸计算出转子槽型面积\\(S_2\\)，将之与\\(S_2&#39;\\)比较，若差距较大，则需要重新设计。 对于形状复杂的槽形，常采用面积等效法。 先按平行齿设计出一个槽形，再将其调整为其他槽形，需要确保二者的槽型面积一致。 端环尺寸的确定 图9 端环及端环电流矢量图 ①推算端环电流\\(I_R\\) \\(\\frac{I_B}{2}=I_R sin\\frac{\\alpha}{2}\\) 式中\\(I_B\\)为转子导条电流 ②选择端环电密 端环电密需要小于导条电密，以便于导条散热。 通常取端环电密\\(J_R=(0.45 \\sim 0.8)J_B\\)。 定子绕组、转子导条、端环的电流密度大小关系：\\(J_1&gt;J_B&gt;J_R\\) ③求出端环截面积\\(S_R=\\frac{I_R}{J_R}\\) ④端环高\\(b_R\\)近似等于转子槽高 端环宽\\(a_R=\\frac{S_R}{b_R}\\) 参考资料 高压电机线圈的成型与散嵌绕组","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机设计","slug":"课程笔记/电机设计","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A1/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机设计","slug":"电机设计","permalink":"https://renahah.github.io/tags/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A1/"}]},{"title":"开关磁阻电机02-开关磁阻电机原理","slug":"课题笔记/开关磁阻电机/开关磁阻电机02-开关磁阻电机原理","date":"2024-07-10T03:30:24.000Z","updated":"2024-09-18T03:05:33.823Z","comments":true,"path":"课题笔记/开关磁阻电机/开关磁阻电机02-开关磁阻电机原理/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA02-%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA%E5%8E%9F%E7%90%86/","excerpt":"","text":"基于视频新型开关磁阻电机电磁设计教学视频整理的学习笔记。 参考视频05基于磁阻电机基本电磁方程的运动机理理解，06开关磁阻电机的空载负载电感特性对电机性能的影响以及仿真分析，07磁阻电机的转矩控制，08开关磁阻电机的驱动方式，09开关磁阻电机电感曲线特性和极弧系数的选取图形化分析，10满足极弧系数选取约束条件的开关磁阻电机性能优化，11基于参数化扫描的转矩波动优化，12不同槽极配合的电磁方案优化对比分析。 开关磁阻电机原理概述 开关磁阻电机（Switched Reluctance Motor，SRM）为双凸极结构，定、转子凸极均由具有高磁导率的硅钢片叠成，转子上既无绕组也无永磁体，定子上嵌有集中绕组。 注：凸极电机具有不均匀的气隙，交轴电感与直轴电感不相等。 开关磁阻电机的运行遵循着“磁阻最小原理”。 利用磁阻的不相等，磁通会沿着磁阻最小的路径闭合，通电的定子以磁力吸引转子，产生磁力的切向分力，进而产生对磁阻的电磁转矩。 开关磁阻电机工作过程中，由转子位置传感器检测当前转子的位置，其中最有利于对转子产生前向转矩的一相定子会通电，随着转子的转动，不断变换通电的定子绕组相序，从而实现转子的持续转动。 具有一定形状的转子铁心在移动到最小磁阻位置时，其主轴线会与磁场的轴线重合，若给定子绕组按照一定的顺序依次供电，转子将沿着逆励磁次序的方向旋转。 开关磁阻电机按照定、转子极数与相数可以分为多种结构，当前使用较为广泛的结构有三相6/4、三相9/6、三相12/8、四相8/6结构。 开关磁阻电机的相数与转子极数越多，步距角就越小，这对于抑制转矩脉动很有利；但同时开关管元件数目会变多，电路结构会更复杂，使得制造成本更高。 下图以四相8/6（定子8极，转子6极）结构为例具体讲解开关磁阻电机工作原理。 图1 开关磁阻电机结构（画出其中一相绕组及其主电路） 径向相对的两个定子绕组正向串联构成一相，相绕组通电后在铁心内形成两极型的磁场。 开关磁阻电机的转矩由磁路选择最小磁阻结构的趋势有关。 上图D相定子凸极轴线D-D'与转子凸极轴线3-3'重合，此时D相磁路磁阻最小，电感最大，若此时继续给D相励磁，由于磁力线已处于“拉直”状态，转子将只受到径向磁吸力而无切向磁拉力，无法维持转子的转动。 若给A相励磁，由于此时磁力线被扭曲，将会产生切向磁拉力，使转子旋转到定子凸极轴线A-A'与转子凸极轴线1-1'重合之处，使A相的磁路磁阻最小，电感最大。 若上图为定转子位置的初始状态，按照A-&gt;B-&gt;C-&gt;D顺序给定子绕组通电，则转子将沿着逆励磁顺序以逆时针方向转动；若按照C-&gt;B-&gt;A-&gt;D顺序给定子绕组通电，则转子按顺时针方向转动。 开关磁阻电机的旋转方向与相电流方向无关，仅与相绕组励磁顺序有关。 由上图可知，当主开关器件\\(S_1,S_2\\)导通时，D相绕组从直流电源\\(U_s\\)吸收电能；当\\(S_1,S_2\\)关断时，相电流经续流二极管\\(VD_1,VD_2\\)回馈电源\\(U_s\\)，引入回馈环节可以有效利用能量，提高开关磁阻电机调速系统的工作效率。 定义每切换一次通电的定子绕组时，转子转过的角度为步距角\\(\\theta_{step}\\)，可得： \\(\\theta_{step}=\\frac{\\tau_t}{m}=\\frac{360°}{mN_r}\\) 其\\(N_r\\)为转子凸极个数，m为相数，\\(\\tau_t\\)为转子的极距角。 上图中电机的步距角为15° 设开关磁阻电动机转速为\\(n\\)(r/min)，则相电流脉冲频率\\(f=\\frac{nN_r}{60}\\) 这里的转子凸极个数\\(N_r\\)可以看作普通电机中的极对数\\(p\\)。 开关磁阻电动机中的气隙磁场不是直流电机中的恒定磁场，也不是异步电机（感应电机）的旋转磁场，而是步进磁场。 电动机转速与由\\(f\\)决定的步进磁场平均转速保持同步关系，可以将开关磁阻电动机视作同步电动机。 相电流为非正弦的脉冲波以及铁心磁路的高饱和是开关磁阻电机的运行特点。 考虑磁路饱和带来的非线性，根据磁共能计算开关磁阻电机的电磁转矩 \\({\\left. {T(\\theta ,i) = \\frac{ {\\partial W&#39;(\\theta ,i)} }{ {\\partial \\theta } } } \\right|_{i = const}}\\) 式中\\(\\theta\\)为转子位置角，\\(i\\)为相电流。 在对开关磁阻电机作定性分析时，若忽略磁路饱和，即假定相电感仅与转子位置有关而与相电流无关，得到的相电感简化线性模型如下图所示。 图2 相电感简化线性模型 \\(L_{max}\\)对应定、转子凸极轴线重合之时，即磁阻最小位置处，此时相电感最大； \\(L_{min}\\)对应定子凸极轴线与转子槽中心线重合之时，即磁阻最大位置处，此时相电感最小。 可以将式子简化为： \\(T(\\theta,i) = \\frac{ { {i^2}}}{2}\\frac{\\partial L}{\\partial \\theta} =\\frac{ { {i^2}}}{2}\\frac{ {\\text{d}}L}{ {\\text{d}}\\theta}\\) 该式中电磁转矩方向仅取决于相电感随转子位置角的变化，与相电流无关。 若\\(\\frac{ {\\text{d}}L}{ {\\text{d}}\\theta}&gt;0\\)，则产生电动转矩；若\\(\\frac{ {\\text{d}}L}{ {\\text{d}}\\theta}&lt;0\\)，则产生制动转矩。 因此可以通过控制相电流脉冲幅值，开通角\\(\\theta_{on}\\)与关断角\\(\\theta_{off}\\)的方式控制开关磁阻电动机的转矩大小与方向，实现调速控制。 开关磁阻电机基本方程式 对于m相开关磁阻电机，不计铁耗及相绕组间的互感时，其机电能量转换示意图如下图所示： 图3 m相开关磁阻电机二端口网络示意图 图中\\(T_e\\)为电磁转矩、\\(T_L\\)为负载转矩、\\(D\\)为粘性摩擦系数、\\(J\\)为转子及负载的转动惯量； \\(U_k\\)、\\(R_K\\)、\\(i_k\\)、\\(e_k\\)为\\(k\\)相绕组\\((k=a,b,\\cdots,m)\\)外加电压、电阻、电流、感应电动势； \\(\\Psi_k(\\theta,i_k)\\)为\\(k\\)相绕组的磁链，\\(\\theta\\)为转子位置角。 \\(k\\)相绕组的电压平衡方程式为： \\(U_k=R_k i_k-e_k=R_k i_k + \\frac{d\\Psi_k}{dt}\\) 相绕组磁链\\(\\Psi_k\\)可以表示为电感\\(L_k\\)与电流\\(i_k\\)的乘积 \\(\\Psi_k(\\theta,i_k)=L_k(\\theta,i_k)i_k\\) \\(\\frac{d\\Psi_k}{dt}=\\frac{\\partial \\Psi_k}{\\partial i_k}\\frac{d i_k}{dt}+\\frac{\\partial \\Psi_k}{\\partial \\theta}\\frac{d \\theta}{dt}=(L_k + i_k\\frac{\\partial L_k}{\\partial i_k})\\frac{d i_k}{dt}+i_k\\frac{\\partial L_k}{\\partial \\theta}\\omega=e_t+e_m\\) \\(\\Rightarrow U_k=R_k i_k + \\frac{d\\Psi_k}{dt}=R_k i_k+e_t+e_m\\) 式中\\(\\omega=\\frac{d\\theta}{dt}\\)为机械角速度。 由上式可知电源两端电压是电路中各模块分压之和。 其中\\(R_k i_k\\)为第\\(k\\)相回路的电阻压降； \\(e_t\\)为变压器电动势，是由电流变化引起磁链变化而感应的电动势； \\(e_m\\)为运动电动势，是由转子位置改变引起绕组中磁链变化而感应的电动势，与机电能量转换直接相关。 下面列出转子机械运动方程式： \\(T_e=J\\frac{d^2 \\theta}{dt^2}+D\\frac{d\\theta}{dt}+T_L\\) 开关磁阻电机的调速控制 不对称半桥 图4 不对称半桥 开关磁阻电机电流的通断通过不对称半桥实现，其示意图如上图所示。 不对称半桥两端连接到定子绕组的两端。当开关\\(S_1,S_2\\)闭合时，绕组通电，绕组从电源吸收电能，电流迅速上升，电感中存储一定能量；开关\\(S_1,S_2\\)断开时，由于电感的电流方向不会突变，电流将经经续流二极管\\(D_1,D_2\\)回馈到电源\\(U_s\\)，绕组电流迅速下降。 角度位置控制 图5 角度位置控制方式相电流波形（基于线性模型） 若在电感上升区域\\(\\theta_2\\sim\\theta_3\\)内绕组通电，旋转电动势为正，产生电动转矩，电源提供的电能一部分转换为机械能输出，另一部分则以磁能的形式储存在绕组中； 若通电绕组在\\(\\theta_2\\sim\\theta_3\\)内断电，储存的磁能一部分转换为机械能，另一部分则回馈给电源，这时转轴上获得的仍是电动转矩。 在相电感保持为最大电感的\\(\\theta_3\\sim\\theta_4\\)区，旋转电动势为零，如有相电流继续流动，绕组储能则仅回馈给电源，转轴上并无电磁转矩； 若相电流在电感下降区\\(\\theta_4\\sim\\theta_5\\)内流动，因旋转电动势为负，产生制动转矩，这时回馈给电源的能量既有绕组释放的磁能，也有制动转矩产生的机械能，此时开关磁阻电动机运行在发电状态。 为了得到较大的转矩，一方面应尽量避免制动转矩，即在相电感开始随转子位置减小时，尽快使相电流衰减到零，因此关断角\\(\\theta_{off}\\)通常设计在最大电感达到之前。 （通常将\\(\\theta_{off}\\)取在\\(\\theta_2\\)与\\(\\theta_3\\)的中点） 相应的公式为：\\(\\theta_{off}=\\frac{1}{2}(\\frac{2\\pi}{N_r}-\\beta_r)+\\theta_{on}\\)，式中\\(N_r\\)为转子凸极个数、\\(\\beta_r\\)为转子极弧。 另一方面，应尽量提高电动转矩，即在相电感随转子位置上升区域应尽量流过较大的电流。 开关磁阻电动机电动运行的重要条件是绕组在某一超前于电感上升区域 （\\(θ_{on}\\)处）接通主电源，这样定子电路起始的电感为\\(L_{min}\\)，从而允许相电流迅速建立起来，当转子转至\\(\\theta_2\\)处时，电流增长到最大值，随后因电感的上升及旋转电动势的出现，电流一般不再上升。因此\\(\\theta_{on}\\)需要取在\\(\\theta_2\\)之前。 这种通过控制开通角\\(\\theta_{on}\\)和关断角\\(\\theta_{off}\\)实现电磁转矩调节的方法被称作角度位置控制方式。 采用Ansys Maxwell得到的电感与电流仿真曲线如下图所示： （右键Project Manager中的Result-&gt;Creat Transient Report-&gt;Rectangular Plot，Category选择Winding，Quantity选择L(PhaseB,PhaseB)与Current(PhaseB)，点击New Report即可生成仿真曲线） 图6 角度位置控制方式电感与电流曲线 注：需要在仿真前点击菜单Maxwell 2D-&gt;Design Settings，选择Matrix Computation选项卡，勾选Enable，选择Apparent。这样才能得到电感曲线。 可以看到电流波形不是方波。这是因为电流的增加使得磁通随之增加，磁通增加导致铁芯饱和，铁芯饱和使得电感下降，也就是电抗下降，电流就会上升形成尖峰。 角度位置控制方式的缺点体现在电流峰值过大，过大的电流会减少开关器件的使用寿命。 电流斩波控制 为了限制电流，可以采用电流斩波控制，其波形示意图如下图所示： 图7 电流斩波控制波形示意图 电流斩波控制方式不仅要设置开通角\\(\\theta_{on}\\)和关断角\\(\\theta_{off}\\)，还要设置电流的上下限幅值\\(i_H\\)与\\(i_L\\)来将电流限制在一定范围之内。 若电流上升到\\(i_H\\)，则开关器件关断，电流下降；若电流下降到\\(i_L\\)，则开关器件重新导通，电流回升。 电流斩波控制方式下的相电流波形近似为 “平顶波”。 下面进行Ansys Maxwell仿真，首先双击Project Manager中的RMxprtDesign1-&gt;Machine，将Control Type改为CCC（Chopped Current Control，电流斩波控制）。 再双击Project Manager中的RMxprtDesign1-&gt;Machine-&gt;Circuit，可以看到多出了两栏分别是Maximum Current与Minimum Current，是电流的限幅值，分别设为28A与26A。 右键Analysis-&gt;Setup1-&gt;Analyze，进行求解。 右键Analysis-&gt;Setup1-&gt;Create Maxwell Design，选择Maxwell 2D Design。得到二维仿真模型。 得到模型后，按照前文所诉的方法进行仿真，得到对应的电感与电流仿真曲线如下图所示： 图8 电流斩波控制方式电感与电流曲线 可以看到图中5ms至6ms时刻的电感相较于波形示意图所展示的理想值要小。这是因为此时有电流存在，电流产生磁场，使铁芯进入饱和状态，进而电感相对较小。 电流斩波控制通常适用于电机中低速运行的情况，在电机高速运行的情况下，转子周期较短，电流变化率小，更适合采取角度位置控制策略。 调速控制特性 开关磁阻电动机调速控制特性如下图所示： 图9 开关磁阻电动机调速控制特性 在基速\\(\\omega_b\\)以下，采用电流斩波控制（Chopped Current Control，CCC），输出特性为恒转矩特性。 \\(\\theta_{on}\\)、\\(\\theta_{off}\\)不变，改变相绕组的励磁电压来实现调速。 在基速\\(\\omega_b\\)以上，采用角度位置控制 （Angular Position Control， APC），输出特性为恒功率特性（转距与角速度成反比）。 通过改变导通角\\(\\theta_c=\\theta_{off}-\\theta_{on}\\)实现调速（通常使关断角\\(\\theta_{off}\\)不变，改变开通角\\(\\theta_{on}\\)）。导通角越小转矩越小，转速越大。 导通角不能无限调大，其最大值\\(\\theta_{max}=\\frac{\\tau_r}{2}=\\frac{\\pi}{N_r}\\)，对应的角速度为\\(\\omega_{sc}\\)。 若此时降低电流，则转矩会进一步下降，转速进一步上升（转距与角速度的平方成反比），此时呈串励特性运行。通常不会使电机工作在这一状态。 注：导通角减小到底是提高转速还是降低转速？视频中的答案提高，书上的答案似乎是降低，论文对此含糊其辞，只说APC是通过改变导通角来调速。可以确定的是导通角减小一定是降低了转矩。上述论述暂时以视频为准。 电压PWM控制 除了上文提高的角度位置控制与电流斩波控制，开关磁阻电机的另一种控制策略是电压PWM控制（Chopped Voltage Control，CVC）。电压PWM控制通过调节脉冲占空比来调节相电压，其开通角\\(\\theta_{on}\\)与关断角\\(\\theta_{off}\\)不变。通过调节脉冲占空比，也就是改变开关管的导通时间的方法间接控制电流幅值，进而实现对电机的转速调节。 图10 电压PWM控制波形示意图 电压PWM控制适用于SRM低速和高速运行条件，其优点是抗干扰能力强、响应速度快、系统动态特性好，可控性灵活（可以调节PWM占空比与PWM频率）； 缺点是开关管的频繁开启和关断会导致额外的损耗以及更高的处理器运算速度要求。并且在高速运行时开关管带来的死区效应会引起绕组的高频谐波，带来控制性能的下降和额外损耗。 极弧系数的选取 定、转子极弧是指定子或转子凸极所占的范围，用角度表示。 极弧系数是定子或转子凸极所占的比例，是一个系数。 二者关系式为：\\(\\frac{2\\pi}{N}\\alpha=\\beta\\) 举个例子，若定子极弧系数\\(\\alpha_s=0.45\\)，定子凸极个数为6。 则可得到定子极弧\\(\\beta_s=\\frac{2\\pi}{N_s}\\alpha_s=\\frac{2\\pi}{6}\\times 0.45=27^\\circ\\) 定、转子极弧的确定，应保证对任何转子位置，开关磁阻电机均具有正、反方向的自起动能力。 要求当某一相定、转子极处于极对极时，相邻相定、转子极必须要有一定的重叠。即要求两相邻电感曲线上升期具有一定的重叠。 对于定、转子极弧的要求如下： \\(min(\\beta_s,\\beta_r) \\geqslant \\frac{2\\pi}{qN_r}\\) \\(\\beta_s+\\beta_r \\leqslant \\frac{2\\pi}{N_r}\\) 根据上述式子，可以将定、转子极弧限制在下图所示的区间。 图11 定、转子极弧取值 对于上节所设计并仿真的3KW1500转开关磁阻电机，其定子极弧系数为0.45，转子极弧系数为0.42。该电机定子凸极个数为6，其对应的定子极弧为27°。 而按照上文公式，其定子极弧应当大于等于30°。也就是说，定子极弧需要提高，这里先将定子极弧系数设为0.5，此时对应的定子极弧为30°。 再检查以下转子极弧系数，其对应的转子极弧为37.8°，符合要求。 定子极弧与转子极弧之和为67.8°，小于规定的\\(\\frac{2\\pi}{N_r}=90^\\circ\\)，符合要求。 定、转子极弧系数的取值会影响电机的运行性能： 定、转子极弧系数越大，不同相的电感曲线的重叠程度越大，适当的极弧系数可以降低电机的转矩脉动（转矩峰值减小、脉冲变宽），但若极弧系数过大，转矩脉动会回升。 定、转子极弧系数越小，电感曲线处于波谷的范围越大，处于波峰（平顶波）的范围越小。这样更有利于接通电源后电流的上升（因为电感低的时间更长）。恒功率运行范围会变大。这种做法相当于永磁同步电机中的降低空载反电动势。 下面保持转子极弧系数为0.42不变，调整定子极弧系数，观察其对电机运行的影响。 先将定子极弧系数由0.5调整至0.4，转速设置为3000r/min，可以观察到其输出功率从约1300W提升至约1900W。定子极弧系数设为0.35时，输出功率为约2200W。这说明较小的定子极弧系数的恒功率运行能力更强。 下面保持定子极弧系数为0.5不变，不断调整转子极弧系数，观察其对电机运行的影响。 将定子极弧系数调回0.5，转子极弧系数由0.42调整至0.38，可以观察到其输出功率从约1300W提升至约1600W。定子极弧系数设为0.33时，输出功率为约1900W。这说明较小的转子极弧系数也可以提高电机的恒功率运行能力。 为获得更大的恒功率运行范围，通常取\\(\\beta_s=\\beta_r=\\frac{2\\pi}{qN_r}\\)。 可以取定子极弧系数为0.5，转子极弧系数为0.33。可以确保定子与转子刚好有符合要求的重合区域，同时具有较大的恒功率运行范围。 下面保持定子极弧系数为0.5不变，接着调整转子极弧系数，观察其对转矩脉动影响。 转子极弧系数由0.33调整至0.4和0.45，分别对应导出二维仿真模型。 进行仿真，仿真过程略，得到的转矩波形如图所示。 图12 转矩曲线（转子极弧系数为0.33） 转子极弧系数为0.33时，测得转矩最大值为34.41N·m，转矩最小值为1.83N·m，转矩平均值为16.25N·m。 计算得到转矩脉动系数为(34.41-1.83)/16.25=2.00； 同理，转子极弧系数为0.4时，测得转矩最大值为34.15N·m，转矩最小值为1.73N·m，转矩平均值为18.17N·m，算得转矩脉动系数为1.78； 转子极弧系数为0.45时，测得转矩最大值为32N·m，转矩最小值为1.635N·m，转矩平均值为17.92N·m，算得转矩脉动系数为1.69。 可以观察到转子极弧系数较小时，定子与转子的重叠度小，电流上升快，转矩峰值高，转矩脉冲窄。 转子极弧系数较大时转矩峰值减小，转矩脉冲变宽，转矩脉动得到抑制，但恒功率运行范围变小，输出功率会随之降低。 实质上，定子极弧系数增加对于转矩脉动的减小更明显。 下面采用参数化扫描的方式，研究定子极弧系数对电机转矩脉动的影响。 首先右键Analysis-&gt;Setup1-&gt;Create Maxwell Design，选择Maxwell 2D Design。得到二维仿真模型。 双击模型中的Stator-&gt;CreateUserDefinedPart，将Embrace设置为一个变量，这里输入beta，弹出Add Variable窗口点击确定即可。 这个变量可以在菜单栏Maxwell 2D-&gt;Design Properties中找到。 Project Manager右键Optimetrics-&gt;Add-&gt;Parametric，点击右侧的Add按钮，弹出的窗口中Variable选择之前设置的变量beta，Start输入0.4，Stop输入0.55，Steps（间隔、步长）输入0.05，点击窗口中部的Add后点击OK即可。 打开Table选项卡可以看到变量beta所包含的各个值，依次是0.4、0.45、0.5、0.55。 右键Optimetrics-&gt;ParametricSetup1，点击Analyze就会开始仿真分析。 首先观察转矩曲线，如下图所示： 图13 参数化扫描转矩曲线 可以得知随着定子极弧的增加，转矩峰值不断降低，转矩脉冲变宽，转矩脉动因而降低。但是平均转矩不断下降，输出功率降低。 注：若转矩曲线只有一条，则Project Manager中的转矩曲线进入设置界面，选择Families选项卡，点beta那一行右侧的三个小点，点击Select All选中所有的数值，再重新生成一个曲线图。 注：上图为视频中的画面，我也进行了仿真，仿真结果与视频的相同之处是转矩脉冲也随定子极弧的增加而变宽，不同之处是转矩峰值由0.45到0.5时明显升高，而不是降低，但考虑到极弧系数过大时转矩脉动确实会变大，因此这样的结果可能也是合理的。 综上所诉，极弧系数的选取需要适中，兼顾各种因素。 对于6/4开关磁阻电机，一个得到公认的比较合适的定、转子极弧配比为： 定子极弧32°（定子极弧系数0.53）；转子极弧30°（转子极弧系数0.33） 8/6开关磁阻电机设计 6/4开关磁阻电机具有结构简单、开关器件少的优点，但是其转矩脉动比较大，恒功率运行范围不高。 对于需要兼顾抑制转矩脉动与恒功率运行范围的情况，通常可以采用8/6开关磁阻电机，下面介绍8/6开关磁阻电机的设计方法。 首先，与上一节的步骤一样，打开RMxprt，选择Switched Reluctance Motor建一个开关磁阻电机模型。 各个参数的设置参考6/4开关磁阻电机，最大程度地保持一致。 对于8/6开关磁阻电机，一个得到公认的比较合适的定、转子极弧配比为： 定子极弧21°（定子极弧系数0.46）；转子极弧23°（转子极弧系数0.38） 相较于6/4开关磁阻电机，其定子极弧系数更小，恒功率范围更宽。 (1)Machine（电机属性）设置： Reference Speed设定为1500rpm，Control Type为CCC。 (2)Stator（定子）设置： Outer Diameter设定为160mm，Inner Diameter为84.8mm。 8/6开关磁阻电机内外径之比为0.53 Length为100mm，Stacking Factor为0.97，Steel Type为DW465_50。 Number of Poles设为8，Embrace设为0.46，Yoke Thickness为9mm。 (3)Winding（绕组）设置： Insulation Thickness为1mm，End Adjustment为12mm，Parallel Branches为1，Turns per Pole为50，Wire Wrap设置为0.1mm，Wire Size选择1.537mm。 Number of Strands不设置，由系统自动计算。 注：Wire Wrap由Wire Size乘以0.07获得 (4)Rotor（转子）设置： Outer Diameter为84m（气隙为0.4mm），Inner Diameter为28mm。 Length为100mm，Stacking Factor为0.97，Steel Type选择DW465_50。 Number of Poles为6，Embarce为0.38，Yoke Thickness为15mm。 注：视频中转子的Stacking Factor被错误设置为0.87，但这不影响后续的仿真调试结果。 (5)Circuit（电流）设置： Lead Angle of Trigger为20°，Trigger Pulse Width为110°。 Maximum Current与Minimum Current分别设为24A与20A。 (6)Add Solution Setup（求解）设置： Rated Output Power为3kW，Rated Voltage为260V，Rated Speed为1500rpm，Load Type为Const Speed。 设置好各项参数后，开始仿真调试。 调试过程中发现输出功率过高，效率过低，槽满率偏高。 FULL-LOAD OPERATION DATA中的Stator-Pole Flux Density（定子磁极磁密）偏高（约1.9T），Stator-Yoke Flux Density（定子轭部磁密）适中（约1.6T）。 注：调高匝数可以降低输出功率，提高效率，但是槽满率会变大；降低线径可以降低槽满率。 定子磁极磁密与定子轭部磁密的高低不清楚是怎么判定的。 调整后匝数Turns per Pole为95，Wire Size由1.537mm降低到1.29mm。 调整后功率为3125W，效率为85%，槽满率为49.7%，符合要求。 图14 磁通随电流变化曲线 这是Flux Linkage vs Current at Various Positions曲线。其横轴为电流，单位为A；纵轴为磁通，单位为Wb。 可以视作不同转子角度下的磁化曲线（由电机学原理可知，Φ-i特性可以视作B-H基本磁化曲线）。 角度为0°时对应图像最下方的曲线，此时定子凸极对准转子轭部，电感最小，磁阻最大，磁化曲线近乎近似为一条直线。 角度增加后磁导随之增加，会产生更多的磁通。 随着角度的继续增加，铁芯开始饱和，曲线弯曲程度加大。 接下来使用这个RMxprt模型建立Maxwell 2D仿真模型，观察转矩脉动与三相电流曲线。 由相应图像（图略）可以观察到相较于6/4开关磁阻电机，8/6开关磁阻电机的转矩脉动更小，三相电流曲线的重合度更高，恒功率范围更宽。 但开关器件更多，制造成本更高。进行电机设计时，要根据实际需求来做出选择。","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"课题笔记/开关磁阻电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"开关磁阻电机","permalink":"https://renahah.github.io/tags/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}]},{"title":"开关磁阻电机01-3KW1500转开关磁阻电机设计与仿真分析","slug":"课题笔记/开关磁阻电机/开关磁阻电机01-3KW1500转开关磁阻电机设计与仿真分析","date":"2024-06-27T08:22:18.000Z","updated":"2024-07-17T11:02:20.950Z","comments":true,"path":"课题笔记/开关磁阻电机/开关磁阻电机01-3KW1500转开关磁阻电机设计与仿真分析/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA01-3KW1500%E8%BD%AC%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BB%BF%E7%9C%9F%E5%88%86%E6%9E%90/","excerpt":"","text":"基于视频新型开关磁阻电机电磁设计教学视频整理的学习笔记。 参考视频01 开关磁阻电机设计思路引入，02全正向设计思路流程的工程实例3KW1500rpm初始设计，03开关磁阻电机的电磁仿真后处理各类输出特性曲线详解，04磁阻电机有限元瞬态仿真额定输出时损耗分析和效率计算。 参数设置 从磁路开始。打开软件，点击Desktop菜单里的Maxwell图标，点击RMxprt（电机本体快速设计工具），界面中Design Flow选择Generate RMxprt Solutions，Machine Type选Standard，然后选择Switched Reluctance Motor（开关磁阻电机）。 双击Project Manager中的RMxprtDesign1-&gt;Machine，开始对电机属性进行设置。 Reference Speed设定为1500(rpm)，Control Type为DC（直流）。 Circuit Type（驱动电路）有三个选择，选择第一个Full-Voltage（不对称半桥），它最为常用。 双击Project Manager中的RMxprtDesign1-&gt;Machine-&gt;Stator，开始对定子进行设置。 参考与之相似的感应电机进行设置，3kW1500rpm对应的感应电机型号为Y100。 设置Outer Diameter（外径）为160mm，Inner Diameter（内径）为80mm。 对于6/4开关磁阻电机，内径与外径之比为0.5；对于8/6开关磁阻电机，内径与外径之比为0.53。 Length为120mm，Stacking Factor（叠压系数，指电机中含有磁性材料部分的实际体积与铁心总体积的比值）为0.97，Steel Type选择DW465_50。 要设计的是6/4开关磁阻电机（定子6个齿极，转子4个凸极/2对极），Number of Poles设为6。 Embarce（极弧系数），通常范围\\(0.33 \\sim 0.5\\)，这里设置为0.45。 Yoke Thickness（轭厚度），这里设置为10mm。 双击Project Manager中的RMxprtDesign1-&gt;Machine-&gt;Stator-&gt;Winding，开始对绕组进行设置。 设置Insulation Thickness（绝缘厚度）为1mm，End Adjustment（端部调整，绕组伸出铁芯断面外的直线段长度）为12mm，Parallel Branches（并联支路数）为1，Turns per Pole（每极线圈匝数）为70，Wire Wrap设置为0.14mm，Wire Size选择2.052mm。 注：Wire Wrap由Wire Size乘以0.07获得 双击Project Manager中的RMxprtDesign1-&gt;Machine-&gt;Rotor，开始对转子进行设置。 设置Outer Diameter（转子外径）为79.2mm（气隙为0.4mm），Inner Diameter（转子内径）为28mm。 Length为120mm，Stacking Factor为0.97，Steel Type选择DW465_50。 Number of Poles设为4。 Embarce（极弧系数），要小于等于定子的极弧系数，这里设置为0.42。 Yoke Thickness（轭厚度），这里设置为15mm。 经过上述设置，得到的电机模型如下图所示： 图1 开关磁阻电机模型 气隙是转子外侧到定子内侧间的距离，第二气隙是转子轭部到定子内侧的距离，如上图所示。 规定第二气隙的厚度要达到气隙的20倍以上。 这里的气隙厚度为0.4mm，这意味着第二气隙至少要有8mm。图中第二气隙的厚度为11mm，符合要求。 上述参数中，气隙、轭部厚度、极弧系数比较重要。 双击Project Manager中的RMxprtDesign1-&gt;Machine-&gt;Circuit，开始对电流属性进行设置。 Lead Angle of Trigger（超前角）设置为20°，Trigger Pulse Width（脉冲电流宽度）设置为110°。 模型求解 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面。 设置Rated Output Power为3kW，Rated Voltage为260V，Rated Speed为1500rpm，Load Type（负载类型）为Const Speed（恒定转速）。 右键Analysis-&gt;Setup1-&gt;Analyze，开始求解。 右键Analysis-&gt;Setup1-&gt;Curve，查看结果。 选择Design Sheet开始看实验数据。 参数调整 查看STATOR COIL DATA中的Slot Fill Factor（槽满率），对于开关磁阻电机，槽满率要求为\\(30\\% \\sim 50\\%\\)，实验结果为64.1185%，槽满率不达标，因此需要调整参数。 接下来查看FULL-LOAD OPERATION DATA中的Input DC Current (A):25.1401、Output Power (W):5483.81、Efficiency (%):83.8961。 功率过高（远超过3000W）。 电机单边励磁，电抗来源于电感，可以增大电感（增大匝数）来减小电流，进而减小功率。 首先试着调整匝数，将定子绕组匝数Turns per Pole由70提高到85； 再调整绕组粗细，Wire Size由2.052mm降低到1.628mm。 查看结果，此时槽满率为50.651%，输出功率为3867.62W，效率为86.4554%。有所长进。 继续调整，Turns per Pole由85提高到88，Wire Size由1.628mm进一步降低到1.537mm，Wire Wrap由Wire Size乘以0.07获得，设置为0.1mm。 查看结果，此时槽满率为44.9556%，输出功率为3599.74W，效率为86.1694%。还需要进一步调整。 继续调整，Turns per Pole由88提高到98。 查看结果，此时槽满率为50.0642%，输出功率为2987.41W，效率为88.1694%。接近完美。 调整Circuit中的Diode Drop（二极管压降），设置为0.6V。 前面实验中电机的效率偏高（Y100感应电机的额定效率为83%），这说明电机设计的过大，为了节省材料，可以适当减小定子的Length，由120mm减小至100mm。 查看结果，此时槽满率仍为50.0642%，输出功率上升至3423.36W，效率下降至85.445%。 Length减小使得电感减小，电流与功率变大。 继续调整，Turns per Pole由98提高到104，Wire Size由1.537mm进一步降低到1.45mm。 查看结果，此时槽满率为47.6322%，输出功率为3057.38W，效率为85.768%。符合要求，调整完毕。 各类输出特性曲线详解 下面选择Curves，观看各个仿真波形。 Phase Voltage（相电压）波形如下图所示： 图2 相电压 通电时电压为260V，此时驱动电路两个开关均闭合；不通电时电压为反向的260V，此时驱动电路两个开关均断开，反向电压来自电感所储存的能量，电感的能量耗尽后电压为0。 图3 气隙电感 Airgap Inductance（气隙电感）波形如上图所示。 定子齿对准转子轭部时电感较小，定子齿对准转子凸极时电感较大。 定子与转子轴线重合时电感大，磁阻最小，此时给相应相定子励磁只产生径向磁吸力，无切向磁拉力，无法使转子转动； 定子与转子轴线不重合时电感较小，磁阻较大，此时给相应相定子励磁可以产生切向磁拉力，从而使转子转动。 图4 磁链 Flux Linkage（磁链）波形如上图所示。 图5 相电流 Rated Phase Current（相电流）波形如上图所示。 相电流为脉冲形式，其变化与电感有关，电感小的时候电流上升很快（如横坐标为325至400时），电感越大电流变化越慢（如横坐标为475至550时） 图6 转矩与速度的关系 Output Torque vs Speed（转矩与速度的关系）波形如上图所示。 可以看到随着速度的上升转矩迅速下降（反比例函数关系），相较于无刷直流电机，其机械特性很软。 无刷直流电机随速度上升转矩的下降曲线为线性，无刷直流电机磁场来自于永磁体；开关磁阻电机磁场主要来自于电流。 图7 输出功率与速度的关系 Output Power vs Speed（输出功率与速度的关系）波形如上图所示。 功率与转速乘以转矩的乘积成正比。 图8 效率与速度的关系 Effciency vs Speed（效率与速度的关系）波形如上图所示。 有限元瞬态仿真额定输出时损耗分析和效率计算 右键Analysis-&gt;Setup1-&gt;Create Maxwell Design，选择Maxwell 2D Design。建立二维仿真模型。 发现生成的模型为半模，这里我们修改设置来生成全模型。 主菜单RMxprt-&gt;Design Settings，选择User Defined Data选项卡，勾选Enable，在出现文本框内输入Fractions 1。 然后重新Analyze一下，重新Create Maxwell Design一下得到全模型。 图9 开关磁阻电机模型 开关磁阻电机转子上的铁损不能忽略，下面计算电机的铁耗。 对仿真模型右键Assign Excitaiton-&gt;Set Core Loss，勾选Stator与Rotor（定转子铁损都要考虑）。 首先看一下所划分的网格，右键Analysis-&gt;Setup1-&gt;Generate Mesh。 可以调整一下网格，使其划分更密集。双击Mesh-&gt;SurfApprox_Main，选择Use Slider，滑块移动到最右侧(Fine)。得到的图像如下所示。（要求各个网格尽可能是锐角三角形，避免钝角三角形） 图10 开关磁阻电机模型 双击Analysis-&gt;Setup1选择Save Fields，保留场计算结果。（界面不一样了，视频版本为Maxwell 19，我使用的软件版本为2021R1，所以操作略有区别） 勾选Custom，Type为Linear Step，Start设为0s，End设为0.01s，Step Size为0.005s 开始仿真，首先观察0时刻。0时刻A相定子绕组对准的是第二气隙（转子轭部），因此此时电感最小。 查看电感矩阵：菜单Maxwell 2D-&gt;Design Settings，选择Matrix Computation选项卡，勾选Enable，选择Apparent。可以计算电感矩阵，获取自感与互感信息。 要有强大的自感，同时尽量削弱互感。 仿真会进行较长的一段时间，仿真完成后，右键Project Manager中的Result-&gt;Creat Transient Report-&gt;Rectangular Plot，Category选择Loss，Quantity选择CoreLoss(Rotor)与CoreLoss(Stator)，点击New Report即可生成转子与定子铁耗曲线，如下图所示。 注：个人做出来的结果有问题（转子与定子铁耗都是直线，肯定不对）。这里截取视频中的图片，后面的损耗分析数据亦以视频给出的数据为准。 图11 转子与定子铁耗曲线 观察铁耗曲线，可以看到其以三个波作为一个周期（两低一高），下面计算它在一个周期内的平均值。 右键Project Manager中的Result-&gt;Creat Transient Report-&gt;Rectangular Plot，Category选择Loss，Quantity选择CoreLoss，点击New Report即可生成铁耗曲线（定子与转子铁耗之和）。 图12 铁耗曲线 对曲线图像右键Marker-&gt;Add Marker进入标记模式，标记铁耗曲线一个周期的两个端点，得知二者的横轴坐标为15.83与25.83，即一个周期的长度为10ms。 对曲线图像右键Trace Charateristics-&gt;All进入数据计算处理界面。 勾选avg（求平均值），点击下方Value框中的Full，修改为Specified。Start of Range和End of Range分别设置为15.83与25.83。点击下方Add Trace Charateristics按钮，就可以在曲线图像右上角显示图例的位置看到平均值avg，该值为49.6687W（约为50W）。 接下计算铜耗。 打开Results-&gt;Currents三相电流曲线。对曲线图像右键Trace Charateristics-&gt;All进入数据计算处理界面。 图13 三相电流曲线 勾选rms（有效值计算），点击下方Add Trace Charateristics按钮，就可以在曲线图像右上角显示图例的位置看到三相电流的有效值。取其中一相的值约为15.5A。 右键RMxprt的Analysis-&gt;Setup1-&gt;Curve，查看之前采用RMxprt方法求出的电阻值。 选择Design Sheet选项卡，查看TRANSIENT FEA INPUT DATA中的Terminal Resistance (ohm)，其值约为0.89Ω。 使用公式\\(P=3 I^2 R\\)算得铜耗值为641.4675W。 注：通过RMxprt计算出的铜耗与铁耗数据可以在FULL-LOAD OPERATION DATA中找到，其中铜耗(Winding Copper Loss)约为460W，铁耗(Iron-Core Loss)约为44.5W。 接下来计算输出功率。 打开Results-&gt;Currents三相电流曲线。 按照计算铁耗的方法，求得其平均值为20.17N·m。 图14 转矩曲线 根据公式\\(T=\\frac{P}{\\Omega}=9.54\\frac{P}{n_N}\\) 算得输出功率为1500÷9.54×20.17=3171W 铜耗与铁耗之和约为691W 最终得到效率为3171÷(3171+691)=82% 总结 首先通过RMxprt建立开关磁阻电机仿真模型，然后根据电机槽满率、效率、体积等要求不断调整电机参数，完成电机的正向设计。 然后RMxprt模型转换为Maxwell二维有限元模型，修改网格设置优化仿真效果，通过仿真得到电机的铁耗、三相电流、转矩波形曲线，计算电机的铁耗、铜耗以及输出功率，进而得到电机的效率。 本次仿真的问题体现在得到的铁耗曲线不正确，与视频中的样子大相径庭，这可能是因为： (1)网格设置不正确； (2)没有完全准确的按照视频来操作或者视频中的内容不完整； (3)软件版本不一致（我用的是2021R1，视频版本为Maxwell 19）。 此外，网格设置也存在一些问题，前面的调试之中我明明成功按照视频操作看到了如图10所示的网格，但后面却无法复现了。 最后，需要进一步掌握开关磁阻电机的工作原理及相关的数学模型，下一篇文章将对此进行详细介绍。另外需要了解诸如“电感矩阵”这样的概念。","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"课题笔记/开关磁阻电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"},{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"开关磁阻电机","slug":"开关磁阻电机","permalink":"https://renahah.github.io/tags/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"}]},{"title":"电机学04-交流电机理论的共同问题","slug":"课程笔记/电机学/电机学04-交流电机理论的共同问题","date":"2024-06-25T08:48:00.000Z","updated":"2024-07-11T11:49:19.192Z","comments":true,"path":"课程笔记/电机学/电机学04-交流电机理论的共同问题/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E5%AD%A6/%E7%94%B5%E6%9C%BA%E5%AD%A604-%E4%BA%A4%E6%B5%81%E7%94%B5%E6%9C%BA%E7%90%86%E8%AE%BA%E7%9A%84%E5%85%B1%E5%90%8C%E9%97%AE%E9%A2%98/","excerpt":"","text":"为进一步掌握电机相关原理概念整理的电机学笔记。 根据视频电机学（哈尔滨理工大学）p22-p29整理，若有错误敬请指正。 交流电机绕组基本理论 注：本节内容来自于电机设计教学视频p10,p11（定子绕组设计）。 定子绕组分类 (1)按绕组排列分：分布式、集中式 (2)按相带分：120°、60°、30°（相带是电机每一项所占的角度大小） (3)按每极每相槽数\\(q\\)分：整数槽绕组、分数槽绕组 (4)按绕组层数：单层绕组、双层绕组 绕组设计基本要求 (1)对称：相间对称（三相绕组的基波电动势大小相等，相位互差120°）、并联支路对称 (2)基波尽可能大，谐波尽可能小。（电动势尽可能接近正弦波） 单层绕组的设计 适用场景：中心高160mm，功率10kW以下的电机。 优点：无层间绝缘，槽利用率高；不存在相间击穿，可靠性高；线圈少，工艺上容易实现，下线方便。 缺点：与双层绕组相比不能短距，磁势的谐波含量更高。 最划算的连接方式： 同心式：\\(2p=2\\)，\\(q\\)为偶数 链式：\\(2p \\geqslant 4\\)，\\(q\\)为偶数 交叉式：\\(q\\)为奇数 以\\(Z=36,2p=4,m=3\\)为例 \\(\\Rightarrow q=\\frac{Z}{2pm}=3\\) 电机槽号排列表如下： 表1 电机槽号排列表 A Z B X C Y 1,2,3 4,5,6 7,8,9 10,11,12 13,14,15 16,17,18 19,20,21 22,23,24 25,26,27 28,29,30 31,32,33 34,35,36 按照同心式连接，如下图所示： 图1 单层同心式连接 同心式的物理节距\\(y_1=11,y_2=9,y_3=7\\) 按照交叉式连接，如下图所示： 图2 单层交叉式连接 交叉式的物理节距\\(y_1=8,y_2=8,y_3=7\\) 按照链式（叠绕组）连接，如下图所示： 图3 单层叠绕组(a=1) 叠绕组物理节距\\(y_1=y_2=y_3=9\\) 综上，可以看出交叉式的节距和最小，这意味着交叉式接法最节省材料。 图3所示的单层叠绕组将一相绕组串联为一个支路，即并联支路数\\(a=1\\)。 这一相绕组也可以并联为两个支路\\((a=2)\\)，如下图所示。 图4 单层叠绕组(a=2) 对于单层绕组，每相最大并联支路数等于极对数\\((a_{max}=p)\\)。 双层绕组的设计 适用场景：10kW以上的电机。 本节主要讲解双层叠绕组，其优点是可以短距排列。 除了双层叠绕组之外，双层绕组还包括单双层绕组、低谐波绕组（双层同心不等匝绕组，\\(2p=2\\)，\\(q\\)比较大时适用）、不等匝绕组。 绕组节距的选择：从最能消除电机有害谐波的角度选取 对于单层绕组，\\(y=\\tau\\) 式中\\(\\tau\\)为极距，是每个主磁极在电枢表面占据的距离 其与电枢直径\\(D\\)的关系式为\\(\\tau=\\frac{\\pi D}{2p}\\)，在这里使用的关系式为\\(\\tau=\\frac{Z}{2p}=mq\\) 对于\\(2p \\geqslant 4\\)的双层绕组，取节距\\(y=\\frac{5\\tau}{6}\\)，以削弱5、7次谐波 对于\\(2p = 2\\)的双层绕组，取节距\\(y=\\frac{2\\tau}{3}\\)，避免端部连接过长 以\\(Z=36,2p=4,m=3\\)为例，按照双层叠绕组连接： 此时\\(\\tau=\\frac{Z}{2p}=9 \\quad q=\\frac{Z}{2pm}=3\\)，电机槽号排列表同前面单层绕组的表1。 图5 双层叠绕组(a=2) 为改善电动势与磁动势波形，双层绕组一般采用短距线圈（极距小于节距），这里取\\(y_1=7\\)。 上图一相绕组并联了两个支路，即并联支路数\\(a=2\\)，也可以并联1个或4个支路，其连接方法如下图所示： 图6 双层叠绕组线圈连接示意图 注：对于双层波绕组，可以取第一节距（同一元件两个元件边的距离）\\(y_1=8\\)，合成节距（两个相串联元件对应边的距离）\\(y=18\\)。 有关波绕组即电枢绕组的一些知识参见直流电机，这里不再赘述。 交流绕组的感应电动势 槽电动势星形图 槽距角\\(\\alpha\\)为相邻两槽间的机械角度，\\(\\alpha=\\frac{360^\\circ}{Z}\\)，上文中电机的槽距角\\(\\alpha=10^\\circ\\)。 槽距电角\\(\\alpha_1\\)为相邻两槽间导体感应电动势的相位差，取一对极的范围内的感应电动势的相位差为\\(360^\\circ\\)，因此\\(\\alpha_1=\\frac{p\\times 360^\\circ}{Z}=p\\alpha\\)，上文中电机的槽距电角\\(\\alpha_1=20^\\circ\\)。 各槽导体感应电动势大小相等，相邻槽导体电动势相位差相同。将各槽导体电动势相量画在一起，组成一个星形，称为槽电动势星形图。 图7 星形图与相带(a)120°相带；(b)60°相带 为确保三相绕组对称，可以将星形图圆周分为三等份，每份120°，称为120°相带，并将每个相带内的导体电动势串联起来，得到相电动势。但120°相带的各相量比较分散，这使得其相量和较小。 为了得到更大的合成感应电动势，通常采用60°相带。其中A、B、C相带正向串联，X、Y、Z相带反向串联，A与X、B与Y、C与Z互差180°，分别得到电动势相量\\(\\dot E_A\\)、\\(\\dot E_B\\)、\\(\\dot E_C\\)，它们的相量分布更为集中，可以得到更大的感应电动势。 导体电动势 图8 槽内导体沿定子圆周的分布情况 图9 正弦分布的主极磁场 图8所示为一台交流发电机定子槽内导体沿圆周分布的情况，励磁磁极由原动机拖动以转速\\(n_1\\)逆时针旋转。 图9为该发电机的气隙中的磁感应强度分布曲线，若磁极形状合理，则呈正弦分布，即\\(B(\\theta)=B_m cos\\theta\\) 旋转磁极在定子导体中的感应电动势\\(e_c=B(\\theta)lv=B_m lv cos\\theta=B_m lv cos\\omega t\\) 式中\\(l\\)为导体有效长度，\\(v\\)为磁极产生的磁场切割导体的线速度，单位m/s。 \\(\\omega=2\\pi f=2\\pi \\frac{pn_1}{60} \\quad \\theta=\\omega t\\) 感应电动势有效值\\(E_{c1}=\\frac{1}{\\sqrt 2}B_{m1}lv \\quad v=2p\\tau \\frac{n_1}{60}\\) 式中\\(B_{m1}\\)为磁感应强度基波幅值，单位Wb/㎡；\\(\\tau=\\frac{\\pi D}{2p}\\)是以长度记的极距，单位为m；\\(n_1\\)为转子转速，单位r/min。 注：可以推导出感应电动势频率公式\\(f=\\frac{pn_1}{60}\\) 对于正弦波磁感应强度，其每极磁通（磁感应强度每半个周波面积） \\(\\Phi_1=\\frac{2}{\\pi}B_{m1}\\tau l \\Rightarrow B_{m1}=\\frac{\\pi}{2}\\frac{\\Phi_1}{\\tau l}\\) 整理上述式子可得\\(E_{c1}=\\frac{\\pi}{\\sqrt 2}f\\Phi_1=2.22f\\Phi_1\\) 导体中感应电动势有效值与每极磁通量与频率得乘积成正比。 匝电动势与短距系数 图10 匝电动势与短距系数 线圈的基波电动势\\(E_{y1}=2 N_c E_{c1} k_{p}=4.44N_c k_p f\\Phi_1\\) 式中匝数为\\(N_c\\) 短距系数\\(k_p=sin(\\frac{y_1}{\\tau}\\frac{\\pi}{2})\\)，对于整距线圈\\(k_p=1\\) 线圈组电动势与分布系数 图11 线圈组电动势与分布系数 线圈组的基波电动势\\({E_{q1}} = q{E_{y1}}\\frac{ {\\sin \\frac{ {q{\\alpha _1}}}{2}}}{ {q\\sin \\frac{ { {\\alpha _1}}}{2}}} = q{E_{y1}}{k_d}=4.44 q N_c k_{dp}f\\Phi_1\\) 式中\\(q\\)为线圈个数，\\(k_{dp}=k_d k_p\\)为基波绕组系数 分布系数\\(k_d=\\frac{ {\\sin \\frac{ {q{\\alpha _1}}}{2}}}{ {q\\sin \\frac{ { {\\alpha _1}}}{2}}}\\)，对于集中绕组\\(q=1,k_d=1\\) 相电动势 相电动势\\(E_{\\Phi 1}=4.44N k_{dp} f\\Phi\\) \\(N\\)为一相绕组串联总匝数。若为单层绕组，则\\(N=\\frac{pqN_c}{a}\\)；若为双层绕组，则\\(N=\\frac{2pqN_c}{a}\\)。 谐波电动势 实际电机中的气隙磁场空间分布非正弦波，这使得定子绕组内的感应电动势也非正弦波，可以分解为基波和一系列谐波。 图12 主磁极产生的气隙磁场波形及其分解 图中展示了基波、3次谐波与5次谐波。 对于\\(v\\)次谐波磁场，其极对数\\(p_v=vp\\)，极距\\(\\tau_v=\\frac{\\tau}{v}\\)，转速\\(n_v=n_1\\)。 \\(v\\)次谐波电动势频率\\({f_v } = \\frac{ { {p_v }{n_v }}}{ {60}} = \\frac{ {v p{n_1}}}{ {60}} = vf\\) \\(v\\)次谐波电动势有效值\\({E_{\\Phi v }} = \\sqrt 2 {\\pi}N{k_{Nv }}{f_v }{\\Phi_v } = 4.44N{k_{Nv }}{f_v }{\\Phi_v}\\) \\({k_{pv }} = \\sin (v \\frac{ { {y_1}}}{\\tau }\\frac{\\pi}{2})\\quad {k_{dv }} = \\frac{ {\\sin \\frac{ {qv {\\alpha_1}}}{2}}}{ {q\\sin \\frac{ {v {\\alpha_1}}}{2}}}\\quad {k_{dpv }} = {k_{dv }}{k_{pv }}\\) 当算出基波和各次谐波电动势的有效值后，可得出相电动势的有效值为 \\({E_\\Phi } = \\sqrt {E_{\\Phi 1}^2 + E_{\\Phi 3}^2 + E_{\\Phi 5}^2 + E_{\\Phi 7}^2...}\\) 削弱谐波电动势的方法： (1)使气隙中磁场分布尽可能接近正弦波； (2)采用对称的三相绕组，消除线电动势中3及3的倍数次谐波； (3)采用短距绕组，节距\\({y_1} = \\tau - \\frac{\\tau }{v}\\)的绕组可以消除\\(v\\)次谐波； （通常选节距\\(y=\\frac{5\\tau}{6}\\)，可以削弱5、7次谐波） (4)采用分布绕组。（\\(q\\)通常取\\(2 \\sim 6\\)） 交流绕组的磁动势 首先做出如下假设： (1)槽内导体集中于槽中心处； (2)线圈中电流为正弦波（忽略谐波）； (3)铁芯不饱和，磁动势全部在气隙上。 （假设铁磁材料磁导率为无限大\\(\\mu_{Fe}=\\infty\\)，这使得铁芯上的磁阻近似为零） 单相绕组的脉振磁动势 图13 单相绕组磁动势 对于上图所示的三相单层绕组\\(Z=6\\)，\\(p=1\\)。 \\(q=1\\)，相当于集中绕组，每相只有1个整距线圈。 A相通交流电流\\(i\\)后，将产生一个2极磁场。每根磁力线所构成的磁通闭合回路的磁动势均为\\(iN_c\\)。略去定、转子铁心中的磁阻，该磁动势消耗在两个气隙中，每个气隙中消耗的磁动势\\(F=\\frac{iN_c}{2}\\)。 将气隙圆周展开，得到磁动势沿圆周的空间分布波形。气隙圆周某点的磁动势表示由该定子磁动势所产生的气隙磁通通过该点气隙的磁压降。 磁动势波形为矩形波。当线圈电流\\(i\\)随时间按正弦规律交变时，矩形波的高度为 \\(F_y=\\frac{\\sqrt 2}{2}N_c I_c sin\\omega t\\) （即矩形波随着时间变化上下振动，变化的快慢取决于电流的频率） 将坐标原点取在线圈AX的中心线上，利用傅里叶级数将该磁动势波形展开为如下级数形式： 图14 磁动势基波及各次谐波 基波\\(v=1\\)及\\(v\\)次谐波值为： \\({F_{yv }} = \\frac{2\\sqrt 2}{\\pi}\\frac{N_c I_c}{v}\\sin(v\\frac{\\pi}{2})sin\\omega t = 0.9\\frac{N_c I_c}{v}\\sin(v\\frac{\\pi}{2})sin\\omega t\\) 注：\\(\\frac{2\\sqrt 2}{\\pi} \\approx 0.9\\) 在空间的任何一点，磁动势的大小随时间按正弦规律变化。这种空间位置固定不动，但波幅的大小和正负随时间变化的磁动势称为脉振磁动势。 分布绕组的磁动势 图15 分布绕组的磁动势 对于上图所示的三相单层绕组\\(Z=18\\)，\\(p=1\\)。 \\(q=3\\)，每相有1个线圈组，每个线圈组有3个整距线圈。 \\(A_1 X_1\\)、\\(A_2 X_2\\)、\\(A_3 X_3\\)串联成一个线圈组，构成A相绕组。A相通交流电流\\(i\\)后，产生一个2极磁场。 采用磁动势迭加原理，三个线圈分别产生矩形波磁动势。磁动势波形一样，依次位移槽距电角\\(\\alpha_1\\)度。 各线圈磁动势的基波分量为空间分布正弦波，和时间相量相似，可以用空间矢量来表示。 磁动势空间矢量的长度代表幅值的大小，矢量的位置代表幅值所处的空间位置。 图16 分布绕组的合成磁动势 将三个矩形波叠加起来，得到分布绕组磁动势波形为阶梯波。 合成磁动势为脉振磁动势。合成磁动势基波幅值位于线圈组的中心线上。 将坐标原点取在线圈组的中心线上，基波磁动势波表达式为\\({f_{q1}}(t,\\theta)={F_{q1}}\\cos\\theta\\) 将各线圈的基波磁动势矢量相加得到分布相绕组磁动势基波矢量。 考虑到一般情况，对于\\(q\\)个线圈构成的线圈组，与线圈组电动势的推导相似，可推导出单层分布相绕组合成磁动势基波幅值为： \\({F_{q1}} = q{F_{y1}}k_{d1}=0.9q{N_c}{k_{d1}}{I_c}\\sin \\omega t\\) 其中\\(k_{d1}=\\frac{ {\\sin \\frac{ {q{\\alpha_1}}}{2}}}{ {q\\sin \\frac{ { {\\alpha_1}}}{2}}}\\) 式中\\(k_{d1}\\)为基波磁动势的分布系数，同电动势的分布系数具有相同的物理意义。 双层短距分布绕组的磁动势 图17 双层短距分布绕组的磁动势 以\\(Z=18\\)，\\(p=1\\)，\\(y_1=7\\)的三相双层绕组为例。 每相有2个线圈组，\\(q=3\\)，每个线圈组有3个短距线圈。 线圈\\(A_1 X_1\\)、\\(A_2 X_2\\)、\\(A_3 X_3\\)成一个线圈组，线圈\\(A_4 X_4\\)、\\(A_5 X_5\\)、\\(A_6 X_6\\)构成一另个线圈组。 A相通交流电流\\(i\\)后，产生一个2极磁场。 采用磁动势迭加原理，\\(A_1 \\sim A_6\\)中电流单独作用，将\\(A_1 A_4\\)、\\(A_2 A_5\\)、\\(A_3 A_6\\)分别看成是一个线圈，形成了一个单层整距分布绕组； \\(X_1 \\sim X_6\\)中电流单独作用，将\\(X_1 X_4\\)、\\(X_2 X_5\\)、\\(X_3 X_6\\)分别看成是一个线圈，形成另一个单层整距分布绕组。 （交叉重组？？？） 两个单层分布绕组产生的磁动势如图17所示，均为阶梯波。两个阶梯波合成即得相绕组磁动势仍为阶梯波。 图18 双层短距分布绕组的合成磁动势 将两个单层整距分布绕组的基波磁动势矢量相加得到相绕组磁动势基波矢量。 \\({F_{\\Phi 1}}=2{F_{q1}}{k_{p1}}=2{F_{q1}}\\sin (\\frac{y_1}{\\tau}\\frac{\\pi}{2})\\) \\(k_{p1}\\)为基波磁动势的短距系数，同电动势的短距系数具有相同的物理意义。 可以进而推出： \\(F_{\\Phi 1}=2{F_{q1}}{k_{p1}}=2 \\left[0.9q{N_c}{k_{d1}}{I_c}\\sin \\omega t \\right]{k_{p1}}\\) \\(=0.9 \\frac{ {\\frac{ {2pq{N_c}}}{a} {k_{p1}}{k_{d1}}\\left( {a{I_c}} \\right)}}{p}\\sin \\omega t =0.9 \\frac{ {N{k_{N1}}I}}{p}\\sin \\omega t = {F_{m\\Phi 1}}\\sin \\omega t\\) 式中\\(k_{N1}={k_{p1}}{k_{d1}}\\)为基波磁动势绕组系数；\\(I=aI_c\\)为相电流有效值；\\(N\\)为双层绕组每相串联匝数，其公式与电动势中的每相串联匝数相同。 \\(F_{m\\Phi 1}=0.9 \\frac{ {N{k_{N1}}I}}{p}\\)称为相绕组脉振磁动势的振幅，它表示相绕组脉振磁动势幅值的最大值。 图19 相绕组基波磁动势 将坐标原点取在相绕组轴线（即线圈组中心线）上，从而得到相绕组磁动势基波的表达式为 \\({f_{\\Phi 1}}(t,\\theta) = {F_{\\Phi 1}}cos \\theta = {F_{m\\Phi 1}}\\sin \\omega t cos \\theta\\) 既与时间有关，又与空间有关。 相绕组磁动势\\(v\\)次谐波的表达式为 \\({f_{\\Phi v}}(t,\\theta)={F_{m\\Phi v}}\\sin \\omega t\\cos v\\theta\\) \\(F_{m\\Phi v}=0.9\\frac{N{k_{Nv}}I}{vp}\\) 单相绕组磁动势特点： (1)单相绕组磁动势的性质是脉振磁动势，它既是时间的函数又是空间角度函数； (2)基波、谐波的波幅必在相绕组的轴线上； (3)\\(ν\\)次谐波磁动势幅值与\\(k_{Nν}\\)成正比，与\\(ν\\)成反比，因此，可以采用短距和分布绕组来削弱高次谐波。 三相绕组合成磁动势 A、B、C三相对称绕组流过三相电流对称电流，设三相电流瞬时值表达式如下 \\(\\left\\{ {\\begin{array}{*{20}{c}} {i_A = \\sqrt 2 Isin\\omega t} \\\\ {i_B = \\sqrt 2 Isin(\\omega t - 120^\\circ ) } \\\\ {i_C = \\sqrt 2 Isin(\\omega t - 240^\\circ)} \\end{array}} \\right.\\) A、B、C每相绕组产生的磁动势均为脉振磁动势，其基波的幅值位于各相绕组轴线上。 三相绕组轴线在空间相差120°电角度，各相绕组磁动势基波空间相位差为120°电角度。将空间坐标原点取在A相绕组的轴线上，于是三相绕组脉振磁动势基波的表达式分别为： \\(\\left\\{ {\\begin{array}{*{20}{c}} f_{A1}(t,\\theta) = F_{m\\Phi 1}sin\\omega t cos\\theta \\\\ f_{B1}(t,\\theta) = F_{m\\Phi 1}sin(\\omega t - 120^\\circ) cos(\\theta - 120^\\circ) \\\\ f_{C1}(t,\\theta) = F_{m\\Phi 1}sin(\\omega t - 240^\\circ) cos(\\theta - 240^\\circ) \\end{array}} \\right.\\) 图20 三相绕组基波磁动势 \\(\\omega t=90^\\circ\\)时的三相绕组基波磁动势如上图所示，代入前面的表达式得： \\(\\left\\{ {\\begin{array}{*{20}{c}} f_{A1}(\\theta) = F_{m\\Phi 1}cos\\theta \\\\ f_{B1}(\\theta) = -0.5F_{m\\Phi 1}cos(\\theta - 120^\\circ) \\\\ f_{C1}(\\theta) = -0.5F_{m\\Phi 1}cos(\\theta - 240^\\circ) \\end{array}} \\right.\\) 可以看到此时A相电流最大，合成磁动势与A相绕组的轴线重合。 三相合成基波表达式： \\(f_1(t,\\theta)=f_{A1}(t,\\theta)+f_{B1}(t,\\theta)+f_{C1}(t,\\theta)\\) \\(=\\frac{3}{2}F_{m\\Phi 1}sin(\\omega t-\\theta)=F_1sin(\\omega t-\\theta)\\) 式中三相合成磁动势基波的幅值\\(F_1=\\frac{3}{2}F_{m\\Phi 1}=1.35\\frac{N{k_{N1}}I}{p}\\) 三相合成磁动势基波在空间旋转，波幅不变（行波）。 三相合成磁动势基波旋转的电角速度\\(\\omega_1=2\\pi f\\)，单位为\\(rad/s\\)；转速\\(n_1=\\frac{60}{2\\pi}\\frac{\\omega_1}{p}=\\frac{60f}{p}\\)，单位\\(r/min\\)。 某相电流达到正最大值时，合成磁动势与该相绕组的轴线重合。旋转磁动势的转向与三相电流的相序有关。改变电流的相序可以改变旋转磁动势的转向。 三相绕组合成磁动势基波的特点： (1)三相对称绕组通入三相对称电流产生的三相合成磁动势基波是一个波幅恒定不变的旋转磁动势，其幅值等于每相脉振磁势振幅\\(F_{m\\Phi 1}\\)的\\(\\frac{3}{2}\\)倍； (2)合成磁动势基波的转速\\(n_1\\)与三相电流的频率和绕组的极对数有关； (3)当某相电流达到最大值时，合成磁动势的波幅刚好转到该相绕组的轴线上； (4)电流在时间上经过多少角度，合成磁动势在空间上转过相同的电角度； (5)旋转磁动势由超前相电流所在的相绕组轴线转向滞后相电流所在的相绕组轴线（图中顺序为A→B→C）。改变电流的相序，则旋转磁动势改变转向。 三相绕组合成磁动势谐波： \\(f_3(t,\\theta)=f_{A3}(t,\\theta)+f_{B3}(t,\\theta)+f_{C3}(t,\\theta)=0\\) \\(f_5(t,\\theta)=\\frac{3}{2}F_{m\\Phi 5}sin(\\omega t+5\\theta)\\) \\(f_7(t,\\theta)=\\frac{3}{2}F_{m\\Phi 5}sin(\\omega t-7\\theta)\\) 在三相对称绕组中，合成磁动势不存在3次及3的倍数次谐波，即不存在\\(3,9,15,\\cdots\\)次谐波。 三相5次谐波的合成磁动势是一个幅值恒定的旋转波，其转速是基波转速的\\(\\frac{1}{5}\\)，即\\(n_5=\\frac{n_1}{5}\\)，转向与基波磁动势转向相反。 三相7次谐波的合成磁动势也是一个幅值恒定的旋转波，其转速是基波转速的\\(\\frac{1}{7}\\)，即\\(n_7=\\frac{n_1}{7}\\)，转向与基波磁动势转向相同。 普遍讲，当\\(v=6k-1\\quad (k=1,2,\\cdots)\\)时，三相合成与基波转向相反；当\\(v=6k+1\\quad (k=1,2,\\cdots)\\)时，三相合成谐波磁动势与基波转向相同。 合成\\(ν\\)次谐波磁动势的转速是基波转速的\\(\\frac{1}{v}\\)，即\\(n_v=\\frac{n_1}{v}\\)。 圆形和椭圆形旋转磁动势 在对称的三相绕组中流过对称的三相电流时，气隙中的合成磁动势是一个幅值恒定、转速恒定的旋转磁动势，其波幅的轨迹是一个圆，故这种磁动势称为圆形旋转磁动势，相应的磁场称为圆形旋转磁场。 当三相电流不对称时，可以利用对称分量法，将它们分解成为正序分量和负序分量以及零序分量。 三相零序电流产生的合成磁动势为零。正序电流将产生正向旋转磁动势\\(F_+\\)，而负序电流将产生反向旋转的磁动势\\(F_-\\)。 图21 不对称电流产生的椭圆形旋转磁动势 交流绕组磁动势的通用表达式为： \\(f(t,\\theta) = F_+\\cos(\\omega t-\\theta) + F_-\\cos(\\omega t+\\theta)\\) 当\\(F_+=0\\)或\\(F_-=0\\)时，就得到圆形旋转磁动势； 当\\(F_+\\)和\\(F_-\\)都存在、且\\(F_+ \\ne F_-\\)时，便是椭圆形旋转磁动势； 当\\(F_+=F_-\\)时，便得到脉振磁动势（一条不断伸缩的线段）。 一个脉振磁动势可分解成两个旋转磁动势。 电机的发热与温升 温升与温升限值 电机的温度限制主要取决于绝缘材料，温度过高会使绝缘材料加速老化，影响电机的使用寿命。 电机中常用的绝缘材料，按照耐热能力可分为A、E、B、F、H、C等级，如下表所示。 表2 绝缘等级与温度限值 绝缘等级 A E B F H C 温度限值/℃ 105 120 130 155 180 &gt;180 一般电机多用E级与B级绝缘。 电机工作温度与周围环境温度之差被称作温升，它反映电机的发热与散热情况。 温升限值取决与环境温度与温度限值，一般会留有一定裕量，使温升限值小于环境温度与温度限值的差值。 国家规定环境温度取40℃，在此基础上，可以确定E级与B级绝缘材料的温升限值为75℃与80℃，其他绝缘材料同理。 电机的发热与冷却过程 将电机近似为一个均值等温体（物体各点温度相同，表面各处散热能力一致），假设均值等温体在时刻\\(t\\)的温升为\\(\\tau\\)，则温度变化的方程为（解方程过程略）： \\(\\tau=\\tau_\\infty(1-e^{-\\frac{t}{T}})+\\tau_0 e^{-\\frac{t}{T}}\\) 式中\\(\\tau_\\infty\\)为稳态温升（此时产生的热量与散发的热量保持相等，温度不再上升），\\(\\tau_0\\)为初始温升，\\(T\\)为时间常数。 若物体的初始温度与环境温度相等，即\\(\\tau_0=0\\)，则有发热过程曲线： \\(\\tau=\\tau_\\infty(1-e^{-\\frac{t}{T}})\\) 若物体最终的温度与环境温度相等，即\\(\\tau_\\infty=0\\)，则有冷却过程曲线： \\(\\tau=\\tau_0 e^{-\\frac{t}{T}}\\) 这两个曲线皆为指数曲线，如下图所示。 图21 不对称电流产生的椭圆形旋转磁动势 电机的工作制 (1)连续工作制 (2)短时工作制 我国规定有15min、30min、45min、60min四种短时工作制。 (3)断续周期工作制 我国规定周期为10min，负载工作持续率有15%、25%、45%、60%四种。 电机的冷却方式 按冷却介质是否进入导体内部，分为表面冷却与内部冷却两种。 中小型电机常采用表面冷却，大型同步发电机多采用内部冷却。 表面冷却分为自然冷却、自扇冷却、它扇冷却与管道通风冷却四种方式。 自扇冷却分为内部自扇冷却与外部自扇冷却。 内部自扇冷却分为径向通风与轴向通风两种。 内部冷却时冷却介质采用氢气或纯净水。常采用空心导体，使得冷却介质通入导体内部。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机学","slug":"课程笔记/电机学","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E5%AD%A6/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机学","slug":"电机学","permalink":"https://renahah.github.io/tags/%E7%94%B5%E6%9C%BA%E5%AD%A6/"}]},{"title":"电机学03-变压器（下）","slug":"课程笔记/电机学/电机学03-变压器（下）","date":"2024-06-20T04:20:56.000Z","updated":"2024-06-24T07:38:39.055Z","comments":true,"path":"课程笔记/电机学/电机学03-变压器（下）/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E5%AD%A6/%E7%94%B5%E6%9C%BA%E5%AD%A603-%E5%8F%98%E5%8E%8B%E5%99%A8%EF%BC%88%E4%B8%8B%EF%BC%89/","excerpt":"","text":"为进一步掌握电机相关原理概念整理的电机学笔记。 根据视频电机学（哈尔滨理工大学）p11-p19整理，若有错误敬请指正。 三相变压器 三相变压器的分类 三相变压器按磁路可分为三相变压器组与芯式变压器两类。 三相变压器组由三个单相变压器连接而成。各相主磁通有独立的磁路，互不关联。一次侧外加三相对称电压时，各相主磁通\\(\\dot \\Phi_A,\\dot \\Phi_B,\\dot \\Phi_C\\)对称，各相空载电流对称。 图1 三相变压器组 三相芯式变压器如下图所示，一次侧外加三相对称电压时，三相主磁通对称，中间铁芯柱内磁通\\(\\dot \\Phi_A+\\dot \\Phi_B+\\dot \\Phi_C=0\\)，所以可以将中心的铁芯柱去掉如图(b)所示，在图(b)的基础上再将铁芯放置在同一平面上，得到图(c)，降低制造难度。 图2 三相芯式变压器 目前三相芯式变压器更为常用，部分大容量变压器采用的是三相变压器组，以方便运输。 三相变压器的连接 三相变压器的高压首端采用A,B,C标记，末端采用X,Y,Z，中性点为O；低压首端与末端采用对应的小写字母a,b,c,x,y,z。 三相变压器的连接方法主要有星型连接(Y接)与角型连接(Δ接、D接)两种，如下图所示。 图3 三相变压器的连接方法 其中，Δ型连接有两种接法，一种是图中所示的AX→CZ→BY，另一种接法是AX→BY→CZ，前者更为常用。 按照高压侧与低压侧接法的不同，变压器的接法一共有四种，分别是Yy、Yd、Dy、Dd。其中Dd表示的是高压与低压侧均采用Δ型连接，这种接法在现实中不采用，其余三种接法比较常用。 【补充电路原理知识】 Y接：\\(\\dot E_{AB}=\\dot E_A-\\dot E_B = \\sqrt 3 \\angle 30° \\dot E_A\\) 线电压超前于相电压30°，幅值为相电压\\(\\sqrt 3\\)倍；线电流与相电流相等。 Δ接：\\(\\dot I_A=\\dot I_{A&#39;B&#39;}-\\dot I_{C&#39;A&#39;}= \\sqrt 3 \\angle -30° \\dot I_{AB}\\) 线电流滞后于相电流30°，幅值为相电流\\(\\sqrt 3\\)倍；线电压与相电压相等。 图4 Y型与Δ型连接 单项变压器的连接组 单相变压器高低压绕组的相位关系有同向和反向两种。 图5 单项变压器的连接组 左图从首端A,a看去，两绕组绕向相同，\\(\\dot E_A\\)、\\(\\dot E_a\\)与主磁通\\(\\dot \\Phi_m\\)均符合右手螺旋法则，\\(\\dot E_A\\)与\\(\\dot E_a\\)同相位。等效电路如左图(c)所示，此时A与a是同名端。 右图从首端A,a看去，两绕组绕向相反，只有\\(\\dot E_A\\)与主磁通\\(\\dot \\Phi_m\\)均符合右手螺旋法则，\\(\\dot E_a\\)不符合，\\(\\dot E_A\\)与\\(\\dot E_a\\)反相位。等效电路如右图(c)所示，此时A与x是同名端，A与a是异名端。 连接组的表示方法为时钟表示法，该方法将高压绕组的电动势相量作为长针指向0点（竖直向上不是12点，毕竟又不是真正的时钟），低压绕组的电动势相量作为短针，并观察其指向对应的表盘数字（连接组号）。 左图连接组为\\(Ii0\\)，\\(I\\)和\\(i\\)表示高压与低压绕组为单相，0是连接组号，即低压绕组的电动势相量指向0点。 同理右图连接组为\\(Ii6\\)，低压绕组的电动势相量指向6点，也就是竖直向下的方向。 注：当两个互感线圈通入电流，所产生的磁通方向相同时，两个线圈的电流流入端称为同名端。 图6 同名端 如图5的两个线圈，左边线圈的电流是从1端流入，右边线圈的电流是从3端流入，两线圈产生的磁通方向是一致的（顺时针方向），则1端和3端为同名端，2端和4端为同名端，1端和4端为异名端，2端和3端为异名端。 换一种说法判定图4的同名端：对于变压器而言，A,B,C,a,b,c是线圈的电流流入端，按照电流方向、线圈绕组绕向以及右手螺旋法则，确定磁通\\(\\Phi\\)的方向，若二者方向相同，则两个电流流入端为同名端，反之则为异名端。 三项变压器的连接组 对于三相变压器，同样适用于时钟表示法，即连接组号为\\(\\dot E_{ao}\\)滞后于\\(\\dot E_{Ao}\\)的相角除以30。 理论上Yy接法和Dd的连接组号可以为0、2、4、6、8、10，Yd接法和Dy接法的连接组号可以为1、3、5、7、9、11。 实际上对于1600kVA以下配电变压器采用Yy0、Dy11，1600kVA以上采用Yd11、Dy11。 (1)Yy0连接组 高压侧与低压侧为Y接，高压侧与低压侧电动势同相位。 图7 Yy0连接组 相电动势\\(\\dot E_A,\\dot E_B,\\dot E_C\\)，对称互差120°，\\(\\dot E_{AB}=\\dot E_A-\\dot E_B\\) 对应的低压侧电动势与高压侧同方向。 (2)Yd11连接组 高压侧Y接，低压侧Δ接，\\(\\dot E_{ao}\\)滞后于\\(\\dot E_{Ao}\\) 330°（\\(\\dot E_{Ao}\\)超前于\\(\\dot E_{ao}\\) 30°） 图8 Yd11连接组 其中\\(\\dot E_A\\)与\\(\\dot E_{ca}\\)反方向；\\(\\dot E_B\\)与\\(\\dot E_{ab}\\)反方向；\\(\\dot E_C\\)与\\(\\dot E_{bc}\\)反方向。 (3)Dy11连接组 高压侧Δ接，低压侧Y接，\\(\\dot E_{ao}\\)滞后于\\(\\dot E_{Ao}\\) 330°（\\(\\dot E_{Ao}\\)超前于\\(\\dot E_{ao}\\) 30°） 图9 Dy11连接组 三相变压器的激磁电流、主磁通和感应电动势波形 在单项变压器空载运行时，若外施电压\\(u\\)波形为正弦波，由于\\(u \\approx e \\propto \\Phi\\)，感应电动势\\(e\\)与主磁通\\(\\Phi\\)的波形也为正弦波。 若磁路饱和，励磁电流\\(i_0\\)波形将为尖顶波，尖顶波中除了基波外，还会包含较强的三次谐波，以及其他较弱的奇数次谐波（一般被忽略），如下图所示。 图10 正弦波电压产生的电流波形 同理，若励磁电流为正弦波，由于磁路的非线性，主磁通波形为平顶波，平顶波中除了基波外，还会包含较强的三次谐波，以及其他较弱的奇数次谐波（一般被忽略），如下图所示。 图11 正弦波电流产生的磁通波形 (1)Yy连接的三相变压器 各相绕组的三次谐波相位差为120°×3=360°，即各相绕组的三次谐波同相位。 三相变压器组的磁路相互独立，当励磁电流为正弦波，主磁通波形为平顶波时，主磁通\\(\\Phi\\)的三次谐波和基波一样可以沿铁芯闭合，且在铁芯饱和的情况下含量较大。 三次谐波电动势幅值可以达到基波幅值的45%~60%，甚至更大。 由于三次谐波电动势同相位，故线电动势不存在三次谐波，而在高压相绕组中，相电动势最大值可达到\\(E_{11m}+E_{13m}\\)，可能损坏绝缘，因此三相变压器组不能采用Yy连接。 三相芯式变压器磁路各相磁路相互关联。 对于三相基波磁通，\\(\\dot \\Phi_{A1}+\\dot \\Phi_{B1}+\\dot \\Phi_{C1}=0\\)。 但对于三相谐波磁通，三相同相位，\\(\\dot \\Phi_{A3}=\\dot \\Phi_{B3}=\\dot \\Phi_{C3}\\)，不能沿铁芯闭合，会从铁轭处散射出去，穿过一段间隙，借道油箱壁闭合。 因此三相谐波磁通会遇到很大的磁阻，被大大的削弱，使得主磁通波形接近正弦波。 因此相电动势三次谐波很小，电动势波形接近正弦波。 由于三次谐波磁通通过油箱壁和其他铁构件时会产生涡流损耗，从而降低变压器效率，因此只在变压器容量不大于1600kVA时采用这种连接组。 (2)Dy及Yd连接的三相变压器 对于Dy连接的三相变压器，一次侧为角接，三相同相位的三次谐波电流可以流通，因此励磁电流中存在所需要的三次谐波分量，使主磁通与相电动势波形呈正弦波。 铁芯中的主磁通取决于一次侧绕组与二次侧绕组的合成磁动势，所以角接绕组在一次侧与二次侧没有区别，上诉结论亦适用于Yd连接的三相变压器。 容量大于1600kVA的三相变压器只能用Dy及Yd连接。 注：这一小节内容没完全搞明白，因此只摘抄总结了书上的内容。以后若有时间或者课题需要会结合视频内容重新整理。 标幺值 标幺值又称相对值，是实际值与基值的比值。 标幺值右上角标有“ * ”号。 基值通常为额定值。 (1)单相变压器 电压基值\\(U_b\\)： 一次侧电压基值\\(U_{1b}=U_{1N}\\)；二次侧电压基值\\(U_{2b}=U_{2N}\\) 电流基值\\(I_b\\)： 一次侧电流基值\\(I_{1b}=I_{1N}\\)；二次侧电流基值\\(I_{2b}=I_{2N}\\) 容量基值\\(S_b=S_N=I_{1N}U_{1N}=I_{2N}U_{2N}=I_{1b}U_{1b}=I_{2b}U_{2b}\\) (2)三相变压器 线电压\\(U_{Lb}=U_{LN}\\) 线电流\\(I_{Lb}=I_{LN}\\) 相电压\\(U_{\\Phi b}=U_{\\Phi N}\\) 相电流\\(I_{\\Phi b}=I_{\\Phi N}\\) 容量\\(S_b=S_N=\\sqrt 3 U_{Lb}I_{Lb}=\\sqrt 3 U_{N}I_{N}=3 U_{\\Phi b}I_{\\Phi b}=3 U_{\\Phi N}I_{\\Phi N}\\) 注：三相变压器额定值是线值 阻抗基值\\(Z_b=\\frac{U_{\\Phi b}}{I_{\\Phi b}}=\\frac{U_{\\Phi N}}{I_{\\Phi N}}\\) 电阻\\(R\\)与电抗\\(Z\\)的基值也是阻抗基值。 举例：\\(U_{2\\Phi}^ * =\\frac{U_{2\\Phi}}{U_{2\\Phi b}}=\\frac{U_{2\\Phi}}{U_{2\\Phi N}} \\quad X_{2\\sigma}^*=\\frac{X_{2\\sigma}}{Z_{2b}}\\) (3)标幺值的特点 1.额定容量、额定电压、额定电流的标幺值均为1 （额定有功功率标幺值不是1） 2.相、线的对应标幺值相等 \\(U_\\Phi^*=U_L^* \\quad I_\\Phi^*=I_L^*\\) 3.单相与三相变压器功率表达式相同 \\(S^*=U^* I^*\\) \\(P^*=U^* I^* cos\\varphi=S^* cos\\varphi\\) \\(Q^*=U^* I^* sin\\varphi=S^* sin\\varphi\\) 4.归算前后的值相等 例：\\(I_2^*=\\frac{I_2}{I_{2N}}=\\frac{I_2/k}{I_{2N}/k}=\\frac{I_2&#39;}{I_{1N}}=I_2^{&#39;*}\\) 5.基本方程组的形式不变 （可以将基本方程组中归算前后的值都转为标幺值，运算更为简便） 6.不论电力变压器容量差距多大，标幺值表示的参数及性能数据变化范围较小 例：空载电流\\(I_0^*=0.5\\% \\sim 2.5\\%\\)，短路阻抗\\(Z_k^*=4\\% \\sim 10.5\\%\\) 变压器的变化率和效率 电压变化率 电压变化率用于描述二次侧电压随负载变化而变化的大小。 电压变化率\\(\\Delta U\\%\\)定义为变压器一次侧绕组施加额定电压，空载与负载两种工况下，二次侧电压之差与额定电压之比。 \\(\\Delta U\\%=\\frac{U_{20}-U_2}{U_{2N}}\\times 100\\%=\\frac{U_{2N}-U_2}{U_{2N}}\\times 100\\%=\\frac{U_{1N}-U_2&#39;}{U_{1N}}\\times 100\\%\\) \\(\\Delta U\\%=\\beta (R_k^* cos\\varphi_2 + X_k^* sin\\varphi_2)\\times 100\\%\\) 式中\\(\\beta=\\frac{I_1}{I_{1N}}=\\frac{I_2}{I_{2N}}\\)为负载系数，也可以看作标幺值。 证明过程略，由证明结果可知电压变化率与短路参数、负载系数、负载功率因数有关。 电力变压器中一般\\(X_k \\gg R_k\\)。 负载为纯电阻时，\\(cos\\varphi_2=1,sin\\varphi_2=0\\)，\\(\\Delta U\\%\\)很小； 负载为感性负载时，\\(\\varphi_2&gt;0\\)（\\(\\varphi_2\\)滞后），\\(cos\\varphi_2\\)与\\(sin\\varphi_2\\)均为正，\\(\\Delta U\\%&gt;0\\)，二次侧电压\\(U_2\\)随电流\\(I_2\\)的增大而下降； 负载为容性负载时，\\(\\varphi_2&lt;0\\)（\\(\\varphi_2\\)超前），\\(cos\\varphi_2&gt;0\\)，\\(sin\\varphi_2&lt;0\\)，若\\(|R_k^* cos\\varphi_2|&lt;|X_k^* sin\\varphi_2|\\)，则\\(\\Delta U\\%&lt;0\\)，二次侧电压\\(U_2\\)随电流\\(I_2\\)的增大而升高。 效率 \\(\\eta = \\frac{P_2}{P_1} \\times 100 \\% = \\frac{P_1-\\sum p}{P_1} \\times 100 \\%\\) 式中\\(P_1\\)为一次侧绕组输入有功功率，\\(P_2\\)为二次侧绕组输出有功功率。 \\(\\sum p=p_{Fe}+p_{Cu}\\)为损耗，主要包括铁耗与铜耗两部分。 由前文可知，铁耗\\(p_{Fe}=C_{Fe}f^{1.3}B_m^2V_{Fe}\\) \\(B_m \\propto \\Phi_m \\propto E_1 \\propto U_1 \\quad p_{Fe} \\approx p_0\\) 可以将额定电压下的空载损耗\\(p_0\\)视为铁耗（不变损耗），其值不随负载变化而变化。 铜耗\\(p_{Cu}=m I_1^2 R_1 + m I_2^2 R_2=m I_1^2 R_1+ mI_2&#39;^2 R_2{&#39;}\\) \\(\\approx mI_2&#39;^2 R_k{&#39;}={I_2^*}^2 p_{kN}=\\beta^2 p_{kN}\\) 式中\\(p_{kN}=mI_{1N}^2 R_k{&#39;}\\) 可以将额定电流下的短路损耗\\(p_{kN}\\)视为铜耗（可变损耗）。 由\\(P_2=mU_2I_2cos\\varphi_2 \\approx mU_{20}I_2cos\\varphi_2 = mU_{2N}I_2cos\\varphi_2=\\beta S_N cos\\varphi_2\\) 可知\\(\\eta = \\frac{P_2}{P_2+p_{Fe}+p_{Cu}}=1-\\frac{p_{Fe}+p_{Cu}}{P_2+p_{Fe}+p_{Cu}}=\\frac{\\beta S_N cos\\varphi_2}{\\beta S_N cos\\varphi_2+p_0+\\beta^2 p_{kN}}\\times 100 \\%\\) 图12 变压器的效率特性 效率随负载变化的曲线\\(\\eta f(\\beta)\\)如上图所示。 该函数的极大值可以通过求导获得，当\\(\\frac{d\\eta}{d\\beta}=0\\)时取得效率的极大值。 经过计算可知极大值在\\(\\beta_m=\\sqrt\\frac{p_0}{p_{kN}}\\)处取得，\\(\\beta_m\\)被称作负载系数。 \\(\\Rightarrow \\beta_m^2 p_{kN}=p_0\\)，即铜耗与铁耗相等时，变压器效率达到最大值。 变压器的并联运行 图13 两台变压器并联运行 变压器的并联运行指将变压器的一次侧、二次侧的端子连接到对应的公共母线上，共同对负载供电，如上图所示。 并联运行常用于大容量变电站，可以提高供电的可靠性。 变压器并联运行的理想条件是： (1)空载时并联的各变压器一次侧间无环流； (2)负载时各变压器的负载率相同； (3)电流方向相同。 为达到理想条件，变压器并联运行时需满足的要求是： (1)各变压器一、二次侧额定电压对应相等（\\(U_N,k\\)相等）； (2)连接组号相同； (3)短路阻抗标幺值\\(Z_k^*\\)相等。 其中条件(2)必须满足，条件(1)(3)允许有一定误差。 其中变比\\(k\\)误差须在0.5%以内，短路阻抗标幺值误差须在10%以内。 自耦变压器 自耦变压器是一次侧与二次侧共用一部分绕组的变压器。 图14 降压自耦变压器 变比：\\(k_a=\\frac{E_{1a}}{E_{2a}}=\\frac{E_1+E_2}{E_2}=\\frac{N_1+N_2}{N_2}=k+1\\) 电压关系： \\(\\dot U_{1a}=\\dot U_1+\\dot U_2=(1+\\frac{1}{k})\\dot U_1=(k+1)\\dot U_2\\) \\(\\dot U_{2a}=\\dot U_2\\) 电流关系： \\(\\dot I_1+(-\\dot I_2)=\\dot I_m \\quad \\frac{I_1}{I_2}=\\frac{1}{k}\\) \\(\\dot I_{1a}=\\dot I_1\\) \\(\\dot I_{2a}=\\dot I_1+\\dot I_2=(1+\\frac{1}{k})\\dot I_2=(k+1)\\dot I_1\\) 容量关系（功率关系）： \\(S_N=U_{1N}I_{1N}=U_{2N}I_{2N}\\) \\(S_{Na}=U_{1aN}I_{1aN}=(U_{1N}+U_{2N})I_{1N}=U_{1N}I_{1N}=U_{2N}I_{1N}\\) \\(=S_N+\\frac{1}{k}S_N=S_N+\\frac{1}{k_a-1}S_N=S_N+S_N&#39;\\) 由上可知，自耦变压器的容量分为两部分，其中\\(S_N\\)为电磁容量（设计容量），\\(S_N&#39;\\)为传导容量。 自耦变压器的特点： (1)容量相同的情况下，自耦变压器相较于双绕组变压器的体积更小、消耗的材料更少，可以降低成本。 (2)短路阻抗标幺值\\(Z_k^*\\)更小，短路电流标幺值\\(I_k^*\\)更大。 (3)一二次侧有电的联系，使得其对绝缘的要求高，继电保护更为复杂。 三绕组变压器 三绕组变压器是有三个绕组（高压、中压、低压）的变压器。 以后若有时间或者课题需要会结合视频内容进行整理。 互感器 互感器分为电流互感器和电压互感器，其作用是通过低电流（低电压）测量高电流（高电压）。 规定电流互感器二次侧额定电流为5A或1A，电压互感器二次侧额定电流为100V或\\(100\\sqrt 3V\\)。 图15 电流互感器 电流互感器正常运行时相当于变压器短路。 电流互感器设计磁密\\(B_m&lt;0.2T\\)，励磁电流很小，可以忽略不计，由磁动势平衡关系可知：\\(\\frac{I_1}{I_2}=\\frac{N_2}{N_1}\\) 电流互感器二次侧不能开路。 此外，为了安全起见，二次侧绕组的一个端子必须接地。 图16 电压互感器 电压互感器正常运行时相当于变压器的空载运行。 电压互感器设计磁密\\(B_m=1.0 \\sim 1.2T\\)，让磁路不饱和，忽略阻抗漏压降，得到公式：\\(\\frac{U_1}{U_2}=\\frac{N_1}{N_2}\\) 电压互感器二次侧不能短路。 此外，为了安全起见，二次侧绕组的一个端子同铁芯一起必须接地。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机学","slug":"课程笔记/电机学","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E5%AD%A6/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机学","slug":"电机学","permalink":"https://renahah.github.io/tags/%E7%94%B5%E6%9C%BA%E5%AD%A6/"}]},{"title":"电机设计01-电机的主要参数之间的关系","slug":"课程笔记/电机设计/电机设计01-电机的主要参数之间的关系","date":"2024-06-18T08:33:30.000Z","updated":"2024-07-15T05:43:49.384Z","comments":true,"path":"课程笔记/电机设计/电机设计01-电机的主要参数之间的关系/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A1/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A101-%E7%94%B5%E6%9C%BA%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8F%82%E6%95%B0%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/","excerpt":"","text":"为进一步掌握电机设计相关相关原理与方法整理的笔记。 根据教材电机设计（第2版）以及电机设计教学视频p1-p8整理，若有错误敬请指正。 电机材料包括导电材料（绕组）、导磁材料（铁心）、绝缘材料（槽绝缘、层绝缘）、散热材料（风扇）、支撑和保护材料（机壳、机座）。 其中，导电材料与导磁材料是电机的有效材料，能够直接参与机电能量转换。绕组、铁心等由电磁计算直接求出。 其他材料指不直接参与机电能量转换的材料。由冷却、机械计算等求出。 支撑和保护材料对电机起到保护、支撑和传递转矩的作用。 电机主要尺寸是指电枢铁心的直径和长度。对于直流电机，电枢直径是指转子外径；对于感应电机和同步电机，则是指定子内径。 电机的气隙可以认为是第三个主要尺寸。 电机主要参数之间的关系式 电机的主要尺寸与电磁功率有着密切的关系，后者可以用电机的计算功率来表示。交流电机的计算功率为： \\(P&#39; = mEI\\) 式中\\(m\\)为电枢绕组相数，\\(E\\)为电枢绕组相电动势，\\(I\\)为电枢绕组相电流。 电枢绕组相电动势\\(E = 4.44fN{K_{dp}}\\Phi = 4{K_{Nm}}fN{K_{dp}}\\Phi\\) 式中\\(K_{Nm}\\)为气隙磁场的波形系数，当气隙磁场为正弦分布时\\(K_{Nm}=\\frac{\\sqrt 2}{4}\\pi \\approx 1.11\\) \\(f\\)为电流频率(Hz)，其与极对数\\(p\\)和转子转速\\(n\\)(r/min)的关系式为\\(f=\\frac{pn}{60}\\) \\(N\\)为电枢绕组的每相串联匝数 \\(K_{dp}\\)电枢绕组系数，其值与基波绕组系数\\(K_{dp1}\\)接近，因此可以将\\(K_{dp1}\\)代入到\\(K_{dp}\\) \\(\\Phi\\)为电机每极磁通（平均值） 图1 气隙磁密波形示意图 \\(\\Phi = {B_{\\delta av}}\\tau {l_{ef}} = {B_\\delta }\\alpha_p&#39; \\tau {l_{ef}}\\) 式中\\(B_{\\delta av}\\)为气隙磁密的平均值 \\(B_\\delta\\)为气隙磁通密度的最大值，简称气隙磁密 \\(\\alpha_p&#39;\\)为计算极弧系数，\\(\\alpha_p&#39; = \\frac{B_{\\delta av}}{B_\\delta}\\) \\(\\tau\\)为极距，是电机中两个相邻磁极之间的距离（弧长）。极距\\(\\tau\\)与电枢直径\\(D\\)的关系式为\\(\\tau=\\frac{\\pi D}{2p}\\) \\(l_{ef}\\)为电枢的计算长度 定义线负荷\\(A\\)为沿电枢圆周单位长度上的安培导体数，\\(A=\\frac{2mNI}{\\pi D}\\) 将上述公式代入到电枢绕组相电动势\\(E\\)公式中 \\(E = 4{K_{Nm}}fN{K_{dp}}\\Phi = 4{K_{Nm}}\\frac{pn}{60}N{K_{dp}}{B_\\delta }\\alpha_p&#39;\\tau {l_{ef}}\\) \\(=4{K_{Nm}}\\frac{pn}{60}N{K_{dp}}{B_\\delta }\\alpha_p&#39;\\frac{\\pi D}{2p}{l_{ef}} = 4{K_{Nm}}\\frac{pn}{60} \\times \\frac{A\\pi D}{2mI}{K_{dp}}{B_\\delta }\\alpha_p&#39;\\frac{\\pi D}{2p}{l_{ef}}\\) 最后得到交流电机主要参数关系式（“6.1”公式）： \\(\\frac{ {D^2}{l_{ef}}n}{P&#39;} = \\frac{6.1}{\\alpha_p&#39;{K_{Nm}}{K_{dp}}A{B_\\delta}}\\) \\(6.1\\approx \\frac{60}{\\pi^2}\\) 该公式直径\\(D\\)与电枢计算长度\\(l_{ef}\\)的单位是m；转速\\(n\\)的单位为r/min；计算功率\\(P&#39;\\)的单位为\\(V\\cdot A\\)；线负荷\\(A\\)的单位为A/m；气隙磁密\\(B_\\delta\\)的单位为T。 直流电机的主要参数关系式为： \\(\\frac{ {D^2}{l_{ef}}n}{P&#39;} = \\frac{6.1}{\\alpha_p&#39;A{B_\\delta }}\\) 可以视作是交流电机的主要参数关系式取\\({K_{Nm}}{K_{dp}} = 1\\)得到。 对于一定功率和转速范围内的电机，\\(B_\\delta,A\\)的变化范围不大，\\(\\alpha_p&#39;,K_{Nm},K_{dp}\\)的变化范围更小。 因此，可以令交流电机主要参数关系式等式两端的比值为电机常数\\(C_A\\)，即 \\(C_A=\\frac{ {D^2}{l_{ef}}n}{P&#39;} = \\frac{6.1}{\\alpha_p&#39;{K_{Nm}}{K_{dp}}A{B_\\delta}}\\) 该式可进一步整理为\\({C_A} = \\frac{ {D^2}{l_{ef}}n}{P&#39;} = \\frac{D^2 l_{ef}}{ {P&#39;}/{n}} = \\frac{D^2 l_{ef}} { {P&#39;}/{\\frac{60\\Omega}{2\\pi}}} = \\frac{60D^2 l_{ef}}{2\\pi T&#39;}\\) 其中计算转矩\\({T&#39;} = \\frac{P&#39;}{\\Omega}\\)，单位\\(N \\cdot m\\)；机械角速度\\(\\Omega=\\frac{2\\pi n}{60}\\)，单位rad/s。 该式分子上的\\(D^2 l_{ef}\\)可以近似代表转子有效部分的体积，分母有计算转矩。 因此，电机常数大体上反映了产生单位计算转矩所耗用的有效材料的体积，即材料的消耗量。 电机常数的倒数是利用系数\\(K_A\\)，\\(K_A\\)表示单位体积有效材料所能产生的计算转矩。它的大小反应了电机材料的利用率。 利用系数的高低取决于两方面：其一是材料的质量；其二是制造工艺水平。 下面介绍不同电机计算功率\\(P&#39;\\)与额定功率\\(P_N\\)的关系式 对于异步电机（感应电机）：\\({P&#39;} = \\frac{K_E P_N}{\\eta_N\\cos \\varphi_N}\\) 式中\\(K_E=\\frac{E}{U}\\)，是额定负载时感应电势与端电压之比。 对于同步发电机：\\({P&#39;} = \\frac{K_E P_N}{\\cos {\\varphi_N}}\\) 对于并励绕组的直流电动机：\\({P&#39;} = \\frac{K_m P_N}{\\eta_N}\\) 式中\\(K_m\\)为考虑电枢压降与并励绕组电流而引入的系数。 由“6.1”公式可以总结出以下结论： (1)电机的主要尺寸由其计算功率\\(P&#39;\\)或计算转矩\\(T&#39;\\)所决定。在其它条件相同时，\\(T&#39;\\)相近的电机所耗用的材料也相近。 (2)电磁负荷\\(A\\)和\\(B_\\delta\\)不变时，相同功率的电机，转速较高的，尺寸较小；或尺寸相同的电机，转速较高的，则功率较大。表明提高转速可以减小电机的体积。 (3)转速一定时，若直径不变而采用不同的铁心长度，则得到不同功率的电机。 (4)电机的主要尺寸在很大程度上和选用的电磁负荷\\(A\\)和\\(B_\\delta\\)有关。电磁负荷选得越高，则电机在一定功率下的尺寸就越小；或电机在一定尺寸下的功率就越大。 电磁负荷的选择 电磁负荷对电机性能和经济性的影响 若线负荷\\(A\\)较高，气隙磁密\\(B_\\delta\\)不变： (1)电机的尺寸和体积减小，可节省钢铁材料； (2)\\(B_\\delta\\)一定，以及铁芯重量降低（因为尺寸、体积较小），使得铁耗随之减小，电机效率提高； (3)电机每相串联匝数\\(N\\)增加，用铜量增加，产生的电阻增加，使得铜耗增大，电机效率降低； (4)增大电枢单位表面上的铜耗，使绕组温升增高； (5)影响电机参数与特性。 因为匝数\\(N\\)增多，导致电机绕组的电抗变大，感应电机的最大转矩、起动转矩、起动电流均降低；对于同步电机，其电压变化率增大，短路电流，短路比，静态和动态稳定度下降；对于直流电机，则会使换向恶化。 若气隙磁密\\(B_\\delta\\)较高，线负荷\\(A\\)不变： (1)电机的尺寸和体积减小，可节省钢铁材料； (2)基本铁耗增加，降低电机效率，温升升高； （\\(p_{Fe}=C_{Fe}f^{1.3}B_m^2 G\\)，其中\\(p_{Fe} \\propto B_m^2 \\quad p_{Fe} \\propto G\\)，整体上看铁耗受气隙磁密的影响比电机的体积更大，因此铁耗增加。） (3)气隙磁压降升高，励磁电流变大，功率因数降低； (4)磁路饱和程度增加，磁阻增大，交流电机电抗减小。使得交流电机转矩增加，影响电机的起动和运行性能。 电抗参数与电磁负荷的关系式：\\(X^*=K\\frac{A}{B_\\delta}\\)（见教材P48） 线负荷\\(A\\)和气隙磁密\\(B_\\delta\\)的选择 线负荷\\(A\\)和气隙磁密\\(B_\\delta\\)的比例要适中： (1)考虑制造成本，选择富铜贫铁还是富铁贫铜。 (2)考虑运行指标，使电机工作在可变损耗（铜耗）与不变损耗（铁耗）相当的位置，确保其效率最高。 在以下情况，线负荷\\(A\\)和气隙磁密\\(B_\\delta\\)可以选大一些： (1)导电和导磁材料性能较好； (2)加工工艺比较好时； (3)冷却条件好时； (4)转子圆周线速度高时； (5)绝缘等级高时； (6)电机为短时工作制S2。 主要尺寸的计算 常数的取值 根据公式\\(\\frac{ {D^2}{l_{ef}}n}{P&#39;} = \\frac{6.1}{\\alpha_p&#39;{K_{Nm}}{K_{dp}}A{B_\\delta}}\\) 计算极弧系数\\(\\alpha_p&#39; = \\frac{B_{\\delta av}}{B_\\delta}\\)，是气隙磁密平均值与最大值的比值。 若铁芯不饱和且气隙磁密为正弦分布时\\(\\alpha_p&#39; = \\frac{2}{\\pi} \\approx 0.637\\) 考虑到铁芯饱和的情况，取值范围为0.64~0.72。 \\(K_{Nm}\\)为气隙磁场的波形系数，当气隙磁场为正弦分布时\\(K_{Nm}=\\frac{\\sqrt 2}{4}\\pi \\approx 1.11\\) 随着饱和程度的上升，\\(K_{Nm}\\)会下降。（见教材P26图3-5） \\(K_{dp}\\)为电枢绕组系数，对于单层绕组\\(K_{dp}=0.96\\)，双层绕组取\\(K_{dp}=0.92\\) 计算功率 计算功率公式为\\(P&#39; = mEI\\)，其值与额定功率\\(P_N\\)相近。 以感应电机为例，\\(P_N=mUI\\eta cos\\varphi_N\\) \\(\\Rightarrow P&#39;=\\frac{K_E P_N}{\\eta \\cos {\\varphi_N}}\\)，其中\\(K_E=\\frac{E}{U}\\)，是感应电势与端电压之比，可以看作是感应电机满载电势的标幺值。 结合感应电机的等效电路，可知\\(K_E=1-(I_{1P}^*R_1^*+I_{1Q}^*X_{1\\sigma}^*)=1-\\varepsilon_L\\)，式中\\(\\varepsilon_L\\)为电势系数，\\(I_{1P}\\)与\\(I_{1Q}\\)分别为定子电流的有功与无功分量。 这里直接采用教材P228的经验公式进行计算： 对于两极小型电机，\\(K_E=0.92+0.00866lnP_N\\) 对于非两极小型电机，\\(K_E=0.931+0.0108lnP_N-0.013p\\) 对于中型电机，\\(K_E=0.892+0.0109lnP_N-0.01p\\) 式中\\(p\\)为极对数，额定功率\\(P_N\\)单位为kW，\\(K_E\\)的通常取值范围为0.85~0.95。 设计思路： 先根据\\(P_N\\)与\\(p\\)，带入经验公式得到\\(K_E\\)的估计值，然后代入功率公式得到计算功率\\(P&#39;\\)，再代入“6.1”公式得到\\(D^2 l_{ef}\\)，再求出其他参数，根据等效电路求出\\(K_E&#39;\\)，最后作对比求误差，若满足\\(|K_E-K_E&#39;|&lt;e\\)，即误差在允许范围内，则设计流程结束。 主要尺寸比的选择对电机的影响 主要尺寸比\\(\\lambda = \\frac{l_{ef}}{\\tau}\\)，为电枢的计算长度与极距之比。 \\(D^2 l_{ef}\\)不变，\\(\\tau\\)较大时对电机的影响： (1)外观上电机更为细长，节省材料。端部变得较短，端部用铜量相应减少，绕组铜的利用率提高。因此单位功率材料消耗较少，成本较低； (2)效率提高，圆周线速度减小，风阻小，风磨耗小，附加损耗小； (3)端部小使得端部漏抗小，总漏抗小，对提高电机转矩有利； (4)对于自然散热的电机，温升要低一些，散热更好；但是对于轴向强迫通风散热的电机，温升要高一些，轴线通路太长，冷却条件差，散热不好； (5)电机细长，转动惯量小，适用于频繁启动和正反转控制（改变速度更容易）； (6)工艺难度加大，因为叠片多，开槽和下线难度大。 主要尺寸比的选择： (1)综合考虑参数和温升、节约用铜、转子的机械强度、转动惯量等方面的限制和要求； (2)感应电机，极数多时取较大值，\\(\\lambda\\)取\\(1\\sim 1.3\\)（考虑参数）或\\(1.5\\sim 3\\)（考虑损耗与用铜量）； (3)同步电机，随极数增加而增大，中小型\\(0.6\\sim 2.5\\)，大型\\(3\\sim 4\\)； (4)直流电机，中小型\\(0.6\\sim 1.2\\)，大型\\(1.25\\sim 2.5\\)。 电机主要尺寸的确定方法 电枢铁芯直径\\(D=12.4\\sqrt[3]{\\frac{P&#39;C_A}{\\lambda n^2}}\\) 电枢计算长度\\(l_{ef}=\\frac{C_A P&#39;}{D^2 n}\\)（由“6.1”公式转化而来） 对于交流电机，\\(D\\)为定子内径，内径与外径的比值\\(\\frac{D_{out}}{D_{in}}\\)的关系式如下： 对于2极电机，比值为1.782； 对于4极电机，比值为1.555； 对于6极电机，比值为1.432； 对于8极电机，比值为1.413。 根据公式确定尺寸思路： 首先根据额定功率\\(P_N\\)，由\\(P&#39;\\)与额定功率\\(P_N\\)的关系式计算出\\(P&#39;\\)，然后确定转速\\(n\\)、极弧系数\\(\\alpha_p&#39;\\)、气隙磁场波形系数\\(K_{Nm}\\)、电枢绕组系数\\(K_{dp}\\)、线负荷\\(A\\)、气隙磁密\\(B_\\delta\\)，再代入“6.1”公式得到\\(D^2 l_{ef}\\)，然后根据\\(\\tau\\)来确定\\(D\\)和\\(l_{ef}\\)。 对于感应电机和同步电机，还需要根据\\(D\\)确定定子外径，并参考标准内外径表（教材P18），将其调整至表中的标准直径，\\(l_{ef}\\)也可以作适当调整（5mm的整数倍）。 类比法：公用冲片设计，降低成本 若两个电机的应用场景相近，\\(n_1=n_2\\)，\\(D_1=D_2\\)，只有额定功率不同，则二者的电机常数\\(C_A\\)可近似看作相等。 有\\(\\frac{D_1^2 l_{ef1}}{P_1&#39;} \\approx \\frac{D_2^2 l_{ef2}}{P_2&#39;}=\\frac{D_1^2 l_{ef2}}{P_2&#39;} \\quad \\Rightarrow \\frac{l_{ef1}}{l_{ef2}}=\\frac{P_1&#39;}{P_2&#39;}=\\frac{P_{N1}}{P_{N2}}\\) 可以由\\(l_{ef1}\\)推算出\\(l_{ef2}\\)。 \\(l_{ef2}=\\frac{P_2&#39;}{P_1&#39;}l_{ef1}\\) 同理，可以推算出绕组匝数与导体截面积： \\(N_2=\\frac{P_1&#39;}{P_2&#39;}N_1 \\quad S_{Cu2}=\\frac{P_2&#39;}{P_1&#39;}S_{Cu1}\\) 电机中的几何相似定律 电流密度、磁通密度、转速和极数相同，且电机尺寸成比例，容量（功率）递增的电机，这样的一组电机被称作几何相似电机。 对于几何形状相似的电机，单位功率所需的有效材料与功率的1/4次方成正比。 （计算功率与长度因子的4次方成正比；电机有效材料的重量G、成本、损耗与长度因子的3次方成正比；散热与长度因子的2次方成正比） 即单个电机的容量（功率）越大，有效材料的利用率越高，但散热性能会变差。 系列电机 (1)基本系列：使用面广、生产量大。 (2)派生系列：在基本系列的基础上加以改动。 (3)专用系列：适用于特殊条件。 气隙长度的确定 其他条件不变的前提下，气隙长度\\(\\delta\\)过小对电机的影响： (1)气隙磁压降减小，所需磁势减小，励磁电流变小，功率因数提高； (2)气隙磁阻减小，激磁电抗\\(X_m\\)变大，电机转矩减小； (3)谐波磁场加剧，附加损耗和噪声升高； (4)电机可靠性下降，容易出现“扫膛”现象（指定子与转子相撞）。 气隙长度计算公式（教材P231）： 对于功率较小的电机，公式为\\(\\delta=0.3(0.4+7\\sqrt{D_{i1}l_t})\\times 10^{-3}\\) 对于大中型电机（电机极数\\(2p=2 \\sim 16\\)），公式为\\(\\delta=D_{i1}(1+\\frac{9}{2p})\\times 10^{-3}\\) 式中\\(D_{i1}\\)为定子内径，\\(l_t\\)为铁芯长度，单位均为m。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机设计","slug":"课程笔记/电机设计","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A1/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机设计","slug":"电机设计","permalink":"https://renahah.github.io/tags/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A1/"}]},{"title":"电机学02-变压器（上）","slug":"课程笔记/电机学/电机学02-变压器（上）","date":"2024-06-15T07:14:26.000Z","updated":"2024-06-27T06:53:18.384Z","comments":true,"path":"课程笔记/电机学/电机学02-变压器（上）/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E5%AD%A6/%E7%94%B5%E6%9C%BA%E5%AD%A602-%E5%8F%98%E5%8E%8B%E5%99%A8%EF%BC%88%E4%B8%8A%EF%BC%89/","excerpt":"","text":"为进一步掌握电机相关原理概念整理的电机学笔记。 根据视频电机学（哈尔滨理工大学）p5-p10整理，若有错误敬请指正。 变压器概述 变压器的分类 用途： (1)电力变压器：在电力系统中传送和分配电能。 (2)调压变压器：在电力网或实验室中调节电压。 (3)测量变压器：如电流互感器、电压互感器。 (4)专用变压器：电炉变压器、电焊变压器、整流变压器、高压实验变压器、仪器用小功率变压器等。 绕组数目：双绕组变压器、三绕组变压器。 铁芯结构：芯式变压器、壳式变压器。 相数：单相变压器、三相变压器、多相变压器（六相、十二相等）。 冷却方式：油浸式变压器、干式变压器。 变压器的基本结构 铁芯与绕组，是变压器最基本的两个组成部件，二者合称为变压器的器身。 对于油浸式变压器，还有油箱、绝缘管套等组件。 铁芯：构成变压器的磁路，机械骨架，由硅钢片制成。 大型变压器多为芯式并采用油浸，小型变压器多采用壳式。 硅钢片按碾压方向分为热轧（无碾压方向）与冷轧（有方向性）两种，目前多采用冷轧。 为了进一步降低空载电流、空载损耗、铁芯叠片采用全斜接缝，上层与下层叠片接缝错开。 绕组：构成变压器的电路。 根据高低压绕组在铁芯柱上的相对位置，变压器绕组分为同心式与交叠式两种。 油箱：变压器的外壳，装载变压器油起到绝缘与散热的作用。 绝缘管套：使高压引线与接地的油箱绝缘。 变压器的额定值 额定容量\\(S_n\\)：视在功率，单位kVA，规定一次侧、二次侧额定容量设计值相等。 额定电压：\\(U_{1N}\\)为额定状态下一次绕组所加电压值，\\(U_{2N}\\)为一次绕组所加电压为\\(U_{1N}\\)时二次侧的空载电压值。 三相变压器的额定电压指线电压。 额定电流：\\(I_{1N}=\\frac{S_N}{U_{1N}} \\quad I_{2N}=\\frac{S_N}{U_{2N}}\\) 对于三相变压器\\(I_{1N}=\\frac{S_N}{\\sqrt 3 U_{1N}} \\quad I_{2N}=\\frac{S_N}{\\sqrt 3 U_{2N}}\\) 三相变压器的额定电压指线电流。 额定频率：\\(f_N=50Hz\\) 此外，额定值还包括变压器效率、温升等。 变压器的空载运行 一次侧接电源电压，二次侧开路。 假定\\(e\\)、\\(i\\)同方向，\\(\\Phi\\)的方向与\\(i\\)的方向符合右手螺旋定则。 图1 空载运行 图2 空载运行关系 注：电压箭头方向为由高到低，电势箭头方向为由低到高。 电势按照由低到高，也就是由负极到正极的方向画箭头，该方向与电压方向相反。 KVL公式仍然可以按照由高到低，也就是由正极到负极的方式列写，不要被电势箭头方向干扰。 变比\\(k=\\left| \\frac{u_1}{u_2} \\right|=\\left| \\frac{E_1}{E_2} \\right|=\\frac{N_1}{N_2}\\) 主磁通\\(\\Phi\\)是同时与一次侧绕组与二次侧绕组交链的磁通，其磁力线沿铁芯闭合。受铁磁材料饱和现象影响，磁阻为非常数，\\(\\Phi\\)与\\(i_0\\)呈非线性关系。 漏磁通\\(\\Phi_{1\\sigma}\\)仅与一次侧绕组相交链，不能传递能量，仅起电压降的作用。沿非铁磁材料(油、空气)闭合，磁阻为常数，\\(\\Phi_{1\\sigma}\\)与\\(i_0\\)呈线性关系。 主磁通感应电动势\\(\\Phi=\\Phi_m sin \\omega t\\) \\(\\Rightarrow e_1=-N_1\\frac{d\\Phi}{dt}=-N_1 \\omega \\Phi_m cos \\omega t=N_1 \\omega \\Phi_m sin(\\omega t-\\frac{\\pi}{2})=\\sqrt 2 E_1 sin(\\omega t-\\frac{\\pi}{2})\\) 其中\\(E_1=\\frac{N_1 \\omega \\Phi_m}{\\sqrt 2}=\\frac{N_1 2\\pi f}{\\sqrt 2}\\Phi_m=4.44N_1 f \\Phi_m\\) \\(4.44\\approx \\sqrt 2 \\pi\\) \\(\\Rightarrow \\Phi_m=\\frac{E_1}{4.44N_1 f}\\approx \\frac{U_1}{4.44N_1 f}\\) 同理\\(E_2=4.44N_2 f \\Phi_m\\) 化为相量形式\\(\\dot E_1 = -j4.44N_1 f \\dot \\Phi_m \\quad \\dot E_2 = -j4.44N_2 f \\dot \\Phi_m\\) 由上篇文章的论述可知，若铁芯无损耗，则\\(\\dot I_0\\)与主磁通\\(\\dot \\Phi_m\\)同相位。若考虑铁耗（涡流损耗与磁滞损耗），则\\(\\dot I_0\\)将超前\\(\\dot \\Phi_m\\)一定的角度，这个角度\\(\\alpha\\)被称作铁耗角。 图3 空载运行相位关系 \\(\\dot I_m = \\dot I_\\mu + \\dot I_{Fe} \\Rightarrow \\dot I_m = -\\dot E_1 (\\frac{1}{R_{Fe}}+\\frac{1}{jX_\\mu})\\) 这里将空载状态下的变压器等效为电路。其中\\(R_{Fe}\\)为激磁电阻（铁耗分量产生），\\(X_\\mu\\)为激磁电抗（磁化分量产生）。 图4 空载运行等效电路 \\(R_m=R_{Fe}\\frac{X_{\\mu}^2}{X_{\\mu}^2+R_{Fe}^2} \\quad X_m=X_{\\mu}\\frac{R_{Fe}^2}{X_{\\mu}^2+R_{Fe}^2}\\) \\(-\\dot E_1=\\dot I_m Z_m=\\dot I_m(R_m+jX_m)\\) 注：\\(-\\dot E_1\\)是电势不是电压，箭头方向与电压的相反，所以等式左侧有负号。 \\(\\dot U_1=\\dot I_{10}R_1 -\\dot E_{1\\sigma} - \\dot E_1\\) \\(=\\dot I_{10}R_1+j\\dot I_{10}\\dot X_{1\\sigma} - \\dot E_1=\\dot I_{10}(R_1+jX_{1\\sigma})-\\dot E_1\\) \\(\\dot E_2 = \\dot U_2\\) \\(X_{1\\sigma}=\\omega L_{1\\sigma}=2\\pi fL_{1\\sigma}\\) 漏电感\\(L_{1\\sigma}=\\frac{\\Psi_{1\\sigma}}{i_0}=\\frac{N_1\\Phi_{1\\sigma}}{i_0}=\\frac{N_1}{i_0}\\frac{F_{1\\sigma}}{R_{1\\sigma}}=N_1^2 \\Lambda_{1\\sigma}\\) 考虑了漏磁通与内阻后的变压器空载运行等效电路如下图所示： 图5 空载运行等效电路 变压器的负载运行 一次侧接电源电压，二次接入负载\\(Z_L\\)。 图6 负载运行 图7 负载运行关系 磁动势平衡方程 设一次侧绕组磁动势\\(\\dot F_1\\)，二次侧绕组磁动势\\(\\dot F_2\\)，合成磁动势\\(\\dot F_0\\)。 只考虑主磁通\\(\\dot \\Phi_m\\)时，合成磁动势与空载磁动势近似相等，负载励磁电流与空载电流\\(\\dot I_0\\)近似相等，负载时励磁电流由一次侧供给，得 \\(\\dot F_1+\\dot F_2=\\dot F_0 \\Rightarrow N_1 \\dot I_1 + N_2 \\dot I_2 = N_1 \\dot I_0\\) \\(\\Rightarrow \\dot I_1 + \\dot I_2(\\frac{N_2}{N_1})=\\dot I_0\\) \\(\\Rightarrow \\dot I_1 = \\dot I_0+(-\\frac{\\dot I_2}{k})=\\dot I_0+\\dot I_{1L}\\) 式中\\(\\dot I_{1L}=-\\frac{\\dot I_2}{k}\\)为一次侧电流负载分量。 \\(F_m=F_1+F_2 \\Rightarrow N_1 l_m=N_1 i_1+N_2 i_2\\) \\(\\Rightarrow \\dot N_1 \\dot I_m=\\dot N_1 \\dot I_1+\\dot N_2 \\dot I_2\\) 不清楚这里为什么是\\(F_m\\)，以及\\(F_m\\)与\\(F_0\\)的关系。 有没有一种可能，\\(F_m\\)就是\\(F_0\\)。 能量守恒方程 二次侧绕组向外发出多少能量，一次侧绕组就从电网接收多少能量。 等式右侧负号体现了能量传递的方向。 \\(E_1 I_{1L}=(kE_2)(-\\frac{1}{k}I_2)=-E_2 I_2\\) 电压平衡方程 图8 负载运行关系 \\(\\dot E_{1\\sigma}=-j\\dot I_1 X_{1_\\sigma} \\quad \\dot E_{2\\sigma}=-j\\dot I_2 X_{2_\\sigma}\\) 变压器基本方程组： 一次绕组电压方程：\\(u_1=i_1 R_1-e_{1\\sigma}-e_1 \\quad \\Rightarrow \\quad \\dot U_1=\\dot I_1(R_1+jX_{1\\sigma})-\\dot E_1\\) 二次绕组电压方程：\\(e_2+e_{2\\sigma}=i_2 R_2+u_2 \\quad \\Rightarrow \\quad \\dot U_2=\\dot E_2-\\dot I_2(R_2+jX_{2\\sigma})\\) 合成磁势方程：\\(N_1 i_m=N_1 i_1+N_2 i_2 \\quad \\Rightarrow \\quad N_1 \\dot I_m=N_1 \\dot I_1 +N_2 \\dot I_2\\) 电势关系：\\(\\frac{e_1}{e_2}=\\frac{N_1}{N_2}=k \\quad \\Rightarrow \\quad \\frac{\\dot E_1}{\\dot E_2}=\\frac{N_1}{N_2}=k\\) 激磁回路的参数关系：\\(\\dot E_1=-\\dot I_m Z_m \\quad \\Rightarrow \\quad \\dot E_1=-\\dot I_m(R_m+jX_m)\\) 变压器的归算 以二次侧折算到一次侧为例，用匝数为\\(N_1\\)的等效绕组代替原来的匝数为\\(N_2\\)的二次侧绕组。 折算条件是前后的磁动势\\(\\dot F_2\\)不变。 (1)电动势归算：\\(\\frac{E_2&#39;}{E_2}=\\frac{N_1}{N_2}=k \\Rightarrow E_2&#39;=kE_2\\) (2)电流归算：\\(N_2 I_2=N_1 I_2&#39; \\Rightarrow I_2&#39;=\\frac{N_2}{N_1}I_2=\\frac{1}{k}I_2\\) 验证一下是否能量守恒：\\(E_2&#39;I_2&#39;=kE_2 \\frac{1}{k}I_2=E_2 I_2\\) (3)电压归算：\\(U_2I_2=U_2&#39;I_2&#39;\\Rightarrow U_2&#39;=\\frac{I_2}{I_2&#39;}U_2=kU_2\\) (4)阻抗归算：\\(R_2I_2^2=R_2&#39;{I_2&#39;}^2\\Rightarrow R_2&#39;=(\\frac{I_2}{I_2&#39;})^2 R_2=k^2R_2\\) 同理\\(X_{2\\sigma}&#39;=k^2X_{2\\sigma} \\quad Z_{2\\sigma}&#39;=k^2Z_{2\\sigma} \\quad\\)（式中\\(Z_{2\\sigma}=R_2+X_{2\\sigma}\\)） 总结：单位为V，乘以k；单位为A，除以k；单位为Ω，乘以k²。 若是一次侧折算到二次侧，同理可知单位为V时除以k，单位为A时乘以k，单位为Ω时除以k²。 归算后的变压器基本方程组： \\(\\left\\{ {\\begin{array}{*{20}{c}} \\dot U_1=\\dot I_1(R_1+jX_{1\\sigma})-\\dot E_1① \\\\ U_2&#39;=\\dot E_2&#39;-\\dot I_2&#39;(R_2&#39;+jX_{2\\sigma}&#39;)② \\\\ I_m=\\dot I_1+\\dot I_2&#39;③ \\\\ \\dot E_1 = \\dot E_2&#39;=-\\dot I_m(R_m+jX_m)④ \\end{array}}\\right.\\) 变压器的等效电路与相量图 图9 T型等效电路 上图体现了T型等效电路的形成过程。 首先根据上文所得的变压器基本方程组中的式①与式②得到图(a)所示的两个电路； 然后根据式③可知\\(\\dot E_1\\)与\\(\\dot E_2&#39;\\)是等电位，将两个电路组合，如图(b)； 最后根据式④得到完整的T型等效电路，如图(c)。 根据变压器基本方程组画出如下图所示的相量图。 先画负载，以负载电压\\(\\dot U_2&#39;\\)为基准，确定负载电流\\(\\dot I_2&#39;\\)（这里采用感性负载，其电压超前于电流，夹角\\(\\varphi_2\\)为功率因数角）。 接下来画漏阻抗压降。\\(\\dot I_2&#39;R_2&#39;\\)与\\(\\dot I_2&#39;\\)平行，\\(jI_2&#39;X_{2\\sigma}&#39;\\)超前于电流90度。 得到\\(\\dot E_2&#39;=\\dot U_2&#39;+\\dot I_2&#39;R_2&#39;+jI_2&#39;X_{2\\sigma}&#39;\\)（变压器基本方程组公式②） 其中漏阻抗压降相对于负载电压而言非常小，这里对其放大来方便作图。 画主磁通\\(\\dot \\Phi_m\\)，它超前于\\(\\dot E_2&#39;\\) 90度。 画\\(-\\dot E_1\\)，其与\\(\\dot E_2&#39;\\)方向相反（负号）。 确定\\(\\dot I_m\\)（图中为\\(\\dot I_0\\)，可以看作近似相等） \\(\\dot I_m\\)与\\(-\\dot E_1\\)的夹角为铁耗角，\\(\\psi=tan^{-1}\\frac{X_m}{R_m}\\) 画\\(-\\dot I_2&#39;\\)，根据变压器基本方程组公式③，得到\\(\\dot I_1=-\\dot I_2&#39;+I_m\\) 以\\(-\\dot E_1\\)终点为起点，画与\\(\\dot I_1\\)平行的\\(\\dot I_1 R_1\\)，超前90度的\\(j\\dot I_1X_{1\\sigma}\\)。 得到\\(\\dot U_1=\\dot I_1(R_1+jX_{1\\sigma})-\\dot E_1\\)（变压器基本方程组公式①），相量图至此绘制完成。 图10 负载运行向量图 实际上，\\(I_0 \\ll I_1,I_1Z_1 \\ll U_1,I_2Z_2 \\ll U_2\\)。 因此可以对等效电路做一定的简化，简化后的等效电路如下图所示。 图11 简化等效电路 该电路将激磁支路断开（\\(I_0=0\\)），将等效电路简化为一个串联阻抗。 取短路电阻\\(R_K=R_1+R_2&#39;\\)，短路电抗\\(X_k=X_{1\\sigma}+X_{2\\sigma}&#39;\\)，短路阻抗\\(Z_k=R_k+jX_K\\)。 得到电压方程\\(\\dot U_1 = \\dot I_1(R_k+jX_k)-\\dot U_2&#39;\\) 进而得到简化的向量图如下图所示： 图12 简化相量图（感性负载） 变压器的参数测定 空载实验 在低压侧加压（考虑精度与人身安全），二次侧（高压侧）开路。 空载输入电压\\(U_0\\)先取\\((1.2-1.25)U_{1N}\\)，然后逐步降低电压，画出\\(I_0=f(U_0)\\)与\\(p_0=f(U_0)\\)关系曲线。 由上一章节的论述可知，\\(H \\propto I \\quad B \\propto \\Phi \\propto E \\approx U_0\\)，故B-H曲线形如\\(U_0-I_0\\)关系曲线。 又由空载损耗\\(p_0 \\propto B^2\\)可以推断出\\(U_0-p_0\\)关系曲线的形状。 空载损耗\\(p_0\\)可视作铁耗\\(p_{Fe}\\)。 图13 空载实验 变比\\(k=\\frac{U_{20}}{U_{1N}}\\)（视频写法，意为高压侧比低压侧，与书存在冲突） \\(Z_m=\\frac{U_0}{I_0} \\quad R_m=\\frac{p_0}{I_0^2} \\quad X_m=\\sqrt{Z_m^2-R_m^2}\\) 其中\\(Z_1=R_1+jX_{1\\sigma}\\)的值远远小于\\(Z_m\\)，可忽略不计。 这里所测得值为低压侧的值。可以将结果乘以\\(k^2\\)折算到高压侧。 短路实验 在高压侧加压（电流小），施加的电压要远小于额定电压（\\(U_k=(0.04-0.1)U_{1N}\\)），二次侧短路。 取\\(I_{1k}=(1.2-1.25)I_{1N}\\)，然后逐步降低电流（升高电压），画出\\(I_k=f(U_k)\\)与\\(p_k=f(U_k)\\)关系曲线。 因为施加的电压小，铁芯中主磁通很小，所以忽略励磁电流与铁芯损耗。此外电压小使得磁路不饱和，\\(U_k-I_k\\)关系曲线为直线。 短路损耗\\(p_k\\)可视作铜耗\\(p_{Cuk}\\)（电阻损耗），\\(U_k-p_k\\)关系曲线为二次曲线。 图14 短路实验 \\(Z_k=\\frac{U_k}{I_k} \\quad R_k=\\frac{p_k}{I_k^2} \\quad X_k=\\sqrt{Z_k^2-R_k^2}\\) 这里所测得值为高压侧的值。可以将结果乘以\\(\\frac{1}{k^2}\\)折算到低压侧。 得到的\\(R_k\\)值会受温度影响而发生变化，下面介绍热态电阻及阻抗参数。 取基准温度为75℃，则在\\(\\theta\\)温度下的电阻及阻抗公式如下 \\(R_{k75℃}=\\frac{235+75}{235+\\theta}R_{k\\theta}\\) \\(Z_{k75℃}=\\sqrt{R_{k75℃}+X_k^2}\\)","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机学","slug":"课程笔记/电机学","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E5%AD%A6/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机学","slug":"电机学","permalink":"https://renahah.github.io/tags/%E7%94%B5%E6%9C%BA%E5%AD%A6/"}]},{"title":"电机学01-基础理论","slug":"课程笔记/电机学/电机学01-基础理论","date":"2024-06-12T07:47:22.000Z","updated":"2024-06-19T08:16:04.095Z","comments":true,"path":"课程笔记/电机学/电机学01-基础理论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E5%AD%A6/%E7%94%B5%E6%9C%BA%E5%AD%A601-%E5%9F%BA%E7%A1%80%E7%90%86%E8%AE%BA/","excerpt":"","text":"为进一步掌握电机相关原理概念整理的电机学笔记。 根据视频电机学（哈尔滨理工大学）p1-p4整理，若有错误敬请指正。 磁场中基本物理量 磁感应强度 图1 磁感应强度 电流元\\(Id{\\bf{l}}\\)在空间一点P产生的磁感应强度\\(d{\\bf{B}}=k \\frac{Id{\\bf{l}}\\times {\\bf{\\alpha_R}}}{R^2}\\) （比奥—萨伐尔定律，式中\\(k=\\frac{\\mu_0}{4\\pi}\\)） 整个载流导线在P处的磁感强度\\({\\bf{B}}=\\int d{\\bf{B}}\\) 单位为特斯拉(T，Wb/㎡)，\\(1T=10^4 Gs\\) 磁通量 图2 磁通量 \\(\\Phi=\\int {\\bf{B}} \\cdot d{\\bf{A}}\\) 式中A代表闭合区域面积，\\(\\Phi=B \\cdot A\\) 单位为韦伯(Wb)，\\(1Wb=10^8 Mx\\) 该公式可变形为\\(B=\\frac{\\Phi}{A}\\)，即磁感应强度是单位面积的磁通量，因此磁感应强度又被称作磁通密度（磁密）。 磁导率 磁导率\\(\\mu\\)反映了材料对磁场的导磁性能，取真空磁导率\\(\\mu_0=4\\pi\\times 10^{-7}H/m\\)，取相对磁导率\\(\\mu_r\\)使\\(\\mu=\\mu_r \\mu_0\\) \\(\\mu_{r空气}=1\\)，\\(\\mu_{r硅钢片}=7000 \\sim 10000\\)。 铁磁材料的磁导率远远大于真空磁导率（数千至一万倍）。 \\(\\mu_r&gt;1\\)时为顺磁材料，\\(\\mu_r&lt;1\\)时为逆磁材料，铁磁材料的\\(\\mu_r \\gg 1\\)。 磁场强度 磁场强度\\(H\\)反映了电流产生磁场的强度（电流在产生磁场中的贡献大小），单位为\\(A/m\\)。 \\({\\bf{B}}=\\mu{\\bf{H}}\\) 磁路的概念 磁路是磁通所走过的路径。 图3 磁路 磁路有两部分，一部分叫做主磁通\\(\\phi\\)，在能量转换中起主要作用，主磁通走过的路径叫做主磁路；另一部分是漏磁通\\(\\phi_\\sigma\\)，在能量转换中不起作用，漏磁通走过的路径叫做漏磁路。 此外，若线圈通入直流电流，则磁通走过的路径叫做直流磁路，线圈称作励磁线圈；若线圈通入交流电流，则磁通走过的路径叫做交流磁路，线圈称作激磁线圈。 磁路计算是近似计算，存在误差。 磁路的基本定律 安培环路定律 图4 安培环路定律 磁场强度\\(H\\)沿任何闭合路径的线积分，等于这闭合路径所包围的各个电流的代数和。 \\(\\int\\limits_l { {\\bf{H}}d{\\bf{l}}} = \\sum I = I_1+I_2-I_3\\) 对于线圈，公式可简化为\\(Hl=NI=F\\)，其中\\(F\\)为磁动势（强调电流是磁场的源、电流对磁场的贡献），\\(Hl\\)为磁压降（强调磁场被全部消耗在每一段路径中）。 （两者单位均为安培，可以类比电路中的电动势与电压降，感应电动势是电场的源） 磁路欧姆定律 由磁动势\\(F=Hl=NI\\)，\\(H=\\frac{B}{\\mu}\\)，\\(B=\\frac{\\Phi}{A}\\) \\(\\Rightarrow \\Phi=\\frac{\\mu AF}{l}=\\frac{F}{l/\\mu A}=\\frac{F}{R_m}\\) 式中\\(R_m=\\frac{l}{\\mu A}\\)为磁阻。 磁路基尔霍夫第一定律 图5 磁路基尔霍夫第一定律 类似于电路中的KCL 封闭面内磁通量之和为0（流入之和等于流出之和） \\(\\sum \\Phi=0\\) \\(\\Phi_1+\\Phi_2=\\Phi_3\\) 磁通连续性定理\\(\\oint\\limits_S { {\\bf{B}}d{\\bf{s}}} = 0\\) （该公式又称作高斯定理，说明磁场穿过闭合曲面的磁通量为零，磁场是无源场） 磁路基尔霍夫第二定律 类似于电路中的KVL \\(\\sum N_j i_j=\\sum H_i l_i\\) \\(\\sum F=\\sum Hl =\\sum \\Phi R\\) 磁性材料及其特性 磁化 磁畴是铁磁材料内部存在的很多很小的具有确定磁极性的自发磁化区域。在磁化前各个磁畴的磁化方向随机，相互抵消，因此宏观上对外没有磁性。 磁化是在外部磁场的作用，使磁畴沿着外磁场的方向重新有规则排列，所有磁畴方向均沿同一方向，宏观上对外显磁性。 图6 磁畴 磁化曲线 图7 磁化曲线 磁化曲线是外磁场\\(H\\)作用下磁感应强度\\(B\\)随\\(H\\)变化的曲线，铁磁材料的磁化曲线如上图所示。 铁磁材料的磁化曲线可分为4段。oa为起始段、ab为直线段、bc为饱和段、cd为过饱和段。 不同阶段的区别体现在斜率不同，即磁感应强度\\(B\\)随\\(H\\)增加而增加的快慢不同。 显然\\(\\mu\\)不是常数，磁路是非线性的。 为充分利用铁磁材料导磁性能（使磁导率尽可能大），一般将工作点取在b点（被称作膝点）。 磁滞回线 被磁化的铁磁材料撤除外磁场后，磁畴不会完全恢复原来的随机状态，这使得其对外仍显示磁性。这种磁感应强度\\(B\\)的变化落后于磁场强度\\(H\\)的变化的现象被称作磁滞。 图8 磁滞回线 铁磁材料的磁滞回线如上图所示，其中oa段与上文说述磁化曲线相同，ab段是撤除外磁场的阶段，在b点完全撤除外磁场，但磁感应强度没有随之降低到零，而是维持在\\(B_r\\)，这个值被称作剩磁。而要想使磁感应强度降至零，则需要施加反向的磁场（bc段），在c点磁感应强度降为零，此时对应的磁场强度为\\(-H_c\\)，\\(H_c\\)被称作矫顽力。 cd段继续增加反向的磁场强度至最大值。defg段先减小反向磁场至零后又施加正向磁场，所得的曲线与abcd段对称。 基本磁化曲线 将不同\\(B_m\\)值下的迟滞回线的a点\\((H_m,B_m)\\)连接起来，就可以得到基本磁化曲线。 图9 基本磁化曲线 \\(B_r\\)和\\(H_c\\)较大，为硬磁材料（永磁材料），磁滞回线宽。例：铁氧体、稀土钴、钕铁硼。 硬磁材料磁导率很小，接近于真空磁导率。 \\(B_r\\)和\\(H_c\\)较小，为软磁材料，磁滞回线窄。例：硅钢片、铸铁、铸钢。 软磁材料导磁性能好，大多数电机、变压器或普通电器的铁心都由硅钢片制成。 铁芯损耗 磁滞损耗\\(p_h \\propto C_h f B_m^n V\\) 式中\\(C_h\\)为计算系数，与材料有关，\\(f\\)为电流频率，\\(B_m\\)为磁感应强度最大值，\\(n\\)根据实际情况选定，\\(V\\)为铁芯体积。 此外，磁滞损耗与磁滞回线面积\\(\\oint {HdB}\\)成正比。 涡流损耗\\(p_e=C_e f^2 B_m^2 \\Delta^2 V\\) 式中\\(C_h\\)为计算系数，与材料有关，\\(\\Delta\\)为硅钢片厚度。 二者之和为铁芯损耗。 \\(p_{Fe}=p_h+p_e=C_{Fe}f^{1.3}B_m^2 G\\) 该公式为经验公式，式中\\(G\\)为铁芯重量。 铁芯损耗与频率有关，通入直流电时铁芯损耗为0（频率为0）。 磁路计算 图10 磁路计算 已知截面积\\(A\\)，磁路平均长度\\(L\\)，匝数\\(N\\)，相对磁导率\\(\\mu_{Fe}\\)和磁感应强度\\(B\\)，求电流\\(i\\) \\(Ni=F=Hl=\\frac{B}{\\mu}L \\quad \\Rightarrow i=\\frac{BL}{\\mu N}\\) \\(Ni=F=\\Phi R_m \\quad \\Phi=B \\cdot A \\quad R_m=\\frac{l}{\\mu A} \\Rightarrow i=\\frac{BL}{\\mu N}\\) 值得注意的是，磁阻\\(R_m\\)是非线性的，\\(\\mu\\)值会受到\\(B\\)的影响。 此外，若磁路中间被断开，如下图所示，得到了两段磁路\\(L\\)与\\(\\delta\\)，则磁路\\(\\delta\\)上的磁压降\\(H\\delta\\)更大。 图11 磁路计算 这是因为磁路\\(\\delta\\)的介质是空气，其磁阻\\(R_m\\)很大。 交流磁路中的激磁电流和磁通 由公式\\(Hl=Ni\\)与\\(\\Phi=B \\cdot A\\)可知当\\(l,N,A\\)为常数时，B-H基本磁化曲线可以视为Φ-i激磁特性。 若磁通为正弦波，则电流为尖顶波，如下图所示。电流波形此时可拆分成各个奇数次谐波。磁通与电流基波同相位。 图12 磁通为正弦波 若电流为正弦波，则磁通为平顶波，如下图所示。磁通波形此时亦可拆分成各个奇数次谐波。磁通基波与电流同相位。 图13 电流为正弦波 若磁通为正弦波并考虑磁滞现象，则电流波形如下图所示。 图14 磁滞现象对励磁电流波形的影响 所得的电流为激磁电流\\(I_m\\)，它可分为两部分，一部分为磁化电流\\(I_\\mu\\)，磁化电流基波与磁通同相位。另一部分为铁耗电流\\(I_{Fe}\\)。铁耗电流是有功分量，体现磁畴变化时所需要的能量损耗，铁耗电流在相位上超前于磁化电流90度。 这里的磁化电流与图12中的电流波形相同，图12将磁滞回线简化为基本磁化曲线，相当于面积为0的磁滞回线，忽略了铁芯损耗。 Tips:励磁电流和激磁电流不同。励磁电流是流经电磁铁中的电流，用于产生磁场以使电机或变压器正常工作。激磁电流是指感应出来的电流，即使关闭了励磁电源，仍然会在电机或变压器上出现。 能量转换的基本定律 电磁感应定律 变化磁场在导体中的感应电势： \\(e=-N\\frac{d\\Phi}{dt}=-\\frac{d\\Psi}{dt}\\) 运动导体在磁场中的感应电势（发电机原理）： \\(e=\\int({\\bf{v}} \\times {\\bf{B}})d{\\bf{l}} \\quad e=Blv\\) 比奥—萨法尔定律 带电导体在磁场中受力（电动机原理）： \\(f=i\\int d{\\bf{l}} \\times {\\bf{B}} \\quad f=Bli\\) 能量守恒定律 机电能量转换涉及到四种能量：电能、机械能、磁场储能与热能。 发电机：输入机械能⇒输出电能+磁场储能+热能 电动机：输入电能⇒输出机械能+磁场储能+热能 磁场是媒介，实现能量转换 热能是电机损耗，包括电气损耗（铜耗，即电阻发热产生的损耗）、铁芯损耗、机械损耗。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机学","slug":"课程笔记/电机学","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E5%AD%A6/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电机学","slug":"电机学","permalink":"https://renahah.github.io/tags/%E7%94%B5%E6%9C%BA%E5%AD%A6/"}]},{"title":"电机控制器算法综述","slug":"课题笔记/电机控制器算法综述/电机控制器算法综述","date":"2024-06-04T01:04:39.000Z","updated":"2025-09-14T04:17:10.914Z","comments":true,"path":"课题笔记/电机控制器算法综述/电机控制器算法综述/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/","excerpt":"","text":"这一专栏将概括总结目前常用的电机控制器算法，为接下来的论文选题、开题提供创新点思路参考。 本文将列举各个控制算法的参考文献，后文涉及到时直接使用文献前的序号代指整个文献。 序言：控制算法与控制策略的区别 电机控制器算法与控制策略是电机控制的相关研究中最主要的两个大类。 电机控制器算法，在本文中指基于一定的控制理论，为实现电机动态参数（转速、电流、转矩等）的闭环控制，提高控制系统稳态与动态性能，或者说提高系统鲁棒性所采用的算法。比如目前得到广泛应用的PID控制算法，得到广泛研究的模糊控制算法、智能优化算法、神经网络算法等，此外还包括基于现代控制理论的控制方法，如滑膜控制、鲁棒控制（如H∞控制）、模型预测控制、自适应控制、无模型控制等。 电机控制策略，在本文中指为了方便实现对电机的控制，基于电机原理所提出的控制策略。如恒压频比控制、矢量控制、直接转矩控制、无传感器控制等。 二者的不同体现在应用范围上，控制算法基于自动控制相关原理，其应用场景十分广阔，只要涉及到需要控制的场景都可以采用。而控制策略通常仅适用于专一领域，比如矢量控制策略，它通过一定的矢量变换，将电机的三相交流电转换为两相直流电，方便对交流电机实现类似于直流电机的控制，因此要想采用矢量控制，控制对象至少得是交流电机。比如控制锅炉的水位和温度就不能采用电机矢量控制，因为锅炉的运行原理与电机的运行原理截然不同，但可以采用PID控制等各类控制算法。 控制算法参考文献 PID控制 李亦滔. 开关磁阻电机转矩脉动抑制综述[J]. 电机技术，2019(6):53-58. 金宝宝. 基于智能算法的无刷直流电机控制系统设计与实现[D]. 兰州交通大学，2023. 李捷菲. 基于BP神经网络的PID控制系统研究与设计[D]. 吉林大学，2019. 康日晖. 基于改进PSO-PID算法的四轴飞行器飞控系统研究[D]. 太原理工大学，2018. Z小旋-位置式PID与增量式PID区别浅析 模糊控制 陈昱昊，郑宾. 基于模糊PI控制的永磁同步电机矢量控制性能研究[J]. 国外电子测量技术,2022,41(7):75-81. 安治国，张振，张东阳，王龙轩. 模糊自整定PID对开关磁阻电机转矩脉动抑制[J]. 重庆理工大学学报（自然科学）,2022,37(8):86-93. 陈诗慧. 基于神经网络的模糊PID伺服电机控制系统仿真研究[D]. 南京航空航天大学，2019. 模糊PID（自适应模糊PID、fuzzy PID）的基本原理及应用举例 by 研三笔记 PID控制器开发笔记之十二：模糊PID控制器的实现[通俗易懂] 智能优化算法 群体智能类算法 王晖，王文君，肖松毅. 萤火虫算法研究综述[J].南昌工程学院学报,2019,38(4):71-77. 进化类算法 未完待续 神经网络算法、滑模控制、鲁棒控制、模型预测控制、自适应控制、无模型控制等。","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机控制器算法综述","slug":"课题笔记/电机控制器算法综述","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"开关磁阻电机","slug":"课题笔记/电机/开关磁阻电机","date":"2024-04-13T01:29:25.000Z","updated":"2024-07-10T08:36:26.415Z","comments":true,"path":"课题笔记/电机/开关磁阻电机/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/","excerpt":"","text":"为完成特种电机及控制课程作业所整理的笔记。将初步介绍开关磁阻电机工作原理，发展历程，并简要概括其优缺点，最后基于优缺点简要概括开关磁阻电机目前的主要研究方向。 序言 开关磁阻电机（Switched Reluctance Motor，SRM）是一种新型交流调速电机，作为一种双凸极变磁阻电机，它有结构简单、可靠性高、调速范围宽、成本较低等优点，目前被广泛地应用于新能源电动车驱动、通用工业、家用电器和纺织机械等领域，具有广阔的应用前景。由其构成的调速系统兼具直流与交流调速系统的优点，这使得其在交流调速领域异军突起，成为目前电气传动领域较为热门的研究课题之一。 发展概况 关于开关磁阻电机的研究最早可追溯至1838年，英国学者制造了一台通过向蓄电池充电来驱动机车运行的装置，其原理类似于现在的开关磁阻电机，不过受限于当时的科技水平，所制成电机的效率很低，因此没能得到学界的广泛关注。 1969年，美国学者S.A.Nasar撰写的论文描述了开关磁阻电机的两大特征：①开关性：电机工作在一种连续的开关模式；②磁阻性：定、转子具有可变磁阻回路，即它是一种双凸极电机。 而随着现代工业的迅猛发展，电力电子技术、自动控制原理等技术理论趋于成熟，这使得开关磁阻电机研制的技术阻碍被逐渐抹平。 20世纪70年代左右，英国Leeds大学步进电机和磁阻电机研究小组首创了一台现代开关磁阻电机的雏形。 1980年，RJ.Lawrenson在ICEM会议上发表论文《变速开关型磁阻电机》，系统阐述了开关磁阻电机的工作原理与特点，这标志着开关磁阻电机由构思与雏形到被学界正式认可的转变。 电机结构与工作原理 开关磁阻电机为双凸极结构，转子上既无绕组也无永磁体，定子上嵌有集中绕组。 注：凸极电机具有不均匀的气隙，交轴电感与直轴电感不相等。 开关磁阻电机的运行遵循着“磁阻最小原理”。 利用磁阻的不相等，磁通会沿着磁阻最小的路径闭合，通电的定子以磁力吸引转子，产生磁力的切向分力，进而产生对磁阻的电磁转矩。 开关磁阻电机工作过程中，由转子位置传感器检测当前转子的位置，其中最有利于对转子产生前向转矩的一相定子会通电，随着转子的转动，不断变换通电的定子绕组相序，从而实现转子的持续转动。 具有一定形状的转子铁心在移动到最小磁阻位置时，其主轴线会与磁场的轴线重合，若给定子绕组按照一定的顺序依次供电，转子将沿着逆励磁次序的方向旋转。 图1 开关磁阻电机结构（画出其中一相绕组及其主电路） 如图所示的开关磁阻电机是四相8/6极开关磁阻电机，其定子有8极，转子有6极。 径向相对的两个定子绕组正向串联构成一相，相绕组通电后在铁心内形成两极型的磁场。 开关磁阻电机的转矩由磁路选择最小磁阻结构的趋势有关。 上图D相定子凸极轴线D-D'与转子凸极轴线3-3'重合，此时D相磁路磁阻最小，电感最大，若此时继续给D相励磁，转子将只受到径向磁吸力而无切向磁拉力，无法维持转子的转动。若给A相励磁，由于此时磁力线被扭曲，将会产生切向磁拉力，使转子旋转到定子凸极轴线A-A'与转子凸极轴线1-1'重合之处，使A相的磁路磁阻最小，电感最大。 若上图为定转子位置的初始状态，按照A-&gt;B-&gt;C-&gt;D顺序给定子绕组通电，则转子将沿着逆励磁顺序以逆时针方向转动；若按照C-&gt;B-&gt;A-&gt;D顺序给定子绕组通电，则转子按顺时针方向转动。 开关磁阻电机的旋转方向与相电流方向无关，仅与相绕组励磁顺序有关。 由上图可知，当主开关器件\\(S_1,S_2\\)导通时，D相绕组从直流电源\\(U_s\\)吸收电能；当\\(S_1,S_2\\)关断时，相电流经续流二极管\\(VD_1,VD_2\\)回馈电源\\(U_s\\)，引入回馈环节可以有效利用能量，提高开关磁阻电机调速系统的工作效率。 定义每切换一次通电的定子绕组时，转子转过的角度为步距角\\(\\theta_{step}\\)，可得： \\(\\theta_{step}=\\frac{\\tau_t}{m}=\\frac{360°}{mN_r}\\) 其\\(N_r\\)为转子凸极个数，m为相数，\\(\\tau_t\\)为转子的极距角。 考虑磁路饱和带来的非线性，根据磁共能计算开关磁阻电机的电磁转矩 \\({\\left. {T(\\theta ,i) = \\frac{ {\\partial W&#39;(\\theta ,i)} }{ {\\partial \\theta } } } \\right|_{i = const} }\\) 在对开关磁阻电机作定性分析时，若忽略磁路的非线性，上式可简化为 \\(T(\\theta ,i) = \\frac{ { {i^2}}}{2}\\frac{ {\\text{d}}L}{ {\\text{d}}\\theta}\\) 优缺点 优点 (1)结构简单、制造成本低 开关磁阻电机定子和转子采用双凸极结构，没有安装永磁体，使得其制造成本相较于感应电机与永磁同步电机更低。 (2)控制电路简单 开关磁阻电机每一相只需要一个功率开关就能实现控制，控制器成本较低。电机旋转方向取决于各相绕组的通电顺序，与通入电流方向无关。 (3)可靠性高 开关磁阻电机各相可以独立工作。当出现电源缺相、电动机或控制器任意一相故障时，另外几相绕组仍能正常工作，开关磁阻电机仍能以较小的功率正常运行。这使得开关磁阻电机能够较好地适应高温等极限环境下的工作。 (4)调速范围广，低速下可长期运行 由于开关磁阻电机效率高，在低速下的温升程度比额定工况时要低，不存在变频调速低速运行下电动机发热问题。此外，开关磁阻电机最高转速不会像交流电动机那样受极数的限制，可以灵活地设定最高转速。 (5)系统效率高、节能效果好 开关磁阻电机整体比异步电动机变频调速系统效率高，在低速或轻载工作的状态下效率能够高10%以上；与齿轮电机减速、二级皮带轮减速、电磁调速等系统相比，开关磁阻调速电机节电效果更明显。 (6)可以实现频繁起停与正反转控制 开关磁阻电机启动时能以较小的电流得到较大的转矩，这使其四象限运行控制灵活，条件允许的情况下，可支持每小时几百次以上的起停或正反转的切换。适合于需要重载起动、负载变化明显、频繁起停的场合。 (7)功率器件控制错误不会引起短路 开关磁阻电机调速系统的上下桥臂功率器件和电机的绕组串联，不存在发生功率器件控制错误导致短路而烧毁的现象。而变频器的主电路上下桥臂直接串联，存在由于干扰或导通错误导致母线直接短路的可能性。 缺点 由于SRM独特的双凸极结构以及磁路的高饱和性，不可避免的导致了转矩脉动以及噪声等诸多问题。 转矩脉动 开关磁阻电机工作在脉冲供电方式中，瞬时转矩脉动大，转速很低时，步进状态明显，而且由于其本身的非线性，导致转矩控制困难。尽管目前研究SRM直接转矩控制技术等文章较多，但仍难以实现转矩的精确控制，在伺服等精密控制场合，SRM与其它类型电机相比不具有优势。 噪声 开关磁阻电机相绕组轮流导通，径向力导致定子变形，换相时更明显，电机噪声大，减小振动和噪声是重要的研究课题，很多科研人员正在从电磁参数设计和调速方法以及电机结构几方面进行研究加以改进，但现在与其它电机相比，仍然噪声偏大。 位置检测器 位置检测器使得结构简单的开关磁阻电机变得逊色，降低了系统可靠性，因此探索实用的无位置检测器的检测方案是十分有必要的。目前国内外研究较多的是用定子绕组的瞬态电感信息来实现无位置检测器方案，但距实际应用还待进一步深入研究。 参考资料 [1] 吴建华．开关磁阻电机设计与应用[M]．北京：机械工业出版社，2000． [2] 吴红星．开关磁阻电机系统理论与控制技术[M]．北京：中国电力出版社，2010． [3] 王宏华．开关型磁阻电动机调速控制技术[M]．北京：机械工业出版社，2014． 电子创新网——电机讲解丨开关磁阻电机","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"Maxwell教程05-永磁同步电机静态及瞬态仿真案例","slug":"工业软件/ANSYS/Maxwell教程05-永磁同步电机静态仿真案例","date":"2024-04-05T03:59:05.000Z","updated":"2024-05-17T14:17:06.172Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程05-永磁同步电机静态仿真案例/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B05-%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA%E9%9D%99%E6%80%81%E4%BB%BF%E7%9C%9F%E6%A1%88%E4%BE%8B/","excerpt":"","text":"基于B站视频【Maxwell基础入门】永磁同步电机静态仿真案例整理的学习笔记，视频原作者为我真的爱吃炸鸡。 并在此基础上，参考书籍、网络上的资料，实现永磁同步电机瞬态仿真。 本次实验将观察电机的空载磁力线、空载磁密分布、定子感应电势波形、空载气隙磁密波形。 使用的软件版本为2021R1 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 静态仿真 电机参数 部件 参数 定子外径 180mm 定子内径 120mm 气隙 0.6mm 永磁体厚度 4mm 定子槽数 36 定子极数 4 模型绘制 打开软件，点击Desktop菜单里的Maxwell图标，点击Maxwell 2D，创建一个二维的Maxwell工程。 点击菜单栏Modeler-&gt;Units，确认仿真单位为mm。 接下来绘制定子槽与导体。 (1)点击Draw菜单栏中的直线(Draw Line)，然后在右下角xyz坐标处依次输入(59.6,1,0)-&gt;(61.25,1,0)-&gt;(62.75,2.75,0)-&gt;(79.25,4,0)，每输入一个数据就回车一次，输入数据时鼠标不要离开输入区域。最后得到一段折线。 (2)接下来选中这段折线，点击Draw菜单栏中Thru Mirror，做一个镜面对称，点击x轴上的任意一点作为镜面对称的基准点，再点击其竖直下方的任意点作为另一个基准点。最后得到一段与x轴轴对称的折线。 (3)接下来画一段圆弧。点击Draw菜单栏中的“Draw center point arc”，在右下角xyz坐标输入(79.25,0,0)作为圆心，然后点击(79.25,4,0)与(79.25,-4,0)作为圆弧的两个端点。它将定子槽的两个顶端连接了起来。 (4)然后画一段直线，连接(59.6,1,0)与(59.6,-1,0)，完成整个定子槽。 (5)为方便仿真计算，将圆弧转化为线段的组合。这里选择Polyline2（圆弧对应的在左侧物料栏中的名字）-&gt;CreatePolyline-&gt;CreateAngular，双击它进入属性窗口，将Number of Segments设置为5。这样将会使圆弧近似转化为5条线段的组合。 (6)将定子槽所有的部分组合为一体。选中各个部分后，点击Draw菜单栏中Unite即可。 (7)将其由线段的组合转化为面。选中这个定子槽整体，点击Draw菜单栏中Surface-&gt;Cover Lines，就可以看到整个定子槽被填充成实心的了。 (8)接下来画定子槽导体，先画下导体，点击Draw菜单栏中的直线(Draw Line)，然后在右下角xyz坐标处依次输入(61.25,1,0)-&gt;(61.25,-1,0)-&gt;(62.75,-2.75,0)-&gt;(71.99,-3.45,0)-&gt;(71.99,3.45,0)-&gt;(62.75,2.75,0)-&gt;(61.25,1,0)，每输入一个数据就回车一次。 (9)再画上导体，这次不一个一个输入坐标，而是直接描线段，依次点击八个端点得到上导体。 (10)给导体命名，修改属性窗口中的Name，下导体(Polyline4)命名为down，上导体(Polyline5)命名为up。还可以顺便修改颜色。 接下来画定子铁芯。 (11)画两个圆，可以先随意一画，再修改圆的半径，根据上文电机参数，设置外圆半径90mm，内圆半径60mm。 (12)为方便仿真计算，将圆转化为线段的组合，这里将设置外圆的Number of Segments为36（原则上与定子槽数相等），内圆的Number of Segments为180（内圆与气隙接触，需要更精细的刨分来确保仿真精度）。 (13)接下来做布尔运算，将两个圆转化为圆环。选中这两个圆，点击Draw菜单栏中的Subtract做相减运算，进入界面后设置Blank Parts（减数）为外圆，Tool Parts为内圆（被减数）。 得到的圆环就是定子，这里将其命名为stator。 接下来将一个定子槽沿圆环复制得到全部36个定子槽。 (14)选中整个定子槽，点击Draw菜单栏中的Around Axis，界面中的Total number设为36（等于定子槽数），Angle设为10（360度除以定子槽数）。 (15)接下来剪切槽口，同样是布尔运算，选中定子圆环与36个定子槽，点击Draw菜单栏中的Subtract做相减运算，设置Blank Parts为定子圆环，Tool Parts为36个定子槽。 接下来绘制转子。 (16)同样是画一个外圆，其半径为55.4mm（定子内径减去气隙长度再减去永磁体厚度）。Number of Segments设置为180（和前面与气隙接触的定子内圆相同）。 (17)接下来画内圆，半径设为15mm，Number of Segments设置为36。 (18)接下来点击Draw菜单栏中的Subtract做相减运算，外圆减去内圆得到转子，这里将其命名为rotor。 接下来绘制永磁体。 (19)首先画一个半径为59.4mm的外圆（这个是辅助线，画完永磁体后需删掉），Number of Segments设置为180。 (20)然后就是比较精细的操作了，需要在59.4mm永磁体外圆与55.4mm转子外圆（永磁体内圆）之间画永磁体边界线。放大画面，画面中心为x轴正方向安装永磁体的位置，从x轴开始分别数两个圆的边（最好将Draw菜单栏中的Select由Object改为Edge，这样才能选中两个圆的边一个个数，数完后恢复原来的Object），分别逆时针数15个边（对应的角度为30°），最后一个边的上端点就是永磁体边界线的两个端点，画线连接之。 (21)然后使用Draw菜单栏中的Thru Mirror做一个对称，得到x轴下方的永磁体边界线。 (22)接下来画两段圆弧，以永磁体边界线的端点作为圆弧端点。 (23)将得到的四条线组合为一体，选中后点击Draw菜单栏中Unite。 (24)将永磁体由线段的组合转化为面。选中这个永磁体，点击Draw菜单栏中Surface-&gt;Cover Lines。 (25)选中永磁体，点击Draw菜单栏中的Around Axis，界面中的Total number设为4（定子极数），Angle设为90（360度除以定子极数）。这样就得到了全部四个永磁体。 (26)将x轴上的两个永磁体组合成一个N极，命名为Mag_N，同理y轴上的是S极，命名为Mag_S。 接下来画定子求解边界。 (27)画一个半径为90mm的外圆（Number of Segments设置为36）与59.7mm的内圆（Number of Segments设置为180），二者相减得到定子求解边界，命名为air。 接下来画转子运动边界。 (28)画一个半径为59.7mm的外圆（Number of Segments设置为180）与15mm的内圆（Number of Segments设置为36），二者相减得到定子求解边界，命名为band。 图1 永磁同步电机仿真模型 材料绑定 (1)选中所有导体（36个上导体与36个下导体），右键Assign Material，选择copper（铜）作为导体的材料。 (2)选中定子与转子，右键Assign Material，点击右上角的省略号按钮打开材料库，点击RMxprt材料库将之导入，选择DW465_50作为定子与转子的材料。 (3)选中永磁体N极，右键Assign Material，搜索NdFe30，选中后点击Clone Material，将其更名(Material Name)为NdFe30_N，Material Coordinate System Type设置为Cylindrical（径向磁化，圆柱坐标）。 (4)选中永磁体S极，右键Assign Material，搜索NdFe30，选中后点击Clone Material，Material Coordinate System Type设置为Cylindrical，将属性里的R Component设置为-1。 绕组设置 (1)选中up,up1,up2,up18,up19,up20,down,down34,down35,down16,down17,down18。右键Assign Excitation-&gt;Current，命名(Base Name)为PA（A相正极），15A，Positive。 (2)选中up9,up10,up11,up27,up28,up29,down7,down8,down9,down25,down26,down27。右键Assign Excitation-&gt;Current，命名(Base Name)为RA（A相负极），15A，Negative。 (3)选中up6,up7,up8,up24,up25,up26,down4,down5,down6,down22,down23,down24。右键Assign Excitation-&gt;Current，命名(Base Name)为PB（B相正极），7.5A，Positive。 (4)选中up15,up16,up17,up33,up34,up35,down13,down14,down15,down31,down32,down33。右键Assign Excitation-&gt;Current，命名(Base Name)为RB（B相负极），7.5A，Negative。 (5)选中up12,up13,up14,up30,up31,up32,down10,down11,down12,down28,down29,down30。右键Assign Excitation-&gt;Current，命名(Base Name)为PC（C相正极），7.5A，Positive。 (6)选中up3,up4,up5,up21,up22,up23,down19,down20,down21,down1,down2,down3。右键Assign Excitation-&gt;Current，命名(Base Name)为RC（C相负极），7.5A，Negative。 边界条件 (1)将Draw菜单栏中的Select由Object改为Edge。 (2)依次选中定子外径的36条边，右键Assign Boundary-&gt;Vector Potential，然后OK。 (3)再选中转子内径，右键Assign Boundary-&gt;Vector Potential，然后OK。 模型刨分 (1)打开Simulation菜单栏，点击Mesh Settings，Mesh Method选择为Classic。 (2)选中所有的定子导体，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，命名为coil，Skin Depth设置为5，Number of Layers of Elements设置为8，Surface Triangle Length设置为2。 (3)选中定子与转子，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，命名为rotor_stator，Skin Depth设置为5，Number of Layers of Elements设置为6，Surface Triangle Length设置为4。 (4)选中永磁体N极与S极，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，命名为mag，Skin Depth设置为5，Number of Layers of Elements设置为2，Surface Triangle Length设置为4。 (4)选中定子求解边界与转子运动边界，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，命名为air，Skin Depth设置为5，Number of Layers of Elements设置为22，Surface Triangle Length设置为0.3。 模型求解与仿真结果查看 (1)右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面，使用默认设置，直接确定即可。 (2)点击Simulation菜单栏的Validate，可以检查目前是否达成正式开始仿真运行的所有条件。 (3)点击Validate旁边的Analyze All，开始求解，需要较长的一段时间。 (4)求解结束后，就可以看各种仿真结果了。先看一下磁力线分布，选中整个电机模型，右键Fields-&gt;A-&gt;Flux_Lines，设置界面中In Volume选择AllObjects，确认后开始生成相应的图像，双击图像上的图例进入设置界面，可以修改图像的显示效果。 (5)再看一下磁通密度，选中电机模型后右键Fields-&gt;B-&gt;Mag_B，设置界面中In Volume选择AllObjects。 图2 磁力线分布 图3 磁通密度 瞬态仿真 瞬态仿真采用与静态仿真相同的电机参数，其模型绘制、材料绑定、模型刨分环节与静态仿真一致，这里不再赘述。 设置绕组激励 瞬态仿真与静态仿真的绕组设置方式不同。 (1)选中三相绕组所有首端（前文静态仿真中的A相正极、B相正极、C相正极），右键选择Assign Excitation-&gt;Coil，命名为Pos，Number of Conductors为线圈导线数，其值为匝数与并绕根数乘积，这里设置为10，Polarity极性设置为Positive。 (2)选中三相绕组所有尾端（前文静态仿真中的A相负极、B相负极、C相负极），右键选择Assign Excitation-&gt;Coil，命名为Neg，Number of Conductors设置为10，Polarity极性设置为Negative。 (3)添加绕组分组，右键Project Manager中的Excitations-&gt;Add Windings，命名为Winding_A，Type选择Current（电流激励），并选择Stranded（Stranded是分散导体、多股绞线，如异步和同步电机定子绕组；Solid是实心导体，如鼠笼式异步电机转子导条，存在集肤效应），这里进行的是空载实验，永磁体磁极为激励，不设电流激励，Current值为0。Number of parallel branch（并联支路数）设为1。 (4)右键Winding_A-&gt;Add Coils添加属于A相的所有线圈。 (5)同理设置Winding_B与Winding_C并添加对应的线圈。 边界条件 (1)将Draw菜单栏中的Select由Object改为Edge。 (2)依次选中定子外径的36条边，右键Assign Boundary-&gt;Vector Potential，得到0矢量边界1。 (3)再选中转子内径，右键Assign Boundary-&gt;Vector Potential，得到0矢量边界2。 设置运动部件 选中转子(band)，右键Assign Band，Type选项卡下选择Rotation，Mechanical选项卡下设置Angular Velocity（角速度）为1500r/min。 模型求解与仿真结果查看 模型求解方法与静态仿真一致。 磁力线分布与磁通密度的仿真结果查看方式与静态仿真一致，这里介绍定子感应电势波形与气隙磁密曲线的仿真结果获取方法。 首先观察定子感应电势波形（三相反电动势波形），右键Project Manager中的Result-&gt;Creat Transient Report-&gt;Rectangular Plot，Category选择Winding，Quantity选择InducedVoltage(Winding_A)、InducedVoltage(Winding_B)、InducedVoltage(Winding_C)，点击New Report即可生成感应电势曲线，如下图所示。 图4 定子感应电势波形 然后观察气隙磁密波形，首先要绘制气隙线，点击Draw菜单栏中的圆绘制一个以电机轴心为圆心，半径为59.7mm的圆，点击后会弹出窗口，寻味是否创建一个Non Model Object点击OK即可（或者在Draw菜单栏最右侧Material中的Model改为Non Model，这样不会弹出窗口）。 选中所得的圆，展开并删除CoverLines，只保留CreateCircle，得到的就是气隙线。 右键Project Manager中的Create Fields Report-&gt;Rectangular Plot，Geometry选择所得的气隙线，X为Default，Y选择Mag_B（在Category选择Calculator Expressions，Quantity选择Mag_B），点击New Report即可生成气隙磁密波形曲线，如下图所示。 图5 气隙磁密波形 参考资料 【Maxwell基础入门】永磁同步电机静态仿真案例 Ansoft Maxwell 13电机电磁场实例分析 (刘慧娟)","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"BP神经网络PID控制器的设计与仿真","slug":"课程笔记/神经网络原理及应用/BP神经网络PID控制器的设计与仿真","date":"2024-03-28T01:42:17.000Z","updated":"2025-06-07T04:30:18.984Z","comments":true,"path":"课程笔记/神经网络原理及应用/BP神经网络PID控制器的设计与仿真/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/BP%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9CPID%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"预习神经网络原理及应用课程大作业所整理的笔记。 本文将介绍BP神经网络PID控制器原理及其改进、Simlink仿真具体步骤。依照上述原理与方法完成基于BP神经网络的永磁同步电机PID控制器设计与仿真。 绪论 BP神经网络概述 误差反向传播(Back Propagation,BP)神经网络于1986年由Rumelhart和McClelland等人提出，其本质是一种对误差进行逆向传播，反复训练得到的多层前馈神经网络。BP神经网络一般由三层网络组成：输入层、隐含层与输出层。 BP神经网络算法有两个要点：其一是信息的前向传播，即信息经过输入层传播到隐含层后最终由输出层进行输出的过程。此时若实际输出与期望输出相同，则学习训练到此结束，给出结果； 其二是误差的反向传播，若实际输出与期望值不符，误差信号会原路返回，通过依次修改输出层和 隐含层的连接权使误差信号沿着负梯度方向下降，即调节权值使误差减小。 经过上述过程后，网络的最终实际输出将慢慢趋近于期望输出。 BP神经网络算法学习步骤 图1 BP神经网络模型 设输入层、隐含层、输出层节点分别为\\(x_i,o_j,y_l \\quad (i=1,2,\\cdots,M \\quad j=1,2,\\cdots,Q \\quad l=1,2,\\cdots,L)\\)。 设输入层神经元\\(i\\)与隐含层神经元\\(j\\)的连接权值为\\(w_{ji}\\)，设隐含层神经元\\(j\\)与输出层神经元\\(l\\)的连接权值为\\(w_{lj}\\)。 (1)初始化：为每个神经元随机分配初始权值与阈值。 (2)前向传播： 计算隐含层节点的输出：\\(o_j=f(\\sum\\limits_{i=0}^n w_{ji}x_i-\\theta_j)=f(net_j)\\) 计算输出层节点的输出：\\(y_l=f(\\sum\\limits_{j=0}^n w_{lj}o_j-\\theta_l)=f(net_l)\\) (3)计算误差：设输出端的教师信号为\\(t_l \\quad (l=1,2,\\cdots,L)\\)，得到误差函数\\(E_p=\\frac{1}{2} \\sum_l (t_l-y_l)^2\\) (4)反向传播：若误差函数满足要求，则结束训练；否则开始误差反向传递，即从后向前沿着误差梯度减小的方向修改每层之间的连接权值。 计算误差函数\\(E_p\\)与输出层节点连接权的偏导数：\\(\\frac{\\partial E}{\\partial w_{lj}}=\\sum\\limits_{k=1}^L \\frac{\\partial E}{\\partial y_k} * \\frac{\\partial y_k}{\\partial w_{lj}}=\\frac{\\partial E}{\\partial y_l} * \\frac{\\partial y_l}{\\partial w_{lj}}\\) \\(\\frac{\\partial E}{\\partial y_l}=\\frac{1}{2}\\sum_K[-2(t_k-y_k)] * \\frac{\\partial y_k}{\\partial y_l}=-(t_l-y_l)\\) \\(\\frac{\\partial y_l}{\\partial w_{lj}}=\\frac{\\partial y_l}{\\partial net_l} * \\frac{\\partial net_l}{\\partial w_{lj}}=f&#39;(net_l) * y_j\\) \\(\\Rightarrow \\frac{\\partial E}{\\partial w_{lj}}=-(t_l-y_l) * f&#39;(net_l) * y_j\\) 计算误差函数\\(E_p\\)与隐含层节点连接权的偏导数：\\(\\frac{\\partial E}{\\partial w_{ji}}=\\sum_i \\sum_j \\frac{\\partial E}{\\partial y_l} * \\frac{\\partial y_l}{\\partial o_j} * \\frac{\\partial o_j}{\\partial w_{ji}}\\) \\(\\frac{\\partial y_l}{\\partial o_j}=\\frac{\\partial y_l}{\\partial net_l} * \\frac{\\partial net_l}{\\partial o_j}=f&#39;(net_l) * w_{ji}\\) \\(\\frac{\\partial o_j}{\\partial w_{ji}}=\\frac{\\partial o_j}{\\partial net_j} * \\frac{\\partial net_j}{\\partial w_{ji}}=f&#39;(net_j) * x_i\\) \\(\\Rightarrow \\frac{\\partial E}{\\partial w_{ji}} = -\\sum_l (t_l-y_l) * f&#39;(net_l) * w_{ji} * f&#39;(net_j) * x_i\\) \\(=-\\sum_l \\delta_l * w_{ji} * f&#39;(net_j) * x_i = -\\delta_j^{&#39;} * x_i\\) 其中\\(\\delta_l = (t_l-y_l) * f&#39;(net_l) \\quad \\delta_j^{&#39;}=f&#39;(net_j)*\\sum_l \\delta_l w_{ji}\\) (5)调整连接权值：利用梯度下降原理，令连接权值按照学习速率\\(\\eta\\)修正。 输出层节点的连接权值被更新为：\\(w_{lj}(k+1)=w_{lj}(k)+\\Delta w_{lj} = w_{lj}(k) + \\eta \\delta_l o_j\\) 隐含层节点的连接权值被更新为：\\(w_{ji}(k+1)=w_{ji}(k)+\\Delta w_{ji} = w_{ji}(k) + \\eta^{&#39;} \\delta_j^{&#39;} x_i\\) (6)令\\(k=k+1\\)，回到步骤(2)再次进行计算，直至误差函数\\(E_p\\)小于某个设定好的阈值，结束学习训练。 BP神经网络的改进 (1)引入惯性项 提升收敛速度，同时会获得更优异的动态特性。 (2)引入动量项 在修正时同时根据k时刻以及k-1时刻的梯度值来进行调整，使得网络能够更好的收敛。 (3)变步长因子 训练刚开始时，𝜂可以较大以增大收敛速度；当训练趋于稳定时，𝜂可以较小，以保持稳定。 (4)选取合适的激活函数 将激活函数变为ReLU等改进型非线性函数。解决梯度消失问题。 BP神经网络PID控制器设计 BP神经网络PID控制器原理 图2 BP神经网络PID控制器框图 PID控制的比例、积分、微分三个参数具有相互配合、相互制约的特点。借助BP网络对非线性函数的映射能力，可以使PID控制器中三个参数的各种非线性组合的最优解能够通过自学习得到。 BP神经网络PID控制器框图如上图所示，其中常规PID部分能够对受控对象形成闭环反馈控制，神经网络部分能够依据系统状态和特定的学习算法，最终得到最优的PID控制器的参数。 BP神经网络PID控制器设计步骤 图3 BP神经网络模型（PID控制器） (1)确定BP神经网络的结构 本文应用于PID控制器的BP神经网络模型如上图所示，该模型采用3-5-3结构。 其中，输入层\\(x_1,x_2,x_3\\)分别是系统的期望值、偏差值与实际值。输出层是PID控制器的\\(K_p,K_i,K_d\\)参数。这里将隐含层神经元个数设为5。 (2)设定隐含层以及输出层的连接权的初始值 设输入层、隐含层、输出层节点分别为\\(x_i,o_j,y_l \\quad (i=1,2,3 \\quad j=1,2,3,4,5 \\quad l=1,2,3)\\)。 设输入层神经元\\(i\\)与隐含层神经元\\(j\\)的连接权值为\\(w_{ji}\\)，设隐含层神经元\\(j\\)与输出层神经元\\(l\\)的连接权值为\\(w_{lj}\\)。 (3)确定激活函数 根据系统控制实际需求，这里选择双曲正切函数作为隐含层的激活函数。 \\(f(x)=tanh(x)=\\frac{e^x-e^{-x}}{e^x+e^{-x}}\\) \\(f^{&#39;}(x)=1-tanh^2(x)=1-f^2(x)\\) 由于输出层节点\\(K_p,K_i,K_d\\)值不能小于零，因此选择非负型双曲正切函数作为输出层的激活函数。 \\(g(x)=\\frac{1}{2}[1+tanh(x)]=\\frac{e^x}{e^x+e^{-x}}\\) \\(g^{&#39;}(x)=2g(x)[1-g(x)]\\) (4)前向传播参数计算 根据当前时刻系统设定值\\(r(k)\\)与实际输出值\\(y(k)\\)，依次计算\\(e(k)\\)、输入层输入、隐含层输入、隐含层输出、输出层输入、输出层输出。 注：右上角的\\((1),(2),(3)\\)用来指代输入层、隐含层、输出层。 输入层输入：\\(o_i^{(1)}=x(j) \\quad (i=1,2,3)\\) 隐含层输入：\\(net_j^{(2)}=\\sum\\limits_{i=0}^3 w_{ji}^{(2)} o_i^{(1)}\\) 隐含层输出：\\(o_j^{(2)}(k)=f(net_j^{(2)}(k)) \\quad (j=1,2,3,4,5)\\) 输出层输入：\\(net_l^{(3)}(k)=\\sum\\limits_{j=0}^5 w_{lj}^{(3)} o_j^{(2)}(k)\\) 输出层输出：\\(o_l^{(3)}(k)=g(net_l^{(3)}(k)) \\quad (l=1,2,3)\\) (5)根据增量式数字PID控制的公式，计算PID控制器输出的控制值u(k) 选定性能指标函数\\(E(k)=\\frac{1}{2}[r(k)-y(k)]^2\\) (6)反向传播参数计算 根据负梯度规则，调整输出层连接权值\\(w_{lj}^{(3)}\\)和隐含层连接权值\\(w_{ji}^{(2)}\\)。 \\(\\Delta w_{lj}^{(3)}(k)=-\\eta\\frac{\\partial E(k)}{\\partial w_{lj}^{(3)}} + \\alpha \\Delta w_{lj}^{(3)}(k-1)\\) \\(\\frac{\\partial E(k)}{\\partial w_{lj}^{(3)}}=\\frac{\\partial E(k)}{\\partial y(k)} * \\frac{\\partial y(k)}{\\partial \\Delta u(k)} * \\frac{\\partial \\Delta u(k)}{\\partial o_l^{(3)}(k)} * \\frac{\\partial o_l^{(3)}(k)}{\\partial net_l^{(3)}(k)} * \\frac{\\partial net_l^{(3)}(k)}{\\partial w_{lj}^{(3)}}\\) 经过化简与近似，得到输出层的连接权值在学习后的改变量 \\(\\Delta w_{lj}^{(3)}(k)=\\alpha \\Delta w_{lj}^{(3)}(k-1) + \\eta \\delta_l^{(3)}o_j^{(2)}(k)\\) \\(\\delta_l^{(3)}=e(k)sgn(\\frac{\\partial y(k)}{\\partial \\Delta u(k)}) \\frac{\\Delta u(k)}{\\partial o_l^{(3)}(k)}g^{&#39;}(net_l^{(3)}(k))\\) 同理得到隐含层的连接权值在学习后的改变量 \\(\\Delta w_{ji}^{(2)}(k)=\\alpha \\Delta w_{ji}^{(2)}(k-1)+\\eta \\delta_j^{(2)}o_i^{(1)}(k)\\) \\(\\delta_j^{(2)}=f^{&#39;}(net_j^{(2)}(k))\\sum\\limits_{l=1}^3 \\delta_l^{(3)}w_{lj}^{(3)}(k)\\) (7)令\\(k=k+1\\)，回到步骤(4)再次进行计算，直至性能指标函数\\(E(k)\\)小于设定值，结束学习训练。 BP神经网络PID控制器仿真分析 仿真模型搭建 在双闭环PI控制的PMSM控制基础上，引入BP神经网络算法，对转速环的PID参数进行实时优化。其控制系统原理图如下所示： 图4 基于BP神经网络的PMSM控制系统原理图 根据控制系统原理图，搭建如下图所示的控制系统仿真模型： 图5 基于BP神经网络的PMSM控制系统仿真模型 PMSM的数学模型参见鲁棒控制理论与应用02-H∞控制器的设计方法，本文沿用了上述数学模型，这里不再赘述。 电机参数、电流环PI控制器参数、Simulink仿真参数，以及PMSM控制系统原理图介绍参见基于粒子群算法的电机控制器参数整定研究，本文沿用了上述参数，这里不再赘述。 图6 BP神经网络PID控制器仿真模型 基于BP神经网络的PID控制器仿真模型如上图所示。 由图可知，控制器的输入量为给定值、误差值和实际值，这三个输入量与控制器输出量经过如下图所示的延时环节处理后得到给定值、上一时刻与当前时刻的实际值、上一时刻与当前时刻的误差值以及上一时刻与当前时刻的控制器输出量，这7个值作为输入量导入到基于BP神经网络算法的PID控制器S函数程序之中，其输出为控制器输出量和当前时刻的三个PID参数。 图7 输入量处理 S-function编写 S函数模块的导入外部参数与封装的步骤可以参考单神经元PID控制器的设计与仿真 注：“模块参数”界面中“S-Function参数”填写的内容是在K0,T,xite,alfa 注：本次仿真采用的外部参数取值K0=60，T=0.0002，xite=0.002，alfa=0.0005 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118function [sys,x0,str,ts,simStateCompliance] = s_bppid(t,x,u,flag,K0,T,xite,alfa)%x0状态变量初始值，ts采样时间%x状态变量，u输入向量，flag标志位，K0、T、xite、alfa外部参数%输入向量对应仿真文件中S函数模块与左侧Mux总线相连的7个输入值%它们在S函数程序中被表示为u(1),u(2),u(3),u(4),u(5),u(6),u(7)switch flag case 0 [sys,x0,str,ts,simStateCompliance]=mdlInitializeSizes;%初始化函数 case 2 sys=mdlUpdate(t,x,u,K0,T);%状态变量更新函数 case 3 sys=mdlOutputs(t,x,u,xite,alfa);%输出与权值更新函数 case &#123;1,4,9&#125; sys=[]; otherwise DAStudio.error(&#x27;Simulink:blocks:unhandledFlag&#x27;, num2str(flag)); endfunction [sys,x0,str,ts,simStateCompliance]=mdlInitializeSizessizes=simsizes;sizes.NumContStates=0;sizes.NumDiscStates=3;%状态变量个数sizes.NumOutputs=4;%输出参数格式（PID输出控制量、Kp、Ki、Kd）sizes.NumInputs=7;%输入参数个数sizes.DirFeedthrough=1;sizes.NumSampleTimes=1;sys=simsizes(sizes);x0=[0.1,0.1,0.1];%状态变量初始值，设置为比较小不为零的正数str=[];ts=[0 0];simStateCompliance = &#x27;UnknownSimState&#x27;;function sys=mdlUpdate(t,x,u,K0,T)x=[K0*u(5);x(2)+u(5)*T;(u(5)-u(4))/T];%e(k),e(k)求和,e(k)求微分sys=[x(1);x(2);x(3)];function sys=mdlOutputs(t,x,u,xite,alfa)global wi;global wo;global wi_1;global wi_2;global wi_3;global wo_1;global wo_2;global wo_3;global Kp;global Ki;global Kd;Oh=zeros(1,5);I=Oh;K1=zeros(3,1);K=zeros(1,3);dyu=0;dK=zeros(1,3);delta3=zeros(1,3);d_wo=zeros(3,5);segma=zeros(1,5);delta2=zeros(1,5);d_wi=zeros(5,3);dO=zeros(1,5);xi=[u(1),u(3),u(5)];%输入层的输入(设定值、实际值、误差)epid=[x(1);x(2);x(3)];%用于传给pid控制器的状态变量I=xi*wi&#x27;;%隐含层的输入for j=1:1:5 %解决I值过大时结果为NaN的问题 if I(j)&gt;500 I(j)=500; end if I(j)&lt;-500 I(j)=-500; end Oh(j)=(exp(I(j))-exp(-I(j)))/(exp(I(j))+exp(-I(j)));%隐含层的输出endK1=wo*Oh&#x27;; %输出层的输入for i=1:1:3 K(i)=exp(K1(i))/(exp(K1(i))+exp(-K1(i)));%输出层的输出endu_k=K*epid;%PID控制量输出%以下是权值调整%隐含层至输出层的权值调整dyu=sign((u(3)-u(2))/(u(7)-u(6)+0.0000001));for j=1:1:3 dK(j)=2/(exp(K1(j))+exp(-K1(j)))^2; %输出层的输出的一阶导endfor i=1:1:3 delta3(i)=u(5)*dyu*epid(i)*dK(i); %输出层的deltaendfor j=1:1:3 for i=1:1:5 d_wo=xite*delta3(j)*Oh(i)+alfa*(wo_1-wo_2); endendwo=wo_1+d_wo+alfa*(wo_1-wo_2);%以下是输入层至隐含层的权值调整for i=1:1:5 dO(i)=4/(exp(I(i))+exp(-I(i)))^2;endsegma=delta3*wo;for i=1:1:5 delta2(i)=dO(i)*segma(i);endd_wi=xite*delta2&#x27;*xi;wi=wi_1+d_wi+alfa*(wi_1-wi_2);wo_3=wo_2;wo_2=wo_1;wo_1=wo;wi_3=wi_2;wi_2=wi_1;wi_1=wi;Kp=K(1);Ki=K(2);Kd=K(3);sys=[u_k,Kp,Ki,Kd]; 仿真结果分析 分别对采用PI控制的系统与采用基于BP神经网络的PID控制的系统进行仿真分析，设定为电机转速给定值\\(\\omega_r^*\\)=1000r/min，使其空载起动，0.1秒后对电机施加12\\(N \\cdot m\\)的负载转矩，仿真得到电机转速\\(\\omega_r\\)波形，对其动态与静态性能进行对比分析。 双闭环PI控制系统与基于BP神经网络的PID控制系统起动和突加负载的转速比较曲线如下图所示。 图8 转速比较曲线 由转速比较曲线可以看出，在系统起动时，PI控制下的调节时间为21.57ms，超调量为4.42%，BP神经网络控制下的调节时间为12.37ms，超调量为1.27%； 突加负载扰动后，PI控制下的最大转速降落为40.18r/min，恢复时间为8.48ms，BP神经网络控制下的最大转速降落为22.86r/min，恢复时间为1.85ms。 PI控制系统与BP神经网络控制系统转速最终均稳定为给定值，稳态误差为0。 由转速响应曲线归纳出的数据表明，二者在稳态性能上均符合控制需求，在动态性能指标上，BP神经网络控制系统具有更短的调节时间与恢复时间，以及更小的超调量，这说明相较于PI控制系统，BP神经网络控制系统具有更好的快速性。 参考资料 邱锡鹏. 神经网络与深度学习[M]. 北京:机械工业出版社,2020 李捷菲. 基于BP神经网络的PID控制系统研究与设计[D]. 吉林大学，2019 基于BP神经网络PID控制+Simulink仿真 CSDN—Mr. 邹—几种神经网络整定PID参数原理剖析及simulink案例仿真","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"课程笔记/神经网络原理及应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"神经网络原理及应用","permalink":"https://renahah.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}]},{"title":"单神经元PID控制器的设计与仿真","slug":"课程笔记/神经网络原理及应用/单神经元PID控制器的设计与仿真","date":"2024-03-23T14:19:32.000Z","updated":"2024-05-18T12:25:55.939Z","comments":true,"path":"课程笔记/神经网络原理及应用/单神经元PID控制器的设计与仿真/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/%E5%8D%95%E7%A5%9E%E7%BB%8F%E5%85%83PID%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"预习神经网络原理及应用课程大作业所整理的笔记。 本文将介绍单神经元PID控制器原理、有监督Hebb学习规则、单神经元PID控制器的改进、Simlink仿真具体步骤、S-function的使用方法。依照上述原理与方法完成单神经元PID控制器的设计与仿真。 下一篇文章将介绍基于BP神经网络的PID控制器的设计与仿真。 绪论 神经网络 人工神经网络(Artificial Neural Networks，ANN)，简称神经网络，是指一类受生物学和神经科学启发得来的的数学模型。主要通过对人脑的神经元网络进行抽象，构建人工神经元，并按照一定拓扑结构来建立人工神经元之间的连接，来模拟生物的神经网络。 人工神经网络由许许多多信息处理单位（对应于人脑中的神经元）根据不同的相互作用强度（即连接权值）互连而成，其实质是对生物学上的人脑神经体系的一种近似与模拟，人工神经网络能够像人体神经系统一样对外界知识进行检索、处理与存储。 单神经元原理 单神经元，又被称作MP神经元，由心理学家McCulloch和数学家Pitts于1943年根据生物神经元的结构提出。 图1 单神经元模型 单神经元模型如上图所示，其中\\(x_1,x_2,\\cdots,x_n\\)为接收到的信息，\\(\\omega_{i1},\\omega_{i2},\\cdots,\\omega_{in}\\)为连接的权值。将各个信息值按照权重相加并做一定处理，所得到的结果被称为“净输入”，其表达式为： \\(net_i=\\sum\\limits_{j = 1}^n \\omega_{ij}x_j-\\theta_i\\) 式中\\(\\theta_i\\)为神经元\\(i\\)的阈值。 最终的输出值\\(y_i\\)与净输入\\(net_i\\)的关系式为：\\(y_i=g(net_i)\\)，这里的\\(g\\)被称为激活函数。 单神经元PID控制器原理 图2 单神经元PID控制框图 单神经元PID控制框图如上图所示，图中\\(r_{in}\\)为系统输入值（设定值），\\(y_{out}\\)为系统实际输出值，输入转换模块将\\(r_{in}\\)与\\(y_{out}\\)变换为神经元的输入状态变量\\(x_i(k)\\)，这三个状态变量与PID控制器的三个参数（\\(K_p,K_i,K_d\\)）相关，PID控制器采用增量式算法，其中： \\(x_1(k)=e(k)\\)，对应PID控制的积分项，与误差量相等； \\(x_2(k)=\\Delta e(k)=e(k)-e(k-1)\\)，对应PID控制的比例项，反映误差变化的方向； \\(x_3(k)=\\Delta^2 e(k)=e(k)-2e(k-1)+e(k-2)\\)，对应PID控制的微分项。 取\\(\\omega_i(k)\\)为\\(x_i(k)\\)的神经元连接权值，取\\(K\\)为神经元的比例系数（要求\\(K&gt;0\\)），则有： \\(u(k)=u(k-1)+K\\sum\\limits_{i = 1}^3 \\omega_i(k)x_i(k)\\) \\(\\Delta u(k)=K[\\omega_1(k)e(k)+\\omega_2(k)\\Delta e(k)+\\omega_3(k)\\Delta^2 e(k)]\\) 由此可知，\\(K\\)值越大，系统整体速度越快，但同时超调量也会增多，而且影响系统整体稳定性。 神经元通过有监督型Hebb学习，对神经元连接权值进行实时修正，以实现对PID控制器参数的自适应调整。 这里取教师信号（系统性能指标）\\(z(k)=e(k)\\)，得到\\(k\\)时刻的连接权值为： \\(\\omega_i(k)=\\omega_i(k-1)+\\eta z(k)u(k)x_i(k)\\) 式中\\(\\eta\\)为学习速率，取大于零的较小值。 单神经元PID控制器改进 为解决当\\(\\eta\\)的值较大时，单神经元PID的学习速度增大的同时可能造成的收敛速度降低问题，可以让输入状态变量的连接权值以不同学习速率分开调整。 这里对不同状态变量采用不同的连接权值学习速率\\(\\eta_P,\\eta_I,\\eta_D\\)，可以得到： \\(\\omega_1(k)=\\omega_1(k-1)+\\eta_I z(k)u(k-1)x_1(k)\\) \\(\\omega_2(k)=\\omega_2(k-1)+\\eta_P z(k)u(k-1)x_2(k)\\) \\(\\omega_3(k)=\\omega_3(k-1)+\\eta_D z(k)u(k-1)x_3(k)\\) \\(u(k)=u(k-1)+K\\sum\\limits_{i=1}^3 \\omega_i^{&#39;}(k)x_i(k)\\) \\(\\omega_i^{&#39;}(k)=\\frac{\\omega_i(k)}{\\sum\\limits_{j=1}^3 |\\omega_j(k)|}\\)（归一化处理） 而实际经验表明，PID参数不仅与\\(e(k)\\)有关，还与其变化值\\(\\Delta e(k)\\)有关，将后者也加入到连接权值调整公式中，可以得到： \\(\\omega_1(k)=\\omega_1(k-1)+\\eta_I z(k)u(k-1)[e(k)+\\Delta e(k)]\\) \\(\\omega_2(k)=\\omega_2(k-1)+\\eta_P z(k)u(k-1)[e(k)+\\Delta e(k)]\\) \\(\\omega_3(k)=\\omega_3(k-1)+\\eta_D z(k)u(k-1)[e(k)+\\Delta e(k)]\\) 单神经元PID控制器仿真分析 仿真模型搭建 使用Simulink构建一个简单的连续系统仿真模型，如下图所示： 图3 单神经元PID控制系统仿真模型 其中输入为阶跃信号，传递函数为\\(G(s)=\\frac{1}{20s+1}\\)，单神经元PID控制器如下图所示： 图4 单神经元PID控制器系统仿真模型 仿真模型最中央的“exp_pidf”是一个S函数(S-function)模块，它是一个Matlab脚本文件，在仿真模型中实现单神经元PID的相关运算。 S函数模块左侧的Mux总线与该函数的五个输入值相连，它们分别是\\(e(k),e(k-1),e(k-2),u(k-1),u(k)\\)。 这里\\(e(k)\\)是误差变量，也是整个PID控制器的输入变量。在\\(e(k)\\)的基础上串联一个延时环节(Unit Delay)就会得到\\(e(k-1)\\)，他表示的是上一次的误差。同理串联两个延时环节得到\\(e(k-2)\\)。 \\(u(k)\\)是控制器输出量，同理可知串联一个延时环节得到的\\(u(k-1)\\)是上一次的输出量。 S函数模块右侧的Demux总线与该函数的四个输出值相连，它们是控制器输出值\\(u(k)\\)与PID的三个参数\\(K_i,K_p,K_d\\)。 这里\\(u(k)\\)是必须输出的值，而输出PID的三个参数值，是为了观察仿真运行过程中三个参数的变化情况。 S-function模块 S函数(S-function)是System-function系统函数的缩写，是指采用非图形化的方式（计算机语言）描述的一个功能块。 首先要在Simulink中，找到S函数模块，打开库浏览器，找到Simulink-&gt;User-Defined Functions-&gt;S Function。 图5 S函数模块参数 打开S函数模块，可以看到“模块参数”界面，有三个空。 第一个是S-Function名称，这个名称就是自己创建的matlab脚本的名称，脚本与仿真文件需要在同一文件夹内，点击“编辑”可以打开该脚本文件。 第二个是S-Function参数，它既不是输入参数也不是输出参数，而是外部参数，这些参数将被导入到脚本文件中参与计算。本次仿真外部参数为不同的连接权值学习速率\\(\\eta_P,\\eta_I,\\eta_D\\)和神经元比例系数\\(K\\)，填写为[ni;np;nd],K。 最后一个是S-Function模块，在S-function是用C语言编写并用MEX工具编译的C-MEX文件时，需要填写该参数，这里不做修改。 而如果导入了外部参数，还需要进行另外的一步，那就是封装。 右键S函数模块-&gt;封装-&gt;编辑封装，就能打开封装编辑器(Mask Editor)。 图6 封装编辑器 将之前的四个外部参数(np,ni,nd,K)按如图所示添加进去，这里的参数名称和前面“模块参数”中的名称保持一致。 完成这一步后，再打开S函数模块，会直接弹出设置外部参数的对话框，更方便调整参数。 图7 参数设置 S-function编写 下面介绍S函数的编写原则，并基于此写出单神经元PID控制器的S函数。 1function [sys,x0,str,ts,simStateCompliance] = exp_pidf(t,x,u,flag,deltak,K) 这是主函数的第一行，函数的定义，exp_pidf是函数名，其右侧为输入参数（包括外部参数），等号左侧是输出参数。 t是时间变量； x是状态变量，对应前面的\\(x_i(k)\\)或\\(\\omega_i(k)\\)； u是输入向量，对应仿真文件中S函数模块与左侧Mux总线相连的五个输入值\\(e(k),e(k-1),e(k-2),u(k-1),u(k)\\)，它们在S函数程序中被表示为\\(u(1),u(2),u(3),u(4),u(5)\\)； flag是标志位，在仿真程序运行的不同阶段，会根据标志位运行不同的子函数。 deltak是外部参数，这里deltak=[ni;np;nd]，表示控制器积分、比例、微分的学习速率，它是一个列向量。 K是外部参数，神经元比例系数。这里的外部参数与前面“模块参数”界面中设置的参数要一一对应。 sys是程序返回值，它不一定是控制器输出量，返回的值取决于flag值，也就是不同的子函数； x0是状态变量初始值； str默认为空，无需设置； ts是采样时间，包含采样时间和偏移量； simStateComplicance是附加变量； 123456789101112131415switch flag, case 0, [sys,x0,str,ts,simStateCompliance]=mdlInitializeSizes;%调用初始化函数 case 2, sys=mdlUpdate(t,x,u,deltak);%更新状态变量，此算法有三个状态变量，三个权值系数w1(k),w2(k),w3(k) case 3, sys=mdlOutputs(t,x,u,K);%调用输出函数，输出控制值信号 case &#123;1,4,9&#125;, sys=[]; otherwise DAStudio.error(&#x27;Simulink:blocks:unhandledFlag&#x27;, num2str(flag));end 接下来完成这个主函数，它是一个switch-case结构，选择不同的标志位以进入不同的子函数。 其中flag=0时进入初始化函数，flag=2时更新状态变量，flag=3时计算控制器输出值。 123456789101112131415161718192021function [sys,x0,str,ts,simStateCompliance]=mdlInitializeSizes%初始化函数sizes = simsizes;sizes.NumContStates = 0;sizes.NumDiscStates = 3;%定义三个离散的状态变量，w1(k),w2(k),w3(k)sizes.NumOutputs = 4;%定义四个输出，算法中的控制变量u（k)和三个PID参数Kp,Ki,Kdsizes.NumInputs = 5;%定义该系统有五个输入sizes.DirFeedthrough = 1;%直接馈通，输出和输入有关存在直接馈通参数为1sizes.NumSampleTimes = 1; %采样时间个数，默认值sys = simsizes(sizes);x0 = [0.1,0.1,0.1];%定义三个状态变量的初始值，即w1(0)=0.1,w2(0)=0.1,w3(0)=0.1str = [];ts = [-1 0];%S-function设置为[-1 0]为按照其所连接块的速率来运行simStateCompliance = &#x27;UnknownSimState&#x27;; 初始化函数如上所示，主要关注离散的状态变量数量(NumDiscStates)、输出量数量(NumOutputs)、输入量数量(NumInputs)。 状态变量初始值x0设成不为零的较小数，可以避免可能出现的程序报错。 12function sys=mdlUpdate(t,x,u,deltak)sys = x+deltak*u(1)*u(5)*(2*u(1)-u(2)); 状态变量更新函数如上所示。 其中x为上一次状态变量，\\(x=[\\omega_1(k-1);\\omega_2(k-1);\\omega_3(k-1)]\\) sys为更新后状态变量，\\(sys=[\\omega_1(k);\\omega_2(k);\\omega_3(k)]\\) 其对应的公式为： \\(\\omega(k)=\\omega(k-1)+\\eta z(k)u(k-1)[e(k)+\\Delta e(k)]\\) 123function sys=mdlOutputs(t,x,u,K)xx = [u(1) u(1)-u(2) u(1)+u(3)-2*u(2)];sys = [u(4)+K*xx*x/sum(abs(x));K*x/sum(abs(x))]; 控制器输出值计算函数如上所示。 其中xx对应\\(x_i(k)\\) sys的第一个参数是控制器输出值，对应公式： \\(u(k)=u(k-1)+K\\sum\\limits_{i=1}^3 \\omega_i^{&#39;}(k)x_i(k)\\) sys的后面三个输出值为PID控制器参数\\(K_i,K_p,K_d\\)，对应公式为： \\(K_i=K \\omega_1^{&#39;}(k)\\) \\(K_p=K \\omega_2^{&#39;}(k)\\) \\(K_d=K \\omega_3^{&#39;}(k)\\) 注：这里的xx是行向量，x是列向量，只有这样向量相乘才会得到一个数。 参考资料 邱锡鹏. 神经网络与深度学习[M]. 北京:机械工业出版社,2020 李捷菲. 基于BP神经网络的PID控制系统研究与设计[D]. 吉林大学，2019 CSDN—小师兄1995—单神经元PID控制+Simulink控制系统仿真 CSDN—小师兄1995—Matlab S-function 使用总结 CSDN—Mr. 邹—几种神经网络整定PID参数原理剖析及simulink案例仿真","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"课程笔记/神经网络原理及应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"神经网络原理及应用","permalink":"https://renahah.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}]},{"title":"神经网络算法概述","slug":"课程笔记/神经网络原理及应用/神经网络算法概述","date":"2024-02-15T00:17:45.000Z","updated":"2024-04-14T01:27:30.595Z","comments":true,"path":"课程笔记/神经网络原理及应用/神经网络算法概述/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%AE%97%E6%B3%95%E6%A6%82%E8%BF%B0/","excerpt":"","text":"预习神经网络原理及应用课程大作业所整理的笔记。 本文将初步介绍神经网络与深度学习相关理论原理，后面的文章将讲解基于神经网络算法的电机控制器参数整定研究。 按照网络上的内容整理，若有错误敬请指正。 绪论 人工智能 智能是知识与智慧的总和，与大脑的思维活动相关。人工智能(Artificial Intelligence，AI)就是通过计算机控制的方式，让机器具有人类的智能。 人工智能的就是让机器的行为看起来就像是人所表现出的智能行为一样。 人工智能的研究主要领域有这三个方面： 模拟人的感知能力，对外部刺激信息（视觉和语音等）进行感知和加工。主要研究领域包括语音信息处理和计算机视觉等。 模拟人的学习能力，主要研究如何从样例或从与环境的交互中进行学习。主要研究领域包括监督学习、无监督学习和强化学习等。 模拟人的认知能力，主要研究领域包括知识表示、自然语言理解、推理、规划、决策等。 机器学习 机器学习(MachineLearning，ML)是指从有限的观测数据中学习（或猜测）出具有一般性的规律，并利用这些规律对未知数据进行预测的方法。机器学习人工智能的一个重要分支。 通常一个机器学习模型通常包括数据预处理、特征提取、特征转换、预测这四个环节。 其中数据预处理、特征提取、特征转换可以统称为特征处理。预测环节是机器学习的核心环节，它对特征处理所得的数据进行了一次“浅层学习”。 图1 传统机器学习的数据处理流程 机器学习可以分为监督学习、无监督学习和强化学习。 表示学习 为了提高机器学习系统的准确率，我们就需要将输入信息转换为有效的特征，或者更一般性地称为表示（Representation）．如果有一种算法可以自动地学习出有效的特征，并提高最终机器学习模型的性能，那么这种学习就可以叫作表示学习（Representation Learning，RL）。 表示学习的关键是解决语义鸿沟（SemanticGap）问题．语义鸿沟问题是指输入数据的底层特征和高层语义信息之间的不一致性和差异性。 我们需要需要一个“好的表示”，这种好的表示可以可以通过一定的规则，将所得到的底层特征与相对抽象的高层语义概念联系起来。 这里的底层特征，可以比作一张由不同颜色的点组成的图片，而高层语义概念，则可以比作我们的能够从图片上观察得到的事物，比如“汽车、房子”。我们需要一个“好的表示”，把图片上的一个个点的特征表示出来，让它们与我们所认知的“汽车、房子”能够更好地通过一定的规则对应上。 深度学习 为了学习一种好的表示，需要构建具有一定“深度”的模型，并通过学习算法来让模型自动学习出好的特征表示（从底层特征，到中层特征，再到高层特征），从而最终提升预测模型的准确率。 深度学习(DeepLearning，DL)是机器学习的一个子问题，其主要目的是从数据中自动学习到有效的特征表示。 “深度”是指原始数据进行非线性特征转换的次数．如果把一个表示学习系统看作一个有向图结构，深度也可以看作从输入节点到输出节点所经过的最长路径的长度。 图2 深度学习的数据处理流程 深度学习需要解决的关键问题是贡献度分配问题(CreditAssignment Problem，CAP)，即一个系统中不同的组件(component)或其参数对最终系统输出结果的贡献或影响。 目前，深度学习采用的模型主要是神经网络模型。神经网络模型可以使用误差反向传播算法，从而可以比较好地解决贡献度分配问题．只要是超过一层的神经网络都会存在贡献度分配问题，因此可以将超过一层的神经网络都看作深度学习模型。 神经网络 人工神经网络(Artificial Neural Networks，ANN)，简称神经网络，由许许多多信息处理单位（对应于人脑中的神经元）根据不同的相互作用强度（即连接权值）互连而成，其实质是对生物学上的人脑神经体系的一种近似与模拟，能够像人体神经系统一样对外界知识进行检索、处理与存储。 参考资料 邱锡鹏. 神经网络与深度学习[M]. 北京:机械工业出版社,2020 神经网络与深度学习 研究生选修课程 李捷菲. 基于BP神经网络的PID控制系统研究与设计[D]. 吉林大学，2019","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"课程笔记/神经网络原理及应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"神经网络原理及应用","permalink":"https://renahah.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}]},{"title":"基于粒子群算法的电机控制器参数整定研究","slug":"课题笔记/电机/基于粒子群算法的电机控制器参数整定研究","date":"2024-01-20T01:42:06.000Z","updated":"2024-09-04T12:22:26.483Z","comments":true,"path":"课题笔记/电机/基于粒子群算法的电机控制器参数整定研究/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/%E5%9F%BA%E4%BA%8E%E7%B2%92%E5%AD%90%E7%BE%A4%E7%AE%97%E6%B3%95%E7%9A%84%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E5%8F%82%E6%95%B0%E6%95%B4%E5%AE%9A%E7%A0%94%E7%A9%B6/","excerpt":"","text":"本科毕业设计课题，本文将对之进行重新修订整理。 本文主要介绍粒子群算法原理及参数整定原理，搭建双闭环PI控制的PMSM仿真模型，并建立粒子群算法电机控制器参数整定程序。将使用粒子群算法整定与传统工程整定方法得到的PI控制器参数分别进行仿真分析，对比二者的动态与稳态性能，来证明采用粒子群算法可以有效改善系统性能。 智能优化算法概述 智能优化算法是为解决信号解析、图像辨析、模式识别、任务调度、生产规划分配、控制系统设计等各行各业的复杂优化类问题，受到人类智能、生物种群的社会行为或者是自然界的固有现象而启发，通过现代化的计算机技术手段所设计出的算法。 常见的智能优化算法可以分为以下6类：传统智能优化算法（模糊PID控制算法、专家经验PID控制算法）、进化类智能算法（遗传算法、差分进化算法、免疫算法）、群体智能类算法（粒子群算法、蚁群算法、人群搜索算法、人工蜂群算法等）、模拟退火算法、禁忌搜索算法与神经网络算法。 在电机控制领域，引入了智能优化算法的电机 PID 控制器在参数整定上相较于传统参数整定方式具有更好的整定效果，可以有效提高电机的控制精度，更好地满足电机控制指标。 粒子群算法 粒子群算法介绍 粒子群优化算法(Particle Swarm Optimization, PSO)是由肯尼迪和埃伯哈特提出的一种新型智能优化算法，属于演化类智能优化算法，其算法灵感来源于自然界中鸟群觅食时的群体行为特点。粒子群算法将鸟群中的一只只觅食的鸟抽象为一个个粒子，这些粒子只具备坐标与速率这两个属性，鸟群中的鸟不知道食物的具体位置，但是知道其余各个鸟的具体位置，以及它们各自离食物的距离。也就是粒子群中各个粒子存在的信息共享机制，虽然单独的鸟未必每次运动都会离目标越近，但鸟群整体会越来越靠近目标食物位置。 粒子群算法易于理解，快速高效，在实时性强的复杂函数优化问题的最优化求解上效果显著，目前广泛应用于模式识别、神经深度学习、控制系统参数整定、目标函数最优化等各个场景。其缺点是运算过程中容易陷入局部最优解，导致所求解的不全面，使问题处理效果不尽人意。 粒子群算法原理 假设粒子群参数维度为\\(N\\)，粒子群中粒子总数\\(m\\)，迭代次数为\\(n\\)，设定迭代速度系数为\\(c_1\\)、\\(c_2\\)、\\(\\omega\\)。 为确保每个粒子在限定范围内呈随机分散分布，输入向量\\(x=(x_1,x_2,\\cdots,x_N )^T\\)的限制范围为： \\[\\left\\{ \\begin{gathered} x_{\\min }^{(1)} &lt; {x_1} &lt; x_{\\max }^{(1)} \\hfill \\\\ x_{\\min }^{(2)} &lt; {x_2} &lt; x_{\\max }^{(2)} \\hfill \\\\ ... \\hfill \\\\ x_{\\min }^{(N)} &lt; {x_N} &lt; x_{\\max }^{(N)} \\hfill \\\\ \\end{gathered} \\right.\\] 记\\(X_{min}=(x_{min}^{(1)},x_{min}^{(2)},\\cdots,x_{min}^{(N)} )\\)，\\(X_{max}=(x_{max}^{(1)},x_{max}^{(2)},\\cdots,x_{max}^{(N)})\\) 输入向量应满足\\(X_{min}&lt;x&lt;X_{max}\\) 这里设定每个粒子的初始速度\\(v_0 = 0\\)，则第\\(j\\)个粒子\\((1 \\leqslant j \\leqslant m)\\)下一步的迭代速度可以用公式表示成： \\[{v^{(j)}} = \\omega \\cdot {v_0} + {c_1} \\cdot rand \\cdot ({P^{(j)}} - {X^{(j)}}) + {c_2} \\cdot rand \\cdot ({P_G} - {X^{(j)}})\\] 迭代速度公式由三个部分相加而得，其中\\(rand\\)表示调用函数生成的0到1之间的随机数。 公式第一部分体现了粒子的自身因素，其包含粒子上一次迭代时的速度信息，\\(v_0\\)是上一次迭代时的粒子速度； 第二部分体现了粒子的学习因素，\\(P^{(j)}\\)为第\\(j\\)个粒子在历次迭代运动过程中最接近于待优化问题结果的那一次迭代时的位置（鸟离食物最近时的位置）； 第三部分体现粒子的交流因素，\\(P_G\\)表示当前的最接近于待优化问题结果的粒子的所在位置（鸟群离食物最近时的位置）。 粒子迭代速度系数可以根据仿真实际需要加以修改，结合实际情况与工程实践经验，可以取\\(\\omega=1,c_1=c_2=2\\)，对于粒子群中粒子数量较多的情况，为确保运算结果能得到较快收敛，可以适当减小\\(\\omega\\)的值。 根据迭代速度公式计算下一时刻的速度及其粒子位置，其公式可表达为： \\[X_{k + 1}^{(j)} = X_k^{(j)} + v_{k + 1}^{(j)} \\cdot dt\\] 式中\\(X_{k+1}^{(j)}\\)表示第\\((k+1)\\)步迭代的位置，\\(X_k^{(j)}\\)表示第\\(k\\)步迭代的位置，\\(v_{k+1}^{(j)}\\)表示第\\((k+1)\\)步迭代的速度，\\(dt\\)是仿真间隔，默认值为1，适当减小该值可以使仿真更慢更平滑。 计算\\(P_G\\)与\\(P^{(j)}\\)的公式如下所示，用于迭代过程中的最优粒子与粒子群的更新： \\[{P_G} = \\left\\{ \\begin{gathered} P_G^{(k)},F(P_G^{(k)}) &gt; F(P_G^{(k + 1)}) \\hfill \\\\ P_G^{(k + 1)},F(P_G^{(k)}) &lt; F(P_G^{(k + 1)}) \\hfill \\\\ \\end{gathered} \\right.\\] \\[P_G^{(j)} = \\left\\{ \\begin{gathered} P_k^{(j)},F(P_k^{(j)}) &gt; F(P_{k + 1}^{(j)}) \\hfill \\\\ P_{k + 1}^{(j)},F(P_k^{(j)}) &lt; F(P_{k + 1}^{(j)}) \\hfill \\\\ \\end{gathered} \\right.\\] 改进粒子群算法 在粒子群算法的参数调整中，惯性因子\\(\\omega\\)以及学习因子\\(c_1,c_2\\)是关键。 学习因子主要影响粒子的目标方向感，即目标识别能力。 在进化上，\\(c_1\\)相对越大，粒子行为越独立，“分散”现象越明显，即学习因素比重较大，全局最优解颇具盲目性，算法收敛速度慢; \\(c_2\\)相对越大，粒子群体意识越强，“群聚”现象越明显，交流因素比重大，但容易陷入局部最优解。 为解决传统的粒子群算法存在的收敛速度慢、容易陷入局部最优解等问题。需要对算法的惯性权重与学习因子在迭代过程中动态调整。 对于学习因子，在前期应当有较大的搜索空间，随着粒子的进化逐渐缩小搜索区域，向全局最优解加速进化，这就要求\\(c_1\\)应当先大后小，\\(c_2\\)先小后大。 学习因子在迭代过程中的公式如下所示，这里引入了反正切函数进行优化。设定\\(c_1\\)与\\(c_2\\)的值域为\\([0.1,2]\\)。\\(n\\)为迭代总次数，\\(k\\)为当前迭代次数。 \\(c_1=-\\frac{4.265}{2\\pi}arctan[\\frac{8}{n}(k-\\frac{n}{2})]+1\\) \\(c_2=\\frac{4.265}{2\\pi}arctan[\\frac{8}{n}(k-\\frac{n}{2})]+1\\) 注：arctan的结果单位是角度，式中\\(2\\pi\\)为360° 对于惯性因子，应当先大后小，使算法在迭代初期增强全局搜索能力，更大范围遍历整体空间，避免陷入局部最优解；而在后期增强局部搜索能力，在更小范围内搜索到精确解。 惯性因子\\(\\omega\\)在迭代过程中的公式如下所示，其在迭代过程中由权重最大值\\(\\omega_{max}\\)线性衰减至权重最小值\\(\\omega_{min}\\)。\\(n\\)为迭代总次数，\\(k\\)为当前迭代次数。 \\(\\omega=\\omega_{max}-\\frac{k}{n}(\\omega_{max}-\\omega_{min})\\) 这里取\\(\\omega_{max}=0.9\\)、\\(\\omega_{min}=0.4\\) PMSM仿真模型搭建 PMSM的数学模型参见鲁棒控制理论与应用02-H∞控制器的设计方法，本文沿用了上述数学模型，这里不再赘述。 电机具体参数如下： 定子电阻\\({R_s} = 0.958\\Omega\\)，极对数\\(p_n=4\\)，粘滞摩擦系数\\(B = 0.008N \\cdot M \\cdot s\\)，d轴电感\\({L_d} = 5.25mH\\)，q轴电感\\({L_q} = 12mH\\)，永磁体的励磁磁链\\({\\Psi _f} = 0.1827wb\\)，转动惯量\\(J = 0.003kg \\cdot {m^2}\\)。 首先搭建双闭环PI控制的PMSM控制系统，使用工程整定方法确定转速环与电流环的PI控制器参数： 取转速环PI控制器参数\\({k_p} = 0.2\\)，\\({k_i} = 30\\)，输出\\(i_q^*\\)的限幅范围为-25.7A≤\\(i_q^*\\)≤25.7A； 取电流环\\(i_q\\)的PI控制器参数\\(K_{pn} = 300\\)，\\(K_{In} = 23950\\)，输出\\(u_q^*\\)的限幅范围为-161.6V≤\\(u_q^*\\)≤161.6V； 取电流环\\(i_d\\)的PI控制器参数\\(K_{pi} = 131.25\\)，\\(K_{Ii} = 23950\\)，输出\\(u_d^*\\)的限幅范围为-161.6V≤\\(u_d^*\\)≤161.6V。 在双闭环PI控制的PMSM控制基础上，引入改进的粒子群算法，对转速环的PI参数进行优化，限幅值及电流环PI参数保持不变。其控制系统原理图如下图所示： 图1 PMSM控制系统原理图 该系统采用空间电压矢量调制技术(Space Vector Pulse Width Modulation，SVPWM)。空间电压矢量调制又被称作称“磁链跟踪控制”。它以三相正弦波电压供电时交流电机的理想磁通轨迹为基准，通过三相功率逆变器的六个功率开关元件组成的特定开关模式来产生的脉宽调制波，用逆变器不同的开关模式产生的实际磁通去逼近基准磁通圆，从而达到较高的控制性能。 该系统采用\\(i_d=0\\)的矢量控制策略。该方法实现了对PMSM的解耦控制，具有控制简单、调速范围宽、转矩特性好、有效降低铜耗的优点。 图中，\\(\\omega^*\\)为目标转速，\\(\\omega\\)为实际转速；\\(i_a,i_b,i_c\\)为三相静止坐标系下的相电流；\\(i_\\alpha,i_\\beta\\)为经过CLARKE变换后的两相静止绕组电流；\\(i_d,i_q\\)为经过PARK变换后的两相旋转绕组电流；\\(u_\\alpha,u_\\beta\\)为\\(u_d,u_q\\)经过PARK逆变换得到的参数。 根据PMSM控制系统原理图，可以搭建出如下图所示的控制系统仿真模型。 图2 PMSM控制系统仿真模型 仿真总时长为0.2s，采样周期为\\(10^{-5}s\\)。设定电机转速给定值\\(\\omega_r^* = 1000r/\\min\\)，使其空载起动，0.1秒后对电机施加12\\(N \\cdot m\\)的负载转矩。 参数整定程序 粒子群算法参数整定程序共由5个MATLAB脚本文件和1个Simulink仿真文件构成，运行入口程序后，将依次执行粒子群算法参数初始化，粒子群算法参数整定，Simulink仿真文件调用及仿真结果数据处理，仿真结果与参数整定结果图像输出等程序功能。 入口程序(main.m) 入口程序是第一个被执行的程序，用于初始化粒子群算法相关参数，包括迭代次数、粒子群规模、粒子限幅值等参数。并导入需要使用的其他MATLAB文件。 12345678910clearglobal Kpn KIn barKpn=0.2;KIn=30;bar=0;n=20;m=50;xmax=[2,500];xmin=[0.05,5];cal_f=@cal_n;f=@PID_n_access;[Pg,fmin]=PSO(n,m,xmax,xmin,cal_f,f);draw();disp(&#x27;OK&#x27;); 粒子群算法函数(PSO.m) 粒子群算法函数的输入参数为迭代次数、粒子群的粒子总数、粒子限幅值、电机控制效果计算函数和评价函数计算函数，输出参数为评价函数最小值及其对应的电机PI控制参数。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647function [Pg,fmin]=PSO(n,m,xmax,xmin,cal_f,f)%全局粒子群算法,f为目标函数,dimension为维度,n为代数,m为种群规模 dimension=numel(xmax); %numel函数，返回数组元素个数 dimension=2 wmax=0.9;wmin=0.4;%速度惯性系数 先大后小 dt=1;%位移仿真间隔 vmax=0.1*(xmax-xmin);%速度限幅 v=zeros(m,dimension);%初始速度为0 X=(xmax-xmin).*rand(m,dimension)+xmin;%初始位置满足(xmin,xmax)内均匀分布 P=X;%P为每个粒子每代的最优位置 last_f=f(X); [fmin,min_i]=min(last_f);%Pg为所有代中的最优位置 Pg=X(min_i,:); last_Pg=Pg; Pg_draw=zeros(n,dimension);%待绘图的PI参数集合 legend_i=1; Pg_draw(legend_i,:)=Pg; [ts_n,sigma_n,ts_nb,sigma_nb,n_err]=cal_f(Pg);%计算初始粒子群的性能参数 disp([&#x27;初始粒子群最优粒子 f=&#x27;,num2str(fmin)]); disp([&#x27;sigma_n=&#x27;,num2str(sigma_n),&#x27; ts_n=&#x27;,num2str(ts_n),&#x27; sigma_nb=&#x27;,num2str(sigma_nb),&#x27; ts_nb=&#x27;,num2str(ts_nb),&#x27; n_err=&#x27;,num2str(n_err)]); disp([&#x27;Kpn=&#x27;,num2str(Pg(1)),&#x27; KIn=&#x27;,num2str(Pg(2))]); for i=1:n w=wmax-i*(wmax-wmin)/n;%改进w 先大后小 c1=-4.265/2/pi*atan(8*(i-n/2)/n)+1;%改进c1 先大后小 c2=4.265/2/pi*atan(8*(i-n/2)/n)+1;%改进c2 先小后大 v=w*v+c1*rand*(P-X)+c2*rand*(ones(m,1)*Pg-X); v=(v&gt;vmax).*vmax+(v&gt;=-vmax &amp; v&lt;=vmax).*v+(v&lt;-vmax).*(-vmax); X=X+v*dt; X=(X&gt;xmax).*xmax+(X&gt;=xmin &amp; X&lt;=xmax).*X+(X&lt;xmin).*(xmin); new_f=f(X);%新的目标函数值 update_j=find(new_f&lt;last_f); P(update_j,:)=X(update_j,:);%修正每个粒子的历史最优值 [new_fmin,min_i]=min(new_f); new_Pg=X(min_i,:); Pg=(new_fmin&lt;fmin)*new_Pg+(new_fmin&gt;=fmin)*Pg; last_f=new_f;%保存当前的函数值 fmin=min(new_fmin,fmin);%更新函数最小值 [ts_n,sigma_n,ts_nb,sigma_nb,n_err]=cal_f(Pg); if last_Pg~=Pg legend_i=legend_i+1; Pg_draw(legend_i,:)=Pg; end last_Pg=Pg; disp([&#x27;第&#x27;,num2str(i),&#x27;次迭代完成 f=&#x27;,num2str(fmin)]); disp([&#x27;sigma_n=&#x27;,num2str(sigma_n),&#x27; ts_n=&#x27;,num2str(ts_n),&#x27; sigma_nb=&#x27;,num2str(sigma_nb),&#x27; ts_nb=&#x27;,num2str(ts_nb),&#x27; n_err=&#x27;,num2str(n_err)]); disp([&#x27;Kpn=&#x27;,num2str(Pg(1)),&#x27; KIn=&#x27;,num2str(Pg(2))]); endend 电机控制效果计算函数(cal_n.m) 电机控制效果计算函数的输入参数为一组（单个粒子）的电机转速环PI控制参数(\\(K_{pn},K_{In}\\))，首先将上述参数导入到双闭环PMSM控制系统仿真模型文件，然后运行仿真程序，提取所得转速数据，分析所得数据，求得转速环调节时间、转速环超调量、突加负载最大转速降落、突加负载转速环恢复时间与系统稳定后的转速波动，作为输出参数用于评价函数计算。 这里取系统从响应至保持在终值± 2%所经过的时间作为调节时间（或恢复时间），系统稳定后的转速波动为0.18s~0.2s时刻转速最大值与最小值的差值。 1234567891011121314151617181920212223242526272829function [ts_n,sigma_n,ts_nb,sigma_nb,n_err]=cal_n(parameters) global Kpn KIn %将simulink所需参数导入工作区，以便仿真使用 obj_slx=&#x27;PMSM_SVPWM_2015b_Jiazai.mdl&#x27;; Kpn=parameters(1); KIn=parameters(2); sim(obj_slx); n_data=n.signals.values; n_max=max(n_data); sigma_n=n_max-1000; %转速超调量 ts_n1=find(n_data(1:10000)&gt;1020); ts_n2=find(n_data(1:10000)&lt;980); if(numel(ts_n1)==0) ts_n=ts_n2(end); else ts_n=ts_n1(end); end n_min=min(n_data(10001:20000)); sigma_nb=1000-n_min; %突加负载最大转速降落 ts_nb1=find(n_data(10001:20000)&lt;980); if(numel(ts_nb1)==0) ts_nb=0; else ts_nb=ts_nb1(end); end n_infty_max=max(n_data(18000:20000));%转速终值 n_infty_min=min(n_data(18000:20000));%转速终值 n_err=n_infty_max-n_infty_min;%转速波动end 评价函数计算函数(PID_n_access.m) 评价函数是粒子群算法待优化的函数，本程序的输入参数是待处理的所有粒子群参数，程序首先将将粒子群逐一分散为粒子，针对每个粒子所对应的电机PI控制参数逐一单独仿真，带入参数计算程序，计算所得的各个控制效果参数，包括转速环调节时间\\(T_{sn}\\)、转速环超调量\\(\\omega_{sn}\\)、突加负载最大转速降落\\(n_d\\)、突加负载转速环恢复时间\\(T_{sd}\\)、系统稳定后的转速波动\\(n_{err}\\)。 最后将上述参数带入如下式所示的评价函数，其中\\(T_{sn0},\\omega_{sn0},n_{d0},T_{sd0}\\)为基准值。 \\[f=3*\\log(\\frac{T_{sn}}{T_{sn0}}+1)+3*\\log(\\frac{\\omega_{sn}}{\\omega_{sn0}}+1)+\\log(\\frac{n_d}{n_{d0}}+1)+\\log(\\frac{T_{sd}}{T_{sd0}}+1)+10*n_{err}\\] 上述五个参数都是越小越好，这使得所得函数值越小，代表电机控制效果越好。各项式子前的系数代表着各个参数对于评价函数值的影响权重，可以根据实际控制性能的不同需求修改这些系数。 12345678910111213141516171819function [y,ts_n,sigma_n,ts_nb,sigma_nb,n_err]=PID_n_access(parameters_list) global bar M=size(parameters_list,1);%计算需要仿真的组数（simulink无法并行仿真） ts_n0=1200.0;sigma_n0=10.0;ts_nb0=600;sigma_nb0=20.0;%基准值 %将simulink所需参数导入工作区，以便仿真使用 %if((mod(bar,4)==1&amp;&amp;bar&lt;=200)||(mod(bar,2)==1&amp;&amp;bar&gt;=200)) y=zeros(M,1); for sim_i=1:M bar=bar+1; if(mod(bar,2)==1) disp(&#x27;█&#x27;); fprintf(&#x27;%c&#x27;,8); end parameters=parameters_list(sim_i,:); [ts_n,sigma_n,ts_nb,sigma_nb,n_err]=cal_n(parameters); y(sim_i)=3*log(ts_n/ts_n0+1)+3*log(sigma_n/sigma_n0+1)+log(ts_nb/ts_nb0+1)+log(sigma_nb/sigma_nb0+1)+n_err*10; endend 作图函数(draw.m) 用于绘制参数整定前后的转速曲线图。 1234567891011121314151617181920212223function draw() global Kpn KIn figure(1) sim(&#x27;PMSM_SVPWM_2015b_Jiazai.mdl&#x27;) n_data=n.signals.values;time=n.time;%获取转速序列及对应时刻 plot(time,n_data) hold on figure(1) Kpn=0.2; KIn=30; sim(&#x27;PMSM_SVPWM_2015b_Jiazai.mdl&#x27;) n_data=n.signals.values;time=n.time;%获取转速序列及对应时刻 plot(time,n_data) hold on figure(1) legend_str&#123;1&#125;=&#x27;PSO-PI&#x27;; legend_str&#123;2&#125;=&#x27;PI&#x27;; legend(legend_str) xlabel(&#x27;时间/s&#x27;) ylabel(&#x27;电机转速n/(r/min)&#x27;) disp(&#x27;比较曲线绘制完成&#x27;); 仿真结果分析 图3 粒子群算法参数整定前后转速曲线比较 运行代码后，输出参数整定前后的转速曲线如上图所示。其具体参数见下表： 表1 粒子群算法参数前后的控制性能比较 PI PSO-PI 转速环PI参数 \\(K_{pn}=0.2,K_{In}=30\\) \\(K_{pn}=0.24005,K_{In}=276.6148\\) 转速环调节时间/ms 21.57 14.54 转速环超调量/(r/min) 44.167 28.0042 突加负载最大转速降落/(r/min) 40.1785 24.7302 转速环恢复时间/ms 8.48 1.99 稳态转速波动/(r/min) 0.17 0.09 由上表可知，采用粒子群算法整定后的PID参数，无论是在电机启动速度及超调量，还是加入负载转矩后恢复时的属性，都显著优于工程整定方法所得的参数。 参考资料 CSDN—沉沙丶—永磁同步电机矢量控制系列教程 【Simulink】粒子群算法（PSO）整定PID参数（附代码和讲解） 刘子健. 基于改进的PSO-BP神经网络算法的永磁同步电机PID参数整定[J]. 兰州文理学院学报（自然科学版），2024，38(1)：77-81. 谢金法. 基于改进粒子群优化算法的PMSM矢量控制[J]. 现代制造工程，2019(7)：6-11. 曾雄飞. 基于粒子群算法优化BP神经网络的PID控制算法[J]. 电子设计工程，2022，30(11)：69-73. 金宝宝. 基于智能算法的无刷直流电机控制系统设计与实现[D]. 兰州交通大学，2023","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"智能优化算法","slug":"智能优化算法","permalink":"https://renahah.github.io/tags/%E6%99%BA%E8%83%BD%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/"},{"name":"粒子群算法","slug":"粒子群算法","permalink":"https://renahah.github.io/tags/%E7%B2%92%E5%AD%90%E7%BE%A4%E7%AE%97%E6%B3%95/"}]},{"title":"鲁棒控制理论与应用02-H∞控制器设计与仿真","slug":"课程笔记/鲁棒控制理论与应用/鲁棒控制理论与应用02-H∞控制器的设计方法","date":"2023-12-06T02:49:40.000Z","updated":"2024-01-25T05:20:21.009Z","comments":true,"path":"课程笔记/鲁棒控制理论与应用/鲁棒控制理论与应用02-H∞控制器的设计方法/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A802-H%E2%88%9E%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%B3%95/","excerpt":"","text":"为完成鲁棒控制理论与应用与交流伺服电机及其控制课程大作业所整理的笔记。 无PPT，按照板书、教材及网络上的内容整理，若有错误敬请指正。 本文首先介绍\\(H_\\infty\\)标准设计问题和永磁同步电动机(PMSM)的数学模型，根据数学模型与电机参数进行\\(H_\\infty\\)鲁棒控制器设计。使用Simulink搭建\\(H_\\infty\\)控制PMSM调速系统仿真模型，将其与采用传统双闭环PI控制的PMSM调速系统进行对比分析，通过分析二者的动态与稳态性能，来证明\\(H_\\infty\\)鲁棒控制在提高系统抗扰动能力的鲁棒性上的有效性。 \\(H_\\infty\\)标准设计问题 \\(H_\\infty\\)控制问题可以归结为如下图所示的标准设计问题。 其中\\(w\\)为干扰输入信号、\\(z\\)为评价信号、\\(u\\)为控制输入信号（对于\\(K(s)\\)而言是输出信号）、\\(y\\)为观测量（对于\\(K(s)\\)而言是输入量）。 \\(G(s)\\)是由输入信号\\(u,w\\)到输出信号\\(z,y\\)的传递函数阵，被称为增广被控对象。\\(K(s)\\)为反馈控制器。 图1 H∞标准设计问题 传递函数\\(G(s)\\)的状态空间实现（增广被控对象）可由下式给出： \\(\\left\\{ {\\begin{array}{*{20}{c}} {\\dot x}={\\bf A}x+{\\bf B_1}w+{\\bf B_2}u \\\\ z={\\bf C_1}x+{\\bf D_{11}}w+{\\bf D_{12}}u \\\\ y={\\bf C_2}x+{\\bf D_{21}}w+{\\bf D_{22}}u \\end{array}}\\right.\\)① 式中，x为n维变量，w为r维信号向量，u为p维、z为m维、 y为q维信号向量，该式亦可表示为： \\(G(s)=\\left[ {\\begin{array}{*{20}{c}} G_{11}(s)&amp;G_{12}(s) \\\\ G_{21}(s)&amp;G_{22}(s)\\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} {\\bf A}&amp;{\\bf B_1}&amp;{\\bf B_2} \\\\ {\\bf C_1}&amp;{\\bf D_{11}}&amp;{\\bf D_{12}}\\\\ {\\bf C_2}&amp;{\\bf D_{21}}&amp;{\\bf D_{22}} \\end{array}}\\right]\\)② 从w到z的闭环传递函数为： \\(T_{zw}=LFT(G(s),K(s))=G_{11}+G_{12}K(I-G_{22}K)^{-1}G_{21}\\)③ 对于增广被控对象，需要求解传递函数的范数\\(\\parallel {T_{zw}}(s){\\parallel _\\infty }\\)最小，进而求得控制器\\(K(s)\\)，即\\(\\min \\parallel {T_{zw}}(s){\\parallel _\\infty } = {\\gamma _0}\\) 由此可以定义\\(H_\\infty\\)的次优设计问题如下： 对于给定的增广被控对象\\(G(s)\\)和\\(\\gamma(\\gamma&gt;\\gamma_0)\\)，求反馈控制器\\(K(s)\\)使得闭环系统内部稳定且\\({T_{zw}}(s)\\)满足 \\(\\parallel {T_{zw}}(s){\\parallel_\\infty } &lt; \\gamma\\)④ 若满足式④，则对于给定的被控对象\\(G(s)\\)存在次优解，可以通过反复地减小\\(\\gamma\\)来进行对此迭代，将控制器的解慢慢逼近最优解，即\\(\\gamma \\to {\\gamma_0}\\)。 这样式④就等价于\\(\\parallel \\frac{1}{\\gamma }{T_{zw}}(s){\\parallel _\\infty } &lt; 1\\)⑤ 其中\\(\\frac{1}{\\gamma }{T_{zw}}(s)\\)对应增广被控对象\\(G(s) = \\left[ {\\begin{array}{*{20}{c}} { {\\gamma ^{ - 1}}{G_{11}}(s)}&amp;{ {G_{12}}(s)} \\\\ { {\\gamma ^{ - 1}}{G_{21}}(s)}&amp;{ {G_{22}}(s)} \\end{array}} \\right]\\)⑥ 上述增广被控对象和控制器\\(K(s)\\)能构成如图1所示系统的闭环传递函数。在实际工程中，往往采用\\(\\gamma=1\\)的情况，这使得式④等价于\\(\\parallel {T_{zw}}(s){\\parallel_\\infty } &lt; 1\\)⑦ 通过这样的变换，可以将控制器的设计问题转化为标准的\\(H_\\infty\\)设计问题。 讨论状态反馈\\(H_\\infty\\)控制器的设计问题。即设系统的观测量等于系统的状态变量\\(y=x\\)，在增广被控对象满足特定条件的前提下，直接基于Riccati不等式的设计方法。 这里给出\\(H_\\infty\\)次优设计问题在\\(D_{11}=0,D_{12}\\)列满秩的特例下的特解。 设增广被控对象的状态空间实现为\\(\\left\\{ {\\begin{array}{*{20}{c}}{\\dot x = {\\mathbf{A}}x + { {\\mathbf{B}}_{\\mathbf{1}}}w + { {\\mathbf{B}}_{\\mathbf{2}}}u} \\\\ {z = { {\\mathbf{C}}_{\\mathbf{1}}}x + { {\\mathbf{D}}_{ {\\mathbf{12}}}}u} \\end{array}} \\right.\\)⑧ 且\\(rank{\\bf{D_{12}}}=p\\)，\\(({\\bf{A}},{\\bf{B_2}})\\)可稳定，即\\(G(s) = \\left[ {\\begin{array}{*{20}{c}}{\\mathbf{A}}&amp;{ { {\\mathbf{B}}_{\\mathbf{1}}}}&amp;{ { {\\mathbf{B}}_{\\mathbf{2}}}}\\\\{ { {\\mathbf{C}}_{\\mathbf{1}}}}&amp;0&amp;{ { {\\mathbf{D}}_{ {\\mathbf{12}}}}} \\\\ {\\mathbf{I}}&amp;0&amp;0 \\end{array}}\\right]\\)⑨ 对式⑧所示的系统，考虑状态反馈控制器\\(u = {\\mathbf{K}}x,\\quad {\\mathbf{K}} \\in {R^{p \\times n}}\\)⑩ 可以使用以下的结论求得控制器：对于给定的\\(\\gamma&gt;0\\)，存在\\(\\mathbf{K}\\)使得闭环系统⑧和⑩内部稳定且\\(\\parallel {T_{zw}}(s){\\parallel_\\infty } &lt; \\gamma\\)成立的充分必要条件是存在正定阵\\({\\bf X}&gt;0\\)，满足Riccati不等式 \\({\\bf A}^T{\\bf X}+{\\bf XA}+\\gamma^{-2}{\\bf XB_1 B_1}^T {\\bf X}+{\\bf C_1}^T {\\bf C_1}-({\\bf XB_2}+{\\bf C_1}^T {\\bf D_{12}})({\\bf D_{12}}^T {\\bf D_{12}})^{-1}({\\bf B_2}^T {\\bf X}+{\\bf D_{12}}^T {\\bf C_1})&lt;0\\)⑪ 若上述不等式有正定解，则使闭环系统稳定且式④成立的反馈阵由下式给出 \\({\\bf K}=-({\\bf D_{12}}^T {\\bf D_{12}})^{-1}({\\bf B_2}^T {\\bf X}+{\\bf D_{12}}^T {\\bf C_1})\\)⑫ PMSM数学模型 基于PMSM的实际工作特性，建立PMSM的数学模型，在这里对PMSM做出如下假设： 1）忽略铁芯饱和； 2）不计涡流和磁滞损耗； 3）转子上没有阻尼绕组，永磁体也没有阻尼作用； 4）反电动势是正弦的。 以转子参考坐标，建立d-q坐标系。取永磁体基波磁场的方向为d轴，q轴顺着旋转方向超前d轴90°电角度，转子参考坐标的旋转速度即为转轴速度。 电压方程为：\\(\\left\\{ {\\begin{array}{*{20}{c}}{ {u_q} = {R_s}{i_q} + p{\\psi _q} + {\\omega _r}{\\psi _d}} \\\\ { {u_d} = {R_s}{i_d} + p{\\psi _d} - {\\omega _r}{\\psi _q}} \\end{array}} \\right.\\)⑬ 磁链方程为：\\(\\left\\{ {\\begin{array}{*{20}{c}}{ {\\psi _q} = {L_q}{i_q}} \\\\ { {\\psi _d} = {L_d}{i_d} + {\\psi _f}} \\end{array}} \\right.\\)⑭ 上述公式中，\\(u_d,u_q\\)为d,q轴电压；\\(\\psi_d,\\psi_q\\)为d,q轴磁链；\\(i_d,i_q\\)为d,q轴电流；\\(L_d,L_q\\)为d,q轴电感；\\(R_s\\)为定子相电阻；\\(\\omega_r\\)为转子电角速度；\\(\\psi_f\\)为永磁体的励磁磁链；p为微分算子。 转矩方程为：\\({T_{em}} = \\frac{3}{2}{p_n}[{\\psi _q}{i_q} + ({L_d} - {L_q}){i_d}{i_q}]\\)⑮ 式中，\\(T_{em}\\)为电磁转矩，\\(p_n\\)为电机的极对数，若采取\\(i_d=0\\)矢量控制策略，则转矩方程可简化为： \\({T_{em}} = \\frac{3}{2}{p_n}{\\psi _f}{i_q}\\)⑯ 此时\\(\\psi_f=\\psi_q\\)，转矩大小与\\(i_q\\)大小成正比，可以更方便地通过控制\\(i_q\\)大小来控制转矩。 运动方程为：\\({T_{em}} = {T_l} + B{\\Omega _r} + Jp{\\Omega _r}\\)⑰ 式中，\\(T_l\\)为负载转矩，B为粘滞摩擦系数，\\(\\Omega_r\\)为机械角速度，J为转子和所带负载的总转动惯量。 由电角速度\\(\\omega_r\\)与机械角速度\\(\\Omega_r\\)的关系\\(\\omega_r=p_n \\Omega_r\\)，可以将运动方程可整理为： \\({T_{em}} - {T_l} = \\frac{J}{ { {p_n}}}\\frac{ {d{\\omega _r}}}{ {dt}} + \\frac{B}{ { {p_n}}}{\\omega _r}\\)⑱ 根据上述方程所推导出的状态方程为：\\(\\left\\{ \\begin{gathered}p{i_d} = ({u_d} - {R_s}{i_d} + {\\omega_r}{L_q}{i_q})/{L_d} \\hfill \\\\p{i_q} = ({u_q} - {R_s}{i_q} - {\\omega_r}{L_d}{i_d} - {\\omega_r}{\\psi_f})/{L_q} \\hfill \\\\p{\\omega_r} = ({p_n}{T_{em}} - {p_n}{T_l} - B{\\omega_r})/J \\hfill \\\\ \\end{gathered} \\right.\\)⑲ \\(H_\\infty\\)鲁棒控制器设计 根据PMSM的数学模型及系统控制的实际需要，建立如下的\\(H_\\infty\\)鲁棒控制器。 首先，确定状态变量为：\\(\\left[ {\\begin{array}{*{20}{c}} x_1&amp;x_2&amp;x_3 \\end{array}}\\right]^T=\\left[ {\\begin{array}{*{20}{c}} \\omega_r&amp;i_q&amp;\\int_0^t (\\omega_r^*-\\omega_r)dt \\end{array}}\\right]^T\\)⑳ 式中，\\(\\omega_r\\)为电机转速给定值，\\(i_q\\)为q轴电流，\\(\\int_0^t (\\omega_r^* -\\omega_r)dt\\)为给定转速与实际转速差值的积分变量，其作用是消除系统的稳态误差。 考虑到系统的扰动主要来自负载转矩与转速给定的变化，选取系统扰动变量为：\\(w=\\left[ {\\begin{array}{*{20}{c}} T_L&amp;\\omega_r^* \\end{array}}\\right]^T\\)㉑ 设PMSM系统增广被控对象的状态空间实现为式⑧的形式，则\\(G(s)\\)可列为式⑨的形式。 根据如式⑯和式⑲所示的系统的状态方程，得到式⑨中的参数矩阵\\({\\bf A},{\\bf {B_1}},{\\bf {B_2}}\\)分别为： \\({\\bf A}=\\left[ {\\begin{array}{*{20}{c}} -\\frac{B}{J}&amp;\\frac{3p_n^2 \\psi_f}{2J}&amp;0 \\\\ -\\frac{\\psi_f}{L_q}&amp;-\\frac{R_s}{L_q}&amp;0 \\\\ -1&amp;0&amp;0 \\end{array}}\\right],{\\bf B_1}=\\left[ {\\begin{array}{*{20}{c}} -\\frac{p_n}{J}&amp;0 \\\\ 0&amp;0 \\\\ 0&amp;-1 \\end{array}}\\right],{\\bf B_2}=\\left[ {\\begin{array}{*{20}{c}} 0 \\\\ \\frac{1}{L_q} \\\\ 0 \\end{array}}\\right]\\)㉒ 定义评价信号为： \\(z = {\\bf{C_1}}x+{\\bf{D_{12}}}u=\\left[ {\\begin{array}{*{20}{c}} \\sqrt q_1&amp;0&amp;0 \\\\ 0&amp;\\sqrt q_2&amp;0 \\\\ 0&amp;0&amp;\\sqrt q_3 \\\\ 0&amp;0&amp;0 \\end{array}}\\right]x+\\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ 0 \\\\ \\sqrt \\rho \\end{array}}\\right]\\)㉓ 对系统按照式⑩的要求设计状态反馈控制器，采用标准\\(H_\\infty\\)设计方法，借助MATLAB解⑪、⑫式就可以求得控制器\\(\\bf K\\)。 下面根据电机的参数计算控制器\\(\\bf K\\)，电机具体参数如下： 定子电阻\\({R_s} = 0.958\\Omega\\)，极对数\\(p_n=4\\)，粘滞摩擦系数\\(B = 0.008N \\cdot M \\cdot s\\)，d轴电感\\({L_d} = 5.25mH\\)，q轴电感\\({L_q} = 12mH\\)，永磁体的励磁磁链\\({\\Psi _f} = 0.1827wb\\)，转动惯量\\(J = 0.003kg \\cdot {m^2}\\)。 将上述参数代入式㉒，得到参数矩阵如下： \\({\\mathbf{A}} = \\left[ {\\begin{array}{*{20}{c}} { - 2.667}&amp;{1491.6}&amp;0 \\\\ { - 15.225}&amp;{79.833}&amp;0 \\\\ { - 1}&amp;0&amp;0 \\end{array}} \\right],{ {\\mathbf{B}}_{\\mathbf{1}}} = \\left[ {\\begin{array}{*{20}{c}} { - 1333.3}&amp;0 \\\\ 0&amp;0 \\\\ 0&amp;{ - 1} \\end{array}} \\right],{ {\\mathbf{B}}_{\\mathbf{2}}} = \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ {83.333} \\\\ 0 \\end{array}} \\right]\\)㉔ 取评价信号加权系数\\({q_1} = 0.0009\\)、\\({q_2} = 0.011\\)、\\({q_3} = 101.85\\)、\\(\\rho = 0.000625\\)代入式㉓。 使用MATLAB解上述参数矩阵构成的Riccati不等式。这里使用了MATLAB的μ分析与综合工具箱的hinffi.m函数，涉及模型构成、模型转换、hinffi命令共三条语句，其程序代码为： 123p=[A,B1,B2;C1,zeros(q,m),D12];sys=pss2sys(p,n);[k,g,gfin,ax,hamx]=hinffi(sys, r, 0, 1, 20, 1, 2); 其中q为\\(\\bf C_1\\)行数，m为\\(\\bf B_1\\)列数，n为\\(\\bf A\\)的阶数，r为\\(\\bf B_2\\)列数。 这里取q=4,m=2,n=3,r=1，运行代码后得到控制器\\(\\bf K\\)的值： \\({\\mathbf{K}} = \\left[ {\\begin{array}{*{20}{c}} { - 2.821}&amp;{ - 12.032}&amp;{458.180} \\end{array}} \\right]\\)㉕ 仿真模型搭建与数据分析 根据控制系统的稳态与动态性能的要求，设计出PMSM的\\(H_\\infty\\)控制系统原理图如下图所示。 图2 H∞控制系统原理图 该原理图与双闭环PI控制的PMSM控制系统的原理图的区别体现在，其对于转速环\\(\\omega\\)与电流环\\(i_q\\)采用\\(H_\\infty\\)控制，两者的共同点体现在电流环\\(i_d\\)均采用PI控制。为便于对二者进行对比分析，二者的结构框图在闭环控制之外的部分保持相同。 PMSM控制系统采用空间电压矢量调制(Space Vector Pulse Width Modulation，SVPWM)技术，空间电压矢量调制又被称作称“磁链跟踪控制”。它以三相正弦波电压供电时交流电机的理想磁通轨迹为基准，通过三相功率逆变器的六个功率开关元件组成的特定开关模式来产生的脉宽调制波，用逆变器不同的开关模式产生的实际磁通去逼近基准磁通圆，从而达到较高的控制性能。 同时，该系统采取了\\(i_d=0\\)矢量控制策略，该方法实现了对PMSM的解耦控制，具有控制简单、调速范围宽、转矩特性好、有效降低铜耗的优点。 根据图2所示的PMSM的\\(H_\\infty\\)控制系统原理图，应用MATLAB软件建立如图3所示的永磁同步电机控制系统Simulink仿真模型，将其与采用双闭环PI控制的系统进行对比分析。以验证\\(H_\\infty\\)鲁棒控制器在改善系统的动态与稳态性能上的有效性。 图3 H∞控制系统仿真模型 \\(H_\\infty\\)控制器的仿真模型如图4所示。其中，\\(H_\\infty\\)控制器的三个输入分别是：\\({x_1} = {\\omega _r}\\)、\\({x_2} = {i_q}\\)、\\({x_3} = \\int_0^t {(\\omega_r^* - {\\omega_r})}dt\\)。其控制器参数\\({k_1},{k_2},{k_3}\\)取自式㉕，\\(k_i\\)为控制器增益，这里取\\(k_i=7.1\\)。 图4 H∞控制器仿真模型 为了进行对比分析，再搭建一个转速、电流双闭环控制的PI控制的PMSM控制系统，使用工程整定方法确定转速环与电流环的PI控制器参数。 取转速环PI控制器参数\\({k_p} = 0.2\\)，\\({k_i} = 30\\)，输出\\(i_q^*\\)的限幅范围为-25.7A≤\\(i_q^*\\)≤25.7A； 取电流环\\(i_q\\)的PI控制器参数\\({k_p} = 300\\)，\\({k_i} = 23950\\)，输出\\(u_q^*\\)的限幅范围为-161.6V≤\\(u_q^*\\)≤161.6V； 取电流环\\(i_d\\)的PI控制器参数\\({k_p} = 131.25\\)，\\({k_i} = 23950\\)，输出\\(u_d^*\\)的限幅范围为-161.6V≤\\(u_d^*\\)≤161.6V，为了起到对照作用，这一组参数与\\(H_\\infty\\)控制系统中的电流环\\(i_d\\)的PI控制器参数保持一致。 接下来确定所要观察的控制系统动态与稳态性能指标。 所要分析的动态与稳态性能指标如下：动态性能指标包括上升时间\\(t_r\\)、峰值时间\\(t_p\\)、调节时间\\(t_s\\)、超调量\\(\\tau\\)。这里我们主要考察系统起动和受到负载扰动情况下的调节时间（或恢复时间）与超调量，并取系统从响应至保持在终值± 2%所经过的时间作为调节时间（或恢复时间）。稳态性能指标指系统的稳态误差。 分别对PI控制的系统与\\(H_\\infty\\)控制的系统进行仿真分析，设定为电机转速给定值\\(\\omega_r^* = 1000r/\\min\\)，使其空载起动，0.1秒后对电机施加12\\(N \\cdot m\\)的负载转矩，仿真得到电机转速\\(\\omega_r\\)与电流\\(i_q\\)的波形，对其动态与静态性能进行对比分析。 PI控制系统与\\(H_\\infty\\)控制系统起动和突加负载的转速响应曲线如图5与图6所示，电流响应曲线如图7与图8所示。 图5 PMSM PI控制转速响应曲线 图6 PMSM H∞控制转速响应曲线 由图5与图6的响应曲线可以看出，在系统起动时，PI控制下的调节时间为21.558ms，超调量为4.4%，\\(H_\\infty\\)控制下的调节时间为12.714ms，超调量为0.6%；突加负载扰动后，PI控制下的恢复时间为8.392ms，\\(H_\\infty\\)控制下的恢复时间为6.884ms。PI控制系统与 控制系统转速最终均稳定为给定值，稳态误差为0。 由转速响应曲线归纳出的数据表明，二者在稳态性能上均符合控制需求，在动态性能指标上，\\(H_\\infty\\)控制系统具有更短的调节时间与恢复时间，以及更小的超调量，这说明相较于PI控制系统，\\(H_\\infty\\)控制系统具有更好的快速性。 图7 PMSM PI控制电流响应曲线 图7为PI控制系统的电流\\(i_q\\)响应曲线，可以观察到电机起动后电流迅速上升，受到PI控制器限幅环节影响，在2.43ms时达到设定的限幅值25.7A，然后电流值不再上升，此时系统处于恒流升速状态，直到11.8ms时刻电流开始迅速下降。转速仍有小幅上升，电流下降至0后继续下降，在18.7ms时达到反向峰值-0.83A，随后电流回升最终稳定在0.03s时刻趋于稳定。0.1s突加负载后，电流回归稳态所用恢复时间为17.76ms。 图8 PMSM H∞控制电流响应曲线 图14为\\(H_\\infty\\)控制系统的电流\\(i_q\\)响应曲线，可以观察到电机起动后电流同样迅速上升，但上升速度较PI控制系统更快，在1.92ms便达到25.7A，由于\\(H_\\infty\\)控制系统没有设计限幅环节，因此电流继续上升，在6.31ms上升至峰值59.6A，随后电流迅速下降，在0.02s时刻之后趋于稳定。0.1s突加负载后，电流回归稳态所用恢复时间为13.43ms。 由电流响应曲线归纳出的数据表明，\\(H_\\infty\\)控制系统具有更好的快速性。对于扰动的恢复时间更短，即具有更好的抵抗扰动的能力。 结论 为解决PMSM运行过程中，容易受到来自控制系统内部和外部扰动的多种不确定性因素的影响的问题，设计采用\\(H_\\infty\\)鲁棒控制的PMSM控制系统，将其与传统PI控制的系统进行仿真分析，分析仿真效果以验证\\(H_\\infty\\)鲁棒控制在提升控制系统动态与稳态性能的有效性。 首先，介绍了\\(H_\\infty\\)控制基本原理，以及将控制器设计问题转化为\\(H_\\infty\\)鲁棒控制标准问题的基本过程，并说明了一种情况下的\\(H_\\infty\\)鲁棒控制器的设计方法。 随后建立了永磁同步电动机的数学模型。 接下来根据所建立的PMSM数学模型，结合系统的实际控制需求，以及系统的主要扰动来源，并选取合适的评价信号加权系数，最终得到系统的增广被控对象 。借助MATLAB解Riccati不等式的正定解，进而得到\\(H_\\infty\\)控制器的参数矩阵\\(\\bf K\\)。 最后对采用\\(H_\\infty\\)控制的系统与采用双闭环PI控制的系统进行Simulink仿真对比分析，比较二者在电机起动与突加负载的情况下的转速与电流响应曲线，根据曲线得到两种控制方法下电机起动时的转速调节时间、超调量与电流\\(i_q\\)的调节时间，突加负载时转速与电流\\(i_q\\)的恢复时间。 仿真结果表明，采用\\(H_\\infty\\)控制的调速系统的调节时间、超调量与恢复时间均小于采用双闭环PI控制的调速系统。且对于系统状态突变的响应更快，这说明采用\\(H_\\infty\\)控制的调速系统具有更好的抵抗扰动的能力，即鲁棒性更强。 最终得出结论，相较于PI控制的永磁同步电机系统，采用\\(H_\\infty\\)控制器的系统具有更好的动态与稳态性能，这验证了\\(H_\\infty\\)控制器在提高控制系统鲁棒性方面的有效性。 参考资料 申铁龙. H∞控制理论及应用[M]. 北京:清华大学出版社,1996 郭庆鼎,孙宜标,王丽梅. 现代永磁电动机交流伺服系统[M]. 北京:中国电力出版社,2006 蓝益鹏．永磁直线电机伺服系统鲁棒控制的研究[D]．沈阳：沈阳工业大学，2007． 张馨圆， 蓝益鹏. 直线同步电机参数不确定性系统H∞控制策略[J]. 电机与控制应用，2020，47(11)：18-24. 蔡超豪. 永磁同步电动机的鲁棒H∞控制[J]. 电气传动自动化，2006，28(2)：13-15.","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"鲁棒控制理论与应用","slug":"课程笔记/鲁棒控制理论与应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"鲁棒控制理论与应用","slug":"鲁棒控制理论与应用","permalink":"https://renahah.github.io/tags/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"}]},{"title":"永磁同步电机","slug":"课题笔记/电机/永磁同步电机","date":"2023-11-24T13:13:13.000Z","updated":"2024-07-27T12:53:59.272Z","comments":true,"path":"课题笔记/电机/永磁同步电机/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA/","excerpt":"","text":"最初是为完成鲁棒控制理论与应用与交流伺服电机及其控制课程大作业所整理的笔记。 将陆续补充内容，介绍永磁同步电动机的结构、数学模型、空间脉宽矢量调制方法（SVPWM）、控制策略等内容。 按照教材及网络上的内容整理，若有错误敬请指正。 绪论 从分类上看，永磁同步电机属于交流电机、同步电机（电机转速与定子磁场的同步转速始终保持相同的交流电机）。 交流永磁伺服电动机主要有两大类，一是无刷直流电动机(The Blush-less DC Motor,BDCM)，二是永磁同步电动机(Permanent Magnet Synchronous Motor,PMSM)。本文主要论述永磁同步电动机。 无刷直流电动机用装有永磁体的转子取代有刷直流电机的定子磁极，用定子电枢取代原有刷直流电机的转子电枢。线圈不动，磁极旋转。不同与有刷直流电机采用机械换向器将直流电流转换为交流，无刷直流电机采用电子换向方式（如霍尔传感器），将方波电流（三相对称的）直接输入定子。 注：无刷直流电机虽然名字中含有“直流”，但实际上是交流电机，这是因为其输入到定子的电流是交流电。名字中的“直流”仅仅体现了其由有刷直流电机改进而来。 永磁同步电动机与之类似，与无刷直流电机的最大区别为其输入到定子的电流是正弦波。 永磁同步电动机定子与绕线式同步电动机基本相同，要求输入的电流是三相正弦交流电。绕线式同步电动机转子中的励磁绕组被替换为永磁体，从而省去了励磁线圈、滑环与电刷。通过电子换向方式实现无刷运行。 交流永磁伺服电动机按结构可分为内转子式和外转子式；按磁场方向可分为径向和轴向；按定子结构可分为分布绕组和集中绕组、有槽和无槽。 按转子结构可分为凸装式、嵌入式和内埋式三种，前两种又可称作外装式。凸装式按永磁体形状又可分为圆套筒型、瓦片型和扇状型。 凸装式交流永磁伺服电动机实质上是一种隐极式同步电动机，其永磁材料的磁导率接近空气，所以交、直轴电感相同\\(L_q=L_d\\)。气隙磁场均匀，可以使用解析法近似计算。 而嵌入式和内埋式属于凸极式同步电动机，交轴电感大于直轴电感\\(L_q&gt;L_d\\)（与传统绕线式凸极同步电动机相反），这使得其在产生电磁转矩的同时还会产生磁阻转矩。气隙磁场不是正弦分布，磁路复杂，需采用有限元法计算。 三相永磁同步电动机的数学模型 电压方程与磁链方程 PMSM的定子和普通电励磁三相同步电动机的定子是相似的。如果永磁体产生的感应电动势(反电动势)与励磁线圈产生的感应电动势一样，也是正弦的，那么PMSM的数学模型就与电励磁同步机基本相同。在推导中，做了如下假设： ①忽略铁芯饱和； ②不计涡流和磁滞损耗； ③转子上没有阻尼绕组，永磁体也没有阻尼作用； ④反电动势是正弦的。 图1 二极PMSM简化结构图 一台二极PMSM的简化结构图如上图所示。这里用固定于转子的参考坐标来描述和分析它们的稳态和动态性能。 其中AX、BX、CX表示A、B、C三相线圈（定子三相绕组），A、B、C为首端，X、Y、Z为尾端。将各绕组首端流出电流、 尾端流入电流规定为该相电流的正方向。 as、bs、cs为A、B、C三相绕组的轴线方向。其方向可由各绕组右手螺旋定则确定。由此建立了一个三相静止坐标系（又称3s坐标系，固定在定子上）。 \\(i_s,F_f\\)为空间矢量。 图中，假定了定子电流的正方向。正向电流流进相绕组产生的正弦分布磁通势波的轴线就是该相绕组的轴线。假定相绕组中反电动势的正方向与电流正方向相反。取转子逆时针旋转方向为正。 取永磁体基波磁场的方向为d轴。而q轴顺着旋转方向超前d轴90°电角度。转子参考坐标的旋转速度即为转轴速度。转子参考坐标的空间坐标以q轴与固定轴线A相绕组轴线间的电角度\\(\\theta_r\\)来确定。 由此建立了dq坐标系（又称2r坐标系，固定在转子上）。 三相静止坐标系定子电压方程： \\(\\left[ {\\begin{array}{*{20}{c}} u_a \\\\ u_b \\\\ u_c \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} R_s&amp;0&amp;0 \\\\ 0&amp;R_s&amp;0 \\\\ 0&amp;0&amp;R_s \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} i_a \\\\ i_b \\\\ i_c \\end{array}}\\right]+p\\left[ {\\begin{array}{*{20}{c}} \\psi_a \\\\ \\psi_b \\\\ \\psi_c \\end{array}}\\right]\\) 其中\\(u_a,u_b,u_c\\)为定子绕组的相电压，\\(i_a,i_b,i_c\\)为定子绕组的相电流，\\(R_s\\)为电枢电阻，p为微分算子（代替\\(\\frac{d}{dt}\\)），\\(\\psi_a,\\psi_b,\\psi_c\\)为三相定子绕组的全磁链。 三相静止坐标系定子磁链方程： \\(\\left[ {\\begin{array}{*{20}{c}} \\psi_a \\\\ \\psi_b \\\\ \\psi_c \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} L_{aa}&amp;M_{ab}&amp;M_{ac} \\\\ M_{ba}&amp;L_{bb}&amp;M_{bc} \\\\ M_{ca}&amp;M_{cb}&amp;L_{cc} \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} i_a \\\\ i_b \\\\ i_c \\end{array}}\\right]+\\psi_f\\left[ {\\begin{array}{*{20}{c}} cos\\theta \\\\ cos(\\theta-\\frac{2\\pi}{3}) \\\\ cos(\\theta+\\frac{2\\pi}{3}) \\end{array}}\\right]\\) 其中\\(L_{aa}=L_{bb}=L_{cc}\\)为各相绕组自感，\\(M_{ab}=M_{ac}=M_{ba}=M_{bc}=M_{ca}=M_{cb}\\)为各相绕组互感。 \\(\\psi_f\\)为转子永磁体磁场的磁链，仅与转子位置有关，与定子电流无关。\\(\\theta\\)为转子N极和a相轴线之间的夹角。 dq坐标系电压方程： \\(\\left[ {\\begin{array}{*{20}{c}} u_d \\\\ u_q \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} R_s&amp;-\\omega_r L_d \\\\ \\omega_r L_d&amp;R_s \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_d \\\\ i_q \\end{array}}\\right]+p\\left[ {\\begin{array}{*{20}{c}} \\psi_d \\\\ \\psi_q \\end{array}}\\right]+\\left[ {\\begin{array}{*{20}{c}} 0 \\\\ \\omega_r \\psi_f \\end{array}}\\right]\\) 其中\\(u_d,u_q\\)为dq轴电压，\\(i_d,i_q\\)为dq轴电流，\\(L_d,L_q\\)为dq轴电感，\\(\\psi_d,\\psi_q\\)为dq轴磁链，\\(\\omega_r \\psi_f\\)为永磁体正弦磁场在转速\\(\\omega_r\\)下q轴绕组产生的感应电动势。 dq坐标系磁链方程： \\(\\left[ {\\begin{array}{*{20}{c}} \\psi_d \\\\ \\psi_q \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} L_d&amp;0 \\\\ 0&amp;L_q \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_d \\\\ i_q \\end{array}}\\right]+\\left[ {\\begin{array}{*{20}{c}} \\psi_f \\\\ 0 \\end{array}}\\right]\\) 转矩方程与运动方程 参考教材P69内容进行运算 dq坐标系转矩方程： 在转子参考坐标中，取d轴反方向为虚轴，q轴为实轴，取二者合成出来的定子空间电流\\({\\bf i_s}=i_q-ji_d\\)，\\(\\bf i_s\\)与d轴夹角为\\(\\beta\\)（实质：定子三相合成旋转磁通势波轴线与永磁体励磁磁场轴线的夹角） 则有\\(i_d={\\bf i_s}cos\\beta,i_q={\\bf i_s}sin\\beta\\) 得到转矩方程：\\(T_{em}=p_n[\\psi_f {\\bf i_s}sin\\beta+\\frac{1}{2}(L_d-L_q){\\bf i_s}^2sin2\\beta]\\) 其中\\(p_n\\)为电机的极对数。 可以看出电磁转矩由两个部分组成，第一部分是永磁体和定子绕组磁链之间相互作用，第二部分由磁阻变化而产生。 对于凸装式转子永磁同步电动机（隐极），\\(L_d=L_q\\)，其电磁转矩不含磁阻引起的部分，\\(T_{em}=p_n\\psi_f i_q\\)。 转矩大小与\\(i_q\\)成正比，从而通过控制电流\\(i_q\\)来控制转矩。 对于任意类型的永磁同步电动机，若能控制\\(i_d=0\\)，就可以将它看作一台典型的他励直流电动机，定子只有交轴分量，且定子磁动势的空间矢量正好和永磁体磁场空间矢量正交。控制\\(i_d=0\\)也能降低铜耗。 运动方程： \\(T_{em}=T_l+B\\Omega_r+Jp\\Omega_r\\) 其中\\(T_l\\)为负载转矩，B为粘滞摩擦系数，\\(\\Omega_r\\)为机械角速度，\\(J\\)为转子和所带负载的总转动惯量。 电角速度\\(\\omega_r=p_n \\Omega_r\\) 运动方程可整理为：\\(T_{em}-T_l=\\frac{J}{p_n}\\frac{d\\omega_r}{dt}+\\frac{B}{p_n}\\omega_r\\) 状态方程 电压方程与运动方程的状态方程形式如下所示，以便动态仿真： \\(pi_d=(u_d-R_s i_d+\\omega_r L_q i_q)/L_d\\) \\(pi_q=(u_q-R_s i_q-\\omega_r L_d i_d -\\omega_r L_{md}i_f)/L_q\\) \\(p\\omega_r=(p_n T_{em}-p_n T_l-B\\omega_r)/J\\) 其中\\(\\psi_f=L_{md}i_f\\)，取\\(p\\psi_f=0\\)。 坐标变换 Clarke变换(三相静止绕组⇒两相静止绕组,3s/2s) \\(\\left[ {\\begin{array}{*{20}{c}} i_\\alpha \\\\ i_\\beta \\end{array}}\\right]=\\frac{N_3}{N_2}\\left[ {\\begin{array}{*{20}{c}} 1&amp;-\\frac{1}{2}&amp;-\\frac{1}{2} \\\\ 0&amp;\\frac{\\sqrt{3}}{2}&amp;-\\frac{\\sqrt{3}}{2} \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_a \\\\ i_b \\\\ i_c \\end{array}}\\right]\\) Clarke逆变换(两相静止绕组⇒三相静止绕组,2s/3s) \\(\\left[ {\\begin{array}{*{20}{c}} i_a \\\\ i_b \\\\ i_c \\end{array}}\\right]=\\frac{N_3}{N_2}\\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\\\ -\\frac{1}{2}&amp;\\frac{\\sqrt{3}}{2} \\\\ -\\frac{1}{2}&amp;-\\frac{\\sqrt{3}}{2} \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_\\alpha \\\\ i_\\beta \\end{array}}\\right]\\) 其中\\(\\frac{N_3}{N_2}\\)为三相绕组与两相绕组的匝数比。 当三相电流与两相电流幅值相等时，取\\(\\frac{N_3}{N_2}=\\frac{2}{3}\\) 当三相与两相的总功率不变(\\(p=u_a i_a+u_b i_b+u_c i_c=u_\\alpha i_\\alpha+u_\\beta i_\\beta\\))时，取\\(\\frac{N_3}{N_2}=\\sqrt\\frac{2}{3}\\) Park变换(两相静止绕组⇒两相旋转绕组,2s/2r) \\(\\left[ {\\begin{array}{*{20}{c}} i_d \\\\ i_q \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} cos\\varphi&amp;sin\\varphi \\\\ -sin\\varphi&amp;cos\\varphi \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_\\alpha \\\\ i_\\beta \\end{array}}\\right]\\) Park逆变换(两相旋转绕组⇒两相静止绕组,2r/2s) \\(\\left[ {\\begin{array}{*{20}{c}} i_\\alpha \\\\ i_\\beta \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} cos\\varphi&amp;-sin\\varphi \\\\ sin\\varphi&amp;cos\\varphi \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_d \\\\ i_q \\end{array}}\\right]\\) 其中\\(\\varphi\\)为静止的\\(\\alpha\\)轴与旋转的d轴的夹角。 空间电压矢量调制(SVPWM) 脉宽调制(Pulse Width Modulation,PWM)指的是利用半导体开关器件的导通与关断，把直流电压变成电压脉冲序列，并通过控制脉冲宽度和脉冲序列的周期来达到调压、调频、控制谐波的目的。 空间电压矢量调制(Space Vector PWM,SVPWM)又称“磁链跟踪控制”。它以三相正弦波电压供电时交流电机的理想磁通轨迹为基准，通过三相功率逆变器的六个功率开关元件组成的特定开关模式来产生的脉宽调制波，用逆变器不同的开关模式产生的实际磁通去逼近基准磁通圆 ，从而达到较高的控制性能。 空间电压矢量指的是随时间变化的交流电动机绕组电压在绕组中的空间位置。 合成空间矢量\\(u_s\\)由空间中互差120°的三相定子绕组相电压\\(u_a,u_b,u_c\\)矢量相加而成。其幅值固定不变，为相电压峰值的\\(\\frac{3}{2}\\)倍。 SVPWM的理论基础是平均值等效原理，即在一个开关周期内通过对基本电压矢量加以组合，使其平均值与给定电压矢量相等。 图2 三相两电平电压型逆变器 用于产生近似的空间电压矢量的三相两电平电压型逆变器如上图所示。 逆变器内含的器件可以分为三对共六个开关管，其中\\(V_1,V_{D1},V_4,V_{D4}\\)与PMSM的A相相连，\\(V_3,V_{D3},V_6,V_{D6}\\)与B相相连，\\(V_5,V_{D5},V_2,V_{D2}\\)与B相相连，这三对器件的通断决定了其所连接的各相的电压。 这三对器件中的任意一对，在同一时刻内都有且仅有一个开关管导通，同时另一个开关管截止。这样就可以定义出如下所示的开关函数： \\(S(x)=\\left\\{ {\\begin{array}{*{20}{c}} 1,\\quad x相上桥臂导通 \\\\ 0,\\quad x相下桥臂导通 \\end{array}}\\right.\\) 得到对应于\\(A,B,C\\)三相的开关函数\\(S(A),S(B),S(C)\\)，一共可以形成8种组合，如下表所示： 表1 三相两电平电压型逆变器工作状态及相应的电压值 由上表进而得到如下所示的电压空间矢量图： 图3 电压空间矢量图 可以看到矢量图被划分为6个扇区，任意属于矢量图范围内的矢量都可以通过这8种组合合成得到。 其矢量的合成按照“伏秒平衡”的原则得到，如下式所示： \\(U_{ref}\\cdot T_s = {U_x}\\cdot{T_x} + {U_y}\\cdot{T_y} + {U_0}\\cdot{T_0}\\) 其中，\\(U_{ref}\\)为要合成出来的目标电压矢量；\\(T_s\\)为采样周期；\\(T_x,T_y,T_0\\)分别为对应两个非零电压矢量\\(U_x,U_y\\)和零电压矢量\\(U_0\\)在一个采样周期的作用时间，\\(T_x+T_y+T_0=T_s\\)；其中\\(U_0\\)包括了\\(U_0\\)和\\(U_7\\)两个零矢量。 该式的意义是，矢量\\(U_{ref}\\)在一个周期\\(T_s\\)内所产生的积分效果值和\\(U_x,U_y,U_0\\)分别在时间\\(T_x,T_y,T_0\\)内产生的积分效果相加总和值相同。 比如Ⅰ扇区内的某个矢量就可以通过\\(U_0,U_4,U_6,U_7\\)合成得到。 对于任意的矢量，首先要判断矢量所在的扇区，确定所合成矢量的基本矢量构成，然后计算各基本矢量的持续时间。 ①判断所在的扇区 定义变量\\(A,B,C\\) 若\\(U_\\beta&gt;0\\)，则A=1，反之A=0； 若\\(\\sqrt 3 U_\\alpha-U_\\beta&gt;0\\)，则B=1，反之B=0； 若\\(-\\sqrt 3 U_\\alpha-U_\\beta&gt;0\\)，则C=1，反之C=0； 得到\\(N=A+2B+4C\\) N与扇区的对应关系如下表所示： 表2 N与扇区的对应关系 扇区 Ⅰ Ⅱ Ⅲ Ⅳ Ⅴ Ⅵ N 3 1 5 4 6 2 ②计算各基本矢量的持续时间 定义参数\\(X,Y,Z\\) 计算\\(\\left\\{ {\\begin{array}{*{20}{c}} X=\\frac{\\sqrt 3 T_s}{U_d}U_\\beta \\\\ Y=\\frac{\\sqrt 3 T_s}{U_d}(\\frac{\\sqrt 3}{2}U_\\alpha+\\frac{1}{2}U_\\beta) \\\\ Z=\\frac{\\sqrt 3 T_s}{U_d}(-\\frac{\\sqrt 3}{2}U_\\alpha+\\frac{1}{2}U_\\beta) \\end{array}}\\right.\\) 查表得到\\(T_x,T_y\\)，\\(T_0=T_s-T_x-T_y\\) 表3 基本矢量的持续时间与扇区的对应关系 扇区 Ⅰ Ⅱ Ⅲ Ⅳ Ⅴ Ⅵ N 3 1 5 4 6 2 \\(T_x\\) -Z Z X -X -Y Y \\(T_y\\) X Y -Y Z -Z -X 得到基本矢量构成及各基本矢量的持续时间后，还需要采用合适的方法安排各个基本矢量的“出场顺序”。这里采用的是七段式空间矢量合成法，该方法通过合理的安排零矢量，尽可能减少了开关次数，降低了开关损耗。 这种方法将\\(U_0\\)安排在一个周期的开头与结尾，\\(U_7\\)则安排在周期的中间。 以第Ⅰ扇区(N=3)为例，其基本空间矢量顺序为\\(U_0 \\rightarrow U_4 \\rightarrow U_6 \\rightarrow U_7 \\rightarrow U_6 \\rightarrow U_4 \\rightarrow U_0\\)，形成了一个对称的结构。 图4 第Ⅰ扇区七段式PWM波形 这里定义三路PWM（由三对开关管控制）的由关断到开通的时刻分别为\\(T_{cm1},T_{cm2},T_{cm3}\\)，然后定义三个值\\(T_a,T_b,T_c\\)为： \\(\\left\\{ {\\begin{array}{*{20}{c}} T_a=\\frac{T_s-T_x-T_y}{4} \\\\ T_b=T_a+\\frac{T_x}{2} \\\\ T_c=T_b+\\frac{T_y}{2} \\end{array}}\\right.\\) \\(T_{cm1},T_{cm2},T_{cm3}\\)与\\(T_a,T_b,T_c\\)的对应关系如下表所示： 表4 \\(T_{cm1},T_{cm2},T_{cm3}\\)与\\(T_a,T_b,T_c\\)的对应关系 扇区 Ⅰ Ⅱ Ⅲ Ⅳ Ⅴ Ⅵ N 3 1 5 4 6 2 \\(T_{cm1}\\) \\(T_a\\) \\(T_b\\) \\(T_c\\) \\(T_c\\) \\(T_b\\) \\(T_a\\) \\(T_{cm2}\\) \\(T_b\\) \\(T_a\\) \\(T_a\\) \\(T_b\\) \\(T_c\\) \\(T_c\\) \\(T_{cm3}\\) \\(T_c\\) \\(T_c\\) \\(T_b\\) \\(T_a\\) \\(T_a\\) \\(T_b\\) 注：不同的参考文献对于扇区号有不同的定义，本文选取的定义为以\\(\\alpha-\\beta\\)坐标系第一象限上的，与\\(\\alpha\\)轴夹角为0~60°范围的区域为Ⅰ扇区，然后逆时针方向依次为Ⅱ、Ⅲ、Ⅳ、Ⅴ、Ⅵ扇区，它们的N值分别为3,1,5,4,6,2。 部分参考文献直接使用N值来定义扇区号，二者相等（将N值1-6定义为Ⅰ—Ⅵ扇区），这种定义方法更适合做仿真分析。 永磁同步电动机的控制策略 永磁同步电机的控制策略主要有以下几种：矢量控制(Field Oriented Control，FOC)、恒压频比控制(VVVF)、直接转矩控制(Direct Torque Control，DTC)和基于现代控制理论的自适应控制和滑模控制等。 矢量控制 矢量控制是通过坐标变换(CLARKE变换与PARK变换)的方法将交流电机近似等效为直流电机，从而获得像直流电机的控制量，保证良好的动态特性。本文将采用矢量控制策略对永磁同步电动机进行控制。 图5 永磁同步电机矢量控制系统框图 PMSM矢量控制方法主要有以下几种： (1)\\(i_d=0\\)控制 由前文的论述可知，d轴是永磁体基波磁场的方向，\\(i_d\\)又可称作励磁电流。 q轴以顺时针超前d轴90°电角度，\\(i_q\\)值与可以影响到电磁转矩，因此\\(i_q\\)又可称作转矩电流。 若能控制励磁电流\\(i_d=0\\)，则电磁转矩直接与\\(i_q\\)成正比。此时定子只有交轴分量，其控制特性与直流电机相同。 该控制实际上实现了对PMSM的解耦控制，使定子电流只用于产生电磁转矩，通过调节交轴分量大小即可控制电磁转矩的大小，该方法控制简单、调速范围宽、转矩特性好，而且能有效的降低铜耗，常用于要求较高的控制场合，在PMSM的矢量控制中应用最为广泛。 其缺点是，随着输出转矩的增大，漏感压降增大，功率因数降低；同时由于没有弱磁电流，电机调速范围有限。 本文将采用\\(i_d=0\\)控制策略。 (2)功率因数\\(cos\\varphi=1\\)控制 令电机的功率因数恒为1，逆变器的容量得到了充分的利用，但是这种方式的最大转矩输出比较小，使退磁系数较大，永磁体退磁的风险相对增加很多，因此电机的电磁转矩和效率都会受到该影响而严重下降。 (3)恒磁链控制 该方法是控制的定子电流磁场分量，使电机气隙磁链在运行过程中始终保持恒定，并满足\\(\\Psi_\\delta=\\Psi_f\\)。 在功率因数较高时，这种方法可以使得输出转矩的上限得到提升，但又会受到其限制。 (4)弱磁控制 实现弱磁控制的方法有多种多样，一般用的是纵轴电流负反馈补偿控制，在基速以上进行弱磁调速时，通过对直轴分量&lt;0 的控制，达到去磁作用。但如果电动机在弱磁恒功率区运行时，使用弱磁控制法不能达到良好控制效果，因此该法只能适用于电机短期运行。 (5)最大转矩/电流(MTPA)控制 在凸极永磁同步电机中，通过控制\\(i_d\\)来获得最大转矩，也可称作单位电流输出最大转矩的控制。 由于逆变器需要的输出电流小，适合选用较小的逆变器，能在电机输出转矩满足要求的条件下，使定子电流最小，减小了电机的铜耗，有利于降低系统损耗，降低系统运行成本，提高系统效率。在该方案的基础上，再采用适当的弱磁控制，可以改善电机高速运行时的性能。但是随着输出转矩的增大功率因数下降比较多。 参考资料 郭庆鼎,孙宜标,王丽梅. 现代永磁电动机交流伺服系统[M]. 北京:中国电力出版社,2006 袁登科,徐延东,李秀涛. 永磁同步电动机变频调速系统及其控制[M]. 北京:机械工业出版社,2015 阮毅,杨影,陈伯时. 电力拖动自动控制系统——运动控制系统(第四版)[M]. 北京:机械工业出版社,2016 龙明贵. 永磁同步电机矢量控制分析[D]. 西南交通大学,2012 张东亮,艾兴,许传俊,张承瑞. 基于DSP的永磁同步电机软件式交流伺服系统[J]. 山东工业大学学报,2001,31(3):222-229 CSDN—沉沙丶—永磁同步电机矢量控制系列教程 CSDN—SpringLtc—FOC电机控制之SVPWM原理与实现","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"鲁棒控制理论与应用01-绪论及数学基础","slug":"课程笔记/鲁棒控制理论与应用/鲁棒控制理论与应用01-绪论及数学基础","date":"2023-11-16T01:26:40.000Z","updated":"2024-01-25T05:20:20.999Z","comments":true,"path":"课程笔记/鲁棒控制理论与应用/鲁棒控制理论与应用01-绪论及数学基础/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A801-%E7%BB%AA%E8%AE%BA%E5%8F%8A%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/","excerpt":"","text":"鲁棒控制理论与应用课程笔记 无PPT，按照板书、教材及网络上的内容整理，若有错误敬请指正。 绪论 不确定性：指系统由于受到外部扰动或者自身性质的影响，所造成的控制系统参数的变化。其来源有外部扰动与模型本身两种，模型本身的不确定性又可分为阶次不确定性与参数不确定性两种。 鲁棒性(Robustness)：又称作稳健性、健壮性。鲁棒性体现的是系统抵抗扰动的能力。控制系统的稳定性的鲁棒性，简称为控制系统的稳定鲁棒性；控制系统的某种性能的鲁棒性，简称为控制系统的性能鲁棒性。 鲁棒性与稳定性(Stability)的区别在于鲁棒性更侧重于系统在面对外界扰动、变化和不确定性时的表现。 \\(H_\\infty\\)控制：鲁棒控制的一种，该控制理论通过对被控对象传递函数求\\(H_\\infty\\)范数，以此来求取鲁棒控制器。 1981年，James提出用传递函数阵的\\(H_\\infty\\)范数来定义优化指标，其公式为：\\(J = \\mathop {\\inf }\\limits_K ||S(s)|{|_\\infty } = \\mathop {\\inf }\\limits_K \\{ \\mathop {\\sup }\\limits_\\omega \\bar \\sigma [s(j\\omega )]\\}\\) 其中\\(\\inf\\)为下确界，表示一个集合内最大的下界（一个集合内最大的小于集合内任意元素的数）。同理\\(\\sup\\)为下确界，表示一个集合内最小的上界（一个集合内最小的大于集合内任意元素的数）。对于有限集而言，下确界等于最小值\\(\\min\\)，上确界等于最大值\\(\\max\\)。 传递函数阵\\(S(s)\\)为\\(s\\)右半平面上解析的有理函数阵，\\(\\bar \\sigma\\)表示最大奇异值。 1988年，Doyle等四人在IEEE上发表论文State-space solutions to standard H2 and H ∞ control problems，证明\\(H_\\infty\\)设计问题的解可以通过解两个适当的代数Riccati方程得到，这标志着\\(H_\\infty\\)控制理论的成熟。 Riccati方程：形如\\(y&#39;=P(x)y^2+Q(x)y+R(x)\\)的方程。 这里指的是形如\\(XA+A^T X+XBB^T X+C^T C=0\\)的矩阵方程。 数学基础 奇异值 设\\(A \\in C^{n \\times n}\\)（A为\\(n \\times n\\)方阵），由线性代数知识可知\\(rankA^*A=rankAA^*=rankA\\)。其中\\(A^* A,AA^ *\\)的秩相等且均为非负定阵，\\(A^* A\\)与\\(AA^*\\)的有\\(r\\)个相同的正特征值，其余特征值均为0。 【定义2.1.1】取\\(\\lambda_i\\)为\\(A^* A\\)的非零特征值。称\\(\\sigma_i=\\sqrt{\\lambda_i}\\quad (i=1,2,\\cdots,r)\\)为A的非零奇异值。 【定理2.1.1】矩阵奇异值分解定理 对于任意矩阵\\(A \\in C^{n\\times m}\\)，设\\(rankA=r\\)，且\\(\\sigma_1,\\sigma_2,\\cdots,\\sigma_r&gt;0\\)为A的奇异值。则存在n阶正交阵U和m阶正交阵V，使得\\(A=UDV\\)。 其中\\(U^*U=I \\quad V^*V=I \\quad D=\\left[ {\\begin{array}{*{20}{c}} \\sum&amp;0 \\\\ 0&amp;0 \\end{array}} \\right] \\quad \\sum=diag(\\sigma_1,\\sigma_2,\\cdots,\\sigma_r)\\) \\(x\\mathop \\to \\limits_{UDV}^A y \\quad x \\in C^m,y=Ax \\in C^n\\) 矩阵\\(A \\in C^{n \\times n}\\)可以视为复向量空间\\(C^m\\)到\\(C^n\\)的映射（算子）。 矩阵的奇异值表示映射过程中向量长度被伸长的倍数。 下图以\\(A \\in C^{2\\times 2}\\)为例进行探讨： 图1 矩阵按奇异值分解 这里将\\(A:x \\to y\\)的映射过程分解为\\(V:x \\to x^1,D:x^1 \\to x^2,U:x^2 \\to y\\) \\(y=Ax=UDVx \\Rightarrow x^1=Vx,x^2=Dx^1,y=Ux^2\\) 使用欧式范数定义向量的长度\\(||x||=\\sqrt{x^*x}\\) 可以发现映射V与U不改变向量长度，只改变向量的相位角。 \\(||x^1||=||Vx||=||x|| \\quad ||y||=||Ux^2||=||x^2||\\) 映射D将\\(x^1\\)沿两个坐标轴方向分别延伸\\(\\sigma_1,\\sigma_2\\)倍。 \\(x_1^2=\\sigma_1 x_1^1,x_2^2=\\sigma_2 x_2^1\\) \\(||Ax||=||y||=||x^2||=[(\\sigma_1 x_1^1)^2+(\\sigma_2 x_2^1)^2]^\\frac{1}{2} \\leqslant \\sigma_1||x^1||=\\sigma_{\\max}(A) \\cdot ||x||\\) （这里取\\(\\sigma_{\\max}(A)=\\sigma_1\\)） 矩阵奇异值的性质（见教材P24） 其中最重要的是第三条： \\(\\sigma_{\\max}(A) \\leqslant 1\\)的充要条件是\\(I-A^*A \\geqslant 0\\)或等价地\\(I-AA^* \\geqslant 0\\) 可以推出\\(||T_{zw}(s)||_{\\infty}&lt;1\\) 范数 设V为实数域R（或复数域C）上的线性空间。如对任意\\(x \\in V\\)，有一个确定的非负实数\\(||x||\\)与之对应，且满足： ①（正定性）对任意\\(x \\in V,||x|| \\geqslant 0\\)；当且仅当\\(x=0\\)时\\(||x||=0\\) ②（齐次性）对任意\\(x \\in V,a \\in R,C\\)，有\\(||ax||=|a|\\cdot||x||\\) ③（三角不等式）\\(x,y \\in V\\)，\\(||x+y|| \\leqslant ||x||+||y||\\) 则称\\(||x||\\)为x的范数，V为线性赋范空间。 内积与内积空间 设V为复数域C上的线性空间。如对任意\\(x,y \\in V\\)，有一个确定的\\(\\langle x,y \\rangle\\)与之对应，且满足： ①（共轭对称性）\\(\\langle x,y \\rangle = \\overline{\\langle y,x \\rangle}\\) ②（正定性）\\(\\langle x,x \\rangle \\geqslant 0\\)；当且仅当\\(x=0\\)时\\(\\langle x,x \\rangle=0\\) ③（线性）\\(\\langle \\alpha x+\\beta y,z \\rangle=\\alpha \\langle x,z \\rangle+\\beta \\langle y,z \\rangle\\) 则称\\(\\langle x,y \\rangle\\)为V中的内积，V为内积空间。 范数在特定空间中的含义 对于一维空间实数集，范数的含义与绝对值相同。 对于二维或三维的欧式空间，范数的含义为空间中向量的模（向量的长度）。 对于内积空间，定义范数\\(||x||=\\sqrt{\\langle x,x \\rangle}\\) 内积公式为\\(\\langle x,y \\rangle = |x| \\cdot |y| cos\\theta\\)，其中\\(\\theta\\)为两向量夹角。 若在内积空间中\\(\\langle x,y \\rangle = 0\\)，则称x与y正交，记作\\(x \\bot y\\)（\\(cos\\theta=\\frac{\\pi}{2}\\)，两向量互相垂直） 若V有两个子集M和N，且对于任意\\(x \\in M,y \\in N\\)，均有\\(x \\bot y\\)，则称M与N正交，记作\\(M \\bot N\\)（两平面互相垂直） \\(L_1\\)范数、\\(L_2\\)范数与\\(L_\\infty\\)范数 \\(L_1\\)范数：\\(||x||_1=\\sum\\limits_{i = 1}^n {|{x_i}|}\\) 表示向量x中非零元素的绝对值之和。又称作曼哈顿范数，其值可以称作曼哈顿距离、绝对误差和等。 \\(L_2\\)范数：\\(||x||_2=\\sqrt{\\sum\\limits_{i = 1}^n {x_i^2}}\\) 向量x中各元素的平方和开根号。又称作欧式范数，其值可表示欧式空间中的距离。 \\(L_\\infty\\)范数：\\(||x||_\\infty=\\max(|x_d|)\\) 又称作最大值范数。向量x中各元素的无穷次方之和开无穷次根号，由数学知识可知其极限值为向量中各元素绝对值的最大值。 \\(L_p\\)范数：\\(||x||_p=\\sqrt[p]{\\sum\\limits_{i = 1}^n {|x_i|^p}}\\) 通用公式，p取不同的值可得到\\(L_1\\)、\\(L_2\\)与\\(L_\\infty\\)范数。 \\(L_0\\)范数：\\(||x||_0=\\sum\\limits_{i = 1}^n {1}(x_i \\ne 0)\\) 表示向量x中非零元素的个数。 Hardy空间与\\(H_p\\)范数 哈代(Hardy)空间是单位圆内一类重要的解析函数空间，是单位圆盘或半平面上的某类全纯（区域内处处可微）函数。 \\(H_p\\)范数被定义为\\(||f||_p=\\mathop {\\sup }\\limits_{0 \\leqslant r &lt; 1}(\\frac{1}{2\\pi} \\int\\limits_0^{2\\pi}|f(re^{i\\theta})|^p d\\theta)^\\frac{1}{p}\\) p取∞时，定义\\(H_\\infty\\)范数为\\(||f||_\\infty=\\mathop {\\sup }\\limits_{0 \\leqslant r &lt; 1} \\mathop {\\sup }\\limits_{0 \\leqslant \\theta \\leqslant &lt; 2\\pi} |f(re^{i\\theta})|\\) 在\\(H_\\infty\\)控制理论中，H被定义为Hardy空间的复右半平面上由解析的复变函数所构成的集合。 稳定（传递函数极点均在复平面左半平面）且具有常态（传递函数多项式分母阶次大于分子阶次）的系统传递函数\\(G(s)\\)为Hardy空间元素。 \\(G(s)\\)的\\(H_\\infty\\)范数被定义为\\(||G(s)||_\\infty=\\mathop {\\sup }\\limits_\\omega|G(j\\omega)|\\) \\(H_\\infty\\)范数指的是在S右半平面上解析的有理函数阵的最大奇异值。 总结：\\(L_2\\)范数与\\(L_\\infty\\)范数针对系统的时域；\\(H_2\\)范数与\\(H_\\infty\\)范数针对系统的频域。 \\(L_2\\)与\\(H_2\\)对应着时域信号与频域信号增益的几何平均值（平方和开根号），体现的是系统稳定工作状态下的情况（稳定性）。 \\(L_\\infty\\)与\\(H_\\infty\\)对应着时域信号与频域信号增益的最大值，体现的是系统在负载扰动状态下的偏差最大的情况（抗扰动能力、鲁棒性）。 也就是说\\(H_\\infty\\)体现了系统系统控制效果最差的情况下的偏差程度（偏差的最大值），通过对其加以控制来尽可能的减小偏差的最大值，以提高系统的抗扰动能力（或鲁棒性）。 系统的I/O描述 任意系统可以看做输入信号空间到输出信号空间的映射。 信号的范数 时域的\\(L_2\\)范数与\\(L_2\\)空间 定义\\(L_2\\)范数\\(||u(t)||_2=\\{\\int_{-\\infty }^{+\\infty} |u(t)|^2 dt\\}^\\frac{1}{2}\\) \\(L_2\\)空间定义为上式定义的\\(L_2\\)范数有界的信号集合。 \\(L_2(-\\infty,+\\infty)=\\{u(t)|\\text{ }||u(t)||_2&lt;\\infty\\}\\) 若\\(u(t)\\)为电流或电压，则\\(L_2(-\\infty,+\\infty)\\)代表能量有限的信号的集合。 \\(L_2(-\\infty,+\\infty)\\)是定义了内积的赋范空间，范数定义由内积导出。 设\\(u,v \\in L_2(-\\infty,+\\infty)\\)，则内积定义为\\(\\langle u,v \\rangle = \\int_{-\\infty }^{+\\infty} v^*(t)u(t)dt\\) \\(L_2(-\\infty,+\\infty)\\)可表示为两个正交子空间的和，\\(L_2(-\\infty,+\\infty)=L_2(-\\infty,0]\\oplus L_2[0,+\\infty)\\) 频域的\\(H_2\\)范数与\\(L_2\\)空间 定义\\(H_2\\)范数\\(||U(j\\omega)||_2=\\{\\frac{1}{2\\pi} \\int_{-\\infty }^{+\\infty} |U(j\\omega)|^2 d\\omega\\}^{1/2}\\) 频域的\\(L_2\\)空间\\(L_2=\\{U(j\\omega)|\\text{ }||U(j\\omega)||_2&lt;\\infty\\}\\) 频域信号的\\(H_2\\)范数定义亦由内积导出。 设\\(U,V \\in L_2\\)，则内积定义为\\(\\langle U,V \\rangle = \\frac{1}{2\\pi} \\int_{-\\infty }^{+\\infty} V^*(j\\omega)U(j\\omega)d\\omega\\) 【定理2.1.1】时域\\(L_2\\)范数=频域\\(H_2\\)范数 设\\(U(j\\omega)\\)为\\(u(t)\\)的傅式变换的象函数，如果\\(u(t) \\in L_2(-\\infty,+\\infty)\\)，则\\(U(j\\omega) \\in L_2\\)，且\\(||u(t)||_2=||U(j\\omega)||_2\\) 证明过程： \\(\\langle u,v \\rangle = \\int_{-\\infty }^{+\\infty} v^*(t)u(t)dt = \\int_{-\\infty }^{+\\infty} v^*(t) \\cdot \\frac{1}{2\\pi}\\int_{-\\infty }^{+\\infty} u(j\\omega)e^{j\\omega t}d\\omega dt\\) \\(=\\frac{1}{2\\pi} \\int_{-\\infty }^{+\\infty} u(j\\omega) \\int_{-\\infty }^{+\\infty} v^*(t) e^{j\\omega t}d\\omega dt\\) \\(=\\frac{1}{2\\pi} \\int_{-\\infty }^{+\\infty} U(j\\omega)V^*(j\\omega)d\\omega = \\langle U,V \\rangle\\) 上式被称作Porseval等式。 令\\(u=v\\)，则有\\(||u(t)||_2^2=\\langle u,u \\rangle=\\langle U,U \\rangle=||U(j\\omega)||_2^2\\) \\(\\Rightarrow ||u(t)||_2=||U(j\\omega)||_2\\)得证。 信号时域、频域空间转换及其等价关系 \\(L_2=H_2 \\oplus H_2^\\bot\\) 其中\\(H_2^\\bot\\)为\\(H_2\\)的正交补，是在s闭左半平面解析的函数集。 \\(H_2\\)在s闭右半平面解析，\\(L_2\\)在虚轴上解析。 图2 信号时域、频域空间转换及其等价关系 系统的范数 \\(H_\\infty\\)空间：频域传递函数矩阵\\(P(s)\\)在s闭右半平面解析，且满足式\\(\\mathop {\\sup }\\limits_{Re \\text{ } s \\geqslant 0}\\sigma_\\max\\{P(s)\\}&lt;\\infty\\)的复变函数阵的集合。 \\(H_\\infty\\)范数：\\(||P(s)||_\\infty=\\mathop {\\sup }\\limits_{Re \\text{ } s \\geqslant 0}\\sigma_\\max\\{P(s)\\}\\) 由复变函数极大模原理知其等价于\\(||P(s)||_\\infty=\\mathop {\\sup }\\limits_\\omega \\sigma_\\max\\{P(jw)\\}\\) 对于标量系统，上式右端等于幅频特性的最大值。 【定理2.2.3】设\\(P \\in H_\\infty\\)，\\(u \\in L_2(-\\infty,+\\infty)\\)。则有 \\(||P||=\\mathop {\\sup}\\limits_{u \\ne 0}\\frac{||y||_2}{||u||_2}=\\mathop {\\sup}\\limits_\\omega \\sigma_\\max [P(j\\omega)]=||P(s)||_\\infty\\) 工程意义：系统传递阵的\\(H_\\infty\\)范数实际上反映输入/输出信号\\(L_2\\)范数的最大增益。 注：可以使用Porseval等式证明。 范数的计算 【定理2.2.4】设\\(U \\in H_2\\)可表示为状态空间实现\\(U(s)=C(sI-A)^{-1}B\\)，其中A为稳定阵。 则有\\(||U(s)||_2=\\sqrt{CL_0 C^T}\\)，其中\\(L_0\\)为Lyapunov方程\\(AL_0+L_0 A^T=-BB^T\\)的正定解。 【定理2.2.5】设\\(P(s)=C(sI-A)^{-1}B \\in H_\\infty\\)。则\\(||P(s)||_\\infty&lt;1\\)的充分必要条件是哈密尔顿(Hamiltonian)矩阵\\(H=\\left[ {\\begin{array}{*{20}{c}}A&amp;BB^T \\\\ -C^T C&amp;-A^T \\end{array}} \\right]\\)的所有特征值的实部不等于零。 \\(H_\\infty\\)范数与Riccati方程、Riccati不等式 哈密尔顿矩阵的性质 【引理2.3.1】令\\(H=\\left[ {\\begin{array}{*{20}{c}}A&amp;BB^T \\\\ -C^T C&amp;-A^T \\end{array}} \\right]\\)，则矩阵\\(H\\)与\\(-H^T\\)相似。 【引理2.3.2】若\\(T_1\\)为可逆阵，则 (1)\\(X=T_2 T_1^{-1}\\)为复对称阵，即\\(X=X^*\\) (2)X满足代数Ricatti方程\\(XA+A^T X+XBB^T X+C^T C=0\\) 由\\([X \\quad -I]H\\left[ {\\begin{array}{*{20}{c}}I \\\\ X \\end{array}} \\right]=XA+A^T X+XBB^T X+C^T C=0\\) 可知H与Riccati方程具有等价性。 \\(H_\\infty\\)范数与Riccati方程 【定理2.3.1】设\\(P(s)=C(sI-A)^{-1}B\\)且A为稳定阵。则\\(||P(s)||_\\infty&lt;1\\)的充分必要条件是Riccati方程\\(XA+A^T X+XBB^T X+C^T C=0\\)有半正定解\\(X \\geqslant 0\\)且\\(A+BB^T X\\)是稳定阵。 注：稳定阵，指所有特征值均具有负实部。 \\(H_\\infty\\)范数与Riccati不等式 【定理2.4.1】A为稳定阵且\\(||P(s)||_\\infty&lt;1\\)的充分必要条件是存在正定阵X满足Riccati不等式\\(XA+A^T X+XBB^T X+C^T C&lt;0\\)。 注：Riccati不等式不等式属于线性矩阵不等式(Linear Matrix Inequality,LMI)。 总结：Hamiltonian矩阵、\\(H_\\infty\\)范数与Riccati方程/不等式在一定条件下存在等价关系，如下图所示。 图3 Hamiltonian矩阵、H∞范数与Riccati方程的等价关系 有理函数阵的分解与稳定性 \\(P(s)\\)满足\\(P(\\infty)=0\\)，则\\(P(s)\\)称为严格真有理函数阵。\\(P(\\infty)\\)是常数阵时，\\(P(s)\\)称为真有理函数阵。 所有在s闭右半平面解析的真有理函数集合称为\\(H_\\infty\\)空间。 设系统的闭环传递阵\\(P(s)\\)的状态空间实现为\\(\\{A,B,C,D\\}\\)，若\\((A,B)\\)可稳定且\\((C,A)\\)可检测，则\\(P(s) \\in H_\\infty\\)的充分必要条件是A的特征值均位于s开左半平面（A为稳定阵）。 \\(P(s) \\in H_\\infty \\Leftrightarrow Re[\\lambda_i(A)]&lt;0\\) 有理函数阵的内外分解 如果传递函数阵\\(U(S) \\in H_\\infty\\)满足\\(U^T (-s)U(s)=I\\)则称\\(U(s)\\)为内矩阵。 【引理2.6.1】设\\(U_i(s)=\\{A,B,C,D\\}\\)，D列满秩，\\((A,C)\\)可检测。 如果存在半正定阵\\(X \\geqslant 0\\)使得\\(\\left\\{ {\\begin{array}{*{20}{c}}XA+A^T X+C^T C=0 \\\\ D^T C+B^T X=0 \\\\ D^T D=I \\end{array}} \\right.\\) 则A为稳定阵且\\(U_i(s)\\)为内矩阵。 线性系统的稳定性、能控性、能观性、可稳定性、可观测性 ①稳定性(Stability) A的特征值均位于s开左半平面，即\\(Re[\\lambda_i(A)]&lt;0\\) ②能控性、可控性(Controllability) 秩判据：\\(rank[B,AB,{A^2}B, \\cdot \\cdot \\cdot ,{A^{n - 1}}B]=n\\) ③能观性、可观测性(Observability) 秩判据：\\(rank\\left[ \\begin{gathered} C \\\\ CA \\\\ \\vdots \\\\ C{A^{n-1}} \\\\ \\end{gathered}\\right]=n\\) 注：关于能控性、能观性的更多介绍，见线性系统理论04-线性系统的能控性和能观测性 ④可稳定性(Stabilizability) 指的是存在状态负反馈使得系统稳定。 判据：\\(\\forall Re(\\lambda_i) \\geqslant 0\\)，有\\(rank[A-\\lambda_i I \\quad B]=n\\)（行满秩） 若单个极点\\(\\lambda_i\\)满足上述判据，则该极点为可控极点，反之该极点为不可控极点。 能控性与可稳定性的关系： 能控的系统一定可稳定，但可稳定系统不一定能控。 如果所有\\(\\lambda_i\\)极点均为可控极点，则称\\((A,B)\\)能控；如果\\((A,B)\\)所有不可控极点满足\\(Re(\\lambda_i)&lt;0\\)则称\\((A,B)\\)可稳定。 ⑤可检测性(Detectablility) 指的是观测器系统是不是可稳定的。 判据：\\(\\forall Re(\\lambda_i) \\geqslant 0\\)，有\\(rank\\left[ \\begin{gathered} A-\\lambda_i I \\\\ C \\end{gathered}\\right]=n\\)（列满秩） 若单个极点\\(\\lambda_i\\)满足上述判据，则该极点为可观测极点，反之该极点为不可观测极点。 能观性与可检测性的关系： 能观的系统一定可检测，但可检测系统不一定能观。 如果所有\\(\\lambda_i\\)极点均为可观测极点，则称\\((C,A)\\)能观；如果\\((C,A)\\)所有不可观测极点满足\\(Re(\\lambda_i)&lt;0\\)则称\\((C,A)\\)可检测。 总结：能控性与能观性、可稳定性与可检测性有对偶关系。关于可稳定性与可检测性具体内容可见教材P284。 Lyapunov方程 李雅普诺夫(Lyapunov)方程的形式为\\(A^T X+XA=-C^T C\\) 【定理2.7.1】设\\((C,A)\\)为可观测对，则Lyapunov方程具有正定解\\(X&gt;0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 【定理2.7.2】设\\((C,A)\\)为可检测对，则Lyapunov方程具有半正定解\\(X \\geqslant 0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 【推论2.7.1】对于给定的正定阵\\(Q&gt;0\\)，Lyapunov方程\\(A^T X+XA=-Q\\)具有正定解\\(X&gt;0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 可以解Lyapunov方程求出X是否正定来判断系统稳定性。 【推论2.7.2】设\\((A,B)\\)为可控制对，Lyapunov方程\\(A^T X+XA=-BB^T\\)具有正定解\\(X&gt;0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 【推论2.7.1】设\\((A,B)\\)为可稳定对，Lyapunov方程\\(A^T X+XA=-Q\\)具有半正定解\\(X \\geqslant 0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 注：关于Lyapunov方程的更多介绍，见线性系统理论05-系统运动的稳定性 线性分数变换 设传递函数阵\\(\\Theta(s)=\\left[ \\begin{gathered} \\Theta_{11}(s)&amp;\\Theta_{12}(s) \\\\ \\Theta_{21}(s)&amp;\\Theta_{22}(s) \\end{gathered}\\right]\\) 对于给定的\\(\\Theta(s)\\)和传递函数阵\\(K(s)\\)，定义线性分数变换(Linear Fractional Transformation,LFT)如下： \\(LFT(\\Theta,K)=\\Theta_{11}(s)+\\Theta_{12}(s)K(s)[I-\\Theta_{22}(s)K(s)]^{-1}\\Theta_{21}(s)\\) \\(=\\Theta_{11}(s)+\\Theta_{12}(s)[I-K(s)\\Theta_{22}(s)]^{-1}K(s)\\Theta_{21}(s)\\) 图4 线性分数变换 反馈系统如上图(a)所示，\\(\\Theta\\)表示输入信号\\(u_1,u_2\\)至输出信号\\(y_1,y_2\\)的传递函数阵，即 \\(\\left[ \\begin{gathered} y_1 \\\\ y_2 \\end{gathered}\\right]=\\Theta(s)\\left[ \\begin{gathered} u_1 \\\\ u_2 \\end{gathered}\\right]\\) 令\\(u_2=K(s)y_2(s)\\)，则有\\(y_1=LFT(\\Theta(s),K(s))u_1\\) 其中\\(u_1\\)到\\(y_1\\)的闭环传递函数\\(T_{y_1 u_1}=LFT(\\Theta(s),K(s))\\) 同理，对于上图(b)所示的\\(H_\\infty\\)控制器，令\\(u(s)=K(s)y(s)\\)，则有\\(Z(s)=T_{zw}W(s)\\) 其中\\(T_{zw}=LFT(G(s),K(s))\\) 参考资料 申铁龙. H∞控制理论及应用[M]. 北京:清华大学出版社,1996 郭庆鼎,孙宜标,王丽梅. 现代永磁电动机交流伺服系统[M]. 北京:中国电力出版社,2006 知乎 - 怎样理解H2范数和H∞范数的物理意义？ 知乎 - 现代控制理论：速成/不求甚解版(上)","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"鲁棒控制理论与应用","slug":"课程笔记/鲁棒控制理论与应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"鲁棒控制理论与应用","slug":"鲁棒控制理论与应用","permalink":"https://renahah.github.io/tags/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"}]},{"title":"作曲笔记01-使用Fl Studio制作一首Melodic Progressive House","slug":"音乐/作曲/作曲笔记01-使用Fl Studio制作一首Progressive House","date":"2023-11-14T12:21:14.000Z","updated":"2024-01-25T05:20:21.091Z","comments":true,"path":"音乐/作曲/作曲笔记01-使用Fl Studio制作一首Progressive House/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%BD%9C%E6%9B%B2/%E4%BD%9C%E6%9B%B2%E7%AC%94%E8%AE%B001-%E4%BD%BF%E7%94%A8Fl%20Studio%E5%88%B6%E4%BD%9C%E4%B8%80%E9%A6%96Progressive%20House/","excerpt":"参考网络上的各种音乐制作教程，整理了一个入门作曲笔记。 其作用是初步快速了解Fl Studio基本操作方法，以及音乐制作的流程。后续会有更详细具体的笔记。 和理工科类的课程学习笔记不同，该笔记不能替代视频，仅仅是对视频要点的一个总结概括，需要反复观看参考资料列出的视频进行学习。","text":"参考网络上的各种音乐制作教程，整理了一个入门作曲笔记。 其作用是初步快速了解Fl Studio基本操作方法，以及音乐制作的流程。后续会有更详细具体的笔记。 和理工科类的课程学习笔记不同，该笔记不能替代视频，仅仅是对视频要点的一个总结概括，需要反复观看参考资料列出的视频进行学习。 序言 Fl Studio：全称“Fruity Loops Studio”，是一个数字音频工作站(DAW)。Fl tudio是一个功能完备的音乐制作软件，可以实现编曲、剪辑、录音、混音。 Progressive House：一种电子音乐风格，始于1990年代的英国，深受Trance音乐的影响，比较注重旋律和乐曲编排，拍点强弱较不明显，节奏大致在120到134bpm左右，作品对时长没有特定的限制，强调情绪与氛围逐步推进和堆叠。 Melodic Progressive House：Progressive House的分支之一，通常来形容诸如Tobu，Ahxello这样的卧室制作人所制作的Progressive House，表现在更加注重旋律和对Drop的音色设计。倚重亮色琶音pluck来构建旋律主体，乐器倾向性强，适合闲情逸致的生活中品赏。 音乐的构成要素 Drums(鼓) ①Kick(底鼓)：又称bass drum，架子鼓组里面最下面最大的那个鼓。鼓手通过脚踩脚踏板触发连接的踩锤敲击鼓面来发出声音，声音为“咚”。 ②Clap(拍手)：一个或多个人拍击双手的声音，声音为“啪”。 ③Hat(镲)：鼓手左边两片合在一起的镲片，通过脚踏板控制镲片的开闭。开镲(Open Hat)的声音为“擦”，声音较为持续，踩镲(Closed Hat)的声音为“次”，声音较为短促。 ④Snare(军鼓)：离鼓手最近的平放的小鼓，鼓槌敲击制造出短促、响亮的声音，产生出很有特色的“劈裂”声。 旋律中的音 ①Chord(和弦)：音乐旋律的基础，可以整几个大三和弦，再进行适当的转位。 和弦的知识参见乐理笔记07-和弦 ②Lead(和弦内音)：Lead一般泛指主旋律音色，写在和弦音的内部，可以偶尔出现几个和弦外的音。 ③Pluck(弹拨音)：类似原声乐器中的吉他类的音色，有弹拨的感觉，也可以作为主旋律音色，写法与Lead一致。 ④Bass(低音)：音乐中的低音，写在和弦根音上。 ⑤Pad(铺底音)：通常为弦乐，有比较柔和，比较绵延的感觉。一般与Chord音相同，写法与之一致。 其他要素 ①Arp(琶音)：写一个没有节奏的旋律并反复循环。 ②白噪音：在3x Osc中点三个骰子。可加可不加。 ③FX：泛指各种效果音，如上升、下降效果。一般用在build up尾部与drop头部。 ④Sub Bass(次低音)：写法与Bass相同，比Bass音更低。 音频处理 ①Gross Beat(侧链压缩)：随时间控制音量的大小。 ②Fruity Fast Lp(压缩声音)：做出渐强渐弱效果，偶尔出现弦外音。 ③Fruity Reeverb 2(混响)：模仿不同场景下的声场。 ④Fruity parametric EQ2：调整不同频率的声音大小。从左到右为低频到高频，上下为声音大小。 音乐按时间划分的阶段 ①intro(序幕) ②build up(渐强) ③break down(渐弱) ④drop(高潮) ⑤outro(尾声) 音乐不同阶段的要素公式（仅作参考） intro:arp+chord break down:arp+chord build up:chord+pluck+drums drop:chord+lead+bass+drums+FX break down:arp+chord build up:chord+pluck+drums drop:chord+lead+bass+drums+arp+pad+FX break down:arp+chord outro:FX 参考资料 白影shadow——全b站最详细的电音入门教程！人人都能学得会！ Justin Apple——电音教程：如何制作像TOBU风格的电子音乐 Ableton线上作曲教程 Tim2354——电子音乐风格科普","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"作曲","slug":"音乐/作曲","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%BD%9C%E6%9B%B2/"}],"tags":[{"name":"作曲","slug":"作曲","permalink":"https://renahah.github.io/tags/%E4%BD%9C%E6%9B%B2/"}]},{"title":"线性系统理论06-线性反馈系统的时间域综合","slug":"课程笔记/线性系统理论/线性系统理论06-线性反馈系统的时间域综合","date":"2023-10-20T23:03:59.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论06-线性反馈系统的时间域综合/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA06-%E7%BA%BF%E6%80%A7%E5%8F%8D%E9%A6%88%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%97%B6%E9%97%B4%E5%9F%9F%E7%BB%BC%E5%90%88/","excerpt":"","text":"线性系统理论课程笔记 对应教材内容第六章 线性反馈系统的时间域综合的内容 引言 综合问题：系统的综合问题由受控系统，性能指标和控制输入三个要素组成，所谓系统综合，就是对给定受控系统，确定反馈形式的控制，使所导出闭环系统的运动行为达到或优于指定的期望性能指标。 性能指标的类型： \\(\\left\\{ {\\begin{array}{*{20}{c}} 非优化型性能指标\\left\\{ {\\begin{array}{*{20}{c}} 渐近稳定 \\\\ 极点配置 \\\\ 解耦控制 \\\\ 跟踪问题 \\end{array}}\\right. \\\\ 优化型性能指标 \\end{array}}\\right.\\) 状态反馈和输出反馈 状态反馈 图1 状态反馈 连续时间线性时不变系统\\(\\dot x = Ax + Bu,\\quad y = Cx\\)，状态反馈下受控系统的输入为\\(u=-Kx+v\\)。 则有反馈系统状态空间描述为\\(\\dot x = (A - BK)x + Bv,\\quad y = Cx\\) 对连续时间线性时不变系统，状态反馈保持能控性，不保持能观测性。 输出反馈 图2 输出反馈 连续时间线性时不变系统\\(\\dot x = Ax + Bu,\\quad y = Cx\\)，输出反馈下受控系统的输入为\\(u=-Fy+v\\)。 则有反馈系统状态空间描述为\\(\\dot x = (A - BFC)x + Bv,\\quad y = Cx\\) 对连续时间线性时不变系统，输出反馈保持能控性和能观测性。 状态反馈和输出反馈的比较 反馈原理：状态反馈为系统结构信息的完全反馈，输出反馈则是系统结构信息的不完全反馈。 反馈功能：状态反馈在功能上远优于输出反馈。 改善输出反馈的途径：扩展输出反馈（动态输出反馈） 反馈实现上，输出反馈要优越于状态反馈。 解决状态反馈物理实现的途径：引入状态观测器，扩展状态反馈和扩展输出反馈的等价性。 状态反馈的极点配置 极点配置定理：对单输入\\(n\\)维连续时间线性时不变受控系统\\(\\dot x = Ax + Bu\\)，系统全部\\(n\\)个极点可任意配置的充分必要条件为\\((A,b)\\)完全能控。 极点配置算法： ①判别\\((A,b)\\)的能控性。 注：可以构造能控判别矩阵\\({Q_c} = [B,AB,{A^2}B, \\cdot \\cdot \\cdot ,{A^{n - 1}}B]\\) 系统完全能控的充要条件为\\(rank(Q_c)=n\\)（\\(Q_c\\)满秩） ②计算矩阵\\(A\\)特征多项式\\(det(sI-A)=\\alpha(s)=s^n+\\alpha_{n-1}s^{n-1}+\\cdots+\\alpha_1 s+\\alpha_0\\) ③计算由期望闭环特征值\\(\\{ \\lambda_1^*, \\cdots ,\\lambda_n^* \\}\\)决定的特征多项式 \\({\\alpha ^*}(s) = \\mathop \\Pi \\limits_{i = 1}^n (s - \\lambda _i^*) = {s^n} + \\alpha _{n - 1}^*{s^{n - 1}} + \\cdots + \\alpha _1^*s + \\alpha _0^*\\) ④\\(\\bar k = \\left[ {\\alpha _0^* - {\\alpha _0},\\alpha _1^* - {\\alpha _1}, \\cdots ,\\alpha _{n - 1}^* - {\\alpha _{n - 1}}} \\right]\\) ⑤\\(P = \\left[ {A^{n - 1}b, \\cdots ,Ab,b} \\right]\\quad \\left[ \\begin{gathered}1 &amp; &amp; &amp; \\\\ {\\alpha _{n - 1}}&amp;\\ddots&amp; &amp; \\\\ \\vdots &amp; \\ddots &amp; \\ddots &amp; \\\\ {\\alpha _1} &amp; \\cdots &amp; {\\alpha _{n - 1}}&amp;1 \\hfill \\\\ \\end{gathered} \\right]\\) ⑥\\(Q=p^{-1}\\) ⑦\\(k = \\bar kQ\\) 【例1】连续时间线性时不变状态方程为\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}}0&amp;0&amp;0 \\\\ 1&amp;{ - 6}&amp;0 \\\\ 0&amp;1&amp;{ - 12} \\end{array}} \\right]\\;x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 0 \\\\ 0 \\end{array}} \\right]\\;u\\) 期望闭环极点为\\(\\begin{array}{*{20}{c}}{ {\\lambda _1}^* = - 2}&amp;{ {\\lambda _2}^* = - 1 + j}&amp;{ {\\lambda _3}^* = - 1 - j} \\end{array}\\)，求状态反馈阵\\(k\\)。 能控性判定矩阵\\(Q_c = [B,AB,A^2 B] = \\left[ {\\begin{array}{*{20}{c}}1&amp;0&amp;0 \\\\ 0&amp;1&amp;-6 \\\\ 0&amp;0&amp;1 \\end{array}} \\right]\\) \\(r(Q_c)=3=n \\quad\\)⇒系统能控 \\(\\det (sI - A) = \\left[ {\\begin{array}{*{20}{c}}0&amp;0&amp;0 \\\\ { - 1}&amp;{s + 6}&amp;0 \\\\ 0&amp;{ - 1}&amp;{s + 12} \\end{array}} \\right] = {s^3} + 18{s^2} + 72s\\) 期望闭环极点的特征多项式\\({\\alpha ^*}(s) = (s + 2)(s + 1 - j)(s + 1 + j) = {s^3} + 4{s^2} + 6s + 4\\) \\(\\bar k = [\\alpha _0^* - {\\alpha _0},\\alpha _1^* - {\\alpha _1},\\alpha _2^* - {\\alpha _2}] = [4, - 66, - 14]\\) \\(P = [{A^2}b,Ab,b]\\left[ {\\begin{array}{*{20}{c}} 1&amp;{}&amp;{} \\\\ {\\alpha _2}&amp;1&amp;{} \\\\ {\\alpha _1}&amp;{\\alpha _2}&amp;1 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1 \\\\ { - 6}&amp;1&amp;0 \\\\ 1&amp;0&amp;0 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0 \\\\ {18}&amp;1&amp;0 \\\\ {72}&amp;{18}&amp;1 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} {72}&amp;{18}&amp;1 \\\\ {12}&amp;1&amp;0 \\\\ 1&amp;0&amp;0 \\end{array}} \\right]\\) \\(Q = {P^{ - 1}} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1 \\\\ 0&amp;1&amp;{ - 12} \\\\ 1&amp;{ - 18}&amp;{144} \\end{array}} \\right]\\) \\(k = \\bar kQ = \\left[ {\\begin{array}{*{20}{c}} {4,}&amp;{ - 66,}&amp;{ - 14} \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1 \\\\ 0&amp;1&amp;{ - 12} \\\\ 1&amp;{ - 18}&amp;{144} \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} { - 14,}&amp;{186}&amp;{ - 1220} \\end{array}} \\right]\\) 状态反馈镇定 状态镇定问题：对给定时间线性时不变受控系统，找到一个状态反馈型控制律\\(u = - Kx + v\\)，使所导出的状态反馈型闭环系统\\(\\dot x = (A - BK)x + Bv\\)为渐近稳定，即系统闭环特征值均具有负实部。 结论：连续时间线性时不变系统可由状态反馈镇定，当且仅当系统不能控部分为为渐近稳定。 结论：连续时间线性时不变系统可由状态反馈镇定的一个充分条件是系统完全能控。 状态反馈镇定算法： ①判断\\((A, B)\\)能控性，若完全能控，去④。 ②对\\((A, B)\\)按能控性分解 ③对能控部分进行极点配置 ④计算镇定状态反馈矩阵 全维度状态观测器 全维观测器是指重构状态向量的维数与原系统相同。观测器结构如下： 图3 全维观测器 观测器动态方程为：\\(\\dot {\\hat x} = (A - HC)\\hat x + Bu + Hy\\) 【例2】系统动态方程为：\\(\\begin{array}{*{20}{c}} {\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1 \\\\ { - 2}&amp;{ - 3} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 1 \\end{array}} \\right]u}&amp;{y = \\left[ {\\begin{array}{*{20}{c}} 2&amp;0 \\end{array}} \\right]x} \\end{array}\\) 设计一个状态观测器，其中矩阵\\(A-hc\\)的特征值（观测器极点）为\\(-10,-10\\)。 设\\(h = \\left[ {\\begin{array}{*{20}{c}} h_1 \\\\ h_2 \\end{array}} \\right]\\) \\(\\left| {\\lambda I - (A - hc)} \\right| = {\\lambda ^2} + (2{h_1} + 3)\\lambda + 6{h_1} + 2{h_2} + 2\\) 希望的特征多项式\\(\\alpha^*(s)={(\\lambda + 10)^2} = {\\lambda ^2} + 20\\lambda + 100\\) 得到\\(h = \\left[ {\\begin{array}{*{20}{c}}8.5 \\\\ 23.5 \\end{array}} \\right]\\) 由观测器方程\\(\\dot {\\hat x} = (A - hc)\\hat x + bu + hy\\)得到 \\(\\dot {\\hat x} = \\left[ {\\begin{array}{*{20}{c}}{ - 17}&amp;1 \\\\ { - 49}&amp;{ - 3} \\end{array}}\\right]\\hat x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 1 \\end{array}} \\right]u + \\left[ {\\begin{array}{*{20}{c}} {8.5} \\\\ {23.5} \\end{array}} \\right]y\\) 原系统及其状态观测器结构图如下： 图4 状态观测器设计 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"线性系统理论05-系统运动的稳定性","slug":"课程笔记/线性系统理论/线性系统理论05-系统运动的稳定性","date":"2023-10-20T01:32:01.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论05-系统运动的稳定性/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA05-%E7%B3%BB%E7%BB%9F%E8%BF%90%E5%8A%A8%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7/","excerpt":"","text":"线性系统理论课程笔记 对应教材内容第五章 系统运动的稳定性的内容 外部稳定性与内部稳定性 外部稳定性 定义：称一个因果系统为外部稳定，如果对任意一个有界输入\\(u(t)\\)，即满足条件\\(\\left\\| {y(t)} \\right\\| \\leqslant {\\beta_1} &lt; \\infty\\)的一个任意输入\\(u(t)\\)对应的输出\\(y(t)\\)均有界，即\\(\\left\\| {y(t)} \\right\\| \\leqslant {\\beta_2} &lt; \\infty\\) 有界输入、有界输出(Bound Input Bound Output,BIBO) 结论：对零初始条件连续线性时不变系统，令初始时刻\\(t_0=0\\)，则系统BIBO稳定的充要条件为传递函数矩阵\\(G(s)\\)的所有极点均具有负实部。 内部稳定性 定义：称连续线性时不变系统在时刻\\(t_0\\)为内部稳定，是指由时刻\\(t_0\\)任意非零初始状态\\(x(t_0)=x_0\\)引起的状态零输入响应\\(x_{ou}(t)\\)时所有\\(t \\in [t_0,\\infty)\\)为有界并满足渐近属性\\(\\mathop {\\lim }\\limits_{t \\to \\infty } {X_{ou}}(t) = 0\\) \\(\\dot x=Ax \\quad\\)内部稳定是自治系统状态运动的稳定性。 结论：对\\(n\\)维连续线性时不变自治系统\\(\\dot x=Ax+Bu \\quad x(0)=x_0\\)，系统内部稳定即渐近稳定的充分必要条件为\\(e^{At}\\)满足\\(\\mathop {\\lim }\\limits_{t \\to \\infty } {e^{At}} = 0\\) 两者之间的关系 对于连续线性时不变系统，若系统为内部稳定，则系统必为外部稳定。（反之不成立） 李亚普诺夫(Lyapunov)意义下的稳定性 Lyapunov意义下的稳定性 \\(\\left\\| x_0-x_e \\right\\| \\leqslant \\delta (\\varepsilon ,{t_0})\\) \\(\\left\\| \\varphi(t;x_0,t_0) - x_e \\right\\| \\leqslant \\varepsilon\\) 实质：只能保证系统受扰运动相对于平衡状态的有界性，不能保证系统受扰运动相对于平衡状态的渐近性。 定义：称自治系统的孤立平衡状态在\\(x_e=0\\)在时刻\\(t_0\\)为渐近稳定 (1)\\(x_e=0\\)在时刻\\(t_0\\)为Lyapunov意义下的稳定。 (2)对实数\\(\\delta(\\varepsilon,t_0)&gt;0\\)和任给实数\\(\\mu&gt;0\\)，都对应存在实数\\(T(\\mu,\\delta,t_0)&gt;0\\)，使任一初始状态\\(x_0\\)出发的受扰运动\\(\\varphi(t;x_0,t_0)\\)满足\\(\\left\\| \\varphi(t;x_0,t_0) - x_e \\right\\| \\leqslant \\mu\\) Lyapunov第一方法和第二方法 (1)第一方法：将非线性自治方程进行泰勒展开导出近似线性系统，根据线性化系统特征值推断稳定性。 (2)第二方法：引入具有广义能量属性的Lyapunov函数，分析Lyapunov函数导数的定号性，建立判断系统稳定性的相应结论。 Lyapunov第二方法 大范围渐近稳定 对连续非线性时不变自治系统，若可构造对于\\(x\\)具有连续一阶偏导数的一个标量函数\\(v(x),v(0)=0\\)，且对状态空间中所有非零状态点\\(x\\)满足 ①\\(v(x)\\)为正定；②\\(\\dot v(x)\\)为负定；③当\\(\\left\\| x \\right\\| \\to \\infty\\)时有\\(v(x) \\to \\infty\\) 则系统的原点平衡状态\\(x=0\\)为大范围渐近稳定。 【例1】\\(\\left\\{ \\begin{gathered}{ {\\dot x}_1} = {x_2} - {x_1}({x_1}^2 + {x_2}^2) \\hfill \\\\{ {\\dot x}_2} = - {x_1} - {x_2}({x_1}^2 + {x_2}^2) \\hfill \\\\ \\end{gathered} \\right.\\) 构造一正定且满足\\(\\left\\| x \\right\\| \\to \\infty\\)时有\\(v(x) \\to \\infty\\)的标量函数\\(v(x) = {x_1}^2 + {x_2}^2\\) \\(\\Rightarrow {\\dot V}(x) = \\frac{\\partial v(x)}{\\partial x_1} \\frac{dx_1}{dt} + \\frac{\\partial v(x)}{\\partial x_2} \\frac{dx_2}{dt}\\) \\(= \\left[ {\\begin{array}{*{20}{c}} 2x_1&amp;2x_2 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} {x_2} - {x_1}({x_1}^2 + {x_2}^2) \\\\ - {x_1} - {x_2}({x_1}^2 + {x_2}^2) \\end{array}}\\right] =-2({x_1}^2 + {x_2}^2)\\) \\(\\dot v(x)\\)负定⇒系统大范围渐近稳定 小范围渐近稳定 对连续非线性时不变自治系统，若可构造对于\\(x\\)具有连续一阶偏导数的标量函数\\(v(x)\\)以及围绕状态空间原点的一个吸引区\\(\\Omega\\)，使所用非零状态\\(x \\in \\Omega\\)满足 ①\\(v(x)\\)为正定；②\\(\\dot v(x)\\)为负定 则系统的原点平衡状态\\(x=0\\)在\\(\\Omega\\)域内渐近稳定。 不稳定的判别 ①\\(v(x)\\)为正定；②\\(\\dot v(x)\\)为正定 则系统不稳定。 李亚普诺夫判据 对连续线性时不变系统，原点平衡状态\\(x_e=0\\)是渐近稳定的充分必要条件： 对任给一个\\(n \\times n\\)正定对称矩阵\\(Q\\)，Lyapunov方程\\(A^T P+PA=-Q\\)有唯一\\(n \\times n\\)正定对称解阵\\(P\\) 【例2】判断稳定性：\\(\\dot x=\\left[ {\\begin{array}{*{20}{c}} -1&amp;1 \\\\ 2&amp;-3 \\end{array}}\\right]x\\) 取\\(Q=I\\) \\(A^T P+PA=\\left[ {\\begin{array}{*{20}{c}} -1&amp;2 \\\\ 1&amp;-3 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} p_1&amp;p_3 \\\\ p_3&amp;p_2 \\end{array}}\\right]+\\left[ {\\begin{array}{*{20}{c}} p_1&amp;p_3 \\\\ p_3&amp;p_2 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} -1&amp;1 \\\\ 2&amp;-3 \\end{array}}\\right]=-Q=\\left[ {\\begin{array}{*{20}{c}} -1&amp;0 \\\\ 0&amp;-1 \\end{array}}\\right]\\) \\(\\Rightarrow \\left\\{ {\\begin{array}{*{20}{c}} -2p_1+4p_3=-1 \\\\ p_1+2p_2-4p_3=0 \\\\ 2p_3-6p_2=-1 \\end{array}}\\right.\\) 由方程组解得\\(p_1=\\frac{7}{4},p_2=\\frac{3}{8},p_3=\\frac{5}{8}\\) 得到\\(|P|=\\left| {\\begin{array}{*{20}{c}} \\frac{7}{4}&amp;\\frac{5}{8} \\\\ \\frac{5}{8}&amp;\\frac{3}{8} \\end{array}}\\right| &gt; 0\\) \\(P\\)正定，系统渐近稳定。 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"电磁场数值分析与计算06-2D有限元分析","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算06-2D有限元分析","date":"2023-10-19T08:32:28.000Z","updated":"2024-01-25T05:20:20.948Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算06-2D有限元分析/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9706-2D%E6%9C%89%E9%99%90%E5%85%83%E5%88%86%E6%9E%90/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 插值函数 插值函数又称形状函数、权重函数(Interpolation/Shape/Weighting Function)，指的是在离散数据的基础上补插连续函数，使得这条连续曲线通过全部给定的离散数据点。 1D空间的插值 一维一阶插值 给定两个点及其对应的物理量\\((x_1,\\Phi_1)\\quad(x_2,\\Phi_2)\\quad(x_1&lt;x_2)\\)，求\\(\\Phi(x_1&lt;x&lt;x_2)\\) 构造线性插值函数\\(\\tilde \\Phi(x)=ax+b\\) \\(x=x_1 \\quad \\tilde \\Phi(x_1)=\\Phi_1 \\quad \\Rightarrow \\quad ax_1+b=\\Phi_1\\) \\(x=x_2 \\quad \\tilde \\Phi(x_2)=\\Phi_2 \\quad \\Rightarrow \\quad ax_2+b=\\Phi_2\\) 使用克莱姆法则求解方程组： \\(\\left[ {\\begin{array}{*{20}{c}} x_1&amp;1 \\\\ x_2&amp;1 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} a \\\\ b \\end{array}}\\right] = \\left[ {\\begin{array}{*{20}{c}} \\Phi_1 \\\\ \\Phi_2 \\end{array}}\\right]\\) \\(a=\\frac{\\left[ {\\begin{array}{*{20}{c}} \\Phi_1&amp;1 \\\\ \\Phi_2&amp;1 \\end{array}}\\right]}{\\left[ {\\begin{array}{*{20}{c}} x_1&amp;1 \\\\ x_2&amp;1 \\end{array}}\\right]}=\\frac{\\Phi_1-\\Phi_2}{x_1-x_2} \\quad b=\\frac{\\left[ {\\begin{array}{*{20}{c}} x_1&amp;\\Phi_1 \\\\ x_2&amp;\\Phi_2 \\end{array}}\\right]}{\\left[ {\\begin{array}{*{20}{c}} x_1&amp;1 \\\\ x_2&amp;1 \\end{array}}\\right]}=\\frac{\\Phi_2 x_1 - \\Phi_1 x_2}{x_1-x_2}\\) \\(\\Rightarrow \\tilde \\Phi(x) = \\frac{\\Phi_1-\\Phi_2}{x_1-x_2}x+\\frac{\\Phi_2 x_1 - \\Phi_1 x_2}{x_1-x_2}=N_1(x)\\Phi_1+N_2(x)\\Phi_2=\\frac{x-x_2}{x_1-x_2}\\Phi_1+\\frac{x-x_1}{x_2-x_1}\\Phi_2\\) 其中，线性插值函数\\(N_1(x)=\\frac{x-x_2}{x_1-x_2} \\quad N_2(x)=\\frac{x-x_1}{x_2-x_1}\\) \\(N_1(x) \\left\\{ {\\begin{array}{*{20}{c}} N_1(x_1)=1 \\\\ N_1(x_2)=0 \\end{array}}\\right. \\quad N_2(x) \\left\\{ {\\begin{array}{*{20}{c}} N_2(x_1)=0 \\\\ N_2(x_2)=1 \\end{array}}\\right.\\) 图1 一维一阶线性插值函数 一维二阶插值 给定两个点及其对应的物理量\\((x_1,\\Phi_1)\\quad(x_2,\\Phi_2)\\quad(x_3,\\Phi_3)\\) 构造线性插值函数\\(\\tilde \\Phi(x)=ax^2+bx+c=N_1(x)\\Phi_1+N_2(x)\\Phi_2+N_3(x)\\Phi_3\\) \\(x=x_1 \\quad \\tilde \\Phi(x_1)=\\Phi_1 \\quad \\Rightarrow \\quad ax_1^2+bx_1+c=\\Phi_1\\) \\(x=x_2 \\quad \\tilde \\Phi(x_2)=\\Phi_2 \\quad \\Rightarrow \\quad ax_2^2+bx_2+c=\\Phi_1\\) \\(x=x_3 \\quad \\tilde \\Phi(x_3)=\\Phi_3 \\quad \\Rightarrow \\quad ax_3^2+bx_3+c=\\Phi_1\\) 使用克莱姆法则求解方程组： \\(\\left[ {\\begin{array}{*{20}{c}} x_1^2&amp;x_1&amp;1 \\\\ x_2^2&amp;x_2&amp;1 \\\\ x_3^2&amp;x_3&amp;1 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} a \\\\ b \\\\c \\end{array}}\\right] = \\left[ {\\begin{array}{*{20}{c}} \\Phi_1 \\\\ \\Phi_2 \\\\ \\Phi_3 \\end{array}}\\right]\\) （求解过程及其结果略） 线性插值函数： \\(N_1(x_1)=1 \\quad N_2(x_1)=0 \\quad N_3(x_1)=0\\) \\(N_1(x_2)=0 \\quad N_2(x_2)=1 \\quad N_3(x_2)=0\\) \\(N_1(x_3)=0 \\quad N_2(x_3)=0 \\quad N_3(x_3)=1\\) \\(N_1(x)=\\frac{(x-x_2)(x-x_3)}{(x_1-x_2)(x_1-x_3)} \\quad N_2(x)=\\frac{(x-x_1)(x-x_3)}{(x_2-x_1)(x_2-x_3)} \\quad N_3(x)=\\frac{(x-x_1)(x-x_2)}{(x_3-x_2)(x_1-x_2)} \\quad\\) 一维N阶插值 给定\\(n+1\\)个点及其对应的物理量\\((x_1,\\Phi_1)\\quad(x_2,\\Phi_2)\\cdots(x_{n+1},\\Phi_{n+1})\\) 线性插值函数： \\(N_1(x)=\\frac{(x-x_2)(x-x_3)\\cdots(x-x_n)(x-x_{n+1})}{(x_1-x_2)(x_1-x_3)\\cdots(x_1-x_n)(x_1-x_{n+1})}\\) \\(N_i(x)=\\frac{(x-x_1)(x-x_2)\\cdots(x-x_{i-1})(x-x_{i+1})\\cdots(x-x_n)(x-x_{n+1})}{(x_i-x_1)(x_i-x_2)\\cdots(x_i-x_{i-1})(x_i-x_{i+1})\\cdots(x_i-x_n)(x_i-x_{n+1})}\\) 性质： \\(N_k(x_i)=\\left\\{ {\\begin{array}{*{20}{c}} 1&amp;i=k \\\\ 0&amp;i \\ne k \\end{array}}\\right. \\quad \\sum\\limits_{i = 1}^n N_k(x_i)=1\\) 分母是\\((x-x_k)\\)的连乘（\\(k \\ne i\\)）；分子是\\((x_i-x_k)\\)的连乘（\\(k \\ne i\\)） 2D空间的插值 二维一阶插值 图2 二维一阶插值 使用三角形进行剖分，每个三角形为一个单元(element)，其中包含三个顶点(node)，分别为\\((x_1,y_1,\\Phi_1)\\quad(x_2,y_2,\\Phi_2)\\quad(x_3,y_3,\\Phi_3)\\) \\(ax_1+by_1+c=\\Phi_1\\) \\(ax_2+by_2+c=\\Phi_2\\) \\(ax_3+by_3+c=\\Phi_3\\) 使用克莱姆法则求解方程组，求解过程及其结果略。 其中算式分母项\\(D=\\left[ {\\begin{array}{*{20}{c}} x_1&amp;y_1&amp;c \\\\ x_2&amp;y_2&amp;c \\\\ x_3&amp;y_3&amp;c \\end{array}}\\right]=2\\Delta\\)，其大小为所剖分的三角形面积的2倍。 线性插值函数展开为形状函数：\\(\\tilde \\Phi(x)=\\sum\\limits_1^3 N_k(x,y)\\Phi_k\\) \\(N_1(x,y)=\\frac{1}{2\\Delta}(p_1 x+q_1 y+r_1)\\) \\(N_2(x,y)=\\frac{1}{2\\Delta}(p_2 x+q_2 y+r_2)\\) \\(N_3(x,y)=\\frac{1}{2\\Delta}(p_3 x+q_3 y+r_3)\\) \\(\\left\\{ {\\begin{array}{*{20}{c}} N_1(x_1,y_1)=1 \\\\ N_1(x_2,y_2)=0 \\\\ N_1(x_3,y_3)=0 \\end{array}}\\right. \\quad \\left\\{ {\\begin{array}{*{20}{c}} N_2(x_1,y_1)=0 \\\\ N_2(x_2,y_2)=1 \\\\ N_2(x_3,y_3)=0 \\end{array}}\\right. \\quad \\left\\{ {\\begin{array}{*{20}{c}} N_3(x_1,y_1)=0 \\\\ N_3(x_2,y_2)=0 \\\\ N_3(x_3,y_3)=1 \\end{array}}\\right.\\) \\(p_1=y_2-y_3 \\quad p_2=y_3-y_1 \\quad p_3=y_1-y_2\\) \\(q_1=x_3-x_2 \\quad q_2=x_1-x_3 \\quad q_3=x_2-x_1\\) \\(r_1=x_2 y_3-x_3 y_2 \\quad r_2=x_3 y_1-x_1 y_3 \\quad r_3=x_1 y_2-x_2 y_1\\) 三角形的三点按照逆时针标记序号 p的下标为逆时针；q的下标为顺时针；r的下标为逆时针-顺时针 二维二阶插值 图3 二维二阶插值 在二维一阶插值的基础上，再取三个边的中点\\((x_4,y_4,\\Phi_4)\\quad(x_5,y_5,\\Phi_5)\\quad(x_6,y_6,\\Phi_6)\\) 同样列出方程组并使用克莱姆法则求解之，求解过程及其结果略 形状函数：\\(\\tilde \\Phi(x)=a_1+a_2 x+a_3 y+a_4 x^2+a_5 xy+a_6 y^2=\\sum\\limits_{j=1}^6 N_j(x,y)\\Phi_j\\) 性质：\\(N_j(x_k,y_k)=\\left\\{ {\\begin{array}{*{20}{c}} 1&amp;j=k \\\\ 0&amp;j \\ne k \\end{array}}\\right. \\quad \\sum\\limits_{j = 1}^n N_j(x_k,y_k)=1\\) \\(L_1(x,y)=\\frac{1}{2\\Delta}(p_1 x+q_1 y+r_1 ) \\quad p_1=y_2-y_3 \\quad q_1=x_3-x_2 \\quad r_1=x_2 y_3-x_3 y_2\\) \\(L_2(x,y)=\\frac{1}{2\\Delta}(p_2 x+q_2 y+r_2 ) \\quad p_2=y_3-y_1 \\quad q_2=x_1-x_3 \\quad r_2=x_3 y_1-x_1 y_3\\) \\(L_3(x,y)=\\frac{1}{2\\Delta}(p_3 x+q_3 y+r_3 ) \\quad p_3=y_1-y_2 \\quad q_3=x_2-x_1 \\quad r_3=x_1 y_2-x_2 y_1\\) \\(N_1(x,y)=(2L_1-1)L_1 \\quad N_4(x,y)=4L_1 L_2\\) \\(N_2(x,y)=(2L_2-1)L_2 \\quad N_5(x,y)=4L_2 L_3\\) \\(N_3(x,y)=(2L_3-1)L_3 \\quad N_6(x,y)=4L_3 L_1\\) \\(L(x,y)\\)与二维一阶插值的\\(N(x,y)\\)一致 二维N阶插值 图4 帕斯卡三角形 二维N阶插值的形状函数展开式可以使用帕斯卡三角形（杨辉三角）推算出。 例如二维三阶插值的形状函数为： \\(\\tilde \\Phi(x)=a_1+a_2 x+a_3 y+a_4 x^2+a_5 xy+a_6 y^2+a_7 x^3+a_8 x^2 y+a_9 xy^2+a_{10} y^3=\\sum\\limits_{j=1}^{10} N_j(x,y)\\Phi_j\\) 二维边值问题 由二阶偏微分方程定义的边值问题 \\(-\\frac{\\partial}{\\partial x}(\\alpha_x \\frac{\\partial \\Phi}{\\partial x})-\\frac{\\partial}{\\partial y}(\\alpha_y \\frac{\\partial \\Phi}{\\partial y})+\\beta\\Phi=f \\quad (x,y \\in \\Omega)\\) \\(\\Phi\\)为未知函数，\\(\\alpha_x,\\alpha_y,\\beta\\)为与求解域中材料特性有关的系数，\\(f\\)为激励（已知）。 特例——二维拉普拉斯方程 \\({\\bf{\\nabla}}^2 \\Phi=0\\)，即\\(\\frac{\\partial^2 \\Phi}{\\partial x^2}+\\frac{\\partial^2 \\Phi}{\\partial y^2}=0 \\quad (\\alpha_x=1,\\alpha_y=1,\\beta=0,f=0)\\) 边界条件： 图5 二维边值问题 在\\(\\Gamma_1\\)上，\\(\\Phi=P\\)（常量） 在\\(\\Gamma_2\\)上，\\((\\alpha_x \\frac{\\partial \\Phi}{\\partial x} {\\bf{i}}+\\alpha_y \\frac{\\partial \\Phi}{\\partial y} {\\bf{j}})\\cdot {\\bf{n}}+\\gamma\\Phi=Q\\) 在\\(\\Gamma_d\\)上，\\(\\left\\{ {\\begin{array}{*{20}{c}} \\Phi^+=\\Phi^- \\\\ (\\alpha_x^+ \\frac{\\partial \\Phi^+}{\\partial x} {\\bf{i}}+\\alpha_y^+ \\frac{\\partial \\Phi^+}{\\partial y} {\\bf{j}})\\cdot {\\bf{n}}=(\\alpha_x^- \\frac{\\partial \\Phi^-}{\\partial x} {\\bf{i}}+\\alpha_y^- \\frac{\\partial \\Phi^-}{\\partial y} {\\bf{j}})\\cdot {\\bf{n}} \\end{array}}\\right.\\) （场矢量的法向连续） 区域离散 剖分原则： ①单元之间不能有重叠 ②单元之间通过定点连接 ③避免出现狭长单元 ④单元的数量对存储计算及存储精度均有影响 编号： 这里举的例子将一块区域划分成了四个单元\\((1),(2),(3),(4)\\)，并对六个节点与六条边界进行编号。 图6 区域离散与编号 连接矩阵： 表1 连接矩阵 e n(1,e) n(2,e) n(3,e) (1) 2 4 1 (2) 5 4 2 (3) 3 5 2 (4) 5 6 4 其中\\(e\\)表示单元，\\(n(i,e)\\)中的\\(i\\)表示节点，单元内的节点按照逆时针排序，排序不唯一，如节点\\((1)\\)可排序为241、124、412。 部分提供的数据： (1)各节点坐标：\\((x_1,y_1),\\cdots,(x_i,y_i)\\) (2)材料属性：\\({\\begin{array}{*{20}{c}} e_1 \\Rightarrow \\alpha_{x_1} \\quad \\alpha_{y_1} \\quad \\beta_1 \\quad f_1 \\\\ e_2 \\Rightarrow \\alpha_{x_2} \\quad \\alpha_{y_2} \\quad \\beta_2 \\quad f_2 \\\\ e_3 \\Rightarrow \\alpha_{x_3} \\quad \\alpha_{y_3} \\quad \\beta_3 \\quad f_3 \\\\ e_4 \\Rightarrow \\alpha_{x_4} \\quad \\alpha_{y_4} \\quad \\beta_4 \\quad f_4 \\end{array}}\\) (3)\\(\\Gamma_1\\)上各节点的\\(\\Phi\\)值 (4)\\(\\Gamma_2\\)上每一段上的\\(\\gamma\\)和\\(q\\) 单元的插值 图7 单元的插值 \\(N_k^e(x,y)=\\frac{1}{2\\Delta^e}(p_k^e+q_k^e+r_k^e) \\quad k=1,2,3\\) 构建方程系统（基于伽辽金法） （边值问题、求解区域边界条件、区域的离散及连接矩阵见上文） 余量\\(r=-\\frac{\\partial}{\\partial x}(\\alpha_x \\frac{\\partial \\Phi}{\\partial x})-\\frac{\\partial}{\\partial y}(\\alpha_y \\frac{\\partial \\Phi}{\\partial y})+\\beta\\Phi-f\\) 对于第\\(e\\)个单元的加权余量 \\(R_i^e=\\iint\\limits_{\\Omega ^e} N_i^e rdxdy \\quad i=1,2,3\\cdots\\) \\(R_i^e=\\iint\\limits_{\\Omega ^e} N_i^e [-\\frac{\\partial}{\\partial x}(\\alpha_x \\frac{\\partial \\Phi^e}{\\partial x})-\\frac{\\partial}{\\partial y}(\\alpha_y \\frac{\\partial \\Phi^e}{\\partial y})+\\beta\\Phi^e-f] dxdy\\) \\(=\\iint\\limits_{\\Omega ^e}[\\alpha_x\\frac{\\partial N_i^e}{\\partial x}\\frac{\\partial \\Phi^e}{\\partial x}+\\alpha_y\\frac{\\partial N_i^e}{\\partial y}\\frac{\\partial \\Phi^e}{\\partial y}+\\beta N_i^e\\Phi^e]dxdy-\\iint\\limits_{\\Omega ^e}N_i^e fdxdy-\\oint\\limits_{\\Gamma^e}N_i^e{\\bf{D}}\\cdot{\\bf{n^e}}d\\Gamma\\) （推导过程略，因为不考） \\(\\Gamma^e\\)—\\(\\Omega^e\\)的边界，\\(\\bf{n^e}\\)—\\(\\Gamma^e\\)的单位法向量，\\({\\bf{D}}=(\\alpha_x\\frac{\\partial\\Phi}{\\partial x}{\\bf{i}}+\\alpha_y\\frac{\\partial\\Phi}{\\partial y}{\\bf{i}})\\) 单元中的\\(\\Phi^e\\)用插值函数表示\\(\\Phi^e=N_1^e \\Phi_1^e+N_2^e \\Phi_2^e+N_3^e \\Phi_3^e=\\sum\\limits_{j=1}^{3}N_j^e \\Phi_j^e\\) 又由\\(\\frac{\\partial \\Phi^e}{\\partial x}=\\sum\\limits_{j=1}^{3} \\Phi_j^e\\frac{\\partial N_j^e}{\\partial x} \\quad \\frac{\\partial \\Phi^e}{\\partial y}=\\sum\\limits_{j=1}^{3} \\Phi_j^e\\frac{\\partial N_j^e}{\\partial y} \\quad \\frac{\\partial N_j^e}{\\partial x}=\\frac{1}{2\\Delta^e}p_j^e \\quad \\frac{\\partial N_j^e}{\\partial y}=\\frac{1}{2\\Delta^e}q_j^e\\) \\(\\Rightarrow R_i^e=\\iint\\limits_{\\Omega ^e}\\sum\\limits_{j=1}^{3}\\Phi_j^e(\\alpha_x\\frac{\\partial N_i^e}{\\partial x}\\frac{\\partial N_j^e}{\\partial x}+\\alpha_y\\frac{\\partial N_i^e}{\\partial y}\\frac{\\partial N_j^e}{\\partial y}+\\beta N_i^e N_j^e)dxdy-\\iint\\limits_{\\Omega ^e}N_i^e fdxdy-\\oint\\limits_{\\Gamma^e}N_i^e{\\bf{D}}\\cdot{\\bf{n^e}}d\\Gamma\\) \\(i=1\\)时有\\(R_1^e=\\iint\\limits_{\\Omega ^e}\\Phi_1^e(\\alpha_x\\frac{\\partial N_1^e}{\\partial x}\\frac{\\partial N_1^e}{\\partial x}+\\alpha_y\\frac{\\partial N_1^e}{\\partial y}\\frac{\\partial N_1^e}{\\partial y}+\\beta N_1^e N_1^e)dxdy\\) \\(+\\iint\\limits_{\\Omega ^e}\\Phi_2^e(\\alpha_x\\frac{\\partial N_1^e}{\\partial x}\\frac{\\partial N_2^e}{\\partial x}+\\alpha_y\\frac{\\partial N_1^e}{\\partial y}\\frac{\\partial N_2^e}{\\partial y}+\\beta N_1^e N_2^e)dxdy\\) \\(+\\iint\\limits_{\\Omega ^e}\\Phi_3^e(\\alpha_x\\frac{\\partial N_1^e}{\\partial x}\\frac{\\partial N_3^e}{\\partial x}+\\alpha_y\\frac{\\partial N_1^e}{\\partial y}\\frac{\\partial N_3^e}{\\partial y}+\\beta N_1^e N_3^e)dxdy-\\iint\\limits_{\\Omega ^e}N_1^e fdxdy-\\oint\\limits_{\\Gamma^e}N_1^e{\\bf{D}}\\cdot{\\bf{n^e}}d\\Gamma\\) （\\(R_2^e\\)、\\(R_3^e\\)同理） 写成矩阵形式： \\(\\left\\{ {\\begin{array}{*{20}{c}} R_1^e \\\\ R_2^e \\\\ R_3^e \\end{array}}\\right\\}=\\left[ {\\begin{array}{*{20}{c}} k_{11}^e&amp;k_{12}^e&amp;k_{13}^e \\\\ k_{21}^e&amp;k_{22}^e&amp;k_{23}^e \\\\ k_{31}^e&amp;k_{32}^e&amp;k_{33}^e \\end{array}}\\right]\\left\\{ {\\begin{array}{*{20}{c}} \\Phi_1^e \\\\ \\Phi_2^e \\\\ \\Phi_3^e \\end{array}}\\right\\}-\\left\\{ {\\begin{array}{*{20}{c}} b_1^e \\\\ b_2^e \\\\ b_3^e \\end{array}}\\right\\}-\\left\\{ {\\begin{array}{*{20}{c}} g_1^e \\\\ g_2^e \\\\ g_3^e \\end{array}}\\right\\}\\) 矩阵可简化记为：\\(\\{R^e\\}=[k^e]\\{\\Phi^e\\}-\\{b^e\\}\\{g^e\\}\\) 其中\\(k_{ij}^e=\\iint\\limits_{\\Omega ^e}\\sum\\limits_{j=1}^{3}\\Phi_j^e(\\alpha_x\\frac{\\partial N_i^e}{\\partial x}\\frac{\\partial N_j^e}{\\partial x}+\\alpha_y\\frac{\\partial N_i^e}{\\partial y}\\frac{\\partial N_j^e}{\\partial y}+\\beta N_i^e N_j^e)dxdy \\quad i=1,2,3 \\quad j=1,2,3\\) \\(b_i^e=\\iint\\limits_{\\Omega ^e}N_i^e fdxdy \\quad g_i^e=\\oint\\limits_{\\Gamma^e}N_i^e{\\bf{D}}\\cdot{\\bf{n^e}}d\\Gamma \\quad i=1,2,3\\) 根据公式\\(\\iint\\limits_{\\Omega ^e}(N_1^e)^l(N_2^e)^m(N_3^e)^n dxdy=\\frac{l!m!n!}{(l+m+n+2)!} \\cdot 2\\Delta\\) 可得\\(\\iint\\limits_{\\Omega ^e}N_i dxdy=\\frac{1}{3}\\Delta \\quad \\iint\\limits_{\\Omega ^e}(N_i)^2 dxdy=\\frac{1}{6}\\Delta\\) \\(\\iint\\limits_{\\Omega ^e}N_i N_j dxdy=\\frac{1}{12}\\Delta\\) 进而得到\\(k_{ij}^e=\\)\\(\\frac{1}{4\\Delta^e}(\\alpha_x^e p_i^e p_j^e+\\alpha_y^e q_i^e q_j^e)\\)\\(+\\frac{\\Delta^e}{12}\\beta^e(1+\\delta_{ij})\\quad \\delta_{ij}=\\left\\{ {\\begin{array}{*{20}{c}} 1 \\quad i=j \\\\ 0 \\quad i \\ne j \\end{array}}\\right. \\quad b_i^e=\\frac{\\Delta f}{3}\\) 求图6的\\([k]\\)矩阵： 对单元1的节点进行标号，按照表1的连接矩阵标号，以逆时针顺序，将节点2、4、1依次标为①、②、③ 得到矩阵\\([k^{(1)}]=\\left[ {\\begin{array}{*{20}{c}} k_{11}^{(1)}&amp;k_{12}^{(1)}&amp;k_{13}^{(1)} \\\\ k_{21}^{(1)}&amp;k_{22}^{(1)}&amp;k_{23}^{(1)} \\\\ k_{31}^{(1)}&amp;k_{32}^{(1)}&amp;k_{33}^{(1)} \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} k_{22}&amp;k_{24}&amp;k_{21} \\\\ k_{42}&amp;k_{44}&amp;k_{41} \\\\ k_{12}&amp;k_{14}&amp;k_{11} \\end{array}}\\right]\\) 同理，根据表1得到单元2、单元3、单元4的矩阵为 \\([k^{(2)}]=\\left[ {\\begin{array}{*{20}{c}} k_{55}&amp;k_{54}&amp;k_{52} \\\\ k_{45}&amp;k_{44}&amp;k_{42} \\\\ k_{25}&amp;k_{24}&amp;k_{22} \\end{array}}\\right] \\quad [k^{(3)}]=\\left[ {\\begin{array}{*{20}{c}} k_{33}&amp;k_{35}&amp;k_{32} \\\\ k_{53}&amp;k_{55}&amp;k_{52} \\\\ k_{23}&amp;k_{25}&amp;k_{22} \\end{array}}\\right] \\quad [k^{(4)}]=\\left[ {\\begin{array}{*{20}{c}} k_{55}&amp;k_{56}&amp;k_{54} \\\\ k_{65}&amp;k_{66}&amp;k_{64} \\\\ k_{45}&amp;k_{46}&amp;k_{44} \\end{array}}\\right]\\) 矩阵中\\(k_{ij}^{(e)}\\)表示第\\(e\\)个单元中的第\\(j\\)个节点对第\\(i\\)个节点的影响； \\(k_{ij}\\)表示全局系统中的第\\(j\\)个节点对第\\(i\\)个节点的影响。 根据上述关于各单元的矩阵得到整个系统的\\([k]\\)矩阵，计算方法为\\([k]=\\sum\\limits_{e=1}^M [k^{(e)}]\\)。 如\\([k^{(2)}]\\)与\\([k^{(4)}]\\)上有元素\\(k_{54}\\)，则对应矩阵\\([k]\\)的第5行第4列填\\(k{54}^{(2)+(4)}\\)。 若所有单元对应的矩阵均无\\(k_{ij}\\)，则\\([k]\\)对应位置填\\(0\\)。 矩阵有对称性，即\\(k_{ij}=k_{ji}\\)，因此由矩阵\\([k]\\)的第5行第4列填\\(k_{54}^{(2)+(4)}\\)可知第4行第5列填\\(k_{45}^{(2)+(4)}\\)。 \\([k]=\\left[ {\\begin{array}{*{20}{c}} k_{11}^{(1)}&amp;k_{12}^{(1)}&amp;0&amp;k_{14}^{(1)}&amp;0&amp;0 \\\\ k_{21}^{(1)}&amp;k_{22}^{(1)+(2)+(3)}&amp;k_{23}^{(3)}&amp;k_{24}^{(1)+(2)}&amp;k_{25}^{(2)+(3)}&amp;0 \\\\ 0&amp;k_{32}^{(3)}&amp;k_{33}^{(3)}&amp;0&amp;k_{35}^{(3)}&amp;0 \\\\ k_{41}^{(1)}&amp;k_{42}^{(1)+(2)}&amp;0&amp;k_{44}^{(1)+(2)+(4)}&amp;k_{45}^{(2)+(4)}&amp;k_{46}^{(4)} \\\\ 0&amp;k_{52}^{(2)+(3)}&amp;k_{53}^{(3)}&amp;k_{54}^{(2)+(4)}&amp;k_{55}^{(2)+(3)+(4)}&amp;k_{56}^{(4)} \\\\ 0&amp;0&amp;0&amp;k_{64}^{(4)}&amp;k_{65}^{(4)}&amp;k_{66}^{(4)} \\end{array}}\\right]\\) \\([b]\\)与\\([g]\\)的矩阵中，其元素上标与\\([k]\\)矩阵对角线上元素商标相同，即 \\(\\{b\\}=\\left\\{ {\\begin{array}{*{20}{c}} b_{1}^{(1)} \\\\ b_{2}^{(1)+(2)+(3)} \\\\ b_{3}^{(3)} \\\\ b_{4}^{(1)+(2)+(4)} \\\\ b_{5}^{(2)+(3)+(4)} \\\\ b_{6}^{(4)} \\end{array}} \\right\\} \\quad \\{g\\}=\\left\\{ {\\begin{array}{*{20}{c}} g_{1}^{(1)} \\\\ g_{2}^{(1)+(2)+(3)} \\\\ g_{3}^{(3)} \\\\ g_{4}^{(1)+(2)+(4)} \\\\ g_{5}^{(2)+(3)+(4)} \\\\ g_{6}^{(4)} \\end{array}} \\right\\}\\) 狄利赫莱边界条件的处理 注：这里没听懂。 假设上文矩阵中节点3、5、6的电磁位\\(\\Phi\\)已知，即\\(\\Phi_3=p_3,\\Phi_5=p_5,\\Phi_6=p_6\\)，有两种处理方法。 (1)划0置1法 将已知\\(\\Phi\\)的节点对应\\([k]\\)矩阵中的对角线元素置1，行和列上其他元素置0，得到矩阵 \\([k]=\\left[ {\\begin{array}{*{20}{c}} k_{11}^{(1)}&amp;k_{12}^{(1)}&amp;0&amp;k_{14}^{(1)}&amp;0&amp;0 \\\\ k_{21}^{(1)}&amp;k_{22}^{(1)+(2)+(3)}&amp;0&amp;k_{24}^{(1)+(2)}&amp;0&amp;0 \\\\ 0&amp;0&amp;1&amp;0&amp;0&amp;0 \\\\ k_{41}^{(1)}&amp;k_{42}^{(1)+(2)}&amp;0&amp;0&amp;0&amp;0 \\\\ 0&amp;0&amp;0&amp;0&amp;1&amp;0 \\\\ 0&amp;0&amp;0&amp;0&amp;0&amp;1 \\end{array}}\\right]\\) \\(\\left[ {\\begin{array}{*{20}{c}} k_{11}&amp;k_{12}&amp;k_{14} \\\\ k_{21}&amp;k_{22}&amp;k_{24} \\\\ k_{41}&amp;k_{42}&amp;k_{44} \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} \\Phi_1 \\\\ \\Phi_2 \\\\ \\Phi_3 \\end{array}}\\right]=\\left\\{ {\\begin{array}{*{20}{c}} b_1-k_{13}p_3-k_{15}p_5-k_{16}p_6 \\\\ b_2-k_{23}p_3-k_{25}p_5-k_{26}p_6 \\\\ b_4-k_{43}p_3-k_{45}p_5-k_{46}p_6 \\end{array}}\\right\\}\\) 这样就将原来的\\(6 \\times 6\\)矩阵转化为\\(3 \\times 3\\)矩阵，方便了运算。 (2)置大数法 将已知\\(\\Phi\\)的节点对应\\([k]\\)矩阵中的对角线元素置一个很大的数后带入求解 如取\\(k_{33}=10^{70},b_3=p_3 \\times 10^{70}\\) 区域单元的内边界对\\(g\\)无贡献，只有边界\\(\\Gamma\\)才对\\(g\\)有贡献 若节点\\(i\\)在\\(\\Gamma\\)内部，则对应\\(g_i=0\\)； 若节点\\(i\\)在\\(\\Gamma\\)上，则对应\\(g_i \\ne 0\\)。 2D有限元分析的应用 静电场问题 二维：\\(-\\varepsilon_r {\\bf{\\nabla}}\\Phi=\\frac{\\rho}{\\varepsilon_0}\\) \\(-\\frac{\\partial}{\\partial x}(\\varepsilon_r\\frac{\\partial \\Phi}{\\partial x})-\\frac{\\partial}{\\partial y}(\\varepsilon_r\\frac{\\partial \\Phi}{\\partial y})=\\frac{\\rho}{\\varepsilon_0}\\) 边界：\\(\\left\\{ {\\begin{array}{*{20}{c}} \\Phi=p \\\\ \\frac{\\partial \\Phi}{\\partial n}=0 \\end{array}}\\right.\\) 媒质交界面：\\(\\left\\{ {\\begin{array}{*{20}{c}} \\Phi^+=\\Phi^- \\quad \\varepsilon_r^+\\frac{\\partial \\Phi^+}{\\partial n}=\\varepsilon_r^-\\frac{\\partial \\Phi^-}{\\partial n} \\\\ E_t^+=E_t^- \\quad D_n^+=D_n^- \\end{array}}\\right.\\) 2D磁场 \\({\\bf{J}}=J_z{\\bf{k}} \\quad {\\bf{\\nabla}}\\times{\\bf{H}}={\\bf{J}} \\Rightarrow -\\frac{1}{\\mu_r}{\\bf{\\nabla}}^2 A_z=\\mu_0 J_z{\\bf{k}}\\) \\({\\bf{\\nabla}}\\times\\frac{1}{\\mu_r}{\\bf{\\nabla}}\\times A_z{\\bf{k}}=\\mu_0 J_z{\\bf{k}}\\) \\(-\\frac{\\partial}{\\partial x}(\\frac{1}{\\mu}\\frac{\\partial A_z}{\\partial x})-\\frac{\\partial}{\\partial y}(\\frac{1}{\\mu}\\frac{\\partial A_z}{\\partial y})=\\mu_0 J_z\\) 交界面：\\(\\left\\{ {\\begin{array}{*{20}{c}} A_z^+=A_z^- \\\\ \\frac{1}{\\mu_r^+}\\frac{\\partial A_z^+}{\\partial n}=\\frac{1}{\\mu_r^-}\\frac{\\partial A_z^-}{\\partial n} \\end{array}}\\right.\\) 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"线性系统理论04-线性系统的能控性和能观测性","slug":"课程笔记/线性系统理论/线性系统理论04-线性系统的能控性和能观测性","date":"2023-10-17T08:26:22.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论04-线性系统的能控性和能观测性/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA04-%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%83%BD%E6%8E%A7%E6%80%A7%E5%92%8C%E8%83%BD%E8%A7%82%E6%B5%8B%E6%80%A7/","excerpt":"","text":"线性系统理论课程笔记 对应教材内容第四章 线性系统的能控性和能观测性的内容 能控性与能观测性的定义 系统内部每一个状态变量都可由输入定量影响，则系统状态完全能控； 系统内部每一个状态变量都可由输出完全反映，则系统状态完全能观。 线性时不变系统的能控性判据 格拉姆矩阵判据 线性时不变系统为完全能控的充分必要条件为存在时刻\\(t_1&gt;0\\)使如下定义的格拉姆矩阵为非奇异（不满秩的方阵、行列式为0的方阵） \\({W_c}[0,{t_1}]\\mathop = \\limits^\\Delta \\int_0^{t_1} {e^{ - At}BB^T e^{-{A^T}t}dt}\\) 秩判据 对线性时不变系统，构造能控判别矩阵\\({Q_c} = [B,AB,{A^2}B, \\cdot \\cdot \\cdot ,{A^{n - 1}}B]\\) 则系统完全能控的充要条件为\\(rank(Q_c)=n\\)（\\(Q_c\\)满秩） 【例1】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} 4&amp;0 \\\\ 0&amp;-5 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 2 \\end{array}}\\right]u\\) \\(Q_c=\\left[ {\\begin{array}{*{20}{c}} B&amp;AB \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} 1&amp;4 \\\\ 2&amp;-10 \\end{array}}\\right]\\) \\(rank(Q_c)=2\\)，满秩，系统完全能控 【例2】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} -1&amp;-4&amp;-2 \\\\ 0&amp;6&amp;-1 \\\\ 1&amp;7&amp;-1 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 2&amp;0 \\\\ 0&amp;1 \\\\ 1&amp;1 \\end{array}}\\right]u\\) \\(Q_c=\\left[ {\\begin{array}{*{20}{c}} B&amp;AB&amp;A^2 B \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} 2&amp;0&amp;-4&amp;*&amp;*&amp;* \\\\ 0&amp;1&amp;-1&amp;*&amp;*&amp;* \\\\ 1&amp;1&amp;1&amp;*&amp;*&amp;* \\end{array}}\\right]\\) \\(rank(Q_c)=3\\)，满秩，系统完全能控 注：前三列已经可以判定矩阵满秩，就可以判定整个矩阵满秩。 【例3】 图1 电路系统建模判定能控 \\(\\left\\{ {\\begin{array}{*{20}{c}} i_1(t)=C\\frac{dx_1}{dt} \\\\ i_2(t)=C\\frac{dx_2}{dt} \\\\ x_1+Ri_1=u(t) \\\\ x_2+Ri_2=u(t) \\end{array}} \\right. \\Rightarrow \\left\\{ {\\begin{array}{*{20}{c}} \\dot x_1=-\\frac{1}{RC}x_1+\\frac{1}{RC}u \\\\ \\dot x_2=-\\frac{1}{RC}x_2+\\frac{1}{RC}u \\end{array}} \\right. \\Rightarrow \\dot x=\\left[ {\\begin{array}{*{20}{c}} -\\frac{1}{RC}&amp;0 \\\\ 0&amp;-\\frac{1}{RC} \\end{array}} \\right]x+\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{RC} \\\\ \\frac{1}{RC} \\end{array}}\\right]u\\) \\(Q=\\left[ {\\begin{array}{*{20}{c}} B&amp;AB \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{RC}&amp;-\\frac{1}{(RC)^2} \\\\ \\frac{1}{RC}&amp;-\\frac{1}{(RC)^2} \\end{array}}\\right]\\) \\(rank(Q_c)=1&lt;2\\)，不满秩，系统不能控 PBH判据 \\(n\\)维线性时不变系统完全能控的充分必要条件 \\(rank[sI-A,B]=n\\)或\\(rank[\\lambda_i-A,B]=n\\)（\\(\\lambda_i\\)为特征值） 【例4】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} 4&amp;0 \\\\ 0&amp;-5 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 2 \\end{array}}\\right]u\\) \\([sI-A,B]=\\left[ {\\begin{array}{*{20}{c}} s-4&amp;0&amp;1 \\\\ 0&amp;s-5&amp;2 \\end{array}}\\right] \\quad \\lambda_1=4,\\lambda_2=-5\\) 对\\(\\lambda_1=4\\)有\\(rank[\\lambda_1-A,B]=2=n\\) 对\\(\\lambda_2=-5\\)有\\(rank[\\lambda_2-A,B]=2=n\\) 得到系统完全能控。 约当规范型 ①特征值互异的约当块最后一行对应的B阵中，该行元素不全为零。 ②特征值相同的各约当块最后一行对应的B阵各行向量线性无关。 【例5】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} {\\lambda _1}&amp;1&amp;{}&amp;{}&amp;{}&amp;{}&amp;{} \\\\{}&amp;{\\lambda _1}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{\\lambda _1}&amp;{}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{\\lambda _1}&amp;1&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{\\lambda _1}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{\\lambda _2}&amp;1 \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{\\lambda _2} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;0 \\\\ 1&amp;0&amp;0 \\\\ 0&amp;1&amp;0 \\\\ 1&amp;1&amp;2 \\\\ 0&amp;0&amp;1 \\\\ 1&amp;1&amp;1 \\\\ 0&amp;0&amp;1 \\end{array}} \\right]u\\begin{array}{*{20}{c}}{} \\\\ { \\leftarrow {b_{l11}}} \\\\ { \\leftarrow {b_{l12}}} \\\\ {} \\\\ { \\leftarrow {b_{l13}}} \\\\ {} \\\\ { \\leftarrow {b_{l21}}} \\end{array}\\) 该例子中系统能控的充分必要条件是向量组\\(\\{b_{l11}、b_{l12}、b_{l13}\\}\\)线性无关以及\\(\\{b_{l21}\\}\\)线性无关（即不为零）。 该例子中两矩阵行向量均线性无关⇒系统完全能控。 注：任意一个向量组里只要有零向量，就一定线性相关。另外复习一下约当块相关知识。 总结：找出同一特征值的所有不含元素“1”的行，其对应于C阵的行向量组成一个行向量组，若所有这样的行向量组均线性无关，则系统完全能控。 线性时不变系统的能观性判据 格拉姆矩阵判据 \\({W_0}[0,{t_1}]\\mathop = \\limits^\\Delta \\int_0^{t_1}{e^{ {A^T}t}{C^T}C{e^{At}}dt}\\)是非奇异，则系统完全能观测。 秩判据 对\\(n\\)维连续时间线性时不变系统，系统完全能观测的充分必要条件为能观测性判别矩阵 \\({Q_0} = \\left[ \\begin{gathered} C \\\\ CA \\\\ \\vdots \\\\ C{A^{n-1}} \\\\ \\end{gathered}\\right] \\quad rank(Q_0)=n\\) 【例6】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} -1&amp;-4&amp;-2 \\\\ 0&amp;6&amp;-1 \\\\ 1&amp;7&amp;-1 \\end{array}}\\right]x \\quad y=\\left[ {\\begin{array}{*{20}{c}} 0&amp;2&amp;1 \\\\ 1&amp;1&amp;0 \\end{array}}\\right]x\\) \\({Q_0} = \\left[ \\begin{gathered} C \\\\ CA \\\\ CA^2 \\\\ \\end{gathered}\\right] = \\left[ {\\begin{array}{*{20}{c}} 0&amp;2&amp;1 \\\\ 1&amp;1&amp;0 \\\\ 1&amp;19&amp;-3 \\\\ *&amp;*&amp;* \\\\ *&amp;*&amp;* \\\\ *&amp;*&amp;* \\end{array}}\\right] \\Rightarrow rank(Q_0)=3\\) 满秩，系统完全能观 PBH判据 \\(n\\)维连续时间线性时不变系统完全能观测的充分必要条件为 \\(rank\\left[ \\begin{gathered} SI-A \\\\ C \\\\ \\end{gathered} \\right] = n\\) 或\\(rank\\left[\\begin{gathered}{\\lambda_i}I - A \\hfill \\\\ C \\hfill \\\\ \\end{gathered}\\right] = n\\quad ,\\lambda_1,\\lambda_2, \\ldots \\lambda_n\\)为系统特征值 约当规范型 对\\(n\\)维连续时间线性时不变系统，若\\(A\\)为约当阵，系统完全能观测的充分必要条件是： 特征值互异的约当块第一列对应的\\(C\\)阵中，该列元素不全为零。 特征值相同的约当块第一列对应的\\(C\\)阵中，各列向量线性无关。 【例7】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} -2&amp;1&amp;{}&amp;{}&amp;{}&amp;{}&amp;{} \\\\{}&amp;-2&amp;{}&amp;{}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;-2&amp;{}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;-2&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;3&amp;1&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{}&amp;3&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{}&amp;3 \\end{array}} \\right]x \\quad y=\\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0&amp;0&amp;1&amp;0&amp;0 \\\\ 0&amp;0&amp;4&amp;0&amp;1&amp;0&amp;4 \\\\ 0&amp;0&amp;0&amp;7&amp;0&amp;0&amp;1 \\end{array}} \\right]x\\) 该例子中系统能观的充分必要条件是向量组\\(\\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0 \\\\ 0&amp;4&amp;0 \\\\ 0&amp;0&amp;7 \\end{array}}\\right]\\)与向量组\\(\\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\\\ 1&amp;4 \\\\ 0&amp;1 \\end{array}}\\right]\\)列向量线性无关。 该例子中两矩阵列向量均线性无关⇒系统完全能观。 总结：找出同一特征值的所有不含元素“1”的列，其对应于C阵的列向量组成一个列向量组，若所有这样的列向量组均线性无关，则系统完全能观。 能控规范型和能观测规范型 能控规范型 基于线性非奇异变换\\(\\bar X = {P^{ - 1}}X\\)导出 \\(\\dot {\\bar x} = { {\\bar A}_c} \\bar x + { {\\bar b}_c}u\\) \\(y = { {\\bar c}_c} \\bar x\\) \\({\\bar A_c} = {P^{ - 1}}AP = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;{}&amp;{}&amp;{} \\\\ 0&amp;0&amp;1&amp;{}&amp;{} \\\\ \\vdots &amp;{}&amp;{}&amp; \\ddots &amp;{} \\\\ 0&amp;{}&amp;{}&amp;{}&amp;1 \\\\ { - {\\alpha_0}}&amp;{ - {\\alpha_1}}&amp;{}&amp; \\cdots &amp;{ - {\\alpha_{n - 1}}} \\end{array}} \\right] \\quad {\\bar b_c} = {P^{ - 1}}b = \\left[ \\begin{gathered} 0 \\hfill \\\\ 0 \\hfill \\\\ \\vdots \\hfill \\\\ 1 \\hfill \\\\ \\end{gathered} \\right] \\quad {\\bar c_c} = cP = \\left[ { {\\beta _0},{\\beta _1}, \\cdots {\\beta _{n - 1}}} \\right]\\) \\(\\det (sI - A)\\mathop = \\limits^\\Delta {s^n} + {\\alpha _{n - 1}}{s^{n - 1}} + \\cdots + {\\alpha _1}s + {\\alpha _0}\\) \\(\\left\\{ \\begin{gathered}{\\beta _{n - 1}} = cb \\hfill \\\\{\\beta _{n - 2}} = cAb + {\\alpha_{n - 1}}cb \\hfill \\\\ \\cdots \\hfill \\\\{\\beta _1} = c{A^{n - 2}}b + {\\alpha_{n - 1}}c{A^{n - 3}}b + \\cdots + {\\alpha_2}cb \\hfill \\\\{\\beta _0} = c{A^{n - 1}}b + {\\alpha_{n - 1}}c{A^{n - 2}}b + \\cdots + {\\alpha_1}cb \\hfill \\\\\\end{gathered} \\right.\\) 【例8】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;2 \\\\ 2&amp;1&amp;1 \\\\ 1&amp;0&amp;-2 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 2 \\\\ 1 \\end{array}}\\right]u \\quad y=\\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;1 \\end{array}}\\right]x\\) \\(\\det (sI - A) = s^3-5s+4 \\quad \\Rightarrow \\quad \\alpha_0=4,\\alpha_1=-5,\\alpha_2=0\\) \\(\\beta_2=cb=3\\) \\(\\beta_1=cAb+\\alpha_2 cb=4\\) \\(\\beta_0=cA^2 b+\\alpha_2 cAb+\\alpha_1 cb=0\\) \\(\\Rightarrow \\dot {\\bar x} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ -4&amp;5&amp;0 \\end{array}}\\right]\\bar x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ 1 \\end{array}}\\right]u \\quad y=\\left[ {\\begin{array}{*{20}{c}} 0&amp;4&amp;3 \\end{array}}\\right]\\bar x\\) 能观测规范型 基于线性非奇异变换\\(\\hat X = QX\\)导出 \\(\\dot {\\hat x} = { {\\hat A}_o}\\hat x + { {\\hat b}_o}u\\) \\(y = { {\\hat c}_o}\\hat x\\) \\(\\hat A_o = QA{Q^{ - 1}} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;\\cdots&amp;0&amp;-{\\alpha_0} \\\\ 1&amp;\\cdots&amp;0&amp;-{\\alpha_1} \\\\ \\vdots&amp;\\ddots&amp;\\vdots&amp;\\vdots \\\\ 0&amp;\\cdots&amp;1&amp;-{\\alpha_{n-1}} \\end{array}}\\right] \\quad \\hat b_o = Qb = \\left[ {\\begin{array}{*{20}{c}} {\\beta _0} \\\\ {\\beta _1} \\\\ \\vdots \\\\ {\\beta _{n - 1}} \\end{array}} \\right] \\quad \\hat c_o = cQ^{-1} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;\\cdots&amp;0&amp;1 \\end{array}} \\right]\\) 【例9】求【例8】的能观测规范型： \\(\\dot {\\hat x} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;-4 \\\\ 1&amp;0&amp;5 \\\\ 0&amp;1&amp;0 \\end{array}}\\right]\\hat x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 4 \\\\ 3 \\end{array}}\\right]u \\quad y=\\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1 \\end{array}}\\right]\\hat x\\) 连续时间线性时不变系统的结构分解 对于不完全能控或能观的系统，可以将其分解为能控/能观子系统与不能控/不能观子系统。 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"电磁场数值分析与计算05-有限元方法介绍","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算05-有限元方法介绍","date":"2023-10-14T11:02:04.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算05-有限元方法介绍/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9705-%E6%9C%89%E9%99%90%E5%85%83%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 引言 对于实际工程问题，可以根据相关的数学物理定律建立模型，列写PDE偏微分方程求其解析解（精确解），但复杂问题的解析解的求解十分困难。 有限元法是用于获得数学物理模型近似解（数值解）的数值方法。有限元法于二十世纪四十年代首次提出，用于求解飞机涉设计相关问题。 边值问题指有边界条件的定解问题，其形式为\\(\\delta \\Phi = f\\)。 其中\\(\\Phi\\)为未知函数，\\(f\\)为激励，\\(\\delta\\)为微分算子。 对于电磁场实际工程问题，其涉及的方程式为 \\(\\left\\{ {\\begin{array}{*{20}{c}} {\\bf{\\nabla}}^2 \\Phi = -\\frac{\\rho}{\\varepsilon} &amp; 电场 \\\\ {\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = \\mu {\\bf{J}}&amp; 磁场 \\end{array}} \\right.\\) 常见的有限元方法包括里兹(Ritz)变分法与伽辽金(Galerkin)有限元法，本课介绍的是伽辽金有限元法。 伽辽金有限元法 伽辽金法于1915年提出，又被称作加权余量法(Weighted residual method)。 选取有限多项式函数（基函数/形函数）将其叠加，再要求结果在求解域内及边界上的加权积分满足原方程，便可以求得一组易于求解的线性代数方程，且自然边界条件能够自动满足。 假设\\(\\tilde \\Phi\\)为\\(\\delta \\Phi = f\\)的一个近似解，即\\(\\delta \\tilde \\Phi \\approx f\\)，将其代入\\(\\delta \\Phi = f\\)的方程中，必然会产生一个非零的余量(残差,residual error)\\(r=\\delta \\tilde \\Phi - f \\ne 0\\) 对于\\(\\tilde \\Phi\\)的最好近似即为在求解区域的每一个点上使得\\(r\\)为最小值 \\(R_i=\\int_\\Omega{w_i(\\delta \\tilde \\Phi - f)d\\Omega}\\) 其中\\(w_i\\)为选定的权重函数(weighting function)，权重函数的表达形式与近似解一致。 \\(R_i\\)为权重余量的积分。 【举例】求解两个平行板之间的静态电位\\(\\Phi\\) 上极板\\(x=1 \\quad \\Phi=1V\\)；下极板\\(x=0 \\quad \\Phi=0V\\) 图1 平行板电容器 两个平行板电容器之间填充介质，介电常数为\\(\\varepsilon F/m\\)，电荷密度\\(\\rho(x)=-(x+1)\\varepsilon C/m^3\\) 该问题为静电场问题，故列出控制方程\\({\\bf{\\nabla}}^2 \\Phi = -\\frac{\\rho}{\\varepsilon}\\)，该方程为静电场电位的泊松方程。 由于本问题只涉及\\(x\\)轴一个维度，故方程可写为\\(\\frac{\\partial^2 \\Phi}{\\partial x^2}=-\\frac{\\rho}{\\varepsilon}\\) 代入题干条件及边界条件，得到待求解的方程组为 \\[\\left\\{ {\\begin{array}{*{20}{c}} \\frac{\\partial^2 \\Phi}{\\partial x^2} = x+1 \\quad (0&lt;x&lt;1) \\\\ \\Phi |_{x=0}=0 \\\\ \\Phi |_{x=1}=1 \\end{array}} \\right.\\] 【解法1】列方程求其精确解 \\(\\Phi &#39;&#39; (x)=x+1 \\Rightarrow \\Phi &#39; (x)=\\frac{1}{2}x^2+x+C_1 \\Rightarrow \\Phi (x)=\\frac{1}{6}x^3+\\frac{1}{2}x^2+C_1 x+C_2\\) \\(\\Phi (0)=C_2=0 \\quad \\Phi (1)=\\frac{2}{3}+C_1+C_2=1 \\Rightarrow C_1=\\frac{1}{3} \\quad C_2=0\\) 解得\\(\\Phi (x)=\\frac{1}{6}x^3+\\frac{1}{2}x^2+\\frac{1}{3}x\\) 【解法2】伽辽金有限元法 加权余量公式\\(\\int_0^1{w_i(\\frac{d^2 \\Phi}{d x^2} - x-1)dx=0}\\) 注：只有\\(x\\)一个维度，因此可以将\\(\\frac{\\partial^2 \\Phi}{\\partial x^2}\\)写作\\(\\frac{d^2 \\Phi}{d x^2}\\) 设\\(\\tilde \\Phi\\)的展开式为\\(C_1+C_2 x+C_3 x^2+C_4 x^3\\) 由\\(\\Phi(0)=0 \\Rightarrow C_1=0\\) 由\\(\\Phi(1)=1 \\quad C_1=0 \\Rightarrow C_2+C_3+C_4=1 \\Rightarrow C_2=1-C_3-C_4\\) \\(\\Rightarrow \\tilde \\Phi = (1-C_3-C_4)x+C_3 x^2+C_4 x^3=x+C_3(x^2-x)+C_4(x^3-x)\\) \\(\\frac{d^2 \\Phi}{d x^2} - x-1=2C_3+6C_4 x-x-1\\) 假设\\(w_1=x^2-x\\)，\\(\\int_0^1{(x^2-x)(2C_3+6C_4 x-x-1)dx=0} \\Rightarrow \\frac{1}{3}C_3+\\frac{1}{2}C_4-\\frac{1}{4}=0\\) 假设\\(w_2=x^3-x\\)，\\(\\int_0^1{(x^3-x)(2C_3+6C_4 x-x-1)dx=0} \\Rightarrow \\frac{1}{2}C_3+\\frac{4}{3}C_4-\\frac{23}{60}=0\\) \\(\\Rightarrow C_3=\\frac{1}{2} \\quad C_4=\\frac{1}{6} \\quad C_2=1-C_3-C_4=\\frac{1}{3}\\) \\(\\Rightarrow \\tilde \\Phi = \\frac{1}{3}x+\\frac{1}{2}x^2+\\frac{1}{6}x^3\\) 本例子的数值解与精确解一样，是因为假设的多项式形式一致，区域简单。 子区域展开法 对于控制方程复杂，区域复杂的实际工程问题，伽辽金法不能很好的应对，最好将整个区域分成若干个子区域逐一分析求解，即子区域展开法。 将整个区域分成\\(n\\)个子区域，区间端点为\\(x_1,x_2,\\cdots,x_n,x_{n+1}\\)，对应端点上的函数值为\\(\\Phi_1,\\Phi_2,\\cdots,\\Phi_n,\\Phi_{n+1}\\)，其中\\(\\Phi_1\\)与\\(\\Phi_{n+1}\\)值已知。 \\(n\\)个子区域的区间为\\(x_i \\leqslant x_{i+1},\\quad i=1,2,3,\\cdots,n\\) 假设在每一个区域中内物理量\\(\\Phi\\)呈线性变化，那么对第\\(i\\)个区域的两个端点\\((x_i,\\Phi_i)\\)与\\(x_{i+1},\\Phi_{i+1}\\)进行一阶插值，得到该子区域的基函数为 \\(\\tilde \\Phi (x)=\\Phi_i\\frac{x_{i+1}-x}{x_{i+1}-x_i}+\\Phi_{i+1}\\frac{x-x_i}{x_{i+1}-x_i}\\) 其中\\(\\tilde \\Phi (x_i)=\\Phi_i \\quad \\tilde \\Phi (x_{i+1})=\\Phi_{i+1}\\)，两个端点的函数值已知。 该子区域的基函数图像就是两个端点\\((x_i,\\Phi_i)\\)与\\((x_{i+1},\\Phi_{i+1})\\)构成的一条线段。 图2 子区域的基函数 该子区域的权重函数为 \\(w_i=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{x-x_{i-1}}{x_i-x_{i-1}} &amp; x_{i-1}\\leqslant x \\leqslant x_i \\\\ \\frac{x_{i+1}-x}{x_{i+1}-x_i} &amp; x_i\\leqslant x \\leqslant x_{i+1} \\end{array}} \\right.\\) 当\\(x=x_i\\)时，\\(w_i=1,\\Phi=\\Phi_i\\)；当\\(x=x_{i-1}\\)或\\(x=x_{i+1}\\)时，\\(w_i=0\\)。 图3 子区域的权重函数 【解法3】子区域展开法 将原有区域等举例拆分为3部分，得到四个端点\\(x_1=0,x_2=\\frac{1}{3},x_3=\\frac{2}{3},x_4=1\\)，设对应的函数值为\\(\\Phi_1,\\Phi_2,\\Phi_3,\\Phi_4\\)，其中已知\\(\\Phi_0=0,\\Phi_4=1\\) 图4 子区域的拆分 对加权余量公式进行整理： \\(\\int_{x_{i-1}}^{x_{i+1}}{w_i(\\frac{d^2 \\tilde \\Phi}{d x^2} - x-1)dx}=\\int_{x_{i-1}}^{x_{i+1}}{w_i\\frac{d^2 \\tilde \\Phi}{d x^2}dx}-\\int_{x_{i-1}}^{x_{i+1}}{w_i(x+1)dx}=0\\) 其中由分部积分知\\(\\int_{x_{i-1}}^{x_{i+1}}{w_i\\frac{d^2 \\tilde \\Phi}{d x^2}dx}=\\left. w_i\\frac{d\\tilde \\Phi}{dx}\\right|_{x=x_{i-1}}^{x=x_{i+1}}-\\int_{x_{i-1}}^{x_{i+1}}{\\frac{d w_i}{d x}\\frac{d \\tilde \\Phi}{dx}dx}=-\\int_{x_{i-1}}^{x_{i+1}}{\\frac{d w_i}{d x}\\frac{d \\tilde \\Phi}{dx}dx}\\) \\(\\Rightarrow \\int_{x_{i-1}}^{x_{i+1}}{\\frac{d w_i}{d x}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_{x_{i-1}}^{x_{i+1}}{w_i(x+1)dx}=0\\) 权重函数：\\(w_2=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{x-x_1}{x_2-x_1} &amp; x_1\\leqslant x \\leqslant x_2 \\\\ \\frac{x_3-x}{x_3-x_2} &amp; x_2\\leqslant x \\leqslant x_3 \\end{array}} \\right. \\quad w_3=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{x-x_2}{x_3-x_2} &amp; x_2\\leqslant x \\leqslant x_3 \\\\ \\frac{x_4-x}{x_4-x_3} &amp; x_3\\leqslant x \\leqslant x_4 \\end{array}} \\right.\\) \\(\\Rightarrow \\frac{dw_2}{dx}=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{1}{x_2-x_1} &amp; x_1\\leqslant x \\leqslant x_2 \\\\ -\\frac{1}{x_3-x_2} &amp; x_2\\leqslant x \\leqslant x_3 \\end{array}} \\right. \\quad \\frac{dw_3}{dx}=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{1}{x_3-x_2} &amp; x_2\\leqslant x \\leqslant x_3 \\\\ -\\frac{1}{x_4-x_3} &amp; x_3\\leqslant x \\leqslant x_4 \\end{array}} \\right.\\) 基函数： \\(x_1\\leqslant x \\leqslant x_2 \\quad \\tilde \\Phi (x)=\\Phi_1\\frac{x_2-x}{x_2-x_1}+\\Phi_2\\frac{x-x_1}{x_2-x_1} \\quad \\Rightarrow \\quad \\frac{d\\tilde \\Phi}{dx}=-\\frac{\\Phi_1}{x_2-x_1}+\\frac{\\Phi_2}{x_2-x_1}\\) \\(x_2\\leqslant x \\leqslant x_3 \\quad \\tilde \\Phi (x)=\\Phi_2\\frac{x_3-x}{x_3-x_2}+\\Phi_3\\frac{x-x_2}{x_3-x_2} \\quad \\Rightarrow \\quad \\frac{d\\tilde \\Phi}{dx}=-\\frac{\\Phi_2}{x_3-x_2}+\\frac{\\Phi_3}{x_3-x_2}\\) \\(x_3\\leqslant x \\leqslant x_4 \\quad \\tilde \\Phi (x)=\\Phi_3\\frac{x_4-x}{x_4-x_3}+\\Phi_4\\frac{x-x_3}{x_4-x_3} \\quad \\Rightarrow \\quad \\frac{d\\tilde \\Phi}{dx}=-\\frac{\\Phi_3}{x_4-x_3}+\\frac{\\Phi_4}{x_4-x_3}\\) 当\\(x=x_2\\)时，分析\\(w_2\\)： \\(\\int_0^{\\frac{1}{3}}{\\frac{d w_2}{dx}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{\\frac{d w_2}{dx}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_0^{\\frac{1}{3}}{w_2(x+1)dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{w_2(x+1)dx}=0\\) \\(\\Rightarrow \\int_0^{\\frac{1}{3}}{3(-3\\Phi_1+3\\Phi_2)dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{-3(-3\\Phi_2+3\\Phi_3)dx}+\\int_0^{\\frac{1}{3}}{3x(x+1)dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{3(\\frac{2}{3}-x)(x+1)dx}=0\\) \\(\\Rightarrow (-3\\Phi_1+3\\Phi_2)+(3\\Phi_2-3\\Phi_3)+\\left.(x^3+\\frac{3}{2}x^2)\\right|_0^\\frac{1}{3}+\\left.(-x^3-\\frac{1}{2}x^2+2x)\\right|_\\frac{1}{3}^\\frac{2}{3}=0\\) \\(\\Rightarrow 6\\Phi_2-3\\Phi_3+\\frac{4}{9}=0\\)① 当\\(x=x_3\\)时，分析\\(w_3\\)： \\(\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{\\frac{d w_3}{dx}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_{\\frac{2}{3}}^1{\\frac{d w_3}{dx}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{w_3(x+1)dx}+\\int_{\\frac{2}{3}}^1{w_3(x+1)dx}=0\\) \\(\\Rightarrow \\int_{\\frac{1}{3}}^{\\frac{2}{3}}{3(-3\\Phi_2+3\\Phi_3)dx}+\\int_{\\frac{2}{3}}^1{-3(-3\\Phi_3+3\\Phi_4)dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{(3x-1)(x+1)dx}+\\int_{\\frac{2}{3}}^1{3(1-x)(x+1)dx}=0\\) \\(\\Rightarrow (-3\\Phi_2+3\\Phi_3)+(3\\Phi_3-3\\Phi_4)+\\left.(x^3+x^2-x)\\right|_\\frac{1}{3}^\\frac{2}{3}+\\left.(3-x^3)\\right|_\\frac{1}{3}^\\frac{2}{3}=0\\) \\(\\Rightarrow 3\\Phi_2-6\\Phi_3+\\frac{22}{9}=0\\)② 由①②\\(\\Rightarrow \\Phi_2=\\frac{14}{81} \\quad \\Phi_3=\\frac{40}{81}\\) 所得函数\\(\\tilde \\Phi\\)的图像为依次过端点\\((0,0),(\\frac{1}{3},\\frac{14}{81}),(\\frac{2}{3},\\frac{40}{81}),(1,1)\\)的线段的集合。 增加子区域的数目和选用高阶权函数可以提高所得函数图像的精确度。 总结 伽辽金法： ①测试函数是基函数\\((1,x,x^2,x^3)\\)的线性组合。 ②可在全域表示，近似真实解，满足边界条件。 子区域展开法： ①测试函数也是基函数的线性组合。 ②仅在子区域中表示，再组合成整个区域。 ③在有限元中，测试函数是定义在子区域中的一系列基函数的线性组合。如果子区域足够小的话，定义在子区域的基函数可以很简单。 商业软件分析过程 ①前处理(preprocess) 模型简化⇒构建模型⇒添加材料⇒施加激励⇒边界条件⇒剖分(meshing) 其中高亮部分是有限元的离散化过程 ②求解设置 ③后处理 有限元法的步骤 区域离散、插值函数的选择、系统方程的组装与求解 插值方法包括线性插值、二次插值、Cubic插值、Spline插值等。 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"线性系统理论03-线性系统的运动分析","slug":"课程笔记/线性系统理论/线性系统理论03-线性系统的运动分析","date":"2023-10-12T07:54:20.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论03-线性系统的运动分析/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA03-%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%BF%90%E5%8A%A8%E5%88%86%E6%9E%90/","excerpt":"线性系统理论课程笔记 对应教材内容第三章 线性系统的运动分析的内容 引言 运动分析的实质","text":"线性系统理论课程笔记 对应教材内容第三章 线性系统的运动分析的内容 引言 运动分析的实质 \\(\\dot x = A(t)x + B(t)u,\\quad x({t_0}) = {x_0}\\) \\(\\dot x = Ax + Bu,\\quad x(0) = {x_0},\\quad t \\geqslant 0\\) 从数学模型出发，定量地和精确地定出系统运动的变化规律，为系统的实际运动过程作出估计。 给定初始状态\\(x_0\\)和外输入作用\\(u\\)，求解出状态方程的解。 解的存在性和唯一性 ①系统矩阵\\(A(t)\\)的各个元\\(a_{ij}(t)\\)在时间区间\\([t_0, t_\\alpha]\\)上为绝对可积，即 \\(\\int_{t_0}^{t_\\alpha}{|{a_{ij}}(t)|dt &lt; \\infty ,\\quad \\quad i,j = 1,2, \\cdots n}\\) ②输入矩阵\\(B(t)\\)的各个元\\(b_{ij}(t)\\)在时间区间\\([t_0, t_\\alpha]\\)上为平方可积，即 \\(\\int_{t_0}^{t_\\alpha }{ { {[{b_{ik}}(t)]}^2}dt &lt; \\infty ,\\quad \\quad i = 1,2, \\cdots n,\\quad \\;k = 1,2 \\cdots p}\\) ③输入\\(u(t)\\)的各个元\\(u_k(t)\\)在时间区间\\([t_0, t_\\alpha]\\)上为平方可积，即 \\(\\int_{t_0}^{t_\\alpha}{ { {[{u_k}(t)]}^2}dt &lt; \\infty ,\\quad \\quad k = 1,2 \\cdots p}\\) 条件②③可一步合并为要求\\(B(t)u(t)\\)的各元在时间区间\\([t_0, t_\\alpha]\\)上绝对可积，即 \\(\\int_{t_0}^{t_\\alpha}{ { {[{b_{ik}}(t){u_k}(t)]}^2}dt &lt; \\infty ,\\quad \\quad k = 1,2 \\cdots p}\\) 零输入响应和零初始状态响应 线性系统满足叠加原理。在初始状态和输入向量作用下的运动，分解为两个单独的分运动。 \\(x(t)=x_{ou}(t)+x_{ox}(t)\\) ①自治系统（零输入响应）\\(\\dot x=Ax \\quad x({t_0}) = {x_0}\\) ②受迫系统（零初始状态响应）\\(\\dot x = Ax + Bu \\quad x(t_0) = x_0\\) 线性定常系统的运动分析 零输入响应 自治系统状态方程\\(\\dot x=Ax \\quad x({t_0}) = {x_0}\\) \\(sx-x_0=Ax \\Rightarrow sx-Ax=x_0 \\Rightarrow (sI-A)x=x_0 \\Rightarrow x=(sI-A)^{-1}x_0=e^{At}x_0\\) 结论：系统自治状态方程的解\\(x_{ou}(t)=e^{At}x_0 \\quad (t \\geqslant 0)\\) 其中\\(e^{At}\\)为矩阵指数函数，可以展开为 \\(e^{At}=I + At + \\frac{1}{2!}{A^2}{t^2} + \\cdots = \\sum\\limits_{k=0}^\\infty{\\frac{1}{k!}{A^k}{t^k}}\\) 渐近稳定的充要条件： 对于线性定常系统，零输入响应最终趋向于系统平衡状态\\(x=0\\) 当且仅当\\(e^{At}\\)最终趋于0，即\\(\\mathop {\\lim }\\limits_{t \\to \\infty } e^{At} = 0\\)。 矩阵指数函数的性质 ①\\(\\mathop {\\lim }\\limits_{t \\to 0} {e^{At}} = I\\) ②\\({e^{A(t + \\tau )}} = {e^{At}} \\cdot {e^{A\\tau }} = {e^{A\\tau }} \\cdot {e^{At}}\\) ③\\(e^{At}\\)总是非奇异的，且其逆为：\\({({e^{At}})^{ - 1}} = {e^{ - At}}\\) ④设\\(A\\)和\\(F\\)为两个同维可交换方阵，即\\(AF = FA\\)，则有\\({e^{(A + F)t}} = {e^{At}}{e^{Ft}} = {e^{Ft}}{e^{At}}\\) ⑤\\(\\frac{d}{dt}{e^{At}} = A{e^{At}} = {e^{At}}A\\) ⑥\\(\\frac{d}{dt}{e^{ - At}} = - A{e^{ - At}} = - {e^{ - At}}A\\) ⑦\\({({e^{At}})^m} = {e^{A(mt)}},\\quad m = 0,1,2, \\cdots\\) 矩阵指数函数的求解 定义法 \\(e^{At}=I + At + \\frac{1}{2!}{A^2}{t^2} + \\cdots = \\sum\\limits_{k=0}^\\infty{\\frac{1}{k!}{A^k}{t^k}}\\) 特征值法 若\\(\\bar A = diag(\\begin{array}{*{20}{c}}{\\lambda _1}&amp;{\\lambda _2}&amp; \\cdots &amp;{ {\\lambda _n})} \\end{array}\\)，则有\\({e^{\\bar At}} = diag(\\begin{array}{*{20}{c}}{e^{\\lambda _1 t}}&amp;{e^{\\lambda _2 t}}&amp; \\cdots &amp;{e^{\\lambda _n t})}\\end{array}\\) 且\\(\\bar A = {P^{ - 1}}AP \\quad A = P\\bar A{P^{ - 1}}\\)，则有\\({e^{At}} = P{e^{\\bar At}}{P^{ - 1}}\\) 【例1】\\(A = \\left[ {\\begin{array}{*{20}{c}}0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ -6&amp;-11&amp;-6 \\end{array}} \\right]\\) 由\\(|\\lambda I-A|=\\lambda^3+6\\lambda^2+11\\lambda+6=(\\lambda+1)(\\lambda+2)(\\lambda+3)=0 \\quad \\Rightarrow \\quad \\lambda_1=1,\\lambda_2=2,\\lambda_3=3\\) 由等式\\(\\lambda_i v_i=Av_i\\)，解方程组\\(|\\lambda_i I-A|v_i=0\\)，得到特征向量 \\[{\\begin{array}{*{20}{c}} {v_1=\\left[ {\\begin{array}{*{20}{c}} 1\\\\-1\\\\1 \\end{array}}\\right]}&amp;{v_2=\\left[ {\\begin{array}{*{20}{c}} 1\\\\-2\\\\4 \\end{array}}\\right]}&amp;{v_3=\\left[ {\\begin{array}{*{20}{c}} 1\\\\-3\\\\9 \\end{array}}\\right]} \\end{array}}\\] 得到\\(P =[v_1,v_2,v_3] = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;1 \\\\ -1&amp;-2&amp;-3 \\\\ 1&amp;4&amp;9\\end{array}} \\right]\\) 该式构成范德蒙德行列式，其行列式值\\(|P|=[(-2)-(-1)][(-3)-(-2)][(-3)-(-1)]=-2\\) 求其逆矩阵\\(P^{-1} = \\frac{P^*}{|P|}=\\frac{1}{2}\\left[ {\\begin{array}{*{20}{c}}6&amp;5&amp;1 \\\\ -6&amp;-8&amp;-2 \\\\ 2&amp;3&amp;1\\end{array}} \\right]\\) 则有\\(\\bar A = {P^{ - 1}}AP = \\left[ {\\begin{array}{*{20}{c}}{ - 1}&amp;0&amp;0 \\\\ 0&amp;{ - 2}&amp;0 \\\\ 0&amp;0&amp;{ - 3} \\end{array}} \\right]\\) 由\\(\\bar A = {P^{ - 1}}AP \\quad \\Rightarrow \\quad A = P\\bar A{P^{ - 1}}\\)计算出 \\({e^{At}} = P{e^{\\bar At}}{P^{ - 1}} = P\\left[ {\\begin{array}{*{20}{c}} e^{-t}&amp;0&amp;0 \\\\ 0&amp;e^{-2t}&amp;0 \\\\ 0&amp;0&amp;e^{-3t} \\end{array}} \\right]{P^{ - 1}}\\) \\(= \\left[ {\\begin{array}{*{20}{c}}{3{e^{ - t}} - 3{e^{ - 2t}} + {e^{ - 3t}}}&amp;{\\frac{5}{2}{e^{ - t}} - 4{e^{ - 2t}} + \\frac{3}{2}{e^{ - 3t}}}&amp;{\\frac{1}{2}{e^{ - t}} - {e^{ - 2t}} + \\frac{1}{2}{e^{ - 3t}}} \\\\ { - 3{e^{ - t}} + 6{e^{ - 2t}} - 3{e^{ - 3t}}}&amp;{ - \\frac{5}{2}{e^{ - t}} + 8{e^{ - 2t}} - \\frac{9}{2}{e^{ - 3t}}}&amp;{ - \\frac{1}{2}{e^{ - t}} + 2{e^{ - 2t}} - \\frac{3}{2}{e^{ - 3t}}} \\\\ {3{e^{ - t}} - 12{e^{ - 2t}} + 9{e^{ - 3t}}}&amp;{\\frac{5}{2}{e^{ - t}} - 16{e^{ - 2t}} + \\frac27{2}{e^{ - 3t}}}&amp;{\\frac{1}{2}{e^{ - t}} - 4{e^{ - 2t}} + \\frac{9}{2}{e^{ - 3t}}} \\end{array}} \\right]\\) 注：其中\\(P^*\\)为\\(P\\)的伴随矩阵 伴随矩阵公式\\(A^*=\\left[ {\\begin{array}{*{20}{c}}A_{11}&amp;A_{21}&amp;A_{31} \\\\ A_{12}&amp;A_{22}&amp;A_{32} \\\\ A_{13}&amp;A_{23}&amp;A_{33}\\end{array}} \\right]\\) 其中\\(A_{ij}=(-1)^{i+j}M_{ij}\\)为元素\\(a_{ij}\\)的代数余子式。 约当阵的情况： 若\\(\\bar A = J = diag(\\begin{array}{*{20}{c}}{J_1}&amp;{J_2}&amp; \\cdots &amp;{J_l}) \\end{array}\\) 其中\\({J_i} = \\left[ {\\begin{array}{*{20}{c}}{\\lambda _i}&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ 0&amp;{\\lambda _i}&amp;1&amp; \\cdots &amp;0 \\\\ 0&amp;0&amp;{\\lambda _i}&amp; \\cdots &amp;0 \\\\ {}&amp;{}&amp; \\cdots &amp;{}&amp;{} \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;{\\lambda _i} \\end{array}} \\right]\\) 则\\({e^{\\bar At}} = diag(\\begin{array}{*{20}{c}}e^{J_1}t&amp;e^{J_2}t&amp; \\cdots &amp;e^{J_l}t) \\end{array}\\) 其中\\({e^{ {J_i}t}} = \\left[ {\\begin{array}{*{20}{c}}{ {e^{ {\\lambda _i}t}}}&amp;{t{e^{ {\\lambda_i}t}}}&amp;{\\frac{1}{2!} {t^2}{e^{ {\\lambda_i}t}}}&amp;\\cdots &amp;{} \\\\ 0&amp;{ {e^{ {\\lambda _i}t}}}&amp;{t{e^{ {\\lambda _i}t}}}&amp; \\cdots &amp;{} \\\\ 0&amp;0&amp;{ {e^{ {\\lambda _i}t}}}&amp; \\cdots &amp;{} \\\\ {}&amp;{}&amp; \\cdots &amp;{}&amp;{} \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;{ {e^{ {\\lambda _i}t}}} \\end{array}} \\right]\\) 有限项展开法 设\\(\\lambda_1,\\lambda_2,\\cdots,\\lambda_n\\)为\\(A\\)的\\(n\\)个互异特征值 \\({e^{At}} = {\\alpha _0}I + {\\alpha _1}A + {\\alpha _2}{A^2} + \\cdots {\\alpha _{n - 1}}{A^{n - 1}}\\) \\(\\left\\{ \\begin{gathered}{e^{ {\\lambda _1}t}} = {\\alpha _0} + {\\alpha _1}{\\lambda _1} + {\\alpha _2}{\\lambda _1}^2 + \\cdots {\\alpha _{n - 1}}{\\lambda _1}^{n - 1} \\hfill \\\\{e^{ {\\lambda _2}t}} = {\\alpha _0} + {\\alpha _1}{\\lambda _2} + {\\alpha _2}{\\lambda _2}^2 + \\cdots {\\alpha _{n - 1}}{\\lambda _2}^{n - 1} \\hfill \\\\ \\cdots \\hfill \\\\{e^{ {\\lambda _n}t}} = {\\alpha _0} + {\\alpha _1}{\\lambda _n} + {\\alpha _2}{\\lambda _n}^2 + \\cdots {\\alpha _{n - 1}}{\\lambda _n}^{n - 1} \\hfill \\\\ \\end{gathered} \\right.\\) 若\\(\\lambda_i\\)为\\(l\\)重特征值，则相应的\\(l\\)个方程为 \\(\\left\\{ \\begin{gathered} {e^{ {\\lambda _i}t}} = {\\alpha _0} + {\\alpha _1}{\\lambda _i} + {\\alpha _2}{\\lambda _i}^2 + \\cdots + {\\alpha _{n - 1}}{\\lambda _i}^{n - 1} \\hfill \\\\ \\frac{ {\\text{d}}}{ { {\\text{d}}{\\lambda _i}}}{e^{ {\\lambda _i}t}} = {\\alpha _1} + 2{\\alpha _2}{\\lambda _i} + \\cdots + (n - 1){\\alpha _{n - 1}}{\\lambda _i}^{n - 2} \\hfill \\\\ \\cdots \\hfill \\\\ \\frac{ { { {\\text{d}}^{(l - 1)}}}}{ { {\\text{d}}{\\lambda _i}^{(l - 1)}}}{e^{ {\\lambda _i}t}} = {\\alpha _{l - 1}}(l - 1)! + {\\alpha _l}l!{\\lambda _i} + \\cdots + {\\alpha _{n - 1}}\\frac{ {(n - 1)!}}{ {(n - l)!}}{\\lambda _i}^{n - l} \\hfill \\\\ \\end{gathered} \\right.\\) 【例2】\\(A = \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;-2 \\\\ 0&amp;1&amp;0 \\\\ 1&amp;0&amp;3 \\end{array}}\\right]\\) \\(|\\lambda I - A| = 0 \\Rightarrow {(\\lambda - 1)^2}(\\lambda - 2) = 0\\) \\(\\Rightarrow {\\lambda_1,2} = 1,{\\lambda_3} = 2\\) 令\\({e^{At}} = {\\alpha _0}I + {\\alpha _1}A + {\\alpha _2}{A^2}\\) 列出方程组\\(\\left\\{ \\begin{gathered}{e^t} = {\\alpha _0} + {\\alpha _1} + {\\alpha _2} \\hfill \\\\t{e^t} = {\\alpha _1} + 2{\\alpha _2} \\hfill \\\\{e^{2t}} = {\\alpha _0} + 2{\\alpha _1} + 4{\\alpha _2} \\hfill \\\\ \\end{gathered} \\right.\\) 解得\\(\\left\\{ \\begin{gathered}{\\alpha _0} = - 2t{e^t} + {e^{2t}} \\hfill \\\\{\\alpha _1} = 3t{e^t} + 2{e^t} - 2{e^{2t}} \\hfill \\\\{\\alpha _2} = - t{e^t} - {e^t} + {e^{2t}} \\hfill \\\\ \\end{gathered} \\right.\\) 进而得到\\({e^{At}} = {\\alpha _0}I + {\\alpha _1}A + {\\alpha _2}{A^2}\\) \\(= ( - 2t{e^t} + {e^{2t}})I + (3t{e^t} + 2{e^t} - 2{e^{2t}})A + ( - t{e^t} - {e^t} + {e^{2t}}){A^2}\\) \\(= \\left[ {\\begin{array}{*{20}{c}}{2{e^t} - {e^{2t}}}&amp;0&amp;{2{e^t} - 2{e^{2t}}} \\\\ 0&amp;{ {e^t}}&amp;0 \\\\ { - {e^t} + {e^{2t}}}&amp;0&amp;{ - {e^t} + 2{e^{2t}}} \\end{array}} \\right]\\) 预解矩阵法 \\({e^{At}} = {L^{ - 1}}[{\\left( {sI - A} \\right)^{ - 1}}]\\) 【例3】\\(A = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1 \\\\ -2&amp;-3 \\end{array}}\\right]\\) \\((sI-A)^{-1}=\\left[ {\\begin{array}{*{20}{c}} s&amp;-1 \\\\ 2&amp;s+3 \\end{array}}\\right]^{-1}=\\left[ {\\begin{array}{*{20}{c}} \\frac{s+3}{(s+1)(s+2)}&amp;\\frac{1}{(s+1)(s+2)} \\\\ \\frac{-2}{(s+1)(s+2)}&amp;\\frac{s}{(s+1)(s+2)} \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} \\frac{2}{s+1}-\\frac{1}{s+2}&amp;\\frac{1}{s+1}-\\frac{1}{s+2} \\\\ -\\frac{2}{s+1}+\\frac{2}{s+2}&amp;-\\frac{1}{s+1}+\\frac{2}{s+2} \\end{array}}\\right]\\) \\(L^{-1}[(sI-A)^{-1}]=\\left[ {\\begin{array}{*{20}{c}} 2e^{-t}-e^{-2t}&amp;e^{-t}-e^{-2t} \\\\ -2e^{-t}+2e^{-2t}&amp;-e^{-t}+2e^{-2t} \\end{array}}\\right]\\) 零初始状态响应 线性定常系统的零初始状态响应\\(x_{ox}(t)\\)具有以下表达式： \\(x_{ox}(t)=\\int_0^t { {e^{A(t - \\tau )}}Bu(\\tau ){\\text{d}}\\tau}\\) 【例4】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1 \\\\ -2&amp;-3 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 1 \\end{array}}\\right]u,\\quad t\\geqslant 0\\) 其中，初始状态\\(x_1(0)=x_2(0)=0\\)，输入\\(u(t)=I(t)\\) 由【例3】知\\(e^{A(t-\\tau)}=\\left[ {\\begin{array}{*{20}{c}} 2e^{-(t-\\tau)}-e^{-2(t-\\tau)}&amp;e^{-(t-\\tau)}-e^{-2(t-\\tau)} \\\\ -2e^{-(t-\\tau)}+2e^{-2(t-\\tau)}&amp;-e^{-(t-\\tau)}+2e^{-2(t-\\tau)} \\end{array}}\\right]\\) \\(\\Rightarrow x_{ox}(t)=\\int_0^t { {e^{A(t - \\tau )}}Bu(\\tau ){\\text{d}}\\tau}=\\int_0^t {\\left[ {\\begin{array}{*{20}{c}} e^{-(t-\\tau)}-e^{-2(t-\\tau)} \\\\ -e^{-(t-\\tau)}+2e^{-2(t-\\tau)} \\end{array}}\\right]{\\text{d}}\\tau}=\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{2}-e^{-t}+\\frac{1}{2}e^{-2t} \\\\ e^{-t}-e^{-2t} \\end{array}}\\right]\\) 系统状态运动规律的基本表达式 同时作用初始状态和输入的状态方程的解 对初始时刻\\(t_0=0\\)，有表达式\\(x(t) = {e^{At}}{x_0} + \\int_0^t {e^{A(t - \\tau )}Bu(\\tau ){\\text{d}}\\tau }, \\quad t \\geqslant 0\\) 对初始时刻\\(t_0 \\ne 0\\)，有表达式\\(x(t) = {e^{A(t - {t_0})}}{x_0} + \\int_{t_0}^t {e^{A(t - \\tau )}Bu(\\tau ){\\text{d}}\\tau ,\\quad t \\geqslant {t_0}}\\) 连续时间线性时不变系统的状态转移矩阵 定义：矩阵方程\\(\\dot \\Phi (t - {t_0})=A\\Phi (t - {t_0}),\\quad \\Phi (0)=I\\)的解\\(\\Phi (t - {t_0})\\)称为状态转移矩阵。 \\(t_0=0\\)时，\\(\\Phi (t) = {e^{At}}\\quad \\quad t \\geqslant 0\\) \\(t_0 \\ne 0\\)时，\\(\\Phi (t - {t_0}) = {e^{A(t - {t_0})}},\\quad t \\geqslant {t_0}\\) 基于状态转移矩阵的系统响应表达式： \\({x_{ou}}(t) = \\Phi (t - {t_0}){x_0}\\) \\({x_{ox}}(t) = \\int_{t_0}^t {\\Phi (t - \\tau )Bu(\\tau ){\\text{d}}\\tau } \\quad t \\geqslant {t_0}\\) \\(x(t) = \\Phi (t - {t_0}){x_0} + \\int_{t_0}^t {\\Phi (t - \\tau )Bu(\\tau ){\\text{d}}\\tau }\\) 状态转移矩阵的特性： ①\\(\\Phi (0) = I\\) ②\\({\\Phi ^{ - 1}}(t) = \\Phi ( - t) \\quad {\\Phi ^{ - 1}}(t - {t_0}) = \\Phi ({t_0} - t)\\) ③\\(\\Phi ({t_2} - {t_1})\\Phi ({t_1} - {t_0}) = \\Phi ({t_2} - {t_0})\\) ④\\(\\Phi ({t_2} + {t_1}) = \\Phi ({t_2})\\Phi ({t_1}) = \\Phi ({t_1})\\Phi ({t_2})\\) ⑤\\(\\Phi (mt) = {\\left[ {\\Phi (t)} \\right]^m}\\) ⑥\\(\\frac{\\text{d}}{ {\\text{d}}t}\\Phi (t - {t_0}) = A\\Phi (t - {t_0}) = \\Phi (t - {t_0})A\\) ⑦\\(\\frac{\\text{d}}{ {\\text{d}t}}{\\Phi ^{ - 1}}(t - {t_0}) = - A\\Phi ({t_0} - t) = - \\Phi ({t_0} - t)A\\) 连续时间线性时不变系统的脉冲响应矩阵 注：自学内容，仅供参考。 定义：对于输入维数为\\(p\\)，输出维数为\\(q\\)的连续时间线性时不变系统，脉冲响应矩阵定义为零初始状态下以脉冲响应\\(h_{ij}(t-\\tau)\\)为元构成的一个\\(q \\times p\\)输出响应矩阵。 其中\\(h_{ij}(t-\\tau)\\)为第\\(j\\)个输入端在时刻\\(\\tau\\)加以单位脉冲\\(\\delta(t-\\tau)\\)而所有其他输入为零时，在第\\(i\\)个输出端的脉冲响应 \\[H(t - \\tau ) = \\left[ {\\begin{array}{*{20}{c}}{h_{11}(t - \\tau )}&amp;{h_{12}(t - \\tau )}&amp; \\cdots &amp;{h_{1p}(t - \\tau )} \\\\ {h_{21}(t - \\tau )}&amp;{h_{22}(t - \\tau )}&amp; \\cdots &amp;{h_{2p}(t - \\tau )} \\\\ \\cdots &amp; \\cdots &amp; \\cdots &amp; \\cdots \\\\ {h_{q1}(t - \\tau )}&amp;{h_{q2}(t - \\tau )}&amp; \\cdots &amp;{h_{qp}(t - \\tau )} \\end{array}} \\right]\\] 且\\(H(t - \\tau ) = 0\\)，\\(\\forall \\tau\\)和\\(\\forall t \\prec \\tau\\) 输出响应： 对\\(p\\)维输入，\\(q\\)维输出连续时间线性时不变系统，假设初始状态为零，则系统在任意输入\\(u\\)作用下基于脉冲响应矩阵的输出响应\\(y(t)\\)为 \\(y(t) = \\int_{t_0}^t {H(t - \\tau )u(\\tau ){\\text{d}}\\tau } = \\int_{t_0}^t {H(\\tau )u(t - \\tau ){\\text{d}}\\tau \\quad t \\geqslant {t_0}}\\) 脉冲响应矩阵\\(H(t)\\)和传递函数矩阵\\(G(s)\\)之间的关系： \\(G(s) = L\\left[ {H(t)} \\right],H(t) = {L^{ - 1}}\\left[ {G(s)} \\right]\\) \\(G(s) = C{(sI - A)^{ - 1}}B + D\\) 对连续时间线性时不变系统\\((A, B, C, D)\\)，设初始状态为零，则系统的脉冲响应矩阵为 \\(H(t - \\tau ) = C{e^{A(t - \\tau )}}B + D\\delta (t - \\tau )\\) \\(= C\\Phi (t - \\tau )B + D\\delta (t - \\tau )\\) ①两个代数等价的连续时间线性时不变系统具有相同的脉冲响应矩阵。 ②两个代数等价的连续时间线性时不变系统具有相同的“输出零状态响应”和“输出零输入响应”。 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"电磁场数值分析与计算04-边界条件","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算04-边界条件","date":"2023-10-08T03:11:08.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算04-边界条件/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9704-%E8%BE%B9%E7%95%8C%E6%9D%A1%E4%BB%B6/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 初始条件(Initial Condition) 说明整个系统的初始状态 初始条件给出物理量\\(u\\)于初始瞬间在系统中各处的值\\({\\left. u \\right|_{t = 0}} = {f_1}(x,y,z)\\) \\(u\\)对时间的变化率于初始瞬间在系统各处的值\\(\\left. \\frac{\\partial u}{\\partial t} \\right|_{t = 0} = {f_2}(x,y,z)\\) 边界条件(Boundry Condition) 第一类边界条件（狄里赫利问题）：规定物理量\\(u\\)在边界上的值\\(\\left. u \\right|_s = f_1(s)\\)。\\(\\left. u \\right|_s = 0\\)时是齐次边界条件。 第二类边界条件（聂依曼问题）：规定物理量\\(u\\)的法向微商在边界\\(s\\)上的值\\(\\left. \\frac{\\partial u}{\\partial n} \\right|_s = f_2(s)\\)。 第三类边界条件（洛平问题）：规定物理量\\(u\\)及其法向微商\\(\\frac{\\partial u}{\\partial n}\\)在边界上的某一线性关系\\(\\left.(\\eta u+\\beta\\frac{\\partial u}{\\partial n})\\right|_s =f_3(s)\\)，其中\\(\\eta\\)、\\(\\beta\\)为常数。 用这三类边界条件求解拉普拉斯方程\\({\\bf{\\nabla}}^2 \\Phi=0\\)的问题，分别被称作狄里赫利问题、聂依曼问题、洛平问题。 不同媒质交界面条件 分界面两侧，场量突变⇒推导两侧场量的法向分量或切向分量的关系式。 两种媒质分界面上的电场（\\(\\bf{E}\\)、\\(\\bf{D}\\)） (1)分量面的两侧电场强度的切向分量连续，即\\(E_{1t}=E_{2t}\\) 证明：沿着分界面取一闭合路径，长度为\\(l\\)，宽为\\(\\Delta h\\)。 \\(\\oint_l { {\\bf{E}}d{\\bf{l}}} = -\\int_s {\\frac{\\partial {\\bf{B}}}{\\partial t}d{\\bf{l}}}\\) 当\\(\\Delta h \\to 0\\)时表示为分界面，则闭合路径面积趋近于0，上式右侧趋近于0，即\\(\\oint_l { {\\bf{E}}d{\\bf{l}}} =0\\) 则\\(E_{1t} \\cdot l - E_{2t} \\cdot l=0\\)，即\\(E_{1t}=E_{2t}\\)。 图1 分界面的两侧电场强度的切向量分量连续 (2)两种电介质分界面上无自由电荷场两侧电位移法向分量连续 即\\(\\rho=0\\)时，\\(D_{1n}=D_{2n}\\)；\\(\\rho \\ne 0\\)时，\\(D_{2n}-D_{1n}=\\rho_s\\)（分界面上自由电荷面密度）。 证明：沿着分界面做一封闭的圆柱体，高度为\\(\\Delta h\\)，上下底面为\\(\\Delta S\\)。 则有\\(\\oint_S { {\\bf{D}}d{\\bf{S}}} = q\\) 当\\(\\Delta h \\to 0\\)时，侧面积趋近于0 \\(-D_{1n} \\cdot \\Delta S + D_{2n} \\cdot \\Delta S = \\rho_s \\cdot \\Delta S\\)⇒\\(D_{2n}-D_{1n}=\\rho_s\\) 如果媒质1为导体，\\(D_{1n}=0\\)，\\(D_{2n}=\\rho_s\\)，且\\(E_{1t}=E_{2t}=0\\) 则导体为等电位体\\({\\bf{\\nabla}}\\Phi=0\\)，\\(E=-{\\bf{\\nabla}}\\Phi=0\\)，\\(D=\\varepsilon{\\bf{E}}=0\\) 图2 两种电介质分界面上无自由电荷场两侧电位移法向分量连续 (3)\\(\\bf{D}\\)线与\\(\\bf{E}\\)线穿过导电介质时，在分界面上要改变方向 当分界面上无自由电荷时，静电场折射定律：\\(\\frac{tan \\alpha_1}{tan \\alpha_2}=\\frac{\\varepsilon_1}{\\varepsilon_2}\\) 证明：由\\(tan \\alpha_1=\\frac{E_{1t}}{E_{1n}}\\)、\\(tan \\alpha_2=\\frac{E_{2t}}{E_{2n}}\\)、\\(E_{1t}=E_{2t}\\)、\\(D_{1n}=D_{2n}\\)与\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\) 得到\\(\\frac{tan \\alpha_1}{tan \\alpha_2}=\\frac{E_{1t}}{E_{1n}} \\frac{E_{2n}}{E_{2t}}=\\frac{E_{2n}}{E_{1n}}=\\frac{D_{2n}/\\varepsilon_2}{D_{1n}/\\varepsilon_1}=\\frac{\\varepsilon_1}{\\varepsilon_2}\\) 图3 静电场折射定律 两种导电媒质分界面上的稳定电流场 (1)两侧电流密度的法向分量连续\\(J_{1n}=J_{2n}\\) (2)两侧电场强度的切向分量连续\\(E_{1t}=E_{2t}\\) (3)电流密度线的折射定律\\(\\frac{tan \\alpha_1}{tan \\alpha_2}=\\frac{\\sigma_1}{\\sigma_2}\\) 两种媒质分界面上的磁场（稳定） (1)两侧磁通密度的法向分量连续\\(B_{1n}=B_{2n}\\) 证明：沿着分界面做一封闭的圆柱体，高度为\\(\\Delta h\\)，上下底面为\\(\\Delta S\\)。 由高斯定理\\(\\oint_S { {\\bf{B}}d{\\bf{S}}} = \\int_V { ({\\bf{\\nabla}}\\cdot{\\bf{B}})d{\\bf{V}}} = 0\\) 当\\(\\Delta h \\to 0\\)时，侧面积趋近于0 则有\\(\\oint_S { {\\bf{B}}d{\\bf{S}}} = {B_{2n}}{\\bf{n_2}}\\cdot{\\Delta S} + {B_{1n}}{\\bf{n_1}}\\cdot{\\Delta S}=0\\) ⇒\\(({B_{2n}}-{B_{1n}}){\\Delta S}=0\\) 得到\\(B_{1n}=B_{2n}\\) 图4 两侧磁通密度的法向分量连续 (2)在分界面上无电流时，磁场强度的切向分量连续\\(H_{1t}=H_{2t}\\)⇒\\(\\frac{tan \\alpha_1}{tan \\alpha_2}=\\frac{\\mu_1}{\\mu_2}\\) 当分界面上有电流时\\(H_{1t}-H_{2t}=J_s\\) 当媒质2为未饱和的铁磁质（\\(\\mu_r \\to \\infty\\)） 当\\(\\bf{B}\\)为有限值时，\\(H_{2t}=0\\)，\\(H_{1t}=J_s\\) 图5 媒质2为未饱和的铁磁质 总结：切向分量连续（\\({\\bf{E}}\\)、\\({\\bf{H}}\\)）；法向分量连续（\\({\\bf{D}}\\)、\\({\\bf{J}}\\)、\\({\\bf{B}}\\)）。 用电磁位表示的边界条件 用电位\\(\\Phi\\)表示的边界条件 \\({\\bf{E}}=-{\\bf{\\nabla}}\\Phi\\)⇒\\(E_x{\\bf{i}}+E_y{\\bf{j}}+E_z{\\bf{k}}=-\\frac{\\partial \\Phi}{\\partial x}{\\bf{i}}-\\frac{\\partial \\Phi}{\\partial y}{\\bf{j}}-\\frac{\\partial \\Phi}{\\partial z}{\\bf{k}}\\) \\(E_n{\\bf{n}}+E_{\\tau}{\\bf{\\tau}}+E_t{\\bf{t}}=-\\frac{\\partial \\Phi}{\\partial n}{\\bf{n}}-\\frac{\\partial \\Phi}{\\partial \\tau}{\\bf{\\tau}}-\\frac{\\partial \\Phi}{\\partial t}{\\bf{t}}\\) 由两侧电场强度的切向分量连续\\(E_{1t}=E_{2t}\\)，可知\\(-\\frac{\\partial \\Phi_1}{\\partial t}=-\\frac{\\partial \\Phi_2}{\\partial t}\\) 得到\\(\\Phi_1=\\Phi_2\\)，即在介质分界面上电位连续 \\({\\bf{D_{2n}}}-{\\bf{D_{1n}}}=\\rho_s\\) \\({\\bf{D_{1n}}}=\\varepsilon_1{\\bf{E_{1n}}}=-\\varepsilon_1\\frac{\\partial \\Phi_1}{\\partial n}\\) \\({\\bf{D_{2n}}}=\\varepsilon_2{\\bf{E_{2n}}}=-\\varepsilon_2\\frac{\\partial \\Phi_2}{\\partial n}\\) ⇒\\(\\varepsilon_1\\frac{\\partial \\Phi_1}{\\partial n}-\\varepsilon_2\\frac{\\partial \\Phi_2}{\\partial n}=\\rho_s\\) 在介质的分界面上电位导数不连续 用磁位\\(\\bf{A}\\)表示的边界条件 由两侧磁通密度的法向分量连续\\(B_{1n}=B_{2n}\\) 且\\({\\bf{A}}=A_z{\\bf{k}}\\)，\\({\\bf{J}}=J_z{\\bf{k}}\\) ⇒\\({\\bf{B} } = {\\bf{\\nabla} } \\times {\\bf{A} } = \\left| {\\begin{array}{*{20}{c}}{\\bf{t}}&amp;{\\bf{n}}&amp;{\\bf{k}} \\\\ {\\frac{\\partial }{ {\\partial t}}}&amp;{\\frac{\\partial }{ {\\partial n}}}&amp;{\\frac{\\partial}{ {\\partial k}}} \\\\ {0}&amp;{0}&amp;{A_z} \\end{array}} \\right| = \\frac{\\partial A_z}{\\partial n}{\\bf{t}} - \\frac{\\partial A_z}{\\partial t}{\\bf{n}} = B_t{\\bf{t}} + B_n{\\bf{n}}\\) 即\\(B_n=-\\frac{\\partial A_z}{\\partial t}\\)，\\(B_t=\\frac{\\partial A_z}{\\partial n}\\) 可知\\(B_{1n}=-\\frac{\\partial A_{1z}}{\\partial t}\\)，\\(B_{2n}=-\\frac{\\partial A_{2z}}{\\partial t}\\) ⇒\\(\\frac{\\partial A_{1z}}{\\partial t}=\\frac{\\partial A_{2z}}{\\partial t}\\)⇒\\(A_{1t}=A_{2t}\\) 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"线性系统理论02-线性系统的状态空间描述","slug":"课程笔记/线性系统理论/线性系统理论02-线性系统的状态空间描述","date":"2023-09-23T00:57:37.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论02-线性系统的状态空间描述/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA02-%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%8A%B6%E6%80%81%E7%A9%BA%E9%97%B4%E6%8F%8F%E8%BF%B0/","excerpt":"线性系统理论课程笔记 对应教材内容第二章 线性系统的状态空间描述的内容 状态和状态空间 状态是一个列向量，由各个状态变量构成。","text":"线性系统理论课程笔记 对应教材内容第二章 线性系统的状态空间描述的内容 状态和状态空间 状态是一个列向量，由各个状态变量构成。 \\[X(t) = \\left[ {\\begin{array}{*{20}{c}} { {x_1}(t)} \\\\ \\vdots \\\\ { {x_n}(t)} \\end{array}} \\right]t \\geqslant {t_0}\\] 状态空间是状态向量的集合，状态空间的维数等于状态的维数。 线性系统的状态空间描述 图1 动力学系统结构示意图 输入变量组：\\({u_1},{u_2}, \\cdots ,{u_p}\\)（环境对系统的作用） 输出变量组：\\({y_1},{y_2}, \\cdots ,{y_q}\\)（系统对环境的作用） 状态变量组：\\({x_1},{x_2}, \\cdots ,{x_n}\\)（能完全表征其时间域行为的一个最小内部变量组，刻画系统在每个时刻所处状况的变量，体现了系统的行为） 系统的外部描述：又称作输入—输出描述。外部描述是不完全的描述，不表征系统的内部结构和内部变量，只反映外部变量间的因果关系，即输出和输入间的因果关系。 线性定常、单输入—单输出系统，外部描述为线性常系数微分方程。 \\[{y^{(n)}} + {a_{n - 1}}{y^{(n - 1)}} + \\cdots + {a_1}{y^{(1)}} + {a_0}y = {b_{n - 1}}{u^{(n - 1)}} + {b_{n - 2}}{u^{(n - 2)}} + \\cdots + {b_1}{u^{(1)}} + {b_0}u\\] 假定初始条件为零，取拉氏变换。得到其复频率域描述，即传递函数。 \\[G(s) = \\frac{ { {b_{n - 1}}{s^{n - 1}} + \\cdots + {b_1}s + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] 系统的内部描述：这里指状态空间描述。内部描述是完全的描述，能够完全反映系统的所有动力学特性。内部描述需要由两个数学方程表征（状态方程和输出方程，统称为状态空间表达式）。 状态方程：微分方程或差分方程（状态变量组和输入变量组间的因果关系）。 一般的情况下，为一阶非线性时变微分方程组。 \\[\\left\\{ {\\begin{array}{*{20}{c}} { { {\\dot x}_1} = {f_1}({x_1}, \\cdots ,{x_n};{u_1}, \\cdots ,{u_p},t)} \\\\ \\cdots \\\\ { { {\\dot x}_n} = {f_n}({x_1}, \\cdots ,{x_n};{u_1}, \\cdots ,{u_p},t)} \\end{array}} \\right.t \\geqslant {t_0}\\] 向量方程形式为\\(\\dot X = f(x,u,t),t \\geqslant {t_0}\\) 输出方程：代数方程（状态变量组、输入变量组和输出变量组间的转换关系）。 一般的情况下，输出方程为 \\[\\left\\{ {\\begin{array}{*{20}{c}}{ {y_1} = {g_1}({x_1}, \\cdots ,{x_n};{u_1}, \\cdots ,{u_p},t)} \\\\ \\cdots \\\\ { {y_q} = {g_q}({x_1}, \\cdots ,{x_n};{u_1}, \\cdots ,{u_p},t)} \\end{array}} \\right.t \\geqslant {t_0}\\] 向量方程形式为\\(Y = g(x,u,t),t \\geqslant {t_0}\\) 连续时间系统的线性系统状态空间描述为： \\[\\left\\{ {\\begin{array}{*{20}{c}}{\\dot x = A(t)x + B(t)u} \\\\ {y = C(t)x + D(t)u} \\end{array}} \\right.t \\geqslant {t_0}\\] 图2 连续时间线性系统结构图 离散时间系统的线性系统状态空间描述为： \\[\\left\\{ {\\begin{array}{*{20}{c}}{x(k+1) = G(k)x(k) + H(k)u(k)} \\\\ {y(k) = C(k)x(k) + D(k)u(k)} \\end{array}} \\right.k=1,2,\\cdots\\] 图3 离散时间线性系统结构图 系统状态空间描述的列写举例（RLC电路网络）： 图4 RLC电路网络结构图 选取电感电流\\(i_L\\)与电容电压\\(u_C\\)作为状态变量，列写回路方程： \\[\\left\\{ {\\begin{array}{*{20}{c}} {i_L=(u-L\\frac{di_L}{dt})\\frac{1}{R_1}}+C\\frac{du_C}{dt} \\\\ {L\\frac{di_L}{dt}+u_C+C\\frac{du_C}{dt}R_2=u} \\end{array}}\\right.\\] 整理得 \\[\\left\\{ {\\begin{array}{*{20}{c}} {\\frac{di_L}{dt}=\\frac{u}{L}-\\frac{i_L}{L}(\\frac{R_1R_2}{R_1+R_2})-\\frac{u_C}{L}(\\frac{R_1}{R_1+R_2})} \\\\ {\\frac{du_C}{dt}=\\frac{R_1}{C(R_1+R_2)}i_L-\\frac{1}{C(R_1+R_2)}u_C} \\end{array}}\\right.\\] 取状态变量\\(x_1=i_L\\)、\\(x_2=u_C\\)，进一步整理得到状态方程 \\[\\left\\{ {\\begin{array}{*{20}{c}} {\\dot x_1=-\\frac{1}{L}(\\frac{R_1R_2}{R_1+R_2})x_1-\\frac{1}{L}(\\frac{R_1}{R_1+R_2})x_2+\\frac{1}{L}u} \\\\ {\\dot x_2=\\frac{R_1}{C(R_1+R_2)}x_1-\\frac{1}{C(R_1+R_2)}x_2} \\end{array}}\\right.\\] 该状态方程可简化为\\(\\dot x = A(t)x + B(t)u\\)，其中\\(A = \\left[ {\\begin{array}{*{20}{c}} -\\frac{1}{L}(\\frac{R_1R_2}{R_1+R_2})&amp;-\\frac{1}{L}(\\frac{R_1}{R_1+R_2}) \\\\ \\frac{R_1}{C(R_1+R_2)}&amp;-\\frac{1}{C(R_1+R_2)} \\end{array}} \\right]\\)，\\(B=\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{L} \\\\ 0 \\end{array}} \\right]\\) 选取\\(u_{R2}\\)作为输出变量\\(y\\)，则有： \\[u_{R2}=R_2 i_C=R_2 C\\frac{dU_c}{dt}=\\frac{R_1 R_2}{R_1+R_2}i_L-\\frac{R_2}{R_1+R_2}u_C\\] \\[y=\\frac{R_1 R_2}{R_1+R_2}x_1-\\frac{R_2}{R_1+R_2}x_2\\] 该输出方程可简化为\\(y = C(t)x + D(t)u\\)，其中\\(C=\\left[ {\\begin{array}{*{20}{c}} \\frac{R_1 R_2}{R_1+R_2} &amp; -\\frac{R_2}{R_1+R_2} \\end{array}} \\right]\\)，\\(D=[0]\\) 系统按其状态空间描述的分类 线性系统和非线性系统 时变系统和时不变系统 连续时间系统和离散时间系统 确定性系统和不确定性系统 化输入—输出描述为状态空间描述 结论1——由输入输出描述导出状态空间描述 给定单输入，单输出线性时不变系统的输入输出描述： \\[{y^{(n)}} + {a_{n - 1}}{y^{(n - 1)}} + \\cdots + {a_1}{y^{(1)}} + {a_0}y = {b_m}{u^{(m)}} + {b_{m - 1}}{u^{(m - 1)}} + \\cdots + {b_1}{u^{(1)}} + {b_0}u\\] \\[G(s) = \\frac{Y(s)}{U(s)} = \\frac{ { {b_m}{s^m} + {b_{m - 1}}{s^{m - 1}} + \\cdots + {b_1}{s^1} + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] \\(m &lt; n\\)时，有 \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}0&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ \\vdots &amp;{}&amp; \\ddots &amp;{}&amp; \\vdots \\\\ 0&amp;{}&amp;{}&amp; \\ddots &amp;0 \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;1 \\\\ { - {a_0}}&amp;{ - {a_1}}&amp;{ - {a_2}}&amp; \\cdots &amp;{ - {a_{n - 1}}} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ \\vdots \\\\ 0 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}}{b_0}&amp;{b_1}&amp; \\cdots &amp;{b_m}&amp;0&amp; \\cdots &amp;0 \\end{array}} \\right]x \\hfill \\\\ \\end{gathered}\\] 【例1】：\\({y^{(3)}} + 16{y^{(2)}} + 194{y^{(1)}} + 640y = 160{u^{(1)}} + 720u\\) \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ { - 640}&amp;{ - 194}&amp;{ - 16} \\end{array}} \\right] x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} {720}&amp;{160}&amp;0 \\end{array}} \\right] x \\hfill \\\\ \\end{gathered}\\] \\(m = n\\)时，有 \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}0&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ \\vdots &amp;{}&amp; \\ddots &amp;{}&amp; \\vdots \\\\ 0&amp;{}&amp;{}&amp; \\ddots &amp;0 \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;1 \\\\ { - {a_0}}&amp;{ - {a_1}}&amp;{ - {a_2}}&amp; \\cdots &amp;{ - {a_{n - 1}}} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ \\vdots \\\\ 0 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} {({b_0} - {b_n}{a_0}),}&amp;{({b_1} - {b_n}{a_1}),}&amp;{ \\cdots ,}&amp;{({b_{n - 1}} - {b_n}{a_{n- 1}})} \\end{array}} \\right]x + {b_n}u \\hfill \\\\ \\end{gathered}\\] 【例2】：\\({y^{(3)}} + 16{y^{(2)}} + 194{y^{(1)}} + 640y = 4{u^{(3)}} + 160{u^{(1)}} + 720u\\) \\(b_0 - b_3 a_0 = 720 - 4 \\times 640 = -1840\\) \\(b_1 - b_3 a_1 = 160 - 4 \\times 194 = -616\\) \\(b_0 - b_3 a_0 = 0 - 4 \\times 16 = -64\\) \\[\\begin{gathered} \\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ { - 640}&amp;{ - 194}&amp;{ - 16} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}}{-1840}&amp;{-616}&amp;{-64} \\end{array}} \\right]x + 4u \\hfill \\\\ \\end{gathered}\\] 结论2——由输入输出描述导出状态空间描述 给定单输入，单输出线性时不变系统的输入输出描述： \\(m = 0\\)时，输入输出描述为： \\[{y^{(n)}} + {a_{n - 1}}{y^{(n - 1)}} + \\cdots + {a_1}{y^{(1)}} + {a_0}y = {b_0}u\\] \\[G(s) = \\frac{b_0}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] 其对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ \\vdots &amp;{}&amp; \\ddots &amp;{}&amp; \\vdots \\\\ 0&amp;{}&amp;{}&amp; \\ddots &amp;0 \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;1 \\\\ { - {a_0}}&amp;{ - {a_1}}&amp;{ - {a_2}}&amp; \\cdots &amp;{ - {a_{n - 1}}} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}0 \\\\ 0 \\\\ \\vdots \\\\ 0 \\\\ {b_0} \\end{array}} \\right]u \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}}{1,}&amp;{0,}&amp;{ \\cdots ,}&amp;0 \\end{array}} \\right]x \\hfill \\\\ \\end{gathered}\\] \\(m \\ne 0\\)时，输入输出描述为： \\[{y^{(n)}} + {a_{n - 1}}{y^{(n - 1)}} + \\cdots + {a_1}{y^{(1)}} + {a_0}y = {b_n}{u^{(n)}} + {b_{n - 1}}{u^{(n - 1)}} + \\cdots + {b_1}{u^{(1)}} + {b_0}u\\] \\[G(s) = \\frac{ { {b_n}{s^n} + {b_{n - 1}}{s^{n - 1}} + \\cdots + {b_1}{s^1} + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] 其对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}0&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ \\vdots &amp;{}&amp; \\ddots &amp;{}&amp; \\vdots \\\\ 0&amp;{}&amp;{}&amp; \\ddots &amp;0 \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;1 \\\\ { - {a_0}}&amp;{ - {a_1}}&amp;{ - {a_2}}&amp; \\cdots &amp;{ - {a_{n - 1}}}\\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}{\\beta _1} \\\\ {\\beta _2} \\\\ \\vdots \\\\ {\\beta _{n - 1}} \\\\ {\\beta _n} \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ \\begin{array}{*{20}{c}} {}&amp;{} \\end{array}y = \\left[ {\\begin{array}{*{20}{c}}{1,}&amp;{0,}&amp;{ \\cdots ,}&amp;0 \\end{array}} \\right]x + b_n u \\hfill \\\\ \\end{gathered}\\] 其中\\({\\beta _0} = {b_n}\\) \\({\\beta _1} = {b_{n - 1}} - {a_{n - 1}}{\\beta _0}\\) \\({\\beta _2} = {b_{n - 2}} - {a_{n - 1}}{\\beta _1} - {a_{n - 2}}{\\beta _0}\\) \\(\\vdots\\) \\({\\beta _n} = {b_0} - {a_{n - 1}}{\\beta _{n - 1}} - {a_{n - 2}}{\\beta _{n - 2}} - \\cdots - {a_1}{\\beta _1} - {a_0}{\\beta _0}\\) 【例3】：\\({y^{(3)}} + 16{y^{(2)}} + 194{y^{(1)}} + 640y = 160{u^{(1)}} + 720u\\) \\({\\beta _0} = {b_3} = 0\\) \\({\\beta _1} = {b_2} - {a_2}{\\beta _0} = 0-16 \\times 0=0\\) \\({\\beta _2} = {b_1} - {a_2}{\\beta _1} - {a_1}{\\beta _0}=160-16 \\times 0-194 \\times 0=160\\) \\({\\beta _3} = {b_0} - {a_2}{\\beta _2} - {a_1}{\\beta _1} - {a_0}{\\beta _0}=720-16 \\times 160-194 \\times 0-640 \\times 0=-1840\\) \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ { - 640}&amp;{ - 194}&amp;{ - 16} \\end{array}} \\right] x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 160 \\\\ -1840 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0 \\end{array}} \\right] x \\hfill \\\\ \\end{gathered}\\] 注：与例1相比，相同的输入输出描述得到的状态空间描述不同，说明同一个输入输出描述可以对应多个状态空间描述。 结论3——由传递函数描述导出状态空间描述 给定单输入、单输出线性时不变系统的传递函数描述为： \\[G(s) = \\frac{ { {b_m}{s^m} + {b_{m - 1}}{s^{m - 1}} + \\cdots + {b_1}{s^1} + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] 当分母方程的根\\({\\lambda_1},{\\lambda_2},\\cdots,{\\lambda_n}\\)两两相异 \\(m &lt; n\\)时，有 \\(\\begin{gathered}G(s) = \\frac{k_1}{s - {\\lambda_1}} + \\frac{k_2}{s - {\\lambda_2}} + \\cdots + \\frac{k_n}{s - {\\lambda_n}} \\hfill \\\\{k_i} = \\mathop {\\lim }\\limits_{s \\to \\infty } G(s)(s - {\\lambda_i}),\\begin{array}{*{20}{c}}{}&amp;{} \\end{array}i = 1,2, \\cdots ,n \\hfill \\\\ \\end{gathered}\\) 对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}{\\lambda _1}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{\\lambda _2}&amp;{}&amp;{} \\\\ {}&amp;{}&amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp;{}&amp;{\\lambda _n} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}{k_1} \\\\ {k_2} \\\\ \\vdots \\\\ {k_n} \\end{array}} \\right]u \\hfill \\\\y = \\left[ {\\begin{array}{*{20}{c}}{1,}&amp;{1,}&amp;{ \\cdots ,}&amp;1 \\end{array}} \\right]x \\hfill \\\\ \\end{gathered}\\] \\(m = n\\)时，有 \\(\\begin{gathered}G(s) = \\frac{ { {b_n}{s^n} + {b_{n - 1}}{s^{n - 1}} + \\cdots + {b_1}s + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}} = {b_n} + \\bar G(s) \\hfill \\\\ \\bar G(s) = \\frac{ {\\left( { {b_{n - 1}} - {b_n}{a_{n - 1}}} \\right){s^{n - 1}} + \\cdots + \\left( { {b_0} - {b_n}{a_0}} \\right)}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}} \\hfill \\\\{ {\\bar k}_i} = \\mathop {\\lim }\\limits_{s \\to {\\lambda _i}} \\bar G(s)(s - {\\lambda_i}),\\begin{array}{*{20}{c}}{}&amp;{} \\end{array}i = 1,2, \\cdots ,n \\hfill \\\\ \\end{gathered}\\) 对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}{\\lambda_1}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{\\lambda_2}&amp;{}&amp;{} \\\\ {}&amp;{}&amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp;{}&amp;{\\lambda_n} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}{ {\\bar k}_1} \\\\ { {\\bar k}_2} \\\\ \\vdots \\\\ { {\\bar k}_n} \\end{array}} \\right]u \\hfill \\\\y = \\left[ {\\begin{array}{*{20}{c}}{1,}&amp;{1,}&amp;{\\cdots ,}&amp;1 \\end{array}} \\right]x + {b_n}u \\hfill \\\\\\end{gathered}\\] 【例4】：\\(G(s)=\\frac{7s^2+2s+1}{s^3+6s^2+11s+6}\\) \\(D(s)=s^3+6s^2+11s+6=(s+1)(s+2)(s+3)\\) \\(k_1=\\mathop {\\lim }\\limits_{s \\to -1 } \\frac{7s^2+2s+1}{(s+2)(s+3)}\\)，同理\\(k_2=-25\\)、\\(k_3=29\\)。 对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} -1&amp;0&amp;0 \\\\ 0&amp;-2&amp;0 \\\\ 0&amp;0&amp;-3 \\end{array}} \\right] x + \\left[ {\\begin{array}{*{20}{c}} 3 \\\\ -25 \\\\ 29 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} 1&amp;1&amp;1 \\end{array}} \\right] x \\hfill \\\\ \\end{gathered}\\] 由方块图描述导出状态空间描述 【例5】 图5 系统方块图 由\\(\\frac{7s+13}{s^2+5s+4}=\\frac{2}{s+1}+\\frac{5}{s+4}\\)，该方块图可等效为： 图6 等效方块图 可以得到变量间的关系： \\(\\left\\{ \\begin{gathered}x_1 = \\frac{5}{s+4}(u-x_3) \\hfill \\\\x_2 = \\frac{2}{s+1}(u-x_3) \\hfill \\\\x_3 = \\frac{1}{s+2}(x_1+x_2) \\hfill \\\\y = x_1 + x_2 \\hfill \\\\ \\end{gathered} \\right. \\Rightarrow \\left\\{ \\begin{gathered}{ {\\dot x}_1} = - 4{x_1} + 5(u - {x_3}) \\hfill \\\\{ {\\dot x}_2} = - {x_2} + 2(u - {x_3}) \\hfill \\\\{ {\\dot x}_3} = - 2{x_3} + y \\hfill \\\\y = {x_1} + {x_2} \\hfill \\\\ \\end{gathered} \\right.\\) 得到状态空间描述为： \\[\\begin{gathered}{\\dot x} = \\left[ {\\begin{array}{*{20}{c}}{ - 4}&amp;0&amp;{ - 5} \\\\ 0&amp;{ - 1}&amp;{ - 2} \\\\ 1&amp;1&amp;{ - 2} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}5 \\\\ 2 \\\\ 0 \\end{array}} \\right]u \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} 1&amp;1&amp;0 \\end{array}} \\right]x \\hfill \\\\ \\end{gathered}\\] 注：这里有\\(sx_1={\\dot x_1}\\)、\\(sx_2={\\dot x_2}\\)、\\(sx_3={\\dot x_3}\\) 线性时不变系统的特征结构 对于连续线性时不变系统\\(\\dot x = Ax + Bu\\)，其特征矩阵定义为\\((sI-A)\\)。 特征多项式\\(\\alpha (s) = \\det (sI - A) = {s^n} + {\\alpha _{n - 1}}{s^{n - 1}} + \\cdots + {\\alpha _1}s + {\\alpha _0}\\) Caley-Hamilton定理：\\(\\alpha (A) = {A^n} + {\\alpha _{n - 1}}{A^{n - 1}} + \\cdots + {\\alpha _1}A + {\\alpha _0}I = 0\\) 矩阵的迹：\\(trH=(h_{11}+h_{22}+\\cdots+h_{nn})=\\sum\\limits_{i=1}^n{h_{ii}}\\) 基于迹计算的特征多项式的迭代算法： \\[\\begin{array}{*{20}{c}} { {R_{n - 1}} = I}&amp;{ {\\alpha _{n - 1}} = - \\frac{ {tr{R_{n - 1}}A}}{1}} \\\\ { {R_{n - 2}} = {R_{n - 1}}A+{\\alpha _{n - 1}}I}&amp;{ {\\alpha _{n - 2}} = - \\frac{ {tr{R_{n - 2}}A}}{2}} \\\\ { {R_{n - 3}} = {R_{n - 2}}A+{\\alpha _{n - 2}}I}&amp;{ {\\alpha _{n - 3}} = - \\frac{ {tr{R_{n - 3}}A}}{3}} \\\\ {\\vdots}&amp;{\\vdots} \\\\ { {R_1} = {R_2}A+{\\alpha _2}I}&amp;{ {\\alpha _1} = - \\frac{ {tr{R_1}A}}{n-1}} \\\\ { {R_0} = {R_1}A+{\\alpha _1}I}&amp;{ {\\alpha _0} = - \\frac{ {tr{R_0}A}}{n}} \\end{array}\\] 特征值：特征方程\\(\\alpha (s) = \\det (sI - A) = {s^n} + {\\alpha_{n - 1}}{s^{n - 1}} + \\cdots + {\\alpha_1}s + {\\alpha_0} = 0\\)的根。 特征向量：设\\(\\lambda_i\\)为系统矩阵A的特征值，则右特征向量为满足\\({\\lambda_i}{v_i} = A{v_i}\\)的\\(n\\times 1\\)非零向量\\(v_i\\)，则左特征向量为满足\\(\\bar v_i^T{\\lambda_i} = \\bar v_i^TA\\)的\\(1\\times n\\)非零向量\\(\\bar v_i^T\\)。 【例6】\\(A=\\left[ {\\begin{array}{*{20}{c}} -2&amp;0&amp;1&amp;1 \\\\ 1&amp;-1&amp;1&amp;2 \\\\ 1&amp;2&amp;-1&amp;2 \\\\ 1&amp;1&amp;1&amp;2 \\end{array}} \\right]\\) \\[\\begin{array}{*{20}{c}} {R_3=I=\\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0&amp;0 \\\\ 0&amp;1&amp;0&amp;0 \\\\ 0&amp;0&amp;1&amp;0 \\\\ 0&amp;0&amp;0&amp;1 \\end{array}} \\right]}&amp;{R_3 A=R_3=\\left[ {\\begin{array}{*{20}{c}} -2&amp;0&amp;1&amp;1 \\\\ 1&amp;-1&amp;1&amp;2 \\\\ 1&amp;2&amp;-1&amp;2 \\\\ 1&amp;1&amp;1&amp;2 \\end{array}} \\right]}&amp;{\\alpha_3=-\\frac{trR_3 A}{1}}=2 \\\\ {R_2=R_3 A+\\alpha_3 I=\\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1&amp;1 \\\\ 1&amp;1&amp;1&amp;2 \\\\ 1&amp;2&amp;1&amp;1 \\\\ 1&amp;1&amp;1&amp;4 \\end{array}} \\right]}&amp;{R_2 A=\\left[ {\\begin{array}{*{20}{c}} 2&amp;3&amp;0&amp;3 \\\\ 2&amp;3&amp;3&amp;8 \\\\ 2&amp;1&amp;3&amp;8 \\\\ 4&amp;5&amp;5&amp;12 \\end{array}} \\right]}&amp;{\\alpha_2=-\\frac{trR_2 A}{2}=-10} \\\\ {R_1=R_2 A+\\alpha_2 I=\\left[ {\\begin{array}{*{20}{c}} -8&amp;3&amp;0&amp;3 \\\\ 2&amp;-7&amp;3&amp;8 \\\\ 2&amp;1&amp;-7&amp;8 \\\\ 4&amp;5&amp;5&amp;2 \\end{array}} \\right]}&amp;{R_1 A=\\left[ {\\begin{array}{*{20}{c}} 22&amp;0&amp;-2&amp;4 \\\\ 0&amp;21&amp;0&amp;7 \\\\ -2&amp;-7&amp;18&amp;13 \\\\ 4&amp;7&amp;6&amp;23 \\end{array}} \\right]}&amp;{\\alpha_1=-\\frac{trR_1 A}{3}=-28} \\\\ {R_0=R_1 A+\\alpha_1 I=\\left[ {\\begin{array}{*{20}{c}} -6&amp;0&amp;-2&amp;4 \\\\ 0&amp;-7&amp;0&amp;7 \\\\ -2&amp;-7&amp;-10&amp;13 \\\\ 4&amp;7&amp;6&amp;-5 \\end{array}} \\right]}&amp;{R_0 A=\\left[ {\\begin{array}{*{20}{c}} 14&amp;0&amp;0&amp;0 \\\\ 0&amp;14&amp;0&amp;0 \\\\ 0&amp;0&amp;14&amp;0 \\\\ 0&amp;0&amp;0&amp;14 \\end{array}} \\right]}&amp;{\\alpha_0=-\\frac{trR_0 A}{4}=-14} \\end{array}\\] \\(\\alpha (s)= s^4+2s^3-10s^2-28s-14\\) 状态方程的对角线规范形和约当规范形 对角线规范性 对于连续线性时不变系统\\(\\dot x = Ax + Bu\\)，其特征值\\({\\lambda_1},{\\lambda_2},\\cdots,{\\lambda_n}\\)两两相异，构造变换阵\\(P=[v_1,v_2,\\cdots,v_n]\\)，则状态方程可通过线性非奇异变换\\(\\bar X = {P^{ - 1}}X\\)化为对角线规范性。 \\[\\dot {\\bar X} = \\left[ {\\begin{array}{*{20}{c}} {\\lambda _1}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{\\lambda _2}&amp;{}&amp;{} \\\\ {}&amp;{}&amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp;{}&amp;{\\lambda _n} \\end{array}} \\right]\\bar X + \\bar Bu\\] 其中\\(\\bar X = {P^{ - 1}}X\\)，\\(\\bar B = {P^{ - 1}}B\\)。 【例7】\\(\\dot X = \\left[ {\\begin{array}{*{20}{c}}2&amp;{-1}&amp;{-1} \\\\ 0&amp;{-1}&amp;0 \\\\ 0&amp;2&amp;1 \\end{array}} \\right]X + \\left[ {\\begin{array}{*{20}{c}} 7 \\\\ 2 \\\\ 3 \\end{array}} \\right]u\\) 由\\(|\\lambda I-A|=0\\)⇒\\((\\lambda-2)(\\lambda+1)(\\lambda-1)=0\\)，特征值为\\(\\lambda_1 = 2,\\lambda _2 = -1,\\lambda _3 = 1\\)。 由等式\\(\\lambda_i v_i=Av_i\\)，解方程组\\(|\\lambda_i I-A|v_i=0\\)，得到特征向量 \\[{\\begin{array}{*{20}{c}} {v_1=\\left[ {\\begin{array}{*{20}{c}} 1\\\\0\\\\0 \\end{array}}\\right]}&amp;{v_2=\\left[ {\\begin{array}{*{20}{c}} 1\\\\0\\\\1 \\end{array}}\\right]}&amp;{v_3=\\left[ {\\begin{array}{*{20}{c}} 0\\\\1\\\\-1 \\end{array}}\\right]} \\end{array}}\\] 得到\\(P =[v_1,v_2,v_3] = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ 0&amp;1&amp;-1\\end{array}} \\right]\\)，求其逆矩阵\\(P^{-1} = \\left[ {\\begin{array}{*{20}{c}}1&amp;-1&amp;-1 \\\\ 0&amp;1&amp;1 \\\\ 0&amp;1&amp;0 \\end{array}} \\right]\\) \\(\\bar A = P^{-1}AP = \\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;-1&amp;0 \\\\ 0&amp;0&amp;1 \\end{array}} \\right]\\)，\\(\\bar B=P^{-1}B = \\left[ {\\begin{array}{*{20}{c}}2\\\\5\\\\2\\end{array}} \\right]\\) \\(\\dot{\\bar X} = \\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;-1&amp;0 \\\\ 0&amp;0&amp;1 \\end{array}} \\right]\\bar X + \\left[ {\\begin{array}{*{20}{c}}2\\\\5\\\\2 \\end{array}} \\right]u\\) 约当规范形 系统的特征值为并非两两相异时，状态方程可变换为约当规范形。 设系统特征值\\({\\lambda_1},{\\lambda_2},\\cdots,{\\lambda_l}\\)分别为\\({\\sigma_1},{\\sigma_2},\\cdots,{\\sigma_l}\\)重特征值，则状态方程可通过变换\\(\\bar X = {Q^{ - 1}}X\\)（\\(Q\\)为可逆矩阵）化为约当规范型： \\[\\dot {\\bar X}=\\left[ {\\begin{array}{*{20}{c}}{J_1}&amp;{}&amp;{} \\\\ {}&amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp;{J_l} \\end{array}} \\right]\\bar X + \\bar Bu\\] 其中\\(\\bar X = {Q^{ - 1}}X\\)，\\(\\bar B = {Q^{ - 1}}B\\)，\\(J_1,\\cdots,J_l\\)为对应特征值\\({\\lambda_1},\\cdots,{\\lambda_l}\\)的约当块，其形式为： \\[{J_{i}} = \\left[ {\\begin{array}{*{20}{c}}{\\lambda_i}&amp;1&amp;{}&amp;{} \\\\ {}&amp; \\ddots &amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp; \\ddots &amp;1 \\\\ {}&amp;{}&amp;{}&amp; \\end{array}} \\right]\\] 约当块的行数（列数）与所对应特征值的重数相等。在约当规范形中，每一个状态变量的方程和下一序号的状态变量构成耦合。 【例8】求\\(A=\\left[{\\begin{array}{*{20}{c}}0&amp;1&amp;0\\\\0&amp;0&amp;1\\\\2&amp;3&amp;0\\end{array}}\\right]\\) 的约当阵。 由\\(|\\lambda I-A|=0\\)⇒\\(\\lambda^3-3\\lambda-2=0\\)，特征值为\\(\\lambda_1 = \\lambda_2 = -1,\\lambda_3 = 2\\)。 对于\\(\\lambda_1=-1\\)，有\\(\\lambda_1 Q_1 - AQ_1 = 0\\)，解得\\(Q_1=\\left[{\\begin{array}{*{20}{c}}1\\\\-1\\\\1\\end{array}}\\right]\\) 对于\\(\\lambda_2=-1\\)，有\\(\\lambda_2 Q_2 - AQ_2 = -Q_1\\)，解得\\(Q_2=\\left[{\\begin{array}{*{20}{c}}1\\\\0\\\\1\\end{array}}\\right]\\) 对于\\(\\lambda_3=2\\)，有\\(\\lambda_3 Q_3 - AQ_3 = 0\\)，解得\\(Q_3=\\left[{\\begin{array}{*{20}{c}}1\\\\2\\\\4\\end{array}}\\right]\\) 得到\\(Q =[Q_1,Q_2,Q_3] = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;1 \\\\ -1&amp;0&amp;2 \\\\ 1&amp;1&amp;4\\end{array}} \\right]\\)，求其逆矩阵\\(P^{-1} = \\frac{1}{3}\\left[ {\\begin{array}{*{20}{c}}-2&amp;-3&amp;2 \\\\ 6&amp;3&amp;-3 \\\\ -1&amp;0&amp;1 \\end{array}} \\right]\\) 得到约当阵\\(\\bar A = P^{-1}AP = \\left[ {\\begin{array}{*{20}{c}}-1&amp;1&amp;0 \\\\ 0&amp;-1&amp;0 \\\\ 0&amp;0&amp;2 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} J_1&amp;0 \\\\ 0&amp;J_2 \\end{array}} \\right]\\)。 其中\\(J_1=\\left[ {\\begin{array}{*{20}{c}} -1&amp;1 \\\\ 0&amp;-1 \\end{array}} \\right]\\)，\\(J_2=[2]\\)。 由状态空间描述导出传递函数矩阵 对于连续时间线性时不变系统\\(\\dot x = Ax + Bu\\)，\\(y = Cx + Du\\) 其传递函数矩阵\\(G(s) = C{(sI - A)^{ - 1}}B + D\\) 【例9】 \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} -1&amp;0 \\\\ 0&amp;1 \\end{array}} \\right] x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\end{array}} \\right] x \\hfill \\\\ \\end{gathered}\\] \\(sI-A=\\left[ {\\begin{array}{*{20}{c}} s+1&amp;0 \\\\ 0&amp;s-1 \\end{array}} \\right]\\) \\((sI-A)^{-1}=\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{s+1}&amp;0 \\\\ 0&amp;\\frac{1}{s-1} \\end{array}} \\right]\\) \\(G(s)=\\frac{Y(s)}{R(s)}=C{(sI-A)^{-1}}B+D=\\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\end{array}} \\right] \\left[ {\\begin{array}{*{20}{c}} \\frac{1}{s+1}&amp;0 \\\\ 0&amp;\\frac{1}{s-1} \\end{array}} \\right] \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 1 \\end{array}} \\right]=\\frac{1}{s+1}\\) 对于多输入多输出系统，计算特征多项式\\(\\alpha (s) \\equiv \\det (sI - A) = {s^n} + {\\alpha _{n - 1}}{s^{n - 1}} + \\cdots + {\\alpha _1}s + {\\alpha _0}\\) \\[\\left\\{ {\\begin{array}{*{20}{l}} {E_{n - 1} = CB} \\\\ {E_{n - 2} = CAB + {\\alpha _{n - 1}}CB} \\\\ { \\cdots \\cdots } \\\\ {E_1} = C{A^{n - 2}B + {\\alpha _{n - 1}}C{A^{n - 3}}B + \\cdots + {\\alpha _2}CB} \\\\ {E_0} = C{A^{n - 1}B + {\\alpha _{n - 1}}C{A^{n - 2}}B + \\cdots + {\\alpha _1}CB} \\end{array}} \\right.\\] 则有\\(G(s) = \\frac{1}{\\alpha (s)}[{E_{n - 1}}{s^{n - 1}} + {E_{n - 2}}{s^{n - 2}} + \\cdots + {E_1}s + {E_0}] + D\\) 【例10】 \\[\\begin{gathered}\\dot X = \\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;2&amp;0 \\\\ 0&amp;3&amp;1 \\end{array}} \\right]X + \\left[ {\\begin{array}{*{20}{c}}1&amp;2 \\\\ 1&amp;0 \\\\ 3&amp;1 \\end{array}} \\right]u \\hfill \\\\y = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;2 \\end{array}} \\right]X \\hfill \\\\ \\end{gathered}\\] 特征多项式\\(\\alpha (s) = \\det (sI - A) = {(s - 2)^2}(s - 1) = {s^3} - 5{s^2} + 8s - 4\\) \\(\\alpha_2=-5,\\alpha_1=8\\) \\({E_2} = CB = \\left[ {\\begin{array}{*{20}{c}} 1&amp;1&amp;2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}} 1&amp;2 \\\\ 1&amp;0 \\\\ 3&amp;1 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}8&amp;4 \\end{array}} \\right]\\) \\({E_1} = CAB + {\\alpha _2}CB = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;2&amp;0 \\\\ 0&amp;3&amp;1 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}1&amp;2 \\\\ 1&amp;0 \\\\ 3&amp;1 \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}{ - 40}&amp;{ - 20} \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}{ - 24}&amp;{ - 14} \\end{array}} \\right]\\) \\({E_0} = C{A^2}B + {\\alpha _2}CAB + {\\alpha _1}CB = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;2&amp;0 \\\\ 0&amp;3&amp;1 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}2&amp;4 \\\\ 2&amp;0 \\\\ 6&amp;1 \\end{array}} \\right]\\) \\(+\\left[ {\\begin{array}{*{20}{c}}{ - 80}&amp;{ - 30} \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}{64}&amp;{32} \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}{16}&amp;{12} \\end{array}} \\right]\\) \\(G(s) = \\frac{1}{\\alpha (s)}[{E_2}{s^2} + {E_1}s + {E_0}]=\\left[ {\\begin{array}{*{20}{c}}{\\frac{8{s^2} - 24s + 16}{s^3 - 5s^2 + 8s-4}}&amp;{\\frac{4{s^2} - 14s + 12}{s^3 - 5s^2 + 8s - 4}} \\end{array}}\\right]\\) 线性系统的坐标变化 注：自学内容，仅供参考。 设状态在基底\\(\\{e_1,e_2,\\cdots,e_n\\}\\)上的表征为\\(X=[x_1,x_2,\\cdots,x_n]^T\\) 而在另一个基底\\(\\{ {\\bar e_1},{\\bar e_2},\\cdots,{\\bar e_n}\\}\\)上的表征为\\(X=[{\\bar x_1},{\\bar x_2},\\cdots,{\\bar x_n}]^T\\) \\(n\\)维状态空间中有且仅有\\(n\\)个线性无关的向量，而\\(\\{e_1,e_2,\\cdots,e_n\\}\\)必是线性无关的，因此\\(\\{e_1,e_2,\\cdots,e_n\\}\\)可表示为\\(\\{ {\\bar e_1},{\\bar e_2},\\cdots,{\\bar e_n}\\}\\)的线性组合，且表示法唯一。 结论1：给定线性定常系统的状态空间描述为\\(\\dot X = AX + Bu\\)，\\(y = CX + Du\\) 引入变换\\({\\bar X}=PX\\)(\\(detP \\ne 0\\))得到\\(\\dot {\\bar X} = {\\bar A}{\\bar X} + {\\bar B}u\\)，\\(y = {\\bar C}{\\bar X} + {\\bar D}u\\) 则有\\(\\bar A = PA{P^{-1}},\\bar B = PB,\\bar C = C{P^{-1}},\\bar D = D\\) 结论2：变换前后特征值不变。即\\({\\lambda _i}(A)={\\lambda _i}(\\bar A),i=1,2,\\cdots,n\\) 两个状态空间描述存在变换关系，称为代数等价。 同一系统采用不同的状态变量组，所导出的两个状态空间描述，必然是代数等价的。 两个代数等价的状态空间描述，可化为相同的对角线规范形或约当规范形。 结论：线性定常系统的传递函数矩阵在坐标变换下保持不变。 物理含义：当系统的输入和输出变量确定后，不管如何选取状态变量组，系统的输出—输入特性将总是一样的。 组合系统的状态空间描述 子系统并联 图7 子系统并联 子系统并联的条件：\\(dim(u_1)=dim(u_2),dim(y_1)=dim(y_2)\\) 其中dim表示向量的维数。 并联后：\\(u_1=u_2=u,y_1+y_2=y\\) \\(\\dot x_1=A_1 x_1+B_1 u_1\\) \\(\\dot x_2=A_2 x_2+B_2 u_2\\) \\(y=y_1+y_2=C_1 x_1+C_2 x_2+D_1 u_1+D_2 u_2\\) \\[\\left[ {\\begin{array}{*{20}{c}}\\dot x_1 \\\\ \\dot x_2 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} A_1&amp;0 \\\\ 0&amp;A_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}} x_1 \\\\ x_2 \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}} B_1 \\\\ B_2 \\end{array}} \\right]u\\] \\[y = \\left[ {\\begin{array}{*{20}{c}}C_1&amp;C_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right] + (D_1+D_2)u\\] 子系统串联 图8 子系统串联 子系统串联的条件：\\(dim(y_1)=dim(u_2)\\) 串联后：\\(u = u_1, u_2 = y_1, y_2 = u\\) \\(\\dot x_1=A_1 x_1+B_1 u\\)① \\(\\dot x_2=A_2 x_2+B_2 u_2\\)② \\(y_1=C_1 x_1+D_1 u\\)③ \\(y_1=u_2\\)④ \\(y_2=C_2 x_2+D_2 u_2\\)⑤ \\(y_2=y\\)⑥ 由②③④知\\(\\dot x_2 = A_2 x_2 + B_2 C_1 x_1 + B_2 D_1 u\\) 由③④⑤⑥知\\(y = C_2 x_2 + D_2 C_1 x_1 + D_2 D_1 u\\) \\[\\left[ {\\begin{array}{*{20}{c}}\\dot x_1 \\\\ \\dot x_2 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}A_1&amp;0 \\\\ B_2 C_1&amp;A_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}B_1 \\\\ B_2 D_1 \\end{array}} \\right]u\\] \\[y = \\left[ {\\begin{array}{*{20}{c}}D_2 C_1&amp;C_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right] + (D_1 D_2)u\\] 子系统的反馈 图9 子系统的反馈 子系统的反馈的条件：\\(dim(u_1)=dim(y_2),dim(u_2)=dim(y_1)\\) 这里取\\(D_i=0\\)的情况 反馈后：\\(u_1=u-y_2,y_1=y=u_2\\)① \\(\\dot x_1=A_1 x_1+B_1 u_1\\)② \\(y_1=C_1 x_1\\)③ \\(\\dot x_2=A_2 x_2+B_2 u_2\\)④ \\(y_2=C_2 x_2\\)⑤ 由①②⑤知\\(\\dot x_1 = A_1 x_1 + B_1 u - B_1 C_2 x_2\\) 由①③④知\\(\\dot x _2 = A_2 x_2 + B_2 C_1 x_1\\) \\[\\left[ {\\begin{array}{*{20}{c}}\\dot x_1 \\\\ \\dot x_2 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}A_1&amp; -B_1 C_2 \\\\ B_2 C_1&amp;A_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}B_1 \\\\ 0 \\end{array}} \\right]u\\] \\[y = \\left[ {\\begin{array}{*{20}{c}}C_1&amp;0 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right]\\] 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"电磁场数值分析与计算03-电磁场数值分析的定解问题","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算03-电磁场数值分析的定解问题","date":"2023-09-20T06:31:31.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算03-电磁场数值分析的定解问题/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9703-%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E7%9A%84%E5%AE%9A%E8%A7%A3%E9%97%AE%E9%A2%98/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 上一课的公式总结 \\[Maxwell方程组\\left\\{ {\\begin{array}{*{20}{c}} { {\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho} \\\\ { {\\bf{\\nabla}} \\cdot {\\bf{B}} = 0} \\\\ { {\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}} \\\\ {\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t} \\end{array}} \\right.\\] 电磁性能关系式：\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，\\({\\bf{B}}=\\mu{\\bf{H}}\\)，\\({\\bf{J}}=\\sigma{\\bf{E}}\\) 电磁场控制方程的描述 电磁场数值分析的任务：求解一个与特定问题相联系的定解问题。 定解问题：在某一个确定区域内成立的微分方程+定解条件。 定解条件： 对于静态场而言，定解条件指的是微分方程中的未知函数在求解区域边界上满足的条件，又被称作边界条件。 对于时变场而言，定解条件指的是边界条件+初始条件。初始条件指的是整个区域未知函数在初始时刻的值。 工程电磁场问题（写出定解问题表达式）： ①选择什么物理量作为控制方程的未知函数，建立什么样的微分方程。 ②四个方程，五个未知数，直接求解困难⇒引入位函数（电位、磁位） 电磁场中的位函数 矢量磁位 由描述磁的方程\\({ {\\bf{\\nabla}} \\cdot {\\bf{B}} = 0}\\)与矢量微分算子的“旋度场无源”这一性质，可以将矢量\\(\\bf{B}\\)替换为一个矢量的旋度。 定义矢量磁位\\({\\bf{B}} = {\\bf{\\nabla}} \\times {\\bf{A}}\\)。 标量电位 由磁生电的方程\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\) 移项得\\({\\bf{\\nabla}} \\times {\\bf{E}} + \\frac{\\partial {\\bf{B}}}{\\partial t} = 0\\) 将\\(\\bf{B}\\)表示为矢量磁位得\\({\\bf{\\nabla}} \\times {\\bf{E}} + \\frac{\\partial}{\\partial t} ({\\bf{\\nabla}} \\times {\\bf{A}}) = 0\\) 交换偏微分与矢量微分运算次序，得\\({\\bf{\\nabla}} \\times {\\bf{E}} + {\\bf{\\nabla}} \\times \\frac{\\partial {\\bf{A}}}{\\partial t} = 0\\) 合并同类项得\\({\\bf{\\nabla}} \\times ({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t}) = 0\\) 由矢量微分算子的性质“梯度场无旋”，可以将\\({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t}\\)替换为一个标量的梯度\\({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t} = -{\\bf{\\nabla}}\\Phi\\)。 整理得标量电位\\({\\bf{E}} = -{\\bf{\\nabla}}\\Phi -\\frac{\\partial {\\bf{A}}}{\\partial t}\\) 注：所替换的标量的梯度前有负号，是因为沿电场线方向，电势逐渐降低。电场增加的方向与电势增加的方向相反，所以电场强度为电势梯度的负数。 场矢量的微分方程 三个假设 ①所研究区域内媒质是线性、各向同性的（\\(\\varepsilon\\)、\\(\\mu\\)、\\(\\sigma\\)为常量） ②不包含电源区（\\({\\bf{J_s}}=0\\)，电流密度\\(\\bf{J}\\)包括源电流密度\\(\\bf{J_s}\\)与涡电流密度\\(\\bf{J_e}\\)） ③自由电荷体密度为0（\\(\\rho=0\\)，\\({\\bf{\\nabla}} \\cdot {\\bf{D}} = 0\\)） \\(\\bf{B}\\)的方程推导 从电生磁的方程出发\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\)① 两端同时取旋度\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{\\nabla}} \\times {\\bf{J}} + {\\bf{\\nabla}} \\times \\frac{\\partial {\\bf{D}}}{\\partial t}\\)② 交换运算次序\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{\\nabla}} \\times {\\bf{J}} + \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times {\\bf{D}})\\)③ 代入关系式\\({\\bf{B}}=\\mu{\\bf{H}}\\)，\\({\\bf{J}}=\\sigma{\\bf{E}}\\)，\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，得\\({\\bf{\\nabla}} \\times \\frac{1}{\\mu}{\\bf{\\nabla}} \\times {\\bf{B}} = {\\bf{\\nabla}} \\times \\sigma{\\bf{E}} + \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times \\varepsilon{\\bf{E}})\\)④ \\(\\varepsilon\\)、\\(\\mu\\)、\\(\\sigma\\)为常量，可以整理为\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{B}} = \\mu\\sigma{\\bf{\\nabla}} \\times {\\bf{E}} + \\mu\\varepsilon\\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times {\\bf{E}})\\)⑤ 代入磁生电的方程\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\)，得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{B}} = -\\mu\\sigma\\frac{\\partial {\\bf{B}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{B}}}{\\partial t^2}\\)⑥ 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{B}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{B}}) - {\\bf{\\nabla}}^2 {\\bf{B}}\\)与描述磁的方程\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\) 得\\(\\bf{B}\\)的方程式\\({\\bf{\\nabla}}^2 {\\bf{B}} -\\mu\\sigma\\frac{\\partial {\\bf{B}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{B}}}{\\partial t^2} =0\\)⑦ \\(\\bf{E}\\)的方程推导 从磁生电的方程出发\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\)① 两端同时取旋度\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = - {\\bf{\\nabla}} \\times \\frac{\\partial {\\bf{B}}}{\\partial t}\\)② 交换运算次序\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times {\\bf{B}})\\)③ 代入关系式\\({\\bf{B}}=\\mu{\\bf{H}}\\)与电生磁的方程\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\) 得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial}{\\partial t}[\\mu({\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t})] = -\\mu(\\frac{\\partial {\\bf{J}}}{\\partial t} + \\frac{\\partial^2 {\\bf{D}}}{\\partial t^2})\\)④ 代入关系式\\({\\bf{J}}=\\sigma{\\bf{E}}\\)与\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\) 得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = -\\mu\\sigma\\frac{\\partial {\\bf{E}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{E}}}{\\partial t^2}\\)⑤ 由描述电的方程与假设\\(\\rho=0\\)知\\({\\bf{\\nabla}} \\cdot {\\bf{D}} = 0\\)，又由关系式\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)知\\({\\bf{\\nabla}} \\cdot {\\bf{E}} = 0\\)⑥ 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{E}}) - {\\bf{\\nabla}}^2 {\\bf{E}}\\)与\\({\\bf{\\nabla}} \\cdot {\\bf{E}} = 0\\) 得\\(\\bf{E}\\)的方程式\\({\\bf{\\nabla}}^2 {\\bf{E}} -\\mu\\sigma\\frac{\\partial {\\bf{E}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{E}}}{\\partial t^2} =0\\)⑦ 在\\(\\bf{B}\\)的方程基础下代入关系式\\({\\bf{B}}=\\mu{\\bf{H}}\\)，可以得到\\(\\bf{H}\\)的方程： \\({\\bf{\\nabla}}^2 {\\bf{H}} -\\mu\\sigma\\frac{\\partial {\\bf{H}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{H}}}{\\partial t^2} =0\\) 在\\(\\bf{E}\\)的方程基础下代入关系式\\({\\bf{J}}=\\sigma{\\bf{E}}\\)，可以得到\\(\\bf{J}\\)的方程： \\({\\bf{\\nabla}}^2 {\\bf{D}} -\\mu\\sigma\\frac{\\partial {\\bf{D}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{D}}}{\\partial t^2} =0\\) 在\\(\\bf{E}\\)的方程基础下代入关系式\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，可以得到\\(\\bf{D}\\)的方程： \\({\\bf{\\nabla}}^2 {\\bf{J}} -\\mu\\sigma\\frac{\\partial {\\bf{J}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{J}}}{\\partial t^2} =0\\) 可以观察到五个方程在形式上完全相同，是齐次波动方程、单一矢量满足的微分方程（矢量方程）。 方程中电场和磁场解耦，但是求解困难，需要引入电磁位以便求解。 在没有电流与电荷的空间，\\(\\bf{B}\\)方程可简化为\\({\\bf{\\nabla}}^2 {\\bf{B}} = \\mu_0\\varepsilon_0\\frac{\\partial^2 {\\bf{B}}}{\\partial t^2}\\) \\(\\bf{E}\\)、\\(\\bf{H}\\)、\\(\\bf{D}\\)的方程同理，替换调方程中的\\(\\bf{B}\\)即可。 若取真空磁导率\\(\\mu_0=4\\pi\\times 10^{-7}H/m\\)，真空电容率\\(\\varepsilon_0=8.85\\times 10^{-12}F/m\\)则可计算出\\(v=\\frac{1}{\\sqrt{\\mu_0\\varepsilon_0}}=3 \\times 10^8 m/s\\)，为真空中的光速，Maxwell方程组预言了光是一种电磁波。 静态场中电磁位的引入及对应的微分方程 静电场 静态场不随时间变化，静电场中有\\({\\bf{\\nabla}} \\times {\\bf{E}} = 0\\) 令\\({\\bf{E}} = -{\\bf{\\nabla}}\\Phi\\)（标量电位） 由\\({\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho\\)与\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)得\\({\\bf{\\nabla}} \\cdot \\varepsilon{\\bf{E}} = {\\bf{\\nabla}} \\cdot \\varepsilon(-{\\bf{\\nabla}}\\Phi) = \\rho\\) 进而得\\({\\bf{\\nabla}}^2 \\Phi = -\\frac{\\rho}{\\varepsilon}\\)，该式被称作静电场电位的泊松方程。 在体电荷为零的区域，有\\({\\bf{\\nabla}}^2 \\Phi = 0\\)，该式被称作静电场电位的拉普拉斯方程。 静磁场 在电流密度为0的区域（\\({\\bf{J_s}}=0\\)），有\\({\\bf{\\nabla}} \\times {\\bf{H}} = 0\\) 引入标量磁位\\({\\bf{H}} = -{\\bf{\\nabla}}\\Phi_m\\) 由\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\)与\\({\\bf{B}} = \\mu{\\bf{H}}\\)得\\({\\bf{\\nabla}}^2 \\Phi_m = 0\\)，该式被称作静磁场中标量磁位的拉普拉斯方程。 当有电流存在时，\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J_s}}\\) 由\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\)引入矢量磁位\\({\\bf{B}} = {\\bf{\\nabla}} \\times {\\bf{A}}\\) 又由\\({\\bf{B}}=\\mu{\\bf{H}}\\)得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = \\mu{\\bf{J_s}}\\) 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}}\\)与库伦规范\\({\\bf{\\nabla}} \\cdot {\\bf{A}} = 0\\) 得\\({\\bf{\\nabla}}^2 {\\bf{A}} = -\\mu{\\bf{J_s}}\\)，该式被称作静磁场中矢量磁位的泊松方程。 涡流场中电磁位的引入及对应的微分方程 时变电磁场中存在导电媒质⇒涡流 处理工程问题，时变场频率较低（\\(f&lt;10^{10}Hz\\)），可以忽略电生磁方程中的\\(\\frac{\\partial {\\bf{D}}}{\\partial t}\\)，即\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}}\\)① 注：这里的电流密度\\(\\bf{J}=\\bf{J_s}+\\bf{J_e}\\)，其中涡电流密度\\(\\bf{J_e}\\)满足公式\\({\\bf{J_e}}=\\sigma{\\bf{E}}\\) 由描述磁的公式\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\)引入矢量磁位\\({\\bf{B}} = {\\bf{\\nabla}} \\times {\\bf{A}}\\)② 将②代入磁生电公式\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\)，得\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times {\\bf{A}})\\) 交换微分运算次序并整理得到\\({\\bf{\\nabla}} \\times ({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t}) = 0\\)③ 引入标量电位\\(\\Phi\\)，得\\({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t} = -{\\bf{\\nabla}}\\Phi\\)，即\\({\\bf{E}} = -\\frac{\\partial {\\bf{A}}}{\\partial t} -{\\bf{\\nabla}}\\Phi\\)④ 则涡电流密度可表示为\\({\\bf{J_e}}=\\sigma{\\bf{E}}=-\\sigma{\\bf{\\nabla}}\\Phi-\\sigma\\frac{\\partial {\\bf{A}}}{\\partial t}\\)⑤ 由②与\\({\\bf{B}}=\\mu{\\bf{H}}\\)得\\({\\bf{H}} = \\frac{1}{\\mu}{\\bf{\\nabla}} \\times {\\bf{A}}\\)⑥ 将③⑤⑥代入①，得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = \\mu\\bf{J_s} -\\mu\\sigma{\\bf{\\nabla}}\\Phi - \\mu\\sigma\\frac{\\partial {\\bf{A}}}{\\partial t}\\)⑦ 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}}\\)得\\({\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}} + \\mu\\sigma{\\bf{\\nabla}}\\Phi + \\mu\\sigma\\frac{\\partial {\\bf{A}}}{\\partial t} = \\mu\\bf{J_s}\\)⑧ 由描述电的公式\\({\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho\\)与\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，得\\({\\bf{\\nabla}} \\cdot {\\bf{E}} = \\frac{\\rho}{\\varepsilon}\\) 代入④可得\\({\\bf{\\nabla}} \\cdot (-\\frac{\\partial {\\bf{A}}}{\\partial t} -{\\bf{\\nabla}}\\Phi) = \\frac{\\rho}{\\varepsilon}\\) 交换微分运算次序并整理得到\\({\\bf{\\nabla}}^2 \\Phi + \\frac{\\partial}{\\partial t} ({\\bf{\\nabla}} \\cdot {\\bf{A}}) = -\\frac{\\rho}{\\varepsilon}\\)⑨ 为了保证\\({\\bf{A}}\\)的唯一性，使⑧和⑨解耦，定义\\({\\bf{\\nabla}} \\cdot {\\bf{A}} = -\\mu\\sigma\\Phi\\)（电导率规范） 得到涡流场中电磁位满足的非齐次微分方程： \\({\\bf{\\nabla}}^2 {\\bf{A}} - \\mu\\sigma\\frac{\\partial {\\bf{A}}}{\\partial t} = -\\mu\\bf{J_s}\\)⑩ \\({\\bf{\\nabla}}^2 \\Phi - \\mu\\sigma\\frac{\\partial\\Phi}{\\partial t} = -\\frac{\\rho}{\\varepsilon}\\)⑪ 高频电磁场中电磁位的引入及微分方程 假设研究区域为线性，各向同性，无导电媒质。 由电生磁的方程\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\)① 考虑高斯磁场方程\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\)② 引入矢量磁位\\({\\bf{B}} = {\\bf{\\nabla}} \\times {\\bf{A}}\\)③ 代入磁生电方程\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\)④ \\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t} = - \\frac{\\partial ({\\bf{\\nabla}} \\times {\\bf{A}})}{\\partial t} = - {\\bf{\\nabla}} \\times \\frac{\\partial {\\bf{A}}}{\\partial t}\\)⇒\\({\\bf{\\nabla}} \\times ({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t})=0\\)⑤ 引入标量电位\\({\\bf{E}} = - \\frac{\\partial{\\bf{A}}}{\\partial t} - {\\bf{\\nabla}}\\Phi\\)⑥ 将关系式\\({\\bf{B}}=\\mu{\\bf{H}}\\)，\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)以及③与⑥代入① 得到\\({\\bf{\\nabla}} \\times ({\\bf{\\nabla}} \\times {\\bf{A}}) + \\mu\\varepsilon\\frac{\\partial}{\\partial t}({\\bf{\\nabla}}\\Phi) + \\mu\\varepsilon\\frac{\\partial^2 {\\bf{A}}}{\\partial t^2} = \\mu {\\bf{J_s}}\\)⑦ 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}}\\) 得到\\({\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}} + \\mu\\varepsilon\\frac{\\partial}{\\partial t}({\\bf{\\nabla}}\\Phi) + \\mu\\varepsilon\\frac{\\partial^2 {\\bf{A}}}{\\partial t^2} = \\mu {\\bf{J_s}}\\)⑧ 将关系式\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)以及③与⑥代入高斯电场定律 \\({\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho\\)⇒\\({\\bf{\\nabla}} \\cdot \\varepsilon{\\bf{E}} = \\rho\\)⇒\\({\\bf{\\nabla}} \\cdot (-\\frac{\\partial{\\bf{A}}}{\\partial t} - {\\bf{\\nabla}}\\Phi) = \\frac{\\rho}{\\varepsilon}\\)⇒\\({\\bf{\\nabla}}^2 \\Phi + \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\cdot {\\bf{A}}) = -\\frac{\\rho}{\\varepsilon}\\)⑨ 定义\\({\\bf{A}}\\)的散度\\({\\bf{\\nabla}} \\cdot {\\bf{A}} = -\\mu\\varepsilon\\frac{\\partial \\Phi}{\\partial t}\\)（洛伦兹规范） 由⑧得到\\({\\bf{\\nabla}}^2 {\\bf{A}} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{A}}}{\\partial t^2} = -\\mu {\\bf{J_s}}\\)⑩ 由⑨得到\\({\\bf{\\nabla}}^2 \\Phi - \\mu\\varepsilon\\frac{\\partial^2 \\Phi}{\\partial t^2} = -\\frac{\\rho}{\\varepsilon}\\)⑪ 通过引入洛伦兹规范，电场与磁场实现了解耦，解耦后的方程被称作达朗贝尔方程。 矢量磁位的物理意义 计算磁通\\(\\Phi\\) 由斯托克斯定理\\(\\Phi=\\int_S{ {\\bf{B}}d{\\bf{s}}}=\\int_S{({\\bf{\\nabla}}\\times{\\bf{A}})d{\\bf{s}}}=\\oint_l{ {\\bf{A}}d{\\bf{l}}}\\) 对于二维场\\(\\bf{A}\\)只有\\(A_z\\)分量，有\\(\\Phi=\\oint_l{ {\\bf{A}}d{\\bf{l}}}=(A_{1z}-A_{2z})L\\) 使用\\(\\bf{A}\\)而非\\(\\bf{B}\\)计算磁通，可以确保计算的准确性。 计算感生电动势 \\(e=-\\frac{\\partial \\Phi}{\\partial t}=-\\frac{\\partial}{\\partial t}\\oint_l{ {\\bf{A}}d{\\bf{l}}}=-\\oint_l{\\frac{\\partial {\\bf{A}}}{\\partial t}d{\\bf{l}}}\\) 画二维磁场（证明磁力线是等A线） 二维磁场如下图所示，其拥有\\(B_x\\)、\\(B_y\\)、\\(A_z\\)分量。 \\({\\bf{B}}\\times d{\\bf{l}}=0\\) \\({\\bf{B} } = {\\bf{\\nabla} } \\times {\\bf{A} } = \\left| {\\begin{array}{*{20}{c}}{\\bf{i}}&amp;{\\bf{j}}&amp;{\\bf{k}} \\\\ {\\frac{\\partial }{ {\\partial x}}}&amp;{\\frac{\\partial }{ {\\partial y}}}&amp;{\\frac{\\partial}{ {\\partial z}}} \\\\ {0}&amp;{0}&amp;{A_z} \\end{array}} \\right| = \\frac{\\partial A_z}{\\partial y}{\\bf{i}} - \\frac{\\partial A_z}{\\partial x}{\\bf{j}} = B_x{\\bf{i}} + B_y{\\bf{j}}\\) \\(d{\\bf{l}}=dx{\\bf{i}}+dy{\\bf{j}}\\) \\({\\bf{B}}\\times d{\\bf{l}} = \\left| {\\begin{array}{*{20}{c}}{\\bf{i}}&amp;{\\bf{j}}&amp;{\\bf{k}} \\\\ {\\frac{\\partial A_z}{ {\\partial y}}}&amp;{\\frac{\\partial A_z}{ {\\partial x}}}&amp;{0} \\\\ {dx}&amp;{dy}&amp;{0} \\end{array}} \\right| = 0{\\bf{i}} + 0{\\bf{j}} + (\\frac{\\partial A_z}{ {\\partial y}}dy+\\frac{\\partial A_z}{ {\\partial x}}dx){\\bf{k}} =0\\) 由\\(\\bf{A}\\)只有\\(A_z\\)分量，可知\\(d{\\bf{A}}=\\frac{\\partial A}{ {\\partial x}}dx+\\frac{\\partial A}{ {\\partial y}}dy=0\\) 即A是常量，得证二维磁场的磁力线是等A线。 图1 证明磁力线是等A线 计算磁场能量 磁场能量密度\\(\\omega_m=\\frac{1}{2}{\\bf{H}}{\\bf{B}}\\) 由\\({\\bf{B} } = {\\bf{\\nabla} } \\times {\\bf{A} }\\)与\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}}\\)可知 \\(\\omega_m=\\frac{1}{2}{\\bf{H}}{\\bf{B}}=\\frac{1}{2}{\\bf{H}}\\cdot({\\bf{\\nabla}}\\times{\\bf{A}})=\\frac{1}{2}{\\bf{\\nabla}}\\cdot({\\bf{A}}\\times{\\bf{H}})+\\frac{1}{2}{\\bf{A}}\\cdot({\\bf{\\nabla}}\\times{\\bf{H}})=\\frac{1}{2}{\\bf{\\nabla}}\\cdot({\\bf{A}}\\times{\\bf{H}})+\\frac{1}{2}{\\bf{A}}\\cdot{\\bf{J}}\\) 注：使用了运算公式\\({\\bf{\\nabla}} \\cdot ({\\bf{A}} \\times {\\bf{B}}) = {\\bf{B}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{A}}) - {\\bf{A}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{B}})\\) 对整个空间积分，得到磁场总能量\\(W_m=\\int_V{\\omega_mdV}=\\frac{1}{2}\\int_V{ {\\bf{\\nabla}}\\cdot({\\bf{A}}\\times{\\bf{H}})dV}+\\frac{1}{2}\\int_V{ {\\bf{A}}\\cdot{\\bf{J}}dV}\\) 由散度定理，得等式右侧第一项\\(\\frac{1}{2}\\int_V{ {\\bf{\\nabla}}\\cdot({\\bf{A}}\\times{\\bf{H}})dV}=\\frac{1}{2}\\oint_S{({\\bf{A}}\\times{\\bf{H}})dS}\\) 当\\(R \\to \\infty\\)时，\\(A \\propto \\frac{1}{R}\\)，\\(H \\propto \\frac{1}{R^2}\\)，\\(S \\propto R^2\\) 可知\\({\\bf{A}}\\times{\\bf{H}}dS \\propto \\frac{1}{R}\\)，\\(\\frac{1}{2}\\oint_S{({\\bf{A}}\\times{\\bf{H}})dS} \\to 0\\) 得\\(W_m=\\frac{1}{2}\\int_V{ {\\bf{A}}\\cdot{\\bf{J}}dV}\\) 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"电磁场数值分析与计算02-Maxwell方程组","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算02-Maxwell方程组","date":"2023-09-18T00:14:46.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算02-Maxwell方程组/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9702-Maxwell%E6%96%B9%E7%A8%8B%E7%BB%84/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 描述电的方程 库伦定律：真空中两个静止的点电荷之间的相互作用力，与它们的电荷量的乘积成正比，与它们的距离的二次方成反比，作用力的方向在它们的连线上，同名电荷相斥，异名电荷相吸。 \\[{\\bf{F}}=\\frac{q_1 q_2}{(4\\pi\\varepsilon_0 r)^2} {\\bf{e_r}}\\] 电通量：电场线通过一个曲面的数量。 高斯电场定律：电荷产生电场，场通过任意闭合曲面的通量正比于曲面所包围的电荷总量。 积分形式：\\(\\oint\\limits_S { {\\bf{E}}d{\\bf{s}}} = \\frac{Q}{\\varepsilon_0}\\) 微分形式：\\({ {\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho}\\)或\\({ {\\bf{\\nabla}} \\cdot {\\bf{E}} = \\frac{Q}{\\varepsilon_0}}\\) 注：处理的是空间中某一点处电场的散度与电荷密度的关系。 注：散度值不为零，说明电场是有源场。 注：\\({\\bf{D}} = \\varepsilon_0{\\bf{E}}\\) 注：高斯电场定律由库仑定律导出。 描述磁的方程 磁通量：磁感线通过一个曲面的数量。 高斯磁场定律：通过一个闭合曲面的磁通量与这个曲面包含的磁荷量成正比。 积分形式：\\(\\oint\\limits_S { {\\bf{B}}d{\\bf{s}}} = 0\\) 注：场穿过闭合曲面的通量是零。 微分形式：\\({ {\\bf{\\nabla}} \\cdot {\\bf{B}} = 0}\\) 注：磁场的散度处处为零，说明磁场是无源场。 注：磁感线是一条闭合的曲线，闭合曲面包含的磁通量恒为零。 描述磁生电的方程 法拉第发现电磁感应现象：闭合回路中导体切割磁感线运动或改变磁场强度时，回路中产生电流。 结论：只要曲面的磁通量发生变化，回路中就会产生电流。 磁通量变化⇒曲面的边量感生电场⇒导体中的自由电荷定向移动⇒产生电流 楞次定律：感应电流磁场总是阻碍引起感应电流磁通的变化。 电场环流：电场沿闭合路径的积分\\(\\oint\\limits_C { {\\bf{E}}d{\\bf{l}}}\\)。 电场环流的意义：电场对沿着这条路径的单位电荷所作的功（电动势）。 法拉第电磁感应定律：曲面的磁通量变化率等于感生电场的环流。 物理意义：变化的磁通量如何产生电场。 积分形式：\\(\\oint\\limits_C { {\\bf{E}}d{\\bf{l}}} = - \\frac{d}{dt}\\int\\limits_S { {\\bf{B}}d{\\bf{s}}}\\) 微分形式：\\({ {\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}}\\) 注：随时间变化的磁场产生环绕的电场。 描述电生磁的方程 磁效应：电流也能像磁铁一样影响周围的小磁针。电流周围存在磁场。 描述电流在空间中的磁场分布，电流微元在空间某个位置产生的磁场大小： 【解1】比奥—萨伐尔定律(Biot-Savart Law)： 电流元\\(Id{\\bf{l}}\\)在空间一点P产生的磁感应强度\\(d{\\bf{B}}=\\frac{\\mu_0}{4\\pi} \\frac{Id{\\bf{l}}\\times {\\bf{e_r}}}{r^2}\\) 整个载流导线在P处的磁感强度\\({\\bf{B}}=\\frac{\\mu_0}{4\\pi} \\int\\limits_L \\frac{Id{\\bf{l}}\\times {\\bf{e_r}}}{r^2}\\) 图1 比奥—萨伐尔定律 电流元\\(Id{\\bf{l}}\\)在空间某点P处产生的磁感应强度\\(d{\\bf{B}}\\)的大小与电流元\\(Id{\\bf{l}}\\)的大小成正比，与电流元\\(Id{\\bf{l}}\\)所在处到P点的位置矢量和电流元\\(Id{\\bf{l}}\\)之间的夹角的正弦成正比（叉乘），与电流元\\(Id{\\bf{l}}\\)到P点的距离的平方成反比。 缺点：过于繁琐，不好计算。 【解2】安培环路定理： 磁场强度\\(H\\)沿任何闭合路径的线积分，等于这闭合路径所包围的各个电流的代数和。 \\(Hl=NI\\)，\\(\\int\\limits_l { {\\bf{H}}d{\\bf{l}}} = \\sum I\\) 适合处理电流周围的磁场，但未能体现变化的电流所产生的磁场。 【解3】安培—麦克斯韦定律：穿过曲面的电通量的变化率和曲面包含的变化率等于感生电场的环流。 \\[\\oint\\limits_C { {\\bf{B}}d{\\bf{l}}} = {\\mu _0}({I_{enc}} + {\\varepsilon _0}\\frac{d}{dt}\\int\\limits_s { {\\bf{E}}d{\\bf{s}}} )\\] \\[\\oint\\limits_C { {\\bf{H}}d{\\bf{l}}} = {I_{enc}} + {\\varepsilon _0}\\frac{d}{dt}\\int\\limits_s { {\\bf{E}}d{\\bf{s}}}\\] 该定律阐明磁场可以用两种方法生成。一种是靠传导电流，另一种是靠时变电场，或称位移电流。 其中\\(I_{enc}\\)为包含(enclosed)在闭合路径里的总电流（传导电流），也是安培环路定理中的\\(\\sum I\\)。 \\({\\varepsilon _0}\\frac{d}{dt}\\int\\limits_s{ {\\bf{E}}d{\\bf{s}}}\\)是电场的变化率（位移电流），\\(\\varepsilon _0\\)为静电常数，\\(\\frac{d}{dt}\\int\\limits_s{ {\\bf{E}}d{\\bf{s}}}\\)是电通量的变化率（描述变化的电场）。 微分形式：\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\) 注：电流及变化的电场能产生环绕的磁场。 电磁性能关系式 媒质的本构关系式： \\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，\\({\\bf{B}}=\\mu{\\bf{H}}\\)，\\({\\bf{J}}=\\sigma{\\bf{E}}\\) 其中\\(\\varepsilon\\)为电容率（介电常数），单位F/m。 常见绝缘材料有油、绝缘纸。 真空电容率\\(\\varepsilon_0=8.85\\times 10^{-12}F/m\\)，相对电容率（相对于真空电容率的倍数）\\(\\varepsilon_{r空气}=1.005\\)，\\(\\varepsilon_{r水}=81.5\\)。 其中\\(\\mu\\)为磁导率，单位H/m。 常见导磁材料有硅钢片、永磁体。 真空磁导率\\(\\mu_0=4\\pi\\times 10^{-7}H/m\\)，相对磁导率\\(\\mu_{r空气}=1\\)，\\(\\mu_{r硅钢片}=7000 \\sim 10000\\)。 其中\\(\\sigma\\)为电导率，单位S/m，反映电荷流动的难易程度。其倒数为电阻率\\(\\rho\\)，单位为\\(\\Omega \\cdot m\\)。 常见导电材料有铜和铝。其电导率\\(\\sigma_{Cu}=5.96 \\times 10^7 S/m\\)，\\(\\sigma_{Al}=2.2 \\times 10^7 S/m\\)。 电流连续性方程 积分形式：描述一定区域中场的规律，便于说明方程的物理意义。 \\[\\oint\\limits_S { {\\bf{J}}d{\\bf{s}}} = \\int\\limits_V { {\\bf{\\nabla}} \\times {\\bf{J}}}dV = -\\frac{\\partial Q}{\\partial t}\\] 微分形式：描述场域中某一点的特性，便于计算机运算。 \\[{\\bf{\\nabla}} \\times {\\bf{J}} = -\\frac{\\partial \\rho}{\\partial t}\\] 洛伦兹力方程 \\[{\\bf{F}}=q({\\bf{E}}+{\\bf{v}} \\times {\\bf{B}})\\] 其中前半部分\\({\\bf{F}}=q{\\bf{E}}\\)为电场力公式，即电荷置于电场中所受到的作用力。 后半部分\\({\\bf{F}}=q{\\bf{v}} \\times {\\bf{B}}\\)为磁场力，是磁场对运动电荷的作用力。 矢量场的分类 按照场变量随时间的变化速度，可以分为静态场、似稳场（缓变场）、高频电磁场。 似稳场指的是频率较低（如50Hz）的电场。似稳场只考虑磁场变化产生的电场（传导电流），不考虑电场变化产生的磁场（位移电流）。 电生磁方程式\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\)的右边第二项\\(\\frac{\\partial {\\bf{D}}}{\\partial t}\\)对应位移电流（记作\\(\\bf{J_D}\\)），其可以用向量表示为\\(j\\omega \\dot D\\)，结合电磁性能关系式\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)与\\({\\bf{J}}=\\sigma{\\bf{E}}\\)可以得到下面的式子： \\[\\frac{J_D}{J}=\\frac{\\omega D}{\\sigma E}=\\frac{\\omega\\varepsilon E}{\\sigma E}=2\\pi f\\frac{\\varepsilon}{\\sigma}\\] 这里取\\(f=50Hz\\)、\\(\\varepsilon=8.85\\times 10^{-12}F/m\\)、\\(\\sigma=10^7 S/m\\)，得到的比值\\(\\frac{J_D}{J}&lt;10^{-7}\\)，这说明\\(J_D \\ll J\\)。说明在低频电磁场（电工装备工程问题）中，位移电流\\(J_D\\)可以忽略。 静态场(Magnetostatic Field)指的是各场量不随时间变化的矢量场。 \\[静电场\\left\\{ {\\begin{array}{*{20}{c}} 电荷在空间的位置固定不变 \\\\ 所有电荷密度不随时间变化 \\\\ 电荷是电场的源 \\end{array}} \\right.\\xrightarrow{求解后}\\left\\{ {\\begin{array}{*{20}{c}} 所研究区域中任意一点的电场强度 \\\\ 所研究区域中电位的分布 \\\\ 电荷在电场中收到的力 \\\\ 所研究区域中的能量W_e=\\frac{1}{2}{\\bf{D}}{\\bf{E}} \\end{array}} \\right.\\] \\[电荷 \\to 电流\\left\\{ {\\begin{array}{*{20}{c}}{恒定电流 \\Rightarrow 恒定磁场\\left\\{ {\\begin{array}{*{20}{c}}研究区域内任意一点的磁场强度 \\\\ 研究区域内任意一点的磁感应强度 \\\\ 磁通量\\Phi \\\\ 研究区域内的能量分布W_m=\\frac{1}{2}{\\bf{B}}{\\bf{H}} \\end{array}} \\right.} \\\\ 时变电流 \\Rightarrow 时变磁场 \\end{array}} \\right.\\] 时变场(Time Varying Field)指的是激励(Excitation)随时间变化的磁场。 磁场分析： 含有导电材料的时变场⇒涡流场(Eddy Current Field) 激励电流随时间按正弦变化⇒正弦稳态涡流场 激励电流随时间按任意波形变化⇒瞬态场(Transient Field) 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"电磁场数值分析与计算01-场论","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算01-场论","date":"2023-09-15T07:05:41.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算01-场论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9701-%E5%9C%BA%E8%AE%BA/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 基础概念 标量(Scalar)：只有大小，没有方向的量。如质量、温度、电流等。 矢量(Vector)：既有大小又有方向的量。如力、速度、电场强度、电流密度等。 单位矢量\\(\\bf{e}\\)：模为1的矢量。 矢量的加减：遵循平行四边形法则。 矢量的数乘：矢量的模乘以对应的倍数，乘以正数时方向不变，乘以负数时方向相反。 矢量的点积：\\(\\bf{A} \\cdot \\bf{B} = |\\bf{A}||\\bf{B}|\\cos \\theta\\)（所得结果是一个数） 图1 矢量的点积 矢量的叉积：\\(\\bf{A} \\times \\bf{B} = \\left| {\\begin{array}{*{20}{c}} \\bf{i}&amp;\\bf{j}&amp;\\bf{k} \\\\ A_x&amp;A_y&amp;A_z \\\\ B_x&amp;B_y&amp;B_z \\end{array}} \\right|=|\\bf{A}||\\bf{B}|\\sin \\theta \\bf{e}\\) 其中\\({\\bf{A} }=(A_x,A_y,A_z)\\)、\\({\\bf{B} }=(B_x,B_y,B_z)\\)。矢量\\(\\bf{e}\\)的方向与矢量\\(\\bf{A}\\)和\\(\\bf{B}\\)所在的平面垂直，\\(\\bf{A}\\)、\\(\\bf{B}\\)、\\(\\bf{e}\\)成右手系。 图2 矢量的叉积 场的定义： (1)物理定义：在一个被界定的或无限扩展的空间内，处处存在着某种必须予以重视，研究的效应。 (2)数学定义：场是一个函数，描述在空间特定区域内每一个点上的某一物理量。 场的分类： 标量场(Scalar Field)：用标量函数表示的场，如温度场\\(T(x,y,z,t)\\)，注意这里的\\(t\\)是温度场的一个变量——时间，不是温度。 矢量场(Vector Field)：用矢量函数表示的场，如力场可表示为： \\[{\\bf{F} }(x,y,z,t)=F_x(x,y,z,t){\\bf{x} }+F_y(x,y,z,t){\\bf{y} }+F_z(x,y,z,t){\\bf{z} }\\] 其中\\(F_x\\)、\\(F_y\\)、\\(F_z\\)为坐标轴方向的投影分量，\\(\\bf{x}\\)、\\(\\bf{y}\\)、\\(\\bf{z}\\)为坐标轴方向单位矢量。 按照场函数值是否随时间变化而变化，即场函数中是否含有时间变量，可以将场分为稳定场(Steady Field)与时变场(Time Varying Field)。 梯度 梯度用于描述标量场的空间变化率，只有标量场有梯度，矢量场没有梯度。 图3 梯度 推导过程：令\\(f(x,y,z)\\)为\\(x\\)、\\(y\\)、\\(z\\)的可微函数 \\(\\begin{gathered} {df} = \\frac{\\partial f}{\\partial x}dx + \\frac{\\partial f}{\\partial y}dy + \\frac{\\partial f}{\\partial z}dz \\hfill \\\\ = (\\frac{\\partial f}{\\partial x}{\\bf{i} },\\frac{\\partial f}{\\partial y}{\\bf{j} },\\frac{\\partial f}{\\partial z}{\\bf{k} }) \\cdot (dx{\\bf{i} },dy{\\bf{j} },dz{\\bf{k} }) \\hfill \\\\ = (\\frac{\\partial f}{\\partial x}{\\bf{i} },\\frac{\\partial f}{\\partial y}{\\bf{j} },\\frac{\\partial f}{\\partial z}{\\bf{k} }) \\cdot d{\\bf{l} } = {\\bf{N} } \\cdot d{\\bf{l} } \\hfill \\\\ \\end{gathered}\\) 方向导数\\(\\frac{df}{dl}={\\bf{N} } \\cdot \\frac{d{\\bf{l} } }{dl} = {\\bf{N} } \\cdot {\\bf{a_l} } = N{\\bf{a_n} } \\cdot {\\bf{a_l} } \\Rightarrow {\\left. {\\frac{df}{dl} } \\right|_{\\max} } = N\\) 其中\\(d{\\bf{l} }=(dx{\\bf{i} },dy{\\bf{j} },dz{\\bf{k} })\\)为长度微元，\\(\\bf{a_l}\\)为沿\\(d{\\bf{l} }\\)方向的单位矢量。 矢量\\(\\bf{N}\\)为标量函数的梯度，\\(\\bf{a_n}\\)为沿梯度方向的单位矢量。当\\(\\bf{a_n}\\)与\\(\\bf{a_l}\\)的夹角为0（重叠时），方向导数\\(\\frac{df}{dl}\\)取得最大值\\(N\\)，这个最大值\\(N\\)就是函数\\(f\\)在所研究点的最大变化率，即梯度的大小（梯度的模）。梯度的方向是发生最大变化率的方向（\\(\\bf{a_n}\\)的方向）。 梯度公式\\(grad{\\bf{f} } = {\\bf{\\nabla} } f = \\frac{\\partial f}{\\partial x}{\\bf{i} }+\\frac{\\partial f}{\\partial y}{\\bf{j} }+\\frac{\\partial f}{\\partial z}{\\bf{k} }\\) 梯度的模\\(|{\\bf{\\nabla} } f|=\\sqrt{(\\frac{\\partial f}{\\partial x})^2+(\\frac{\\partial f}{\\partial y})^2+(\\frac{\\partial f}{\\partial z})^2}\\) 注：方向导数是标量，梯度是矢量。 散度 场线（矢量线）：曲线上每一点的切线方向代表了该点矢量场的方向。曲线的疏密程度反映矢量的大小变化趋势。 图4 场线 通量的物理意义：反映某一空间内场源点的特性。 若为开放曲面，则有通量\\(\\Phi = \\iint\\limits_S { {\\bf{B} }(x,y,z){\\bf{n} } }\\cdot ds\\) 若为闭合曲面，则有通量\\(\\Phi = \\oint\\limits_S { {\\bf{B} }(x,y,z){\\bf{n} } }\\cdot ds\\) 若\\(\\Phi&gt;0\\)，穿出多于穿入，说明S内有发出矢量线的正源； 若\\(\\Phi&lt;0\\)，穿出少于穿入，说明S内有汇集矢量线的负源； 若\\(\\Phi=0\\)，穿出等于穿入，说明S内无源或源的正负代数和为0； 散度用于描述矢量场中某一点处单位体积内所发出的流通量（流通量是标量函数，也就是说散度是标量）。 散度公式：\\(div{\\bf B} = \\mathop {\\lim }\\limits_{\\Delta V \\to 0} \\frac{ {\\oint\\limits_{\\Delta S} { {\\bf B} \\cdot d{\\bf S} } } }{\\Delta V}\\) 推导过程： 图5 散度数学推导 取中心点\\(M(x,y,z)\\)。 对于平面\\(S_1\\)(▱ABCD)有\\(\\iint\\limits_{S_1} { {\\bf{B} } \\cdot {\\bf{n} } }ds =\\iint\\limits_{S_1} { {\\bf{B} } \\cdot {\\bf{i} } }ds = \\iint\\limits_{S_1} {B_x}ds\\) \\(\\approx \\iint\\limits_{S_1} {B_x}(x + \\frac{\\Delta x}{2},y,z)ds = B_x(x + \\frac{\\Delta x}{2},y,z)\\Delta y\\Delta z\\)① 这里使用▱ABCD中心点\\((x + \\frac{\\Delta x}{2},y,z)\\)的函数值来近似代表平面上各点的函数值。 同理，对于平面\\(S_2\\)(▱EFGH)有\\(\\iint\\limits_{S_2} { {\\bf{B} } \\cdot {\\bf{n} } }ds = -\\iint\\limits_{S_2} {B_x}ds = -B_x(x - \\frac{\\Delta x}{2},y,z)\\Delta y\\Delta z\\)② 由式①②得\\(\\iint\\limits_{S_1 + S_2} { {\\bf{B} } \\cdot {\\bf{n} } }ds = {B_x}(x + \\frac{ {\\Delta x} }{2},y,z)\\Delta y\\Delta z - {B_x}(x - \\frac{ {\\Delta x} }{2},y,z)\\Delta y\\Delta z = \\frac{ {[{B_x}(x + \\frac{ {\\Delta x} }{2},y,z) - {B_x}(x - \\frac{ {\\Delta x} }{2},y,z)]\\Delta x\\Delta y\\Delta z} }{ {\\Delta x} }\\) 取\\(\\Delta V=\\Delta x\\Delta y\\Delta z\\)，得\\(\\frac{\\iint\\limits_{ {S_1} + {S_2} } { {\\bf{B} } \\cdot {\\mathbf{n} } }ds}{\\Delta V} \\approx \\frac{ { {B_x}(x + \\frac{\\Delta x}{2},y,z) - {B_x}(x - \\frac{\\Delta x}{2},y,z)} }{\\Delta x}\\) \\(\\mathop {\\lim }\\limits_{V \\to 0} \\frac{ {\\iint\\limits_{ {S_1} + {S_2} } { {\\bf{B} } \\cdot {\\bf{n} } }ds} }{\\Delta V} = \\frac{\\partial {B_x} }{\\partial x}\\) 同理，对于平面\\(S_3\\)(▱BCFE)与平面\\(S_4\\)(▱ADGH)，有\\(\\mathop {\\lim }\\limits_{V \\to 0} \\frac{ {\\iint\\limits_{ {S_3} + {S_4} } { {\\bf{B} } \\cdot {\\bf{n} } }ds} }{\\Delta V} = \\frac{\\partial {B_y} }{\\partial y}\\) 对于平面\\(S_5\\)(▱CDGF)与平面\\(S_6\\)(▱ABEH)，有\\(\\mathop {\\lim }\\limits_{V \\to 0} \\frac{ {\\iint\\limits_{ {S_5} + {S_6} } { {\\bf{B} } \\cdot {\\bf{n} } }ds} }{\\Delta V} = \\frac{\\partial {B_z} }{\\partial z}\\) 综上可得\\(\\mathop {\\lim }\\limits_{\\Delta V \\to 0} \\frac{ {\\oint\\limits_{\\Delta S} { {\\bf B} \\cdot d{\\bf S} } } }{\\Delta V} = \\frac{\\partial {B_x} }{\\partial x} + \\frac{\\partial {B_y} }{\\partial y} + \\frac{\\partial {B_z} }{\\partial z} = div{\\bf B} = \\bf{\\nabla} \\cdot \\bf{B}\\) 注：\\({\\bf n}\\cdot ds=d{\\bf S}\\) \\[div{\\bf{B} } = \\bf{\\nabla} \\cdot {\\bf{B} }\\left\\{ {\\begin{array}{*{20}{c} } { &gt; 0 } \\\\ { &lt; 0 } \\\\ { = 0 } \\end{array} } \\right. \\begin{array}{*{20}{c} } 正源 \\\\ 负源 \\\\ 无源或抵消 \\end{array}\\] 散度的物理意义： (1)表征矢量场的通量源的分布特性； (2)空间中通量源的密度。 注：通量密度是矢量，通量（散度）是标量。 散度定理：一个矢量场从封闭表面向外的净通量等于该矢量的散度在该表面所包围区域中的体积分。 \\[\\int\\limits_V {\\bf{\\nabla} \\cdot {\\bf{B} } } dV = \\oint\\limits_S { {\\bf{B} }d{\\bf{S} } }\\] 旋度 矢量场的环量：矢量\\(\\bf{A}\\)沿空间有向闭合曲线\\(L\\)的线积分。环量可以用于描述矢量线的形状，描述较大区域内矢量场的涡旋性质。 \\[\\Gamma = \\oint\\limits_c { {\\bf{A} }d{\\bf{l} } }\\] 若\\(\\Gamma \\ne 0\\)，则闭合曲线内必有旋涡源，若\\(\\Gamma = 0\\)，则闭合曲线内无旋涡源。 矢量场的环量面密度：在矢量场的一点M取单位矢量\\(\\bf{n}\\)，并在M点周围取小闭合回路\\(\\Delta l\\)，令\\(\\Delta l\\)环绕方向与\\(\\bf{n}\\)构成右手螺旋关系，作一个过M点且以\\(\\Delta l\\)为边界，\\(\\bf{n}\\)为法线方向的小曲面\\(\\Delta S\\)。若极限\\(\\mathop {\\lim }\\limits_{\\Delta S \\to 0} \\frac{ {\\oint\\limits_{\\Delta l} { {\\bf{A} }d{\\bf{l} } } } }{\\Delta S}\\)存在，则该极限值为矢量场\\(\\bf{A}\\)在M点沿方向\\(\\bf{n}\\)的环量面密度。 矢量场的旋度：若有一矢量，其大小等于某点最大环量面密度，方向为该环的法线方向，那么该矢量称为该点矢量场的旋度。 \\[rot {\\bf{A} } = {\\bf{n} } \\mathop {\\lim }\\limits_{\\Delta S \\to 0} \\frac{ {\\oint\\limits_{\\Delta l} { {\\bf{A} }d{\\bf{l} } } } }{\\Delta S}\\] 推导过程： 图6 旋度数学推导 取▱ABCD的中心点坐标为\\(M(x,y,z)\\)。 对于▱ABCD上的路径\\(C_B\\)：\\(\\int\\limits_{C_B} { {\\bf{A}} \\cdot {\\bf{t} } } dl = \\int\\limits_{C_B} {A_x} dx \\approx {A_x}(x,y - \\frac{\\Delta y}{2},z)\\Delta x\\)① 对于▱ABCD上的路径\\(C_T\\)：\\(\\int\\limits_{C_T} { {\\bf{A}} \\cdot {\\bf{t} } } dl = -\\int\\limits_{C_T} {A_x} dx \\approx - {A_x}(x,y + \\frac{\\Delta y}{2},z)\\Delta x\\)② 取\\(\\Delta S=\\Delta x\\Delta y\\)，由式①②得\\(\\int\\limits_{C_B + C_T} { {\\bf{A}} \\cdot {\\bf{t} } } dl\\) \\(= {A_x}(x,y - \\frac{\\Delta y}{2},z)\\Delta x - {A_x}(x,y + \\frac{\\Delta y}{2},z)\\Delta x\\) \\(= -[{A_x}(x,y + \\frac{\\Delta y}{2},z) - {A_x}(x,y - \\frac{\\Delta y}{2},z)]\\Delta x\\) \\(= - \\frac{ {A_x}(x,y + \\frac{\\Delta y}{2},z) - {A_x}(x,y - \\frac{\\Delta y}{2},z)}{\\Delta y} \\Delta S\\) 进而得\\(\\mathop {\\lim }\\limits_{\\Delta S \\to 0} \\frac{ {\\int\\limits_{ {C_B} + {C_T}} { {\\bf{A}} \\cdot {\\mathbf{t}}} dl}}{\\Delta S} = - \\frac{ {A_x}(x,y + \\frac{\\Delta y}{2},z) - {A_x}(x,y - \\frac{\\Delta y}{2},z)}{\\Delta y} \\approx - \\frac{\\partial A_x}{\\partial y}\\)③ 同理，对▱ABCD上的路径\\(C_L\\)与\\(C_R\\)进行计算，得到\\(\\mathop {\\lim }\\limits_{\\Delta S \\to 0} \\frac{ {\\int\\limits_{ {C_L} + {C_R}} { {\\bf{A}} \\cdot {\\mathbf{t}}} dl}}{\\Delta S} \\approx \\frac{\\partial A_y}{\\partial x}\\)④ 由③④可知，以向量\\(\\bf{k}\\)（z轴正方向）为法线方向时，有\\(\\oint\\limits_{ {C_L} + {C_R} + {C_B} + {C_T}} { {\\bf{A}} \\cdot {\\bf{t}}} dl = \\frac{\\partial A_y}{\\partial x} - \\frac{\\partial A_x}{\\partial y}\\)⑤ 同理，对法线向量为\\(\\bf{i}\\)（x轴正方向）的平面▱AEFB上的路径进行计算，得到对应的值为\\(\\frac{\\partial A_z}{\\partial y} - \\frac{\\partial A_y}{\\partial z}\\)⑥ 对法线向量为\\(\\bf{j}\\)（y轴正方向）的平面▱AEHD上的路径进行计算，得到对应的值为\\(\\frac{\\partial A_x}{\\partial z} - \\frac{\\partial A_z}{\\partial x}\\)⑦ 由⑤⑥⑦可得旋度公式 \\[rot {\\bf{A} } = {\\bf{\\nabla} } \\times {\\bf{A} } = \\left| {\\begin{array}{*{20}{c}} {\\bf{i} }&amp;{\\bf{j} }&amp;{\\bf{k} } \\\\ {\\frac{\\partial }{ {\\partial x}}}&amp;{\\frac{\\partial }{ {\\partial y}}}&amp;{\\frac{\\partial }{ {\\partial z}}} \\\\ {A_x}&amp;{A_y}&amp;{A_z} \\end{array}} \\right| ={\\bf{i} }(\\frac{\\partial A_z}{\\partial y} - \\frac{\\partial A_y}{\\partial z}) + {\\bf{j} }(\\frac{\\partial A_x}{\\partial z} - \\frac{\\partial A_z}{\\partial x}) + {\\bf{k} }(\\frac{\\partial A_y}{\\partial x} - \\frac{\\partial A_x}{\\partial y})\\] 注：环量面密度虽然与方向有关，但它是标量，旋度是矢量。这里与方向导数和梯度比较类似，可以对照记忆。 斯托克斯定理：\\(\\int\\limits_S {({\\bf{\\nabla}} \\times {\\bf{F}})d{\\bf{S}} = \\oint\\limits_L { {\\bf{F}} \\cdot d{\\bf{l}}} }\\) 矢量微分算子的运算 Nabla算子符号为\\(\\bf{\\nabla}\\)，是一种矢量形式的一阶微分算子。它是一种运算符，用于简化计算公式。 定义：\\(\\bf{\\nabla} = \\frac{\\partial}{\\partial x}{\\bf{i}} + \\frac{\\partial}{\\partial y}{\\bf{j}} + \\frac{\\partial}{\\partial z}{\\bf{k}}\\) 基本运算： ①梯度（直接作用于标量函数）： \\[gradu = {\\bf{\\nabla} } u = \\frac{\\partial u}{\\partial x}{\\bf{i} }+\\frac{\\partial u}{\\partial y}{\\bf{j} }+\\frac{\\partial u}{\\partial z}{\\bf{k} }\\] ②散度（与矢量函数点积）： \\[div{\\bf B} = \\bf{\\nabla} \\cdot \\bf{B} = \\frac{\\partial {B_x} }{\\partial x} + \\frac{\\partial {B_y} }{\\partial y} + \\frac{\\partial {B_z} }{\\partial z}\\] ③旋度（与矢量函数叉积）： \\[rot {\\bf{A} } = {\\bf{\\nabla} } \\times {\\bf{A} } = \\left| {\\begin{array}{*{20}{c}} {\\bf{i} }&amp;{\\bf{j} }&amp;{\\bf{k} } \\\\ {\\frac{\\partial }{ {\\partial x}}}&amp;{\\frac{\\partial }{ {\\partial y}}}&amp;{\\frac{\\partial }{ {\\partial z}}} \\\\ {A_x}&amp;{A_y}&amp;{A_z} \\end{array}} \\right| ={\\bf{i} }(\\frac{\\partial A_z}{\\partial y} - \\frac{\\partial A_y}{\\partial z}) + {\\bf{j} }(\\frac{\\partial A_x}{\\partial z} - \\frac{\\partial A_z}{\\partial x}) + {\\bf{k} }(\\frac{\\partial A_y}{\\partial x} - \\frac{\\partial A_x}{\\partial y})\\] 性质： ①\\({\\bf{\\nabla}} \\cdot {\\bf{\\nabla}} = {\\bf{\\nabla}}^2 = \\frac{\\partial^2}{\\partial x} + \\frac{\\partial^2}{\\partial y} + \\frac{\\partial^2}{\\partial z}\\)（\\({\\bf{\\nabla}}^2\\)是Laplace算子，它是一个二阶微分算子） ②\\({\\bf{\\nabla}} \\cdot {\\bf{\\nabla}}u = {\\bf{\\nabla}}^2 u = \\frac{\\partial^2 u}{\\partial x^2} + \\frac{\\partial^2 u}{\\partial y^2} + \\frac{\\partial^2 u}{\\partial z^2}\\)（梯度场的散度） ③\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} = 0\\) ④\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} u = 0\\)（梯度场无旋） ⑤\\({\\bf{\\nabla}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{A}}) = 0\\)（旋度场无散、旋度场无源） ⑥\\({\\bf{\\nabla}}(uv) = v{\\bf{\\nabla}}u + u{\\bf{\\nabla}}v\\) ⑦\\({\\bf{\\nabla}} \\cdot (u{\\bf{A}}) = u{\\bf{\\nabla}} \\cdot {\\bf{A}} + {\\bf{\\nabla}}u \\cdot {\\bf{A}}\\) ⑧\\({\\bf{\\nabla}} \\times (u{\\bf{A}}) = u{\\bf{\\nabla}} \\times {\\bf{A}} + ({\\bf{\\nabla}}u) \\times {\\bf{A}}\\) ⑨\\({\\bf{\\nabla}} \\cdot ({\\bf{A}} \\times {\\bf{B}}) = {\\bf{B}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{A}}) - {\\bf{A}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{B}})\\) ⑩\\({\\bf{\\nabla}} ({\\bf{A}} \\cdot {\\bf{B}}) = {\\bf{A}} \\times ({\\bf{\\nabla}} \\times {\\bf{B}}) + {\\bf{A}} ({\\bf{\\nabla}} \\cdot {\\bf{B}}) + {\\bf{B}} \\times ({\\bf{\\nabla}} \\times {\\bf{A}}) + {\\bf{B}} ({\\bf{\\nabla}} \\cdot {\\bf{A}})\\) ⑪\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}}\\) 常见的几种场 按照旋度与散度值分类： ①无旋无源场（平行板电容器） \\({\\bf{\\nabla}} \\cdot {\\bf{F}} = 0,{\\bf{\\nabla}} \\times {\\bf{F}} = 0\\) ②无旋有源场（点电荷） \\({\\bf{\\nabla}} \\cdot {\\bf{F}} \\ne 0,{\\bf{\\nabla}} \\times {\\bf{F}} = 0\\) ③有旋有源场（通常情况下的电场） \\({\\bf{\\nabla}} \\cdot {\\bf{F}} \\ne 0,{\\bf{\\nabla}} \\times {\\bf{F}} \\ne 0\\) ④有旋无源场（载流导线内部磁场） \\({\\bf{\\nabla}} \\cdot {\\bf{F}} = 0,{\\bf{\\nabla}} \\times {\\bf{F}} \\ne 0\\) 图7 常见的几种场(a)无旋无源场 (b)无旋有源场 (c)有旋有源场 常用的场变量 符号 中文 English 单位 \\(\\bf{A}\\) 矢量磁位 Magnetic vector pontential Wb/m \\(\\bf{B}\\) 磁感应强度磁通密度 Magnetic flux density Wb/㎡(T) \\(\\bf{H}\\) 磁场强度 Magnetic field intensity A/m \\(\\bf{D}\\) 电位移 Electric flux density C/㎡ \\(\\bf{E}\\) 电场强度 Electric field intensity V/m \\(\\bf{J}\\) 电流密度 Electric current density A/㎡ \\(\\bf{F}\\) 洛伦兹力 Lorentz force N \\(q\\) 电荷 Charge C \\(\\rho\\) 体电荷密度 Electric charge density C/m³ \\(\\phi\\) 电位 Electric potential V 矢量场唯一性定理 一个矢量场被它的散度、旋度和边界条件唯一性确定。 证明：设有两个矢量场\\(F_1\\)、\\(F_2\\)，在体积\\(V\\)及其边界表面\\(S\\)上有定义，且有以下关系成立。 \\({\\bf{\\nabla}} \\times {\\bf{F_1}} = {\\bf{\\nabla}} \\times {\\bf{F_2}}\\)（在\\(V\\)内）① \\({\\bf{\\nabla}} \\cdot {\\bf{F_1}} = {\\bf{\\nabla}} \\cdot {\\bf{F_2}}\\)（在\\(V\\)内）② \\(F_{1n}=F_{2n}\\)或\\(F_{1t}=F_{2t}\\)（在\\(S\\)上）③ 下标t和n分别表示矢量的切向和法向分量。 现证明\\({\\bf{F_1}}={\\bf{F_2}}\\)，即两个矢量场是同一个场。 令\\({\\bf{F}}={\\bf{F_1}}-{\\bf{F_2}}\\)，由①得\\({\\bf{\\nabla}} \\times {\\bf{F}} = {\\bf{\\nabla}} \\times {\\bf{F_1}} - {\\bf{\\nabla}} \\times {\\bf{F_2}} = {\\bf{0}}\\)（\\(\\bf{F}\\)为无旋场）④ 故\\(\\bf{F}\\)可表示成某一标量函数\\(\\varphi\\)的梯度，即\\(\\bf{F}=\\bf{\\nabla}\\varphi\\)⑤ 注：这里使用了“梯度场无旋”这一性质，可以将无旋度的\\(\\bf{F}\\)替换为一个标量函数的梯度。 利用第一格林公式\\(\\oint\\limits_S {u\\frac{dv}{dn}} dS = \\int\\limits_V {(u{ {\\bf{\\nabla}} ^2}v + {\\bf{\\nabla}} v \\cdot {\\bf{\\nabla}} u)}dV\\)⑥ 将\\(u=v=\\varphi\\)代入⑥，得\\(\\oint\\limits_S {\\varphi\\frac{d\\varphi}{dn}} dS = \\int\\limits_V {(\\varphi{ {\\bf{\\nabla}} ^2}\\varphi + {\\bf{\\nabla}} \\varphi \\cdot {\\bf{\\nabla}} \\varphi)}dV\\)⑦ 考虑到\\({\\bf{\\nabla}}^2\\varphi = {\\bf{\\nabla}} \\cdot ({\\bf{\\nabla}}\\varphi) = {\\bf{\\nabla}} \\cdot {\\bf{F}} = {\\bf{\\nabla}} \\cdot {\\bf{F_1}} - {\\bf{\\nabla}} \\cdot {\\bf{F_2}} = 0\\)⑧ 因此⑦右边第一项为零 若边界条件为\\(F_{1n}=F_{2n}\\)，则\\(\\frac{\\partial \\varphi}{\\partial n}=F_{1n}-F_{2n}=0\\)⑨ 因此⑦左边为零 若边界条件为\\(F_{1t}=F_{2t}\\)，则\\(({\\bf{\\nabla}}\\varphi)_t=0\\)，即\\(S\\)面为\\(\\varphi\\)的等量面，同时由于\\(\\varphi\\)为调和函数，可以利用第三格林公式\\(\\oint\\limits_S {\\frac{\\partial \\varphi }{\\partial n}ds = 0}\\)⑩ 因此⑦的左边项\\(\\oint\\limits_S {\\varphi\\frac{\\partial \\varphi }{\\partial n}ds} = \\varphi \\oint\\limits_S {\\frac{\\partial \\varphi }{\\partial n}ds} = 0\\)⑪ 因此无论是哪一种边界条件，⑦的左边项均为零。因此\\(\\int\\limits_V {({\\bf{\\nabla}} \\varphi \\cdot {\\bf{\\nabla}} \\varphi)}dV = 0 \\Rightarrow \\int\\limits_V { ({ {\\bf{\\nabla}}\\varphi})^2}dV = 0\\)⑫ 由于\\(({ {\\bf{\\nabla}}\\varphi})^2 \\geqslant 0\\)，因此使⑫成立的唯一可能性为\\({\\bf{\\nabla}}\\varphi\\)处处为零，即\\({\\bf{F}}={\\bf{F_1}}-{\\bf{F_2}}=0\\)，\\({\\bf{F_1}}={\\bf{F_2}}\\)，证毕。 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"线性系统理论01-绪论","slug":"课程笔记/线性系统理论/线性系统理论01-绪论","date":"2023-09-14T12:02:44.000Z","updated":"2024-01-25T05:20:20.948Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论01-绪论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA01-%E7%BB%AA%E8%AE%BA/","excerpt":"","text":"线性系统理论课程笔记 对应教材内容第一章 绪论的内容 目录 线性系统理论01-绪论 线性系统理论02-线性系统的状态空间描述 线性系统理论03-线性系统的运动分析 线性系统理论04-线性系统的能控性和能观测性 线性系统理论05-系统运动的稳定性 线性系统理论06-线性反馈系统的时间域综合 系统控制理论的研究对象 系统 系统控制理论的研究对象是系统。 系统是由相互关联和相互制约的若干“部分”所组成的具有特定功能的一个“整体” 。 系统有以下三个基本特征： (1)整体性 一是强调系统在结构上的整体性，即系统由“部分”组成。 二是突出系统行为和功能由整体所决定。 (2)抽象性 常常抽去具体系统的物理、自然和社会含义，而把它抽象为一个一般意义下的系统而加以研究。 (3)相对性 某个系统的部分可以是一个由更小的部分组成的一个系统，某个系统也可以是一个更大的系统的一个组成部分。 动态系统 动态系统是运动状态按确定规律或确定统计规律随时间演化的一类系统，又称动力学系统。 动态系统的行为可以由其各类变量间的关系来表征。系统的变量可分为三类： (1)输入变量组：反映外部对系统的影响或作用，如控制、投入、扰动等。 (2)内部状态变量组：表征系统状态行为。 (3)输出变量组：反映系统对外部作用或影响，如响应、产出等。 系统动态过程的数学描述具有两类基本形式： (1)系统的内部描述——白箱描述：系统内部机理已知，由状态方程和输出方程组成。 (2)系统的外部描述——黑箱描述：系统内部机理未知，描述输入与输出变量组的关系。 动态系统的分类： (1)按其机制可分为连续变量动态系统(Continuous Variable Dynamic Systems,CVDS)与离散事件动态系统(Discrete Event Dynamic Systems,DEDS)。本课程研究的是连续变量动态系统。 (2)从特性的角度，连续变量动态系统按其模型的关系属性可分为线性系统(Linear Systems)和非线性系统(Non-Linear Systems)，连续变量动态系统按其参数的空间分布可分为集中参数系统(Lumped Parameter Systems)和分布参数系统(Distributed Parameter Systems)。集中参数系统是有穷维系统，系统中的参量要么是定常的，要么是时间的函数，可以用常微分方程来描述；分布参数系统是无穷维系统，需要考虑参数在空间中的分布，需要用偏微分方程描述，如电磁场、引力场、温度场等物理场，环境系统、生态系统、社会系统等。本课程研究的是线性系统和集中参数系统。 (3)从作用时间类型角度，动态系统可分为连续时间系统(Continuous Time Systems)和离散时间系统(Discrete Time Systems)。连续时间系统的动态过程模型描述为微分方程的形式，离散时间系统的动态过程模型描述为差分方程的形式。本课程主要研究连续时间系统，也涉及离散时间系统。 线性系统 线性系统拥有叠加性和齐次性，换句话说，可以通过是否具备叠加性与齐次性来判断系统是否为线性系统。 若某系统的数学描述为\\(L\\)，任意两个输入变量\\(u_1\\)和\\(u_2\\)以及任意两个有限常数\\(c_1\\)和\\(c_2\\) ，则有： (1)叠加性 \\(L(u_1 + u_2) = L(u_1) + L(u_2)\\) (2)齐次性 \\(L({c_1}{u_1}) = {c_1}L({u_1})\\) (3)叠加原理（综合考虑叠加性与齐次性可以得到叠加原理） \\(L({c_1}{u_1} + {c_2}{u_2}) = {c_1}L({u_1}) + {c_2}L({u_2})\\) 线性系统可分为线性时不变系统(Linear Time-invariant Systems)和线性时变系统(Linear Time-varying Systems)，其中线性时不变系统指的是描述系统动态过程的线性微分方程或差分方程中的每个系数都不会随时间变化而变化。本课程主要研究线性时不变系统。 系统模型 系统模型是对系统或其部分属性的一个简化描述。 线性系统理论的基本概貌 控制理论发展史 1784年，James Watt发明蒸汽机调速装置——反馈的应用。 1877年，E.J. Routh稳定性分析稳定性分析——代数判据。 1868年，J.C. Maxwell稳定判据——系数代数判据。 1895年，A. Hurwitz稳定性分析稳定性分析—— 代数判据。 1945年，H.W. Bode频率法。 1948年，W.R. Evans根轨迹法。 至此，古典控制理论（传递函数法）体系确定。 1950年代，是个控制理论的“混乱时期”。 1960年代，产生了“现代控制理论”（状态空间法） Bellman动态规划法 Pontryagin极大值原理 Kallman可控、可观性理论 极点配置、观测器、内模原理...... 至1970年代前半期，为状态空间法的全盛时期。 1970年代后期，状态空间法的应用遇到了困难，进入了反省时期。 1980年代，在计算机技术的支持下，多变量系统的频域设计法出现了。 既约分解表示法、最优控制、自适应控制、鲁棒控制、H∞控制、模糊控制...... 古典控制理论与现代控制理论（采用状态空间法）的对比分析 古典控制理论的局限性： (1)局限于线性定常系统，难以解决非线性、时变系统等问题。 (2)采用输入/输出描述（传函），忽视了系统结构的内在特性，难以解决多输入/多输出系统（耦合）。 (3)处理方法上，只提供分析方法，而不是综合方法。设计方法为“试错法”，无法得到最好的设计。 状态空间法的特点： (1)在把握控制系统的动力学本质（内在特性）的基础上，进行合理的设计。 (2)控制性能指标是明确的，可以得到最佳设计（系统化的设计方法）。 (3)需要知道描述控制系统全体的数学模型（缺一不可）。 (4)难以利用人们的经验，直观性差。 古典控制理论 现代控制理论 研究对象 单输入单输出（SISO）的线性、连续、时不变系统 线性和非线性、定常和时变、单变量和多变量(MIMO)、连续和离散的系统 数学基础 处理单变量的线性定常系统数学问题：传递函数数学工具：拉氏变换 处理多变量的问题数学基础：矩阵和向量空间理论 计算手段 手工计算 计算机 研究方法 频域上的伯德图和相轨迹法以系统的输入输出特性作为研究的依据 时域方法建立在状态空间描述法的基础上 研究观点 就事论事; 针对给定的输入，分析输出的特性，给定某种指标，构成校正网络；主要着眼于系统的外部联系。 着眼于系统的内在规律性。分析：揭示系统对控制函数及初始状态的依赖关系，指出其可能影响的程度及性质。综合：揭示系统在某种指标下和其它限制条件下所能达到的最佳效果，即最优控制。 线性系统理论发展史 1950年代中期：经典线性系统理论 数学基础：拉普拉斯变换 数学模型：传递函数 分析和综合方法：频率响应法 适用于：单输入—单输出线性定常系统（多输入多输入—多输出系统难于处理） 1960年代：现代线性系统理论 采用状态空间描述这种系统内部描述来取代经典线性系统理论中传递函数形式的外部输入输出描述。 适用于单输入—单输出系统与多输入—多输出系统，线性时不变与线性时变系统。 引入能控性和能观测性这两个表征系统结构特性的概念。 1960年代后期及1970年代： 几何理论：从几何方法角度来研究线性系统的结构和特征 代数理论：以抽象代数为工具 多变量频域理论：推广经典频率法 线性系统理论的主要学派 (1)线性系统的状态空间法 描述系统动态过程的数学模型是反映输入变量、状态变量和输出变量间关系的向量方程，称作状态方程和输出方程。 状态空间法是一种时间域方法，其数学基础为线性代数和矩阵理论。 系统分析和综合涉及的计算主要为矩阵运算和矩阵变换。 (2)线性系统的几何理论 把对线性系统的研究转化为状态空间中的几何问题。 数学工具：几何形式的线性代数。 基本思想：把能控性和能观测性表述为不同的状态子空间的几何属性。 新概念：(A,B)不变子空间和(A,B)能控子空间。 特点：简捷明了，不用矩阵运算，结果比较容易化为相应的矩阵运算。比较抽象，需要一定数学基础。 (3)线性系统的代数理论 用抽象代数工具研究线性系统。 把系统的各组变量间关系看作为某些代数结构之间的映射关系。 实现对线性系统的描述和分析的形式化和抽象化，变为纯粹的代数问题。 (4)线性系统的多变量频域方法 以状态空间法为基础，采用频率域的系统描述和计算方法，以分析线性时不变系统。 其分析综合方法有两种，一是频率域方法，二是多项式矩阵方法。 相对于状态空间法，多变量频域方法物理直观性强，便于综合和调整。 本课程的研究范围 研究对象 线性系统：实际系统理想化了的模型，可用线性微分方程或差分方程来描述。 动态系统，动力学系统：用一组微分方程或差分方程来描述。对系统的运动和各种性质给出严格和定量的数学描述。 数学工具：数学变换（傅里叶变换，拉普拉斯变换）、线性代数。 实际系统是非线性的，在一定条件下将其近似处理可以得到线性系统。 本课程主要研究定常、时不变的线性系统。 主要任务 研究线性系统状态的运动规律和改变这个运动规律的可能性和方法。建立系统结构、参数、行为和性能间的确定的和定量的关系。 分析问题：研究系统运动规律，认识系统。 综合问题：研究改变运动规律的可能性和方法，改造系统。 建立系统的数学模型 变量：状态变量、输入变量、输出变量、扰动变量。 参量：系统的参数或表征系统性能的参数。 常量：不随时间改变的参数。 时间域模型：微分方程组或差分方程组。 频率域模型：传递函数和频率响应。 建模方法：实验法、解析法。 定量分析：系统对于某个输入信号的响应和性能。 定性分析：稳定性、能控性、能观测性等。 书中将线性系统理论分为“时间域理论”与“复频率域理论”。本课程研究的是时间域理论，对应书中前六章。 系统描述 线性系统时间域理论中，主要采用系统的内部描述，即状态空间描述，其数学模型为： \\[\\eqalign{&amp; {\\bf{\\dot x} }(t) = {\\bf{Ax} }(t) + {\\bf{Bu} }(t) \\cr &amp; {\\bf{y} }(t) = {\\bf{Cx} }(t) + {\\bf{Du} }(t) \\cr}\\] 上式是向量方程形式表示的一阶微分方程组和变换方程组，前者为状态方程，后者为输出方程。 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"直流电机","slug":"课题笔记/电机/直流电机","date":"2023-09-01T13:19:25.000Z","updated":"2024-01-25T05:20:21.019Z","comments":true,"path":"课题笔记/电机/直流电机/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/%E7%9B%B4%E6%B5%81%E7%94%B5%E6%9C%BA/","excerpt":"","text":"为初步了解直流电机的基本结构与工作原理所整理的学习笔记。 个人知识、能力水平有限，部分内容尚未完全吃透理解，这类内容会有下划线标记。 序言 直流电机指能实现直流电能和机械能互相转换的电机。当它作电动机运行时是直流电动机(Direct Current Motor)，将电能转换为机械能；作发电机运行时是直流发电机(Direct Current Generator)，将机械能转换为电能。 直流电机按照其有无电刷可分为有刷直流与无刷直流两种，其中无刷直流电机在某些场合下可视作交流电机，本篇文章介绍的是有刷直流电机。 有刷直流电动机可分为永磁直流电动机和电磁直流电动机两种。 永磁直流电动机的主磁极为永磁体，通过改变所通入直流电的供电极性来改变旋转方向。按照永磁体材料的不同可分为稀土永磁、铁氧体永磁、铝镍钴永磁等若干种。 电磁直流电动机的主磁极由铁芯和励磁绕组构成。按照励磁绕组与转子绕组连接方式的不同，可分为串励、并励、他励、复励四种励磁方式。本篇文章将以他励直流电动机为例，简要分析直流电机的数学模型。 图1 直流电机的四种励磁方式(a)他励 (b)并励 (c)串励 (d)复励 注：励磁指的是向电动机或者发电机提供工作磁场的装置。 直流电机结构及工作原理 有刷直流电机由定子与转子组成。定子是固定的，其中包括主磁极、换向极、电刷、机座；转子又可称为电枢，其中包括电枢铁芯、电枢绕组、换向器等。 图2 直流电机模型 一个简单的直流电机模型如上图所示，图中N与S为固定的主磁极，其间有一个绕固定轴旋转的铁质圆柱体（电枢铁芯，图中未画出），铁芯与磁极间的空隙被称作气隙，铁芯表面有导体abcd，导体abcd构成一个单匝线圈。线圈首尾与一对弧形铜片（换向片）相连，换向片与电枢铁芯一同旋转，换向片与铁芯绝缘，两个换向片相互绝缘。图中A与B是电刷，电刷的空间位置是固定的，电刷使电枢与外电路相通。 拖动电枢以恒定速度\\(n\\)旋转时，上述模型构成发电机，其导体内感应电动势为\\(e = {B_\\delta}lv \\propto {B_\\delta}\\)。其方向由右手定则确定。 其中\\(B_\\delta\\)为导体所处位置气隙磁通密度，单位\\(Wb/m^2\\)；\\(l\\)为导体有效长度（切割磁力线的长度，单位为m）；\\(v\\)为导体切割磁力线线速度，\\(v=\\frac{2\\pi Rn}{60}\\)。 电机\\(l\\)值不变，转速\\(n\\)恒定时，可以认为导体电动势与气隙磁密成正比，也就时说导体内感应电动势随时间变化规律与气隙磁场沿气隙的分布规律相同。 有刷直流电机中线圈导体中的感应电动势是交变的，通过换向器机械整流方式将交流调整为直流。换向片跟随线圈旋转，电刷是固定的，这使得线圈每旋转180°，与电刷接触的换向片就变化一次，而线圈导体也是每旋转180°改变电动势方向。这使得两个电刷的极性保持不变，输出到负载的电流方向不会变化，电动势为脉动的直流电动势。 实际电机上电枢会均匀分布多个线圈，按照一定规律组成电枢绕组，这样可以大大减小电动势的脉动，使输出电动势接近于恒定值。 图3 气隙磁场分布与电动势波形(a)气隙磁场分布曲线与导体电动势波形 (b)换向后单线圈电动势波形 (c)多线圈绕组电动势波形 直流电动机工作原理与直流发电机类似。区别在于将电刷A与B接入直流电源，使得线圈导体上产生交变的电流\\(i\\)，进而产生电磁力\\(f=B_\\delta li\\)。受力方向由左手定则确定。 与直流发电机类似，所产生的电磁转矩使单方向的，增加线圈导体数量可以减小转矩脉动。 直流电机的额定值 直流电机的额定值有额定电压\\(U_N\\)、额定电流\\(I_N\\)、额定励磁电压\\(U_{fN}\\)、额定励磁电流\\(I_{fN}\\)、额定转速\\(n\\)(r/min)、额定转矩\\(T_N\\)(N·m)和额定功率\\(P_N\\)。 发电机额定功率\\(P_N=U_N I_N\\)（输出电功率），电动机额定功率\\(P_N=U_N I_N \\eta_N\\)（转轴上输出机械功率，\\(\\eta_N\\)为额定效率）。 直流电机的电枢绕组 电枢绕组按连接方式可分为叠绕组与波绕组。简单的例子如下图所示： 图4 直流电机电枢绕组元件(a)单匝叠绕组 (b)两匝叠绕组 (c)单匝波绕组 (d)两匝波绕组 元件边：每个元件的两个切割磁力线，产生感应电动势的有效边。分为上元件边（槽上层）与下元件边（槽下层）。 端接：元件边在电枢铁芯两端的部分，起到连接作用，分为前端接（与换向片相连）与后端接。 虚槽：某个实槽的上层或下层所放的元件数\\(u\\)为这个槽对应的虚槽数，电枢绕组虚槽数\\(Z_i=uZ\\)。分析电枢绕组空间分布是看的是虚槽，按虚槽编号。 图5 电枢绕组元件在槽内的放置 左图为电枢绕组元件在槽内的放置，右图是以\\(u=2\\)为例的槽内元件布置图，可以观察到元件数(S)=换向片数(K)=虚槽数(\\(Z_i\\))。 图6 单叠与单波绕组元件的连接情况 第一节距\\(y_1\\)：同一元件两个元件边的距离。图中单叠绕组第一节距为4。 第二节距\\(y_2\\)：连至同一换向片的两个元件边的距离。即某个元件下元件边经换向器到下一个元件上元件边的距离。 合成节距\\(y\\)：两个相串联元件对应边的距离。有\\(y=y_1+y_2\\)。 换向器节距\\(y_k\\)：元件两个边所连接的换向器的距离。其值与合成节距相等，有\\(y=y_k\\)。 极对数\\(p\\)：主磁极的对数（N极或S极的数量），级数（N极与S极的数量）为\\(2p\\)。 极距\\(\\tau\\)：每个主磁极在电枢表面占据的距离（相邻两主极间的距离）。\\(\\tau=\\frac{Z_i}{2p}=\\frac{\\pi D_i}{2p}\\)，\\(D_a\\)为电枢外径。 整距：为使元件感应电动势最大，\\(y_1\\)应尽可能凑为整数（接近或等于极距）。有\\(y_1=\\frac{Z_i}{2p} \\mp \\varepsilon = N\\)。这里\\(\\varepsilon\\)为小于1的分数，使\\(y_1\\)凑为整数。\\(y_1=\\tau\\)为整距元件，\\(y_1&lt;\\tau\\)为短距元件，\\(y_1&gt;\\tau\\)为长距元件。其中短距元件应用更广泛，其绕组端连线较短，节约材料。 并联支路对数\\(a\\)：绕组电路图中与负载正极（或负极）连接的支路的对数，并联支路数为\\(2a\\)。 单叠绕组 叠绕组：任意两个串联元件后一个叠在前一个上面的绕组。规定\\(y_k&gt;0\\)为右行绕组，\\(y_k&lt;0\\)为左行绕组。 单叠右行绕组有\\(y=y_k=1\\)，单叠左行绕组有\\(y=y_k=-1\\)。 注：复叠绕组（m叠绕组）有\\(y=y_k=m\\)。 以级数\\(2p=4\\)，虚槽数\\(Z_i=16\\)的单叠右行整距绕组为例： 第一节距\\(y_1=\\frac{Z_i}{2p}=4\\)，合成节距\\(y=y_k=1\\)，第二节距\\(y_2=y-y_1=-3\\)。 画出绕组连接关系如下图： 图7 单叠绕组连接关系 图8 单叠绕组展开图与电路连接图 由图可知单叠绕组的并联支路数2a=2p。（m叠绕组的并联支路数为2mp） 单波绕组 波绕组：从某一换向片出发，连接完p个元件后回到出发换向片的相邻换向片上（绕行一周），以此类推继续连接直至回到第一个换向片形成闭合回路。连接后的形状如同波浪。 换向器节距\\(y_k\\)应满足关系\\(y=y_k=\\frac{K\\mp 1}{p}=\\frac{Z_i \\mp 1}{p}=y_1+y_2=N\\)。其中正负号取负号时绕行一周后回到出发点左侧，称为左行绕组，同理取正号时为右行绕组。 以级数\\(2p=4\\)，虚槽数\\(Z_i=15\\)的单波左行短距绕组为例： 第一节距\\(y_1=\\frac{Z_i}{2p} - \\varepsilon =\\frac{15}{4} - \\frac{3}{4}=3\\)，合成节距\\(y=y_k=\\frac{K-1}{p}=7\\)，第二节距\\(y_2=y-y_1=4\\)。 画出绕组连接关系如下图： 图9 单波绕组连接关系 图10 单波绕组展开图与电路连接图 由图可知单波绕组把所有处于相同极性下的元件都串联起来构成一条支路，其并联支路数2a=2。（m波绕组的并联支路数为2m） 综上可知，直流电机电枢绕组是无头无尾的闭合绕组，直流电机电枢绕组至少有2条并联支路。 电刷放置的一般原则是确保空载时通过正、负电刷引出的电动势最大，或者说，被电刷短路的元件中的电动势为零。对于端接对称的元件，电刷也就放置在主极轴线下的换向片上。 直流电机的磁场 直流电机的数学模型 To Be Countinued未完待续...... 参考资料 [1] 辜承林，陈乔夫，熊永前．电机学（第四版）[M]．武汉：华中科技大学出版社，2018． [2] 李发海，王岩．电机与拖动基础（第4版）[M]．北京：清华大学出版社，2012． [3] 阮毅,杨影,陈伯时. 电力拖动自动控制系统——运动控制系统(第四版)[M]. 北京:机械工业出版社,2016","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"电机概述及分类","slug":"课题笔记/电机/电机概述及分类","date":"2023-09-01T13:19:24.000Z","updated":"2024-01-25T05:20:21.019Z","comments":true,"path":"课题笔记/电机/电机概述及分类/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/%E7%94%B5%E6%9C%BA%E6%A6%82%E8%BF%B0%E5%8F%8A%E5%88%86%E7%B1%BB/","excerpt":"","text":"为初步了解市面上的各类电机所整理的学习笔记。电机按照电能与机械能的转换方向可分为电动机与发电机，这里侧重于介绍电动机的分类。 本篇文章是对网上及书上内容的归纳整合，将对各类电机进行简要分类介绍。后续文章将对每一种电机在电机结构、工作原理、电机控制等方面进行详细深入的介绍。 序言 电机是工业领域中的重要电气设备之一，它可以通过电磁场这一媒介，拖动机械结构及其负载做直线方向或旋转方向的运动（电动机），或者反过来，通过拖动机械结构及其负载运动的方式产生电能（发电机）。电机可以实现电能与机械能的相互转换。 1820年，奥斯特发现电流的磁效应，揭示了电与磁的联系。 1821年，法拉第发现载流导体在磁场中受力的现象，这便是电动机的作用原理。安培以此现象建立了载流导体在磁场中受力的安培定律。 安培公式为\\(d{\\bf f} = Id {\\bf l} \\times {\\bf B}\\)，其中\\(d{\\bf f}\\)为电流元\\(Id {\\bf l}\\)在磁感应强度\\(\\bf B\\)的外磁场中受到的电磁力。 1831年，法拉第建立了揭示“变磁生电”的电磁感应定律。 该定律指出，导体回路中感应电动势\\(E\\)与穿过回路的磁通量\\(\\Phi\\)对时间的变化率成正比，即\\(E=- \\frac{d\\Phi}{dt}\\)。 图1 电机分类 电机分类思维导图，制作者为嵌入式艺术。 按工作电源种类分 电机按工作电源可以分为直流电机与交流电机。 直流电动机 直流电动机指通入直流电流而产生机械运动的电动机。直流电动机可分为有刷直流与无刷直流两种。 有刷直流电机内部含有电刷，采用机械换向，磁极不动，线圈旋转。电机工作时，线圈和换向器旋转，主磁极和电刷不转，线圈电流方向的交替变化靠随电机转动的换相器和电刷来完成。 有刷直流电机由定子与转子组成。定子是固定的，其中包括主磁极、换向极、电刷、机座；转子又可称为电枢，其中包括电枢铁芯、电枢绕组、换向器。 有刷直流电动机可分为永磁直流电动机和电磁直流电动机两种。 永磁直流电动机的主磁极为永磁体，通过改变所通入直流电的供电极性来改变旋转方向。按照永磁体材料的不同可分为稀土永磁、铁氧体永磁、铝镍钴永磁等若干种。 电磁直流电动机的主磁极由铁芯和励磁绕组构成。按照励磁绕组与转子绕组连接方式的不同，可分为串励、并励、他励、复励四种励磁方式。 图2 直流电机的四种励磁方式(a)他励 (b)并励 (c)串励 (d)复励 注：励磁指的是向电动机或者发电机提供工作磁场的装置。 无刷直流电机(Brushless Direct Current Motor,BLDC)采取电子换向，线圈不动，磁极旋转。无刷电机使用一套电子设备，通过霍尔元件，感知永磁体磁极的位置，使用电子线路，适时切换线圈中电流的方向，保证产生正确方向的磁力来驱动电机。 由上可知，无刷直流电机的线圈是定子的一部分，主磁极是转子的一部分。 相较于有刷电机，无刷电机采用电子换向，这使得无刷电机需要使用电子控制器件进行驱动，使得其成本更高，而有刷电机使用可控硅等传统模拟电路就可以控制。 注：在某些场合下，可以将无刷直流电机视作交流电机。这是因为无刷直流电机的驱动电流为交流电，无刷直流电机的驱动电流有两种，一种是梯形波（或方波），这种电机可称为直流无刷电机（可以算直流，也可以算交流）；另一种是正弦波，这种电机是交流伺服电机中的一种（算作交流电机）。 交流电动机 直流电动机指通入交流电流而产生机械运动的电动机。 按照交流电流相数可分为单相电机与三相电机。 单相电机的转矩是脉动的，噪声比较大，但所需的电源比较简单。其性能指标较差，功率较低，常应用于生产、生活等小型设备中。 三相交流电机与单相电机相比有明显的优越性。同样功率的三相电机比单相电机体积小，重量轻，价格低。因此交流电机以三相电机为主。 也可以按照结构和工作原理分类，将交流电机分为异步电机与同步电机。 按结构和工作原理分 电机按结构和工作原理可以分为直流电机、异步电机与同步电机。其中异步电机与同步电机均属于交流电机。 二者的定子绕组的结构形式相同，在励磁方式与运行特性上有较大差别。 异步电动机 异步电机指的是电机转速达不到定子磁场的同步转速的交流电机。 异步电机的定子由定子铁芯、定子绕组和机座组成。转子由转子铁芯、转子绕组和转轴组成。转子绕组按其结构可分为鼠笼型和绕线式两种。单相异步电机转子均是鼠笼型，三相异步电机转子可以为鼠笼型或绕线式。 异步电机按照有无换向器，可分为感应电动机与交流换向器电动机。 感应电机指的是没有换向器的异步电机，异步电机以感应电机为主。在定子绕组上接三相电源，定子绕组流过三相对称电流，气隙中将建立基波旋转磁动势，进而产生基波旋转磁场（定子磁场），它在短路的转子绕组中产生感应电流及感应电动势，感应电流与气隙旋转磁场相互作用产生电磁转矩使电机转动。 感应电动机可分为三相异步(三相380V)、单相异步(单相220V)、罩极异步(单相220V，副绕组为罩极环)三种。感应电动机通常指的是三相异步感应电动机。 交流换向器电动机是转子上带有换向器的异步电动机。 交流换向器电动机可分为单相串励、交直流两用、推斥电动机(单相、转向与电刷偏离方向相反)三种。 同步电动机 同步电机指的是电机转速与定子磁场的同步转速始终保持相同的交流电机。与异步电机的区别在于其转子侧安装有磁极并通入直流电流励磁，具有确定的极性。 同步电机有旋转电枢和旋转磁极两种结构，同步电机一般使用旋转磁极结构，旋转电枢结构多用于小容量电机。 旋转磁极结构电机按照磁极形状有可分为隐极和凸极两种形式。隐极同步电机气隙均匀，转子机械强度高，适合高速旋转，常用于汽轮发电机。凸极同步电机气隙不均匀，旋转时空气阻力大，适合中低速场合，常用于水轮发电机。 隐极同步电机由定子（铁芯、绕组、机座、紧固件）、转子（铁芯、励磁绕组、护环、中心环、滑环等）、端盖、轴承组成。 凸极同步电机定子组成与隐极相同，转子由磁极、励磁线圈、磁扼、阻尼绕组等部分构成。 旋转磁极结构电机按支撑方式可分为卧式与立式两种，隐极同步电机只能采用卧式结构，凸极同步电机可采用卧式或立式结构。 同步电机按照产生转矩的方式，可分为永磁同步电机(Permanent Magnet Synchronous Motor，PMSM，永磁体提供励磁)、磁阻同步电机(Synchronous Reluctance Motors，SynRM，转子交轴和直轴磁阻不等而产生磁阻转矩)、磁滞同步电机（磁滞材料产生磁滞转矩）。 按用途划分 电机按用途划分，可分为驱动用电动机与控制用电动机。 驱动用电动机顾名思义，可以用于驱动各类机器设备运转。相较于驱动用电动机，控制用电动机能实现更为精确的控制。控制用电动机包括伺服电机、步进电机等。 伺服电机 伺服系统是使物体的位置、方位、状态等输出被控量能够跟随输入目标（或给定值）任意变化的自动控制系统。 伺服电机(Servo Motor)可以通过接受到的脉冲信号按照一定的规则来实现相应的动作。一般地，伺服电机的转速受所加电压信号的控制，转速能够随着所加电压信号的变化而连续变化。 伺服电机可按工作电源种类分为直流和交流两种，其中直流伺服电机适合在低电压、低功率、控制精度不高的情况下使用。为实现更精确的控制，目前绝大部分的伺服电机是采用的是交流永磁同步伺服电机或者直流无刷电机。 步进电机 步进电机(Stepping Motor)是一种电脉冲信号转换成角位移或者线位移的电动机。每输入一个脉冲信号，转子就转动一个角度或前进一步，其输出的角位移或线位移与输入的脉冲数成正比，转速与脉冲频率成正比。因此，步进电动机又称脉冲电动机。 按机械能运动方式划分 旋转电机 旋转电机指将电能转换为旋转运动的机械能，拖动负载做旋转运动的电机。常见电机大多是旋转电机。 直线电机 直线电机(Linear Motor)，也称为线性电机，指的是把电能转换成直线运动的机械能，不需要任何中间传动转换装置的电机。直线电机可以直接做直线运动，比旋转电机经过转换装置形成的直线运动效率更高。 直线电机相当于旋转电机径向剖开。直线电机的初级等同于旋转电机的定子；直线电机的次级等同于旋转电机的转子。既可以初级固定、次级移动，也可以次级固定、初级移动。 直线电机按工作原理可分为直流、异步、同步、步进等，其类型又分为U型电机，平板电机,圆柱型直线电机等。 特种电机 力矩电机 力矩电机(Torque Motor)又称转矩电机，直驱电机，力矩电动机的轴不是以恒功率输出动力而是以恒力矩输出动力。这使得力矩电机可以在堵转时持续运行，不会造成电机损坏。 力矩电机包括直流力矩电机，交流力矩电机，无刷直流力矩电机。 To Be Countinued未完待续...... 参考资料 [1] 辜承林，陈乔夫，熊永前．电机学（第四版）[M]．武汉：华中科技大学出版社，2018． [2] 李发海，王岩．电机与拖动基础（第4版）[M]．北京：清华大学出版社，2012． 不看后悔！最全的电机分类，看这一篇就够了！","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"Maxwell教程04-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻","slug":"工业软件/ANSYS/Maxwell教程04-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻","date":"2023-08-21T23:40:18.000Z","updated":"2024-01-25T05:20:20.908Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程04-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B04-2D%E6%B6%A1%E6%B5%81%E5%9C%BA%E4%BB%BF%E7%9C%9F-%E5%AE%9E%E5%BF%83%E5%AF%BC%E4%BD%93%E7%9A%84%E9%9B%86%E8%82%A4%E6%95%88%E5%BA%94%E6%AC%A7%E5%A7%86%E6%8D%9F%E8%80%97%E5%92%8C%E4%BA%A4%E6%B5%81%E7%94%B5%E9%98%BB/","excerpt":"","text":"基于B站视频手把手教你Maxwell-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻整理的学习笔记，视频原作者为搞仿真的晴博。 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 我使用的软件版本为2023R1，与原视频软件版本2022R1不同，也有个人操作问题，会使实验结果与原视频不同，一切以原视频为准。 背景介绍 当导体置于交变磁场中时，与磁场正交的曲面上产生闭合的感应电流，被称为涡流(Ebby Current)。 这会导体内部电流分布不均匀，使电流集中在导体的表面，越靠近导体表面电流密度越大，越深入导体内部电流密度越小。这使得导体的电阻增加，这种现象被称为集肤效应(Skin Effect)。 透入深度(Skin Depth)指导体中的电流密度下降到表面电流密度的\\(\\frac{1}{e}\\)（即0.368倍）时的厚度，其大小反映电磁场衰减的快慢。 \\[d=\\frac{1}{\\alpha}=\\sqrt{\\frac{2}{\\mu \\gamma \\omega} }\\] 由公式可见透入深度\\(d\\)与电流角频率\\(\\omega\\)、导体电导率\\(\\gamma\\)与磁导率\\(\\mu\\)成反比。 图1 集肤效应 集肤效应是电子电气产品中最常见的现象，有危害也有优点。它的应用也很广泛，例如应用在深槽笼型异步电动机中，通过其窄而深的电动机转子槽，可以提高电机起动时的转子电阻，进而提高起动转矩。 本次实验将对一个简单的实心导体进行2D涡流场仿真，并计算其透入深度、涡流损耗与交流电阻。 建模 Ansys Electronics Desktop，启动！！！ Maxwell 2D，启动！！！ 首先画一个实心导体横截面，点击Draw菜单栏中的圆形图标画一个圆，Radius设为5mm。 再画一个空气域，点击Draw菜单栏中的Create Region（红色边框空心正方体）图标，设置Percentage Offset值为200，表示在已经画出来的几何模型基础上扩大200%的区域内建立空气域。 材料 在实心导体横截面的属性界面中，将其名字修改为“Conductor”，材料设置为“steel_1008”。 也可以自己创建材料，修改材料的磁化曲线。将材料属性中Relative Permeability（相对磁导率）的类型设置为Nonlinear（非线性），点B-H Curve即可一一输入数据修改其磁化曲线。 激励 再加一个电流，选取导体右键Assign Excitation-&gt;Current，选择电流为14.14A（电流峰值为14.14A，相当于电流有效值为10A）。Phase（相位）0度，Type选择Solid（实心），Ref.Direction（参考方向）默认为正方向。 （2D仿真时没有Phase与Type，3D仿真时没有Phase与Ref.Direction，原因不明） 边界 再建一个气球边，用于模拟无限远处。右键仿真区域Selection Mode-&gt;Edge将选取模式改为边界，选中空气域的四个边。右键Assign Boundary-&gt;Balloon，确认后就可在Project Manager窗口Boundries-&gt;Balloon1看到这个气球边。 网格 仍然是边界选取模式，选中实心导体的边，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，弹出的窗口点击Calculate Skin Depth计算透入深度，Relative Permeability相对磁导率设置为1200，Conductivity导体电导率已经导入，为2000000mhos/m不用改变，Frequency频率设置为Hz。确认后计算出的透入深度为1.45287918553816mm。 Number of Layers修改为3。（这里要求每层对应的厚度，即透入深度除以层数要小于0.5mm） 求解 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面，收敛误差Percent Error修改为0.1%。 Solver选项卡下Adaptive Frequency设置为50Hz。（这一项在我的界面没有，原因不明。） 点击菜单栏Maxwell 2D-&gt;Analyze All开始求解。 后处理 再看一下磁场分布，选中截面后右键Fields-&gt;B-&gt;Mag_B。 图2 磁通密度 接下来看从导体圆心到导体边缘路径的磁通密度大小变化。点击菜单栏Draw-&gt;Draw Line（直线）绘制一条圆心出发到导体边缘的线段。点击CreateLine可以修改点的坐标Point1为0,0,0，Point2为5,0,0。 在Project Manager窗口Create Fields Report-&gt;Rectangular Plot。弹出的窗口Context-&gt;Geometry选择Polyline1，X轴坐标保持默认Distance（距离），Y轴坐标选择Mag_B（磁通密度）。点击New Report就可生成随线段路径上的点的位置变化的磁通密度曲线，如下图所示（与原视频有出入，但总体趋势正确，越靠近边缘磁场越强）。 图3 磁通密度曲线 再看一下电流密度曲线，与上面的操作相同，Y轴坐标选择JAtPhase，点击New Report即可。 （选项里没有JAtPhase，取而代之的是Jz，图像也完全不对，原因不明，这里就不放图像了。） 再看一下集肤效应欧姆损耗，可以右键Project Manager窗口Results-&gt;Solution Data选择Loss选项卡，Solid Loss一栏即为所求欧姆损耗。 （原视频结果为1.5175w，我这里是0，原因不明） 也可以用菜单栏Maxwell 2D-&gt;Fields-&gt;Caculator进入计算界面，单击Input栏的Quantity选择Ohm Loss（欧姆损耗），Geometry（域）选择Conductor，点击Scalar栏下的积分符号，对欧姆损耗在导体范围内做积分。单击Eval即可得到导体欧姆损耗累计值为1.27362968169993w。 （原视频结果为1.5175w） 最后计算交流电阻，可以通过公式\\(P_{AC}=I^2 * R_{AC}\\)求得，其中欧姆损耗\\(P_{AC}=1.27W\\)，电流\\(I=10A\\)，求出交流电阻\\(R_{AC}=0.0127\\Omega\\)。 参考资料 手把手教你Maxwell-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"Maxwell教程03-永磁体电磁力仿真","slug":"工业软件/ANSYS/Maxwell教程03-永磁体电磁力仿真","date":"2023-08-19T05:08:03.000Z","updated":"2024-01-25T05:20:20.898Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程03-永磁体电磁力仿真/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B03-%E6%B0%B8%E7%A3%81%E4%BD%93%E7%94%B5%E7%A3%81%E5%8A%9B%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"基于B站视频手把手教你Maxwell-【案例B203】永磁体电磁力仿真（上）与手把手教你Maxwell-【案例B203】永磁体电磁力仿真（下）整理的学习笔记，视频原作者为搞仿真的晴博。 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 我使用的软件版本为2023R1，与原视频软件版本2022R1不同，也有个人操作问题，会使实验结果与原视频不同，一切以原视频为准。 背景介绍 图1 模型 本次实验对Comsol官方案例-永磁体进行复现，其三维模型由永磁体和铁棒两个部分组成，如上图所示。本次实验将建模永磁体周围的磁场，并计算磁铁对铁棒施加的作用力大小，验证其大小是否符合理论值的预计。 建模 图2 模型尺寸 本次实验所设计模型尺寸如上图所示。 打开软件，打开Maxwell 3D。先绘制永磁体，永磁体可以看作由yOz平面上的正方形截面(边长20mm)，在xOy平面上沿马蹄形路径环绕而成。 Grid切换为YZ平面，创建一个矩形。属性Position设为0,20,0，YSize设为20，ZSize设为20。 Grid切换回XY平面，绘制截面经过的路径。先画一个线段，其Point1为0,20,0，Point2为-60,20,0。再点击右键Set Edge Type-&gt;Center Point Arc绘制一个半圆弧，先点击以下确定圆心，再点击确定圆弧终点，需要注意圆弧的方向。Start为-60,20,0，Center为-60,0,0，Angle为180。 最后从圆弧终点画一个线段，其Point1为-60,-20,0，Point2为0,-20,0。右键Done结束绘制。 （可以先画一个大概，然后在属性界面逐一修改坐标。若发现Lines目录消失，则在Unassigned目录可以找到） 选中截面与路径。右键Edit-&gt;Sweep-&gt;Along Path，弹出窗口直接点OK，便成功创建了马蹄形磁铁。 由图2可知马蹄形磁铁由永磁体和铁两部分构成，需要对其进行拆分。 Draw窗口Offset Origin（Measure坐标的三个箭头图标）下拉菜单选择Offset，点击马蹄形磁铁原截面的一个位置，建立一个相对坐标系。点击Coordinate Systems-&gt;RelativeCS1进入相对坐标系属性界面，修改Origin（坐标系原点）为-40,0,0。 选中马蹄形磁铁，右键Edit-&gt;Boolean-&gt;Split，弹出窗口的Split using plane（待切割平面）修改为YZ，Keep result选择Both（不删掉被切开两边的任意一边）。OK后便将磁铁切分为两个长方体（永磁体）与弧形（铁）两个部分。 两个长方体还需要进一步切分为两部分（N极与S极），右键Edit-&gt;Boolean-&gt;Separate Bodies便可将其一分为二。 接下来画铁棒。再建一个相对坐标系，RelativeCS2的Origin设为30,0,10。 在相对坐标系RelativeCS2基础上画一个圆柱，Grid切换回XZ平面，创建完毕后，Center Position修改为0,-40,0，Radius为10，Height为80。（也可以不建，使用原坐标系确定坐标） 画铁棒两端的半球，可以继续建立坐标系，坐标系原点作为球心，也可以用原坐标系确定球心坐标。球的Radius（半径）设为10。 选中构成铁棒的一个圆柱与两个球体，Edit-&gt;Boolean-&gt;Unite将其合为一体。 可以修改一下各个部件的名字，这里将铁棒命名为Iron_Stick，马蹄形磁铁的永磁体N级与S级分别命名为pm1与pm2，马蹄形磁铁的弧形部分命名为Iron_Arc。 接下来在原坐标系基础上建立空气域，先选择Global坐标系（原坐标系），点击Draw窗口Create Region，Padding Type修改为Absolute Offset（绝对偏移量），Value设为20mm。建好后双击CreateRegion对其大小进行调整（为了与Comsol官方案例保持一致，方便对比），这里将 -X Padding Data设为150mm，其余5项皆设为100mm。 材料 首先定义永磁体的材料，永磁体的材料在材料库中没有，需要自己创建。 双击pm1（N极），Material下拉菜单选择Edit（或者pm1右键Assign Material），点击Add Material。Material Name设为pm_1，Relative Permeability（相对磁导率）保持为1不变，Magnitude（矫顽力）设为-750000A/m。输入矫顽力后，其下方会多出X/Y/Z Component三栏，这表示充磁方向的单位矢量，pm1是N极，在这里它的充磁方向沿X轴正方向，所以充磁方向单位矢量是(1,0,0)，这里X Component填1，Y Component与Z Component填0。 pm2（S极）同理，创建材料命名为pm_2。唯一的区别是其充磁方向沿X轴负方向，故X Component填-1，其余与pm_1一致。 将Iron_Stick与Iron_Arc的材料设置为iron。铁的相对磁导率为4000。 网格 选中铁棒与马蹄形磁铁，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Length Based，弹出窗口设定尺寸为4mm。 求解 永磁体本身就是激励的一种，不需要再外加激励。 边界条件不需要去设置，静磁场中使用默认边界条件。 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面，使用默认设置即可，直接确认。 选中铁棒，右键Assign Parameters-&gt;Force，弹出的窗口点击确认。 自此所有设置工作全部结束，点击菜单栏Maxwell 3D-&gt;Analyze All开始求解。 后处理 Project Manager窗口右键Results-&gt;Solution Data可以看到铁棒上所受合力计算结果，本次实验测得大小为6.0057N，与Comsol文档中提供的数据6.1N接近，验证了本次实验的正确性。 再看一下磁场分布，在XY平面上建立一个截面。选中截面后右键Fields-&gt;B-&gt;B_Vector。 图3 磁通矢量 如果要看磁通密度云图，可以选中截面后右键Fields-&gt;B-&gt;Mag_B。 图4 磁通密度 不知道为什么，图像与原视频的不同，数值不对。不过铁棒上所受合力与原视频是接近的。 参考资料 手把手教你Maxwell-【案例B203】永磁体电磁力仿真（上） 手把手教你Maxwell-【案例B203】永磁体电磁力仿真（下） Comsol官方案例-永磁体-中文文档","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"Maxwell教程02-螺线管3D静磁场仿真","slug":"工业软件/ANSYS/Maxwell教程02-螺线管3D静磁场仿真","date":"2023-08-16T06:36:18.000Z","updated":"2024-01-25T05:20:20.898Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程02-螺线管3D静磁场仿真/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B02-%E8%9E%BA%E7%BA%BF%E7%AE%A13D%E9%9D%99%E7%A3%81%E5%9C%BA%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"基于B站视频手把手教你Maxwell-【案例B202】螺线管3D静磁场仿真整理的学习笔记，视频原作者为搞仿真的晴博。 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 我使用的软件版本为2023R1，与原视频软件版本2022R1不同，也有个人操作问题，会使实验结果与原视频不同，一切以原视频为准。 建模 直接建三维模型 在上期视频的工程基础上，Project Manager窗口工程文件右键Insert-&gt;Insert Maxwell 3D Design新建一个三维模型。 点击Draw菜单栏中的圆柱体图标，画一个线圈的内径（线圈内径10mm，外径12mm，高20mm），第一次点击点击确定圆心，第二次点击确定半径，第三次点击确定圆柱高。双击CreateCylinder进入属性界面，Radius设置为10，Height设置为20。 Number of Segments指的是多边形边数，这里设置为36，也就是将圆柱体近似为正三十六棱柱体。使用棱柱是为了保持模型的对称性，计算电场不要将圆柱近似为棱柱，计算磁场等物理量建议将圆柱近似为棱柱。 再以相同方法画一个圆柱（线圈外径），Radius设置为12，Number of Segments也设置为36。 选中两个圆柱体，做减法操作。右键Edit-&gt;Boolean-&gt;Subtract，弹出窗口界面中左侧Blank Parts是减数（大的），右侧Tool Parts是被减数（小的）。这里需要调换一下，让Cylinder2做Blank Parts，Cylinder1做Tool Parts。 接下来画电枢铁芯（半径8mm，长度30mm），点击Draw菜单栏中的圆柱体图标下面的棱柱体，画出一个棱柱，弹出的Number of Segments设置为24。属性Center Position设置为“0 ,0 ,-5”，Start Position设置为“8 ,0 ,-5”，Height设置为30。 画一个空气域，点击Draw菜单栏中的Create Region（红色边框空心正方体）图标，这次设置Percentage Offset值为200，表示在已经画出来的几何模型基础上扩大200%的区域内建立空气域。 在二维模型基础上建三维模型 Project Manager窗口右键上期视频建立的二维工程“Maxwell2DDesign1”点击Create 3D Design。弹出“Sweep Around Z Axis”窗口，旋转角度Angle of Sweep保持为360度，Number of Segments设置为36，就能得到相同的三维模型。 需要修改一下空气域，100改成200。 同理，三维模型取一个截面后也可以转化为二维模型。 材料 和上期视频操作一致。线圈命名为Coil，材料为Copper；铁芯命名为Core，材料为steel_1008。 激励 给线圈加一个电流。可以做一个截面，在截面上给电流。点击线圈，右键Edit-&gt;Surface-&gt;Section，弹出窗口选择YZ或XZ平面。（视频中选择了YZ平面） 这里产生了两个截面，需要去掉一个，选中截面右键Edit-&gt;Boolean-&gt;Separate Bodies将其一分为二，然后删掉两个截面中的一个。（视频中删除了Y轴负半轴上的截面） 选取Coil右键Assign Excitation-&gt;Current，选择电流为1000A，Type选择Standard（绞线圈）。这里点击Swap Direction可以调换电流方向。 可以在Project Manager窗口Excitation-&gt;Current1看到这个电流。 边界 空气域最外侧使用默认的纽曼条件，使用默认的H平行边界，不需要去设置。 网格 为使仿真结果更为准确，需要自己设置网格。 选中线圈，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Length Based，弹出窗口设定尺寸为2mm。 再选中铁芯，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Length Based，弹出窗口设定尺寸为5mm，再右键Assign Mesh Operation-&gt;On Selection-&gt;Length Based，弹出窗口设定尺寸为2mm。 求解 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面，使用默认设置即可，直接确认。 收敛误差Percent Error默认为1%，如果要做精细计算，可以修改为0.1%。 点击菜单栏Maxwell 2D-&gt;Analyze All开始求解。 后处理 和上期视频一样，按照“先源量后场量、先定性再定量”的原则观察实验数据。 先看线圈电流，选中线圈后右键Fields-&gt;J-&gt;J_Vector查看电流矢量。如下图所示： 图1 线圈电流 观察到其电流方向正确，大小正常，说明线圈电流没有问题。 嵌入一个截面，点击Draw菜单栏中的Draw Rectangle（矩形）图标，弹出的窗口点Yes。将Draw菜单栏中Grid（网格）下面的下拉菜单选为YZ，这样就能在YOZ平面上画矩形，画好矩形后修改其属性使截面的位置更合适。（这里设置Position为0,30,-20，YSize为-60，XSize为60） 接下来看截面上的磁通密度，选中截面后右键Fields-&gt;B-&gt;Mag_B。 接下来看截面上的磁通矢量，选中截面后右键Fields-&gt;B-&gt;B_Vector。 图2 磁通密度 图3 磁通矢量 接下来看穿过螺线管的某个路径的磁力大小变化。点击菜单栏Draw-&gt;Draw Line（直线）绘制一条z轴上的线段。点击CreateLine可以修改点的坐标。（这里设置Point1为0,0,30，Point2为0,0,-10） 在Project Manager窗口Create Fields Report-&gt;Rectangular Plot。弹出的窗口Context-&gt;Geometry选择Polyline1，X轴坐标保持默认Distance（距离），Y轴坐标选择Mag_B（磁通密度）。点击New Report就可生成随线段路径上的点的位置变化的磁通密度曲线，如下图所示。 图4 磁通密度曲线 曲线图可以导出，右键Export即可，可以保存为图片，也可以保存为图表(csv)格式。 参考资料 手把手教你Maxwell-【案例B202】螺线管3D静磁场仿真","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"Maxwell教程01-螺线管2D静磁场仿真","slug":"工业软件/ANSYS/Maxwell教程01-螺线管2D静磁场仿真","date":"2023-08-13T13:56:52.000Z","updated":"2024-01-25T05:20:20.888Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程01-螺线管2D静磁场仿真/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B01-%E8%9E%BA%E7%BA%BF%E7%AE%A12D%E9%9D%99%E7%A3%81%E5%9C%BA%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"基于B站视频手把手教你Maxwell-【案例B201】螺线管静磁场仿真整理的学习笔记，视频原作者为搞仿真的晴博。 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 我使用的软件版本为2023R1，与原视频软件版本2021R2不同，也有个人操作问题，会使实验结果与原视频不同，一切以原视频为准。 背景介绍 图1 通电螺线管 通电螺线管由中间的铁芯与周围的线圈组成，在线圈中通入电压或电流后，线圈周围就会产生磁场。产生的磁场方向可以通过右手螺旋定则（安培定则）确定。 本次仿真在二维平面中进行，对螺线管的结构进行了二维简化，将其简化为经过螺线管在经过其对称轴的平面上的截面的右半部分。该截面沿对称轴旋转一周(360°)，就能得到原来的三维螺线管。 图2 螺线管简化 本次仿真实验将建立螺线管静磁场二维模型，分析所得磁场分布与磁通密度数据，验证其是否符合理论预期。 建模 打开软件，点击Desktop菜单里的Maxwell图标，点击Maxwell 2D。点完之后才会出现仿真界面。 点击菜单栏Maxwell 2D-&gt;Solution Type，改变求解模式，将Geometry Mode由Cartesian,XY改为Cylindrical about Z（关于Z轴的圆柱体），Magnetic（磁场类型）保持为Magnetostatic（静磁场）不变。 （也就是说画的是XoZ平面上的二维图像，然后绕Z轴形成一个圆柱体） 点击Draw菜单栏中的矩形图标，画一个线圈，点击CreateRectangle修改矩形尺寸与位置（单位mm）。 这里设置Position为10,0,0，表示线圈内径10mm；XSize设为2，ZSize设为20，表示线圈厚度2mm（外径12mm），高20mm。 可以在Properties（属性）窗口中修改Rectangle1的颜色，便于其与螺线管区分。 再画一个矩形（螺线管）。设置CreateRectangle的Position为0,0,25，XSize设为8，ZSize设为-30。这样就得到了一个半径8mm，长度30mm的螺线管。 （不难发现这里的Position是基础坐标，确定了矩形的一个顶点，XSize与YSize是矩形从顶点延伸出去的两个边长） 画一个空气域，点击Draw菜单栏中的Create Region（红色边框空心正方体）图标，设置Percentage Offset值为100，表示在已经画出来的几何模型基础上扩大100%的区域内建立空气域。 材料 双击Rectangle1进入属性界面，可以修改它的名称，这里修改为Coil（线圈）。Material（材料）修改为Copper（铜）。 Rectangle2同理，名字修改为Core（铁芯），材料为电工纯铁，这个材料库里没有，需要自己建立，包括自己确定磁化曲线，具体看原视频，这里不自己建了，选择材料steel_1008。 激励 给线圈加一个电流，选取Coil右键Assign Excitation-&gt;Current，选择电流为100A，方向保持为Positive（正方向）。可以在Project Manager窗口Excitation-&gt;Current1看到这个电流。 边界 右键仿真区域Selection Mode-&gt;Edge将选取模式改为边界，选中空气域的三个边（Z轴是对称轴，可以不给边界）。右键Assign Boundary-&gt;Balloon，确认后就可在Project Manager窗口Boundries-&gt;Balloon1看到这个气球边。 网格 网格使用默认的自适应网格，不需要去设置。 求解 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面。 General选项卡中Maximum Number of Passes为最大迭代次数，Percent Error为允许结束迭代的误差百分比（收敛误差，默认为1%）。 Convergance选项卡通常不改。其中Refinement Per Pass表示每次迭代前后，网格数量能增加的百分比（默认为30%）。Minimum Number of Passes表示无论是否达到收敛标准，必须在完成此处所设定的最小迭代次数之后才能停止网格剖分细化（默认值2）。Minimum Converged Passes表示在达到收敛标准后，还需要继续进行的迭代次数（默认值1）。 Solver选项卡Smooth BH Curve默认关闭，如果是自建材料使用了自己设置的磁化曲线时建议开启。 确认后就可在Project Manager窗口Analysis-&gt;Setup1看到这个求解设置。 正式求解前的最后一步，点击菜单栏Maxwell 2D-&gt;Validation Check，检查以下求解准备工作是否完成。 点击菜单栏Maxwell 2D-&gt;Analyze All开始求解。 计算完成后，可在Message Manager窗口中看到信息“Normal completion of simulation on server: Local Machine.” 在Project Manager窗口Results-&gt;Solution Data可以看到每次迭代的数据，还可以将View模式改为Plot观看其中任意两项数据关系的折线图。 图3 迭代结果 某一次的迭代结果如上图所示，其中Delta Energy项表示收敛误差百分比，可以看到在第三次迭代时数量降到了1以下，符合收敛标准。由于Minimum Converged Passes值设置为1，这使得迭代需要再此基础上再进行一次。 观察实验结果 顺序为“先源量后场量、先定性再定量”。 这里先看线圈电流，选中线圈后右键Fields-&gt;J-&gt;J_Vector查看电流矢量（结果为朝里的平行直线）。 再看磁场分布，将线圈、螺线管、空气域都选中，右键Fields-&gt;A-&gt;Flux_lines便可查看磁场，如果只想看一半（X轴正方向），可以将Full Model关闭。 接下来看磁通密度，选中线圈、螺线管、空气域后右键Fields-&gt;B-&gt;Mag_B。 接下来看磁通矢量，选中线圈、螺线管、空气域后右键Fields-&gt;B-&gt;B_Vector。 图4 磁场分布 图5 磁通密度 图6 磁通密度（矢量） 实验结果图像的显示效果可以在Project Manager窗口Field Overlays-&gt;J(或A，或B)-&gt;右键Modify Attributes进行修改。 观察特定点的数值，可以右键仿真区域Fields-&gt;Marker-&gt;Add Marker，弹出Measure Data窗口。菜单栏Draw-&gt;Measure（褐色正方体）下拉菜单选择为Position。 这样就可以选择几个点观察仿真数据了，Measure Data窗口会显示坐标信息，也可以在这个窗口里修改坐标。右上角会显示一个表格，包含所选点位的坐标与物理量数值。 图7 磁通密度（特定点数值） 观察某条线上的数值，点击菜单栏Draw-&gt;Draw Line（直线）绘制一条直线，弹出的窗口点Yes。画好线段后，可以双击CreateLine修改端点坐标。 在Project Manager窗口Create Fields Report-&gt;Rectangular Plot。弹出的窗口Context-&gt;Geometry选择Polyline1，X轴坐标保持默认Distance（距离），Y轴坐标选择Mag_B（磁通密度）。点击New Report就可生成随线段路径上的点的位置变化的磁通密度曲线，如下图所示。 图8 磁通密度曲线 待扩展的内容 线圈电感计算、线圈受力计算、螺线管磁场均匀度计算、参数化设计。 后面的视频会加以补充。 参考资料 手把手教你Maxwell-【案例B201】螺线管静磁场仿真 大物学习笔记（十八）——自感、互感与磁场的能量","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"运动控制系统10-转速、电流双闭环控制直流调速系统的设计","slug":"课程笔记/运动控制系统/运动控制系统10-转速、电流双闭环控制直流调速系统的设计","date":"2023-08-10T00:22:49.000Z","updated":"2024-01-25T05:20:20.999Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统10-转速、电流双闭环控制直流调速系统的设计/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F10-%E8%BD%AC%E9%80%9F%E3%80%81%E7%94%B5%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%AE%BE%E8%AE%A1/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第四章 转速、电流双闭环控制的直流调速系统 第三节 转速、电流双闭环控制直流调速系统的设计；对应页码p61-p91 控制系统的动态性能指标 在控制系统中设置调节器是为了改善系统的静、动态性能。 控制系统的动态性能指标包括对给定输入信号的跟随性能指标和对扰动输入信号的抗扰性能指标。 跟随性能指标 通常以输出量的初始值为零，给定信号阶跃变化下的过渡过程作为典型的跟随过程。此跟随过程的输出量动态响应称作阶跃响应。 图1 跟随性能指标 常用的阶跃响应跟随性能指标有上升时间\\(t_r\\)、超调量\\(\\sigma\\)、峰值时间\\(t_p\\)和调节时间\\(t_s\\)，如上图所示。 抗扰随性能指标 在调速系统中主要扰动来源于负载扰动和电网电压波动。 当调速系统在稳定运行中，突加一个使输出量降低（或上升）的扰动量\\(F\\)之后，输出量由降低（或上升）到恢复到稳态值的过渡过程就是一个抗扰过程。 图2 抗扰性能指标 常用的抗扰性能指标有动态降落\\(\\Delta C_{max}\\)和恢复时间\\(t_v\\)，如上图所示。 动态降落\\(\\Delta C_{max}\\)一般用它所占输出量原稳态值\\(C_{\\infty 1}\\)的百分数(\\(\\Delta C_{max}/C_{\\infty 1} \\times 100\\%\\))来表示。\\(C_{\\infty 2}\\)为扰动后的新稳态值，(\\(C_{\\infty 1} - C_{\\infty 2}\\))为扰动作用的稳态误差（静差），\\(C_b\\)为输出量基准值，视情况决定。 频域性能指标和伯德图 图3 典型控制系统伯德图 典型控制系统伯德图如上图所示，反映系统性能的伯德图特征有下列四个方面： 中频段以‐20dB/dec的斜率穿越零分贝线，而且这一斜率占有足够的频带宽度，则系统的稳定性好。 截止频率（或称剪切频率）\\(\\omega _c\\)越高，则系统的快速性越好。 低频段的斜率陡、增益高，表示系统的稳态精度好（即静差率小、调速范围宽）。 高频段衰减得越快，即高频特性负分贝值越低，说明系统抗高频噪声干扰的能力越强。 调节器的工程设计方法 典型系统 控制系统开环传递函数可表示为： \\[W(s) = \\frac{ {K\\prod\\limits_{i = 1}^m {({\\tau _i}s + 1)} } }{ { {s^r}\\prod\\limits_{j = 1}^n {({T_j}s + 1)} } }\\] 分母中的\\(s^r\\)项表示该系统在\\(s=0\\)处有\\(r\\)重极点，或者说系统有\\(r\\)个积分环节，称作\\(r\\)型系统。 为了使系统对阶跃给定无稳态误差，不能使用0型系统(r=0)，至少是Ⅰ型系统(r=1)；当给定是斜坡输入时，则要求是Ⅱ型系统(r=2)才能实现稳态无差。 由于Ⅲ型(r=3)和Ⅲ型以上的系统很难稳定，而0型系统的稳态精度低。因此常把Ⅰ型和Ⅱ型系统作为系统设计的目标。 典型Ⅰ型系统 典型Ⅰ型系统的开环传递函数为\\(W(s)=\\frac{K}{s(Ts+1)}\\)，其中\\(T\\)为系统的惯性时间常数，\\(K\\)为系统的开环增益。典型Ⅰ型系统的闭环系统结构图与开环对数频率特性如下图所示： 图4 典型Ⅰ型系统(a)闭环系统结构图 (b)开环对数频率特性 对数幅频特性的中频段以-20dB/dec的斜率穿越零分贝线，只要参数的选择能保证足够的中频带宽度，系统就一定是稳定的。 只包含开环增益\\(K\\)和时间常数\\(T\\)两个参数，时间常数\\(T\\)往往是控制对象本身固有的，唯一可变的只有开环增益\\(K\\) 。设计时，需要按照性能指标选择参数\\(K\\)的大小。 为使对数幅频特性的中频段以-20dB/dec的斜率穿越零分贝线，满足稳定裕度的要求。选择参数时需保证\\(\\omega _c &lt; \\frac{1}{T}\\)。进而使得\\(\\omega _c T&lt; 1\\)，\\(arctan\\omega _c T&lt;45^\\circ\\) 相角稳定裕度\\(\\gamma = 180^\\circ -90^\\circ -arctan\\omega _c T=90^\\circ -arctan\\omega _c T&gt;45^\\circ\\) 由对数坐标函数关系\\(20lgK=20(lg \\omega _c -lg1)=20lg \\omega _c\\)可知\\(K=\\omega _c (\\omega _c &lt;\\frac {1}{T})\\)，\\(KT&lt;1\\) \\(K\\)值越大，截止频率\\(\\omega _c\\)也越大，系统响应越快，但相角稳定裕度会越小。也就是说快速性与稳定性间存在矛盾。在选择参数\\(K\\)时，须在快速性与稳定性之间取折中。 动态跟随性能指标 典型Ⅰ型系统的闭环传递函数： \\[W_{cl}(s) = \\frac{W(s)}{1 + W(s)} = \\frac{ {\\frac{K}{ {s(Ts + 1)} } } }{ {1 + \\frac{K}{ {s(Ts + 1)} } } } = \\frac{ {\\frac{K}{T} } }{ { {s^2} + \\frac{1}{T}s + \\frac{K}{T} } } = \\frac{ {\\omega _n^2} }{ { {s^2} + 2\\xi {\\omega _n}s + \\omega _n^2} }\\] 其中自然震荡角频率\\({\\omega _n} = \\sqrt {\\frac{K}{T} }\\)，阻尼比\\(\\xi=\\frac{1}{2}\\sqrt {\\frac{1}{KT} }\\) \\(0&lt;\\xi&lt;1\\)时，欠阻尼，系统震荡；\\(\\xi&gt;1\\)时，过阻尼，系统单调；\\(\\xi=1\\)时为临界阻尼。 通常把系统设计成欠阻尼状态，又由\\(KT&lt;1\\)得\\(\\xi&gt;0.5\\)，因此通常取\\(0.5&lt;\\xi&lt;1\\)。 超调量\\(\\sigma = {e^{ - (\\xi \\pi /\\sqrt {1 - {\\xi ^2} } )} } \\times 100\\%\\) 上升时间\\(t_r = \\frac{2\\xi T}{\\sqrt {1 - {\\xi ^2} } }(\\pi - \\arccos \\xi )\\) 峰值时间\\(t_p = \\frac{\\pi }{ {\\omega _n}\\sqrt {1 - {\\xi ^2} } }\\) 调节时间\\(t_s \\approx \\frac{3}{ {\\xi {\\omega _n} } } = 6T\\)（\\(\\xi&lt;0.9\\)、误差带\\(\\pm 5\\%\\)的情况下近似估算） 截止频率\\(\\omega _c = {\\omega _n}{[\\sqrt {4{\\xi ^4} + 1} - 2{\\xi ^2}]^{\\frac{1}{2} } }\\)（精确计算，不使用伯德图近似估算） 相角稳定裕度\\(\\gamma = \\arctan \\frac{2\\xi}{ { {[\\sqrt {4{\\xi ^4} + 1} - 2{\\xi ^2}]}^{\\frac{1}{2} } } }\\) 根据上列各式，求出\\(0.5&lt;\\xi&lt;1\\)时典型Ⅰ型系统各项动态跟随指标和频域指标与参数\\(KT\\)的关系如下表所示： 表1 典型Ⅰ型系统各项动态跟随指标和频域指标与参数\\(KT\\)的关系 参数关系\\(KT\\) 阻尼比\\(\\xi\\) 超调量\\(\\sigma\\) 上升时间\\(t_r\\) 峰值时间\\(t_p\\) 相角稳定裕度\\(\\gamma\\) 截止频率\\(\\omega _c\\) 0.25 1.0 0% 76.3° 0.243/T 0.39 0.8 1.5% 6.6T 8.3T 69.9° 0.367/T 0.50 0.707 4.3% 4.7T 6.2T 65.5° 0.455/T 0.69 0.6 9.5% 3.3T 4.7T 59.2° 0.596/T 1.0 0.5 16.3% 2.4T 3.6T 51.8° 0.786/T 可以观察到系统的时间常数T已知时，随着K的增大，系统的快速性提高，但稳定性变差。 要求动态响应快时可取\\(\\xi = 0.5 \\sim 0.6\\)，并选较大的K；要求超调小时可取\\(\\xi = 0.8 \\sim 1.0\\)，并选较小的K；要求无超调时可取\\(\\xi = 1.0\\)。 无特殊要求时，取\\(\\xi = 0.707\\)，\\(KT=0.5\\)，这一参数又称为“二阶最佳整定参数”，它兼顾了快速性与稳定性。 动态抗扰性能指标 影响到参数K的选择的第二个因素是它和抗扰性能指标之间的关系，典型Ⅰ型系统已经规定了系统的结构，分析它的抗扰性能指标的关键因素是扰动作用点，某种定量的抗扰性能指标只适用于一种特定的扰动作用点。 这里以电流环扰动作用为例分析典型Ⅰ型系统的抗电网电压波动性能。 图5 电流环典型Ⅰ型系统电压扰动下动态结构(a)动态结构图 (b)等效结构图 其中\\(T_1=T_s\\)，\\(T_2=T_l\\)，\\(K_2=\\beta /R\\)，再取\\(K_1=K_pK_s/\\tau\\)，\\(\\tau=T_2\\)（\\(T_2&gt;T_1\\)） 讨论抗扰性能时，令输入变量\\(R(s)=0\\)，输出变量写成\\(\\Delta C\\)。 令\\(m=\\frac{T_1}{T_2}&lt;1\\)为小时间常数与大时间常数的比值，分别分析\\(m=\\frac{1}{5},\\frac{1}{10},\\frac{1}{20},\\frac{1}{30}\\)时的最大动态降落\\(\\Delta C_{max}\\)、最大动态降落对应时间\\(t_m\\)与恢复时间\\(t_v\\)。 具体分析过程参见教材p68-p69，这里不再赘述，下面放出结论 表2 典型Ⅰ型系统动态抗扰指标和频域指标与参数\\(m\\)的关系 \\(m\\) 最大动态降落\\(\\frac{\\Delta C_{max} }{C_b} \\times 100\\%\\) 最大动态降落时间\\(\\frac{t_m}{T_2}\\) 恢复时间\\(\\frac{t_v}{T_2}\\) \\(\\frac{1}{5}\\) 27.78% 0.566 2.209 \\(\\frac{1}{10}\\) 16.58% 0.336 1.478 \\(\\frac{1}{20}\\) 9.27% 0.19 0.741 \\(\\frac{1}{30}\\) 6.45% 0.134 1.104 当控制对象的两个时间常数相距越大（m值越小），动态降落越小。 恢复时间的变化不是单调的，\\(m=\\frac{1}{20}\\)时恢复时间最短。 典型Ⅱ型系统 典型Ⅱ型系统的开环传递函数为\\(W(s) = \\frac{K(\\tau s + 1)}{ {s^2}(Ts + 1)}\\)。 其中\\(T\\) 为系统的惯性时间常数，分子上的比例微分环节\\((\\tau s + 1)\\)用以保证系统稳定，待定参数为\\(K\\)和\\(\\tau\\)。 图6 典型Ⅱ型系统(a)闭环系统结构图 (b)开环对数频率特性 典型Ⅱ型系统的闭环系统结构图与开环对数频率特性如上图所示。与典型Ⅰ型系统一样，中频段以-20dB/dec的斜率穿越零分贝线。要求\\(\\frac{1}{\\tau}&lt;\\omega _c&lt;\\frac{1}{T}\\)，或者\\(\\tau&gt;T\\)。 相角稳定裕度\\(\\gamma = 180^\\circ - 180^\\circ + arctan\\omega _c\\tau - arctan\\omega _c T = arctan\\omega _c\\tau - arctan\\omega _c T\\) 由相角稳定裕度可知\\(\\tau\\)比\\(T\\)大得越多，系统的稳定裕度越大。 由对数坐标函数关系\\(20lgK=40(lg\\omega _1 - lg1) + 20(lg\\omega _c - lg1)=20lg\\omega _1 \\omega _c\\)可知\\(K=\\omega _1 \\omega _c\\)。 改变\\(K\\)相当于使开环对数幅频特性上下平移，从而改变截止频率\\(\\omega _c\\)，此特性与闭环系统的快速性有关。 定义中频宽（斜率为-20dB/dec的中频段宽度）\\(h=\\frac{\\tau}{T}=\\frac{\\omega _2}{\\omega _1}\\)，中频宽的状况对控制系统的动态品质起着决定性的作用。 由于\\(T\\)值一定，改变\\(\\tau\\)就相当于改变了中频宽\\(h\\)，在此基础上改变\\(K\\)相当于改变\\(\\omega _c\\)。因此选择频域参数\\(h\\)和\\(\\omega _c\\)，相当于选择参数\\(\\tau\\)和\\(K\\)。 采用“振荡指标法”中的闭环幅频特性峰值最小准则，可以找到\\(h\\)和\\(\\omega _c\\)两个参数之间的一种最佳配合。 这一准则表明对于一定的\\(h\\)值，只有一个确定的\\(\\omega _c\\)或\\(K\\)可以得到最小的闭环幅频特性峰值\\(M_{rmin}\\)。 取\\(\\omega _c=\\frac{\\omega _1+\\omega _2}{2}\\)时，有\\(M_{rmin}=\\frac{h+1}{h-1}\\)。 \\(h\\)值越大，\\(M_{rmin}\\)越小，超调量便会随之减小，但是\\(\\omega _c\\)也会减小，这会使系统的快速性变弱。 \\(h\\)通常在3~10间选择。确定\\(h\\)值后，可以推算出\\(\\tau = hT\\)，\\(K=\\frac{h+1}{2h^2 T^2}\\)。 具体推算过程见教材p70-p71 动态跟随性能指标 以\\(T\\)为时间基准，当\\(h\\)取3~10的不同值时，求其对应单位阶跃响应函数，计算出\\(\\tau\\)、\\(t_r/T\\)、\\(t_s/T\\)和震荡次数\\(k\\)。 具体计算过程与计算结果见教材p71-p72，这里不再赘述，下面放出结论 动态跟随性能分析结论： 调节时间\\(t_s\\)随\\(h\\)的变化不单调，当\\(h=5\\)时，调节时间最短。 \\(h\\)值越小，上升时间\\(t_s\\)越快；\\(h\\)值越大，超调量\\(\\tau\\)越小。 综合考虑，可以取\\(h=5\\)，其动态跟随性能比较适中。 动态抗扰性能指标 这里以转速环扰动作用为例分析典型Ⅱ型系统的抗负载波动性能。 图6 转速环典型Ⅱ型系统负载扰动下动态结构(a)动态结构图 (b)等效结构图 取\\(K_1=K_p K_d/\\tau _1\\)，\\(\\tau _1=hT\\)，\\(K_2=\\frac{R\\alpha}{T_m C_e}\\)，\\(K=K_1 K_2\\)，按照闭环幅频特性峰值最小准则确定参数关系。 令输入变量\\(R(s)=0\\)，输出变量写成\\(\\Delta C\\)，阶跃扰动\\(F(s)=\\frac{F}{s}\\)，输出变量写成\\(\\Delta C\\)。 计算出不同\\(h\\)值对应的动态抗扰过程曲线\\(\\Delta C(t)\\)，进而求最大动态降落\\(\\Delta C_{max}\\)、最大动态降落对应时间\\(t_m\\)与恢复时间\\(t_v\\)。 具体分析过程与计算结果参见教材p72-p73，这里不再赘述，下面放出结论 动态抗扰性能分析结论： \\(h\\)值越小，最大动态降落\\(\\Delta C_{max}\\)越小，最大动态降落对应时间\\(t_m\\)越短，说明抗扰性能越好。 恢复时间\\(t_v\\)随\\(h\\)的变化不单调，当\\(h&lt;5\\)时，由于震荡次数增加，恢复时间\\(t_v\\)变长。 综合考虑，可以取\\(h=5\\)，其动态抗扰性能比较适中。 控制对象的工程近似处理方法 高频段小惯性环节的近似处理 当高频段有多个小时间常数\\(T_1,T_2,T_3,\\ldots\\)的小惯性环节时，可以等效地用一个小时间常数\\(T\\)的惯性环节来代替。 其等效时间常数为\\(T=T_1+T_2+T_3+\\ldots\\)。 图7 高频段小惯性环节的近似处理 两个高频小惯性环节的近似条件：\\({\\omega _c} \\leqslant \\frac{1}{ {3\\sqrt { {T_1}{T_2} } } }\\) 三个高频小惯性环节的近似条件：\\({\\omega _c} \\leqslant \\frac{1}{3}\\frac{1}{ {\\sqrt { {T_1}{T_2} + {T_2}{T_3} + {T_3}{T_1} } } }\\) 高阶系统的降阶近似处理 如三阶稳定系统\\(W(s)=\\frac{K}{as^3+bs^2+cs+1}\\)（\\(a,b,c\\)均为正数且\\(bc&gt;a\\)） 在一定条件下可以忽略高次项近似为\\(W(s)\\approx \\frac{K}{cs+1}\\) 近似条件：\\(\\omega _c \\leqslant \\frac{1}{3} min(\\sqrt{\\frac{1}{b} },\\sqrt{\\frac{c}{a} })\\) 低频段大惯性环节的近似处理 当系统中存在一个时间常数特别大的惯性环节时\\(\\frac{1}{Ts+1}\\)，可以近似地将它看成是积分环节\\(\\frac{1}{Ts}\\) 近似条件：\\(\\omega _c \\geqslant \\frac{3}{T}\\) 图8 低频段大惯性环节的近似处理 这种近似处理仅适用于分析动态性能，考虑稳态精度时仍要使用原来的传递函数\\(W(s)\\)。 按工程设计方法设计转速、电流反馈控制直流调速系统的调节器 设计原则为“先内环后外环”。 先从电流环开始，进行必要的变换与近似处理，根据电流环控制要求确定矫正成Ⅰ型系统还是Ⅱ型系统，根据控制对象确定电流调节器类型，按动态性能指标确定电流调节器的参数。电流环设计完成后，将电流环等效为转速环的一个环节，再用同样的方法设计转速环。 电流调节器的设计 图9 双闭环调速系统动态结构图 确定时间常数 Ⅰ型系统与Ⅱ型系统所需要确定的时间常数相同。 ①电力电子变换器滞后时间常数\\(T_s\\)：对于PWM变换器，其滞后时间常数为其开关频率的倒数，如开关频率为8kHz的PWM变换器的\\(T_s=0.000125s\\)；对于晶闸管整流器，其滞后时间常数为其最大失控时间的一半。 ②电流滤波时间常数\\(T_{oi}\\)：为消除纹波应有\\(\\frac{1}{T_{oi}} = (\\frac{1}{5}\\sim\\frac{1}{10}) \\frac{1}{T_{s}}\\)。 ③电流环小时间常数之和\\(T_{\\sum i}=T_s+T_{oi}\\)（按小时间常数近似处理）。 选择电流调节器结构 首先根据实际控制需求确定使用Ⅰ型系统还是Ⅱ型系统。 如果要选用Ⅰ型系统，需检查对电源电压的抗扰性能，求\\(\\frac{T_l}{T_{\\sum i} }\\)的值。这里\\(\\frac{T_l}{T_{\\sum i} }=\\frac{T_2}{T_1}=\\frac{1}{m}\\)可以求出\\(m\\)值，查看表2判断动态抗扰性能是否符合要求。 典型Ⅰ型系统把双惯性环节的电流环控制对象近似等效成只有较小时间常数\\(2T_{\\sum i}\\)的一阶惯性环节，加快了电流的跟随作用。使用典型Ⅰ型系统的前提是超前环节恰好对消掉了控制对象的大惯性环节，如果电动机参数测量不准，大惯性环节未被准确对消，就会影响电流环的动态性能。 具体分析过程与计算结果参见教材p78-p80，这里不再赘述 如果要选用Ⅱ型系统，典型Ⅱ型系统超调量大，不能很好满足电流环对跟随性能指标的要求。可以在电流给定后加入低通滤波能有效降低超调量，解决这一问题。但响应速度会变慢，调节时间与上升时间变长。 低通滤波是一个惯性环节，其时间常数为\\(T_{in}\\)。经过实验分析，可知当\\(T_{in}=4T_{\\sum i}\\)时，超调量得到了有效的降低且调节时间最短。因此一般选择低通滤波时间常数\\(T_{in}=4T_{\\sum i}\\)，再判断在此条件下是否符合要求。 具体分析过程与计算结果参见教材p81-p84，这里不再赘述 计算电流调节器参数 对于Ⅰ型系统： 电流调节器设计为PI调节器，其传递函数\\(W_{ACR}(s)=\\frac{K_i(\\tau _i s+1)}{\\tau _i s}\\) 校正为Ⅰ型系统传递函数\\(W_{opi}(s)=\\frac{K_i \\beta K_s /R}{\\tau_i s(T_{\\sum i}s+1)}=\\frac{K_I}{s(T_{\\sum i}s+1)}\\) 电流调节器超前时间常数\\(\\tau_i=T_l\\) （这里\\(T_l \\gg T_{\\sum i}\\)，用调节器的零点对消掉控制对象的大时间常数极点，以便矫正成Ⅰ型系统） 电流环开环增益\\(K_I=\\frac{0.5}{T_{\\sum i} }\\)（取\\(K_I T_{\\sum i}=0.5\\)时） 电流调节器比例系数\\(K_i=\\frac{K_I \\tau_i R}{K_s \\beta}\\) 对于Ⅱ型系统： 电流调节器设计为PI调节器，传递函数同上。 校正为Ⅱ型系统传递函数\\(W_{opi}(s)=\\frac{K_i \\beta K_s(\\tau_i s+1)}{\\tau_i R T_l s^2(T_{\\sum i}s+1)}=\\frac{K_I(\\tau_i s+1)}{s^2(T_{\\sum i}s+1)}\\) （这里的大惯性环节\\(\\frac{1}{T_l s+1}\\)满足近似条件\\(\\omega_{cli} \\geqslant \\frac{3}{T_l}\\)被近似为积分环节） 电流调节器超前时间常数\\(\\tau_i=hT_{\\sum i}\\) 电流调节器比例系数\\(K_i=\\frac{h+1}{2h}\\frac{RT_l}{K_s \\beta T_{\\sum i}}\\) 校验近似条件 Ⅰ型系统取电流环截止频率\\(\\omega_{ci}=K_I\\) Ⅱ型系统取电流环截止频率\\(\\omega_{ci} \\approx \\frac{1}{4T_{\\sum i} }\\) Ⅰ型系统与Ⅱ型系统都要校验的近似条件： ①PWM变换器传递函数近似条件\\(\\frac{1}{3T_s}&gt;\\omega_{ci}\\) ②忽略反电动势变化对电流环动态影响条件\\(3\\sqrt{\\frac{1}{T_m T_l} }&lt;\\omega_{ci}\\) ③电流环小时间常数近似处理条件\\(\\frac{1}{3}\\sqrt{\\frac{1}{T_s T_{oi} } }&gt;\\omega_{ci}\\) Ⅱ型系统还需要校验的近似条件： ④大惯性环节近似处理条件\\(\\frac{3}{T_l} \\leqslant \\omega_{cli}\\) 计算调节器电阻与电容 Ⅰ型系统电路参数： 图10 含配合滤波与反馈滤波的PI电流调节器 含配合滤波与反馈滤波的PI电流调节器如上图所示，\\(U_i^*\\)为电流给定电压，\\(-\\beta I_d\\)为电流负反馈电压，调节器输出量\\(U_c\\)为电力电子变换器控制电压。 \\(R_0\\)需要按照运算放大器实际情况自己给定。 \\(R_i=K_i R_0\\) \\(C_i=\\frac{\\tau_i}{R_i}\\) \\(C_{oi}=\\frac{4T_{oi} }{R_0}\\) Ⅱ型系统电路参数： 图11 输入滤波与含配合滤波与反馈滤波的PI电流调节器串联 Ⅱ型系统需要在原PI调节器前加入输入滤波，如上图所示。 \\(R_0\\)与\\(R_{i\\_i}\\)需要根据实际情况自己给定。 \\(R_i\\)、\\(C_i\\)、\\(C_{oi}\\)运算公式与Ⅰ型系统电路相同。 \\(C_{i\\_i}=\\frac{4T_{\\sum i} }{R_{i\\_i} }\\) 转速调节器的设计 确定时间常数 分析转速环时，电流环被等效为一阶惯性环节，其时间常数为\\(2T_{\\sum i}\\)。 转速滤波时间常数\\(T_{on}\\)根据测速发电机纹波情况选取，可以取\\(T_{on}=0.01s\\)。 转速环小时间常数\\(T_{\\sum n}\\)按小时间常数近似处理，取\\(T_{\\sum n}=2T_{\\sum i}+T_{on}\\)。 选择转速调节器结构 为了实现转速无静差，在负载扰动作用点前需有一个积分环节，包含在转速调节器中，由于在扰动作用点后已经有了一个积分环节，因此转速环开环传递函数应有两个积分环节。转速调节器需设计为典型Ⅱ型系统，这样的系统同时也能满足动态抗扰性能好的要求。 转速调节器也设计为PI调节器，其传递函数为\\(W_{ASR}(s)=\\frac{K_n(\\tau_n s+1)}{\\tau_n s}\\)。 调速系统开环传递函数\\(W_n(s)=\\frac{K_n \\alpha R(\\tau_n s+1)}{\\tau_n \\beta C_e T_m s^2(T_{\\sum n}s+1)}=\\frac{K_N(\\tau_n s+1)}{s^2(T_{\\sum n}s+1)}\\) 计算转速调节器参数 转速调节器超前时间常数\\(\\tau_n=hT_{\\sum n}\\) 转速环开环增益\\(K_N=\\frac{h+1}{2h^2 T_{\\sum n}^2}\\) 转速调节器比例系数\\(K_n=\\frac{(h+1)\\beta C_e T_m}{2h\\alpha R T_{\\sum n} }\\) 校验近似条件 转速环截止频率\\(\\omega_{cn}=\\frac{K_N}{\\omega_1}\\) 电流环传递函数简化条件\\(\\frac{1}{3}\\sqrt{\\frac{K_I}{T_{\\sum i} } }&gt;\\omega_{cn}\\) 转速换小时间常数近似处理条件\\(\\frac{1}{3}\\sqrt{\\frac{K_I}{T_{on} } }&gt;\\omega_{cn}\\) 计算调节器电阻与电容 图12 含配合滤波与反馈滤波的PI转速调节器 含配合滤波与反馈滤波的PI转速调节器如上图所示，\\(U_n^*\\)为转速给定电压，\\(-\\alpha n\\)为转速负反馈电压，调节器输出量\\(U_i^*\\)为电流调节器给定电压。 \\(R_0\\)需要按照运算放大器实际情况自己给定。 \\(R_n=K_n R_0\\) \\(C_n=\\frac{\\tau_n}{R_n}\\) \\(C_{on}=\\frac{4T_{on} }{R_0}\\) 校核转速超调量 突加阶跃给定时，ASR饱和，不符合线性系统的前提，在饱和限幅的非线性控制作用下，超调量会大大降低，需要按照ASR退饱和的情况重新计算超调量。 图13 ASR饱和时转速换按Ⅱ型系统设计的调速系统起动过程 上图\\(t_2\\)时刻，当转速超过给定值之后，转速调节器ASR由饱和限幅状态进入线性调节状态，此时的转速环由开环进入闭环控制，迫使电流由最大值\\(I_{dm}\\)降到负载电流\\(I_{dl}\\)。ASR开始退饱和时，由于电动机电流\\(I_d\\)仍大于负载电流\\(I_{dl}\\)，电动机继续加速，直到\\(I_d &lt; I_{dl}\\)时转速才降低。这不是按线性系统规律的超调，而是经历了饱和非线性区域之后的超调，因此称作“退饱和超调”。 ASR退饱和超调量计算公式为： \\[\\sigma_n = (\\frac{\\Delta {C_{max} } }{C_b})\\frac{\\Delta n_b}{n^*}=2(\\frac{\\Delta{C_{max} } }{C_b})(\\lambda-z)\\frac{\\Delta{n_N} }{n^*}\\frac{T_{\\sum n} }{T_m}\\] 具体公式推导参见教材p87-p90，这里不再赘述 式中\\(\\frac{\\Delta {C_{max} } }{C_b}\\)为动态降落，可以根据\\(h\\)值查教材P73表4-5得知，\\(h=5\\)时\\(\\frac{\\Delta {C_{max} } }{C_b}=81.2\\%\\)。 \\(\\lambda\\)为电动机允许的过载倍数，有\\(I_{dm}=\\lambda I_{dN}\\)。 \\(z\\)为负载系数，有\\(I_{dL}=z I_{dN}\\)。 \\(\\Delta{n_N}\\)为调速系统开环机械特性的额定稳态速降，\\(\\Delta{n_N}=\\frac{I_{dN} R}{C_e}\\)。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统09-转速、电流双闭环控制直流调速系统的数学模型与动态过程分析","slug":"课程笔记/运动控制系统/运动控制系统09-转速、电流双闭环控制直流调速系统的数学模型与动态过程分析","date":"2023-08-09T00:01:00.000Z","updated":"2024-01-25T05:20:20.989Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统09-转速、电流双闭环控制直流调速系统的数学模型与动态过程分析/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F09-%E8%BD%AC%E9%80%9F%E3%80%81%E7%94%B5%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%95%B0%E5%AD%A6%E6%A8%A1%E5%9E%8B%E4%B8%8E%E5%8A%A8%E6%80%81%E8%BF%87%E7%A8%8B%E5%88%86%E6%9E%90/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第四章 转速、电流双闭环控制的直流调速系统 第二节 转速、电流双闭环控制直流调速系统的数学模型与动态过程分析；对应页码p57-p61 动态数学模型 图1 双闭环控制直流调速系统动态结构图 转速、电流双闭环控制直流调速系统的动态结构图如上图所示。图中\\(W_{ASR}(s)\\)与\\(W_{ACR}(s)\\)分别表示转速调节器和电流调节器的传递函数，红框内为电机部分。 动态过程分析 起动过程 图2 起动过程 双闭环直流调速系统起动过程的转速和电流波形如上图所示。由图可知电流\\(I_d\\)先从零增长到\\(I_{dm}\\)，然后在一段时间内维持在\\(I_{dm}\\)不变，之后又下降并经调节到达稳态值\\(I_{dL}\\)。转速\\(n\\)先缓慢升速，然后以恒加速上升，产生超调后，最终回到给定值\\(n^*\\)。 起动过程分为电流上升、恒流升速和转速调节三个阶段，转速调节器在此三个阶段中经历了不饱和、饱和以及退饱和三种情况。 电流上升阶段 第I阶段\\((0 \\sim t_1)\\)是电流上升阶段。 \\(t=0\\)时，系统突加阶跃给定信号\\(U_n^*\\)，在ASR与ACR调节器作用下，\\(U_c\\)、\\(U_{d0}\\)、\\(I_d\\)均上升。 \\(I_d \\geqslant I_{dL}\\)后，电机起动，由于机电惯性作用，转速不会很快增长。转速调节器ASR的输入偏差电压仍较大，这使得其比例部分输出值较大，输出电压保持在限幅值\\(U_{im}^*\\)，强迫电枢电流\\(I_d\\)迅速上升。在这一阶段，ASR很快进入饱和状态，而ACR一般不饱和。直到\\(I_d= I_{dm}\\)，\\(U_i=U_{im}^*\\)，此时电流调节器ACR压制了\\(I_d\\)的增长，第I阶段结束。 恒流升速阶段 第II阶段\\((t_1 \\sim t_2)\\)是恒流升速阶段。 ASR调节器始终保持在饱和状态，转速环相当于开环工作。系统表现为使用PI调节器的电流闭环控制，ACR的给定值就是ASR的饱和值\\(U_{im}^*\\)，基本上保持电流\\(I_d=I_{dm}\\)不变，因此系统的加速度恒定，转速呈线性增长。 电流闭环调节的扰动是电动机的反电动势\\(E\\)，其值随着转速\\(n\\)线性增长，电枢电压\\(U_{d0}\\)和控制电压\\(U_c\\)也线性增加。反电动势\\(E\\)是一个线性渐增的斜坡扰动量，因此系统做不到无静差，而是使\\(I_d\\)略低于\\(I_{dm}\\)。 转速调节阶段 第III阶段(\\(t_2\\)以后)是转速调节阶段。 转速上升至给定值\\(n^*\\)时，ASR的输入偏差为0，但输出由于控制器积分环节作用仍维持在\\(U_{im}^*\\)，这使得转速超调。 转速超调后\\(\\Delta n &lt; 0\\)，ASR退出饱和状态，\\(U_i\\)和\\(I_d\\)很快下降。由于此时\\(I_d\\)仍大于负载电流\\(I_{dL}\\)，转速仍继续上升。直到\\(t_3\\)时刻，\\(I_d=I_{dL}\\)，转矩\\(T_e=T_L\\)，\\(\\frac{dn}{dt}=0\\)，转速达到峰值。 \\(t_3 \\sim t_4\\)时间内，\\(I_d &lt; I_{dL}\\)，转速开始减速，直到转速稳定。如果调节器参数整定得不够好，则会有一段振荡的过程。 在第III阶段中，ASR和ACR都不饱和，ASR起主导转速调节作用，ACR是一个电流跟随子系统，力图使\\(I_d\\)尽快跟随其给定值\\(U_i^*\\)。 起动过程的三个特点 饱和非线性控制——随着ASR的饱和与不饱和，系统处于完全不同的两个状态，因此需要分段分析，不能用线性系统理论分析整个起动过程。 转速超调——ASR采用PI调节器必有超调。 准时间最优控制——“时间最优控制”指在设备物理条件允许下实现最短时间的控制。起动过程I、II两个阶段电流不能突变，使得实际起动过程与理想起动过程有一定差距，因此这里的起动过程可称为“准时间最优控制”。 制动过程 图3 制动过程 双闭环直流调速系统制动过程的控制电压、电枢电流与转速波形如上图所示。这里采用电动机拖动位能性恒转矩负载进行举例。 \\(t_0\\)时刻收到停车指令后，电流先从\\(I_{dL}\\)衰减至0，随后建立反向电枢电流\\(-I_d\\)，直到其反向最大值\\(-I_{dm}\\)，并在一段时间内近似维持在\\(-I_{dm}\\)不变。最后负值电流降低，回到稳态值\\(I_{dL}\\)。 转速波形先缓慢下降，再恒速下降，产生反向超调后，经过调节达到给定值0（停转）。 制动过程分为正向电流衰减、反向电流建立、恒流制动和转速调节四个阶段。转速调节器在此四个阶段中经历了不饱和、饱和以及退饱和三种情况。 正向电流衰减阶段 第I阶段\\((t_0 \\sim t_1)\\)是正向电流衰减阶段。 \\(t_0\\)时刻收到停车指令，转速调节器的输入偏差为较大负值，其输出电压很快下降到反向限幅值\\(-U_{im}^*\\)，电流环强迫电枢电流迅速下降到0，标志着这一阶段结束。 电流调节器输入偏差\\(\\Delta U_i=-U_{im}^*-U_i\\)，调节器输出控制电压快速下降，电枢电压也随之快速下降。 转速调节器很快进入并保持饱和状态。 反向电流建立阶段 第II阶段\\((t_1 \\sim t_2)\\)是反向电流建立阶段。 转速调节器输入偏差仍为较大负值，始终处在反向饱和状态，转速环相当于开环，系统为在恒值给定\\(-U_{im}^*\\)控制下的电流单环系统，强迫电流在\\(t_2\\)时刻反向增加至\\(-I_{dm}\\)。 电流调节器输入仍为负值，电枢电流快速下降，电流调节器中比例输出在快速增加，待电枢电流下降到一定值后，输出控制电压和电枢电压开始上升，但只要\\(U_d&lt;E\\), 电流将继续下降。 第II阶段电机处于反接制动状态，和第I阶段一样，所占时间很短，转速来不及产生明显下降。 恒流制动阶段 第III阶段\\((t_2 \\sim t_3)\\)是恒流制动阶段（又称“回馈制动阶段”）。 转速环仍为开环，系统仍为在恒值给定\\(-U_{im}^*\\)控制下的电流单环系统，除短暂的电流调节阶段外，在恒流制动阶段中反电动势\\(E\\)线性下降，为维持\\(I_d \\approx -I_{dm}\\)，控制电压线性降低，电枢电压也随之线性下降。 由于电流调节系统的扰动量是电动机的反电动势，它是一个线性渐减的扰动量，而扰动作用点之前只有一个积分环节，所以系统做不到无静差，而是接近于\\(-I_{dm}\\)。 电动机在恒减速条件下回馈制动，把机械动能转换为电能存在直流母线的电容中，直到\\(t_3\\)时刻电动机转速下降到0。恒流制动阶段所占的时间最长，是制动过程的主要阶段。 转速调节阶段 第IV阶段(\\(t_3\\)以后)是转速调节阶段。 转速下降到0后，转速调节器输入偏差减小到0，但其输出却由于积分作用还维持在限幅值\\(-U_{im}^*\\)，电动机开始反转，转速调节器输出反向退饱和，\\(-U_i^*\\)反向快速下降，电枢电流\\(I_d\\)在电流环的作用下跟随给定，反向快速下降到0后建立正向电枢电流。此时仍有\\(I_d&lt;I_{dL}\\)，转速继续下降，直至\\(t_4\\)时刻，\\(I_d=I_{dL}\\)，转速达到反向最大值。此后电动机反向减速，直至停转。 转速调节阶段电机反电动势很小，电枢电压主要用来改变电枢电流，控制电压变化趋势与电流波形相似，但相位超前。 与起动过程转速调节阶段类似，如果调节器参数整定得不够好，最后还会有一段振荡过程。 与起动过程转速调节阶段类似，ASR和ACR都不饱和，ASR起主导转速调节作用，ACR是一个电流跟随子系统，力图使\\(I_d\\)尽快跟随其给定值\\(U_i^*\\)。 与起动过程类似，制动过程也有饱和非线性控制、转速超调、准时间最优控制这三个特点。 动态抗扰性能分析 调速系统，最主要的抗扰性能有抗负载扰动性能和抗电网电压扰动性能。调速系统抗扰能力与其作用点的位置有关。 观察双闭环控制直流调速系统动态结构图（图1），负载扰动影响的是\\(I_{dL}\\)，其作用点在电流环之后，只能靠转速调节器ASR来产生抗负载扰动的作用。因此在设计ASR时，要求有较好的抗扰性能指标。电网电压扰动(\\(\\pm \\Delta {U_d}\\))影响的是\\(U_{d0}\\)，扰动作用点在电流环之前，可以通过电流反馈得到比较及时的调节，使抗扰性能得到改善。在双闭环系统中，由电网电压波动引起的转速变化会比单闭环系统小得多。 转速、电流调节器在双闭环系统中的作用 转速调节器的作用 转速调节器是调速系统的主导调节器，它使转速很快地跟随给定电压变化, 稳态时可减小转速误差，如果采用PI调节器，则可实现无静差。 对负载变化起抗扰作用。 其输出限幅值决定电动机允许的最大电流。 电流调节器的作用 作为内环的调节器，在转速外环的调节过程中，使电流紧紧跟随其给定电压（即外环调节器的输出量）变化。 对电网电压的波动起及时抗扰的作用。 在转速动态过程中，保证获得电机允许的最大电流，从而加快动态过程。 当电动机过载甚至堵转时，限制电枢电流的最大值，起快速的自动保护作用。一旦故障消失，系统自动恢复正常。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统08-转速、电流双闭环控制直流调速系统的组成及其静特性","slug":"课程笔记/运动控制系统/运动控制系统08-转速、电流双闭环控制直流调速系统的组成及其静特性","date":"2023-08-07T23:51:22.000Z","updated":"2024-01-25T05:20:20.989Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统08-转速、电流双闭环控制直流调速系统的组成及其静特性/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F08-%E8%BD%AC%E9%80%9F%E3%80%81%E7%94%B5%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90%E5%8F%8A%E5%85%B6%E9%9D%99%E7%89%B9%E6%80%A7/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第四章 转速、电流双闭环控制的直流调速系统 第一节 转速、电流双闭环控制直流调速系统的组成及其静特性；对应页码p53-p56 转速单闭环控制的直流调速系统存在的问题 转速单闭环控制的直流调速系统使用PI调节器后可以实现转速稳态无静差，消除负载转矩对稳态转速的影响，并使用电流截止负反馈限制电枢电流的冲击，避免出现过电流现象。但转速单闭环系统不能充分控制电流（或电磁转矩）的动态过程，电流截止负反馈不能很好地控制电流的动态波形。 对于经常正、反转运行的调速系统，缩短起、制动过程的时间是提高生产率的重要因素。 图1 时间最优的理想过渡过程 时间最优的理想过渡过程如上图所示，在起动（或制动）过渡过程中，希望始终保持电流（电磁转矩）为允许的最大值，使调速系统以最大的加（减）速度运行。当达到稳态转速时，最好使电流立即降下来，使电磁转矩与负载转矩相平衡，从而迅速转入稳态运行。 转速、电流双闭环控制直流调速系统的组成 为了实现在允许条件下的最快起动，关键是要获得一段使电流保持为最大值\\(I_{dm}\\)的恒流过程，采用电流负反馈可以得到近似的恒流过程。 需要在起动过程中只有电流负反馈，没有转速负反馈。达到稳态转速后，使转速负反馈发挥主要作用，使转速跟随给定，而电流负反馈不起阻碍作用。 为了实现上述要求，需要在系统中设置两个调节器，分别引入转速负反馈和电流负反馈以调节转速和电流，且两者需要在系统中以特定的方式连接。 图2 双闭环直流调速系统原理图 图3 双闭环直流调速系统电路图ASR—转速调节器 ACR—电流调节器 TG—测速发电机 TA—电流互感器 UPE—电力电子变换器\\(U_n^*\\)—转速给定电压 \\(U_n\\)—转速反馈电压 \\(U_i^*\\)—电流给定电压 \\(U_i\\)—电流反馈电压 转速、电流双闭环直流调速系统原理图如图2所示，其电路图如图3所示。可见转速调节器(ASR)与电流调节器(ACR)两者实行串级连接。转速调节器的输出作为电流调节器的输入，再用电流调节器输出作为电力电子变换器(UPE)的输入。 从闭环结构上看，电流环在里面，称作内环；转速环在外边，称作外环。形成了转速、电流双闭环控制直流调速系统。 稳态结构图与参数计算 图4 双闭环直流调速系统稳态结构图\\(\\alpha\\)—转速反馈系数 \\(\\beta\\)—电流反馈系数 双闭环直流调速系统的稳态结构图如上图所示。可见转速与电流调节器均采用带限幅作用的PI控制。转速调节器的输出限幅电压决定了电流给定的最大值，电流调节器的输出限幅电压限制了电力电 子变换器的最大输出电压。 当调节器不饱和时，PI调节器工作在线性调节状态，其作用是使输入偏差电压在稳态时为零；当调节器饱和时，输出达到限幅值，输入量的变化不再影响输出，除非有反向的输入信号使调节器退出饱和。 对于静特性来说，只有转速调节器饱和与不饱和两种情况，设计合理的电流调节器不进入饱和状态。 双闭环直流调速系统的静特性 图5 双闭环直流调速系统静特性 转速调节器不饱和 两个调节器都不饱和，输入偏差电压都为零，即转速、电流均无静差。 对应图上静特性AB段，此时负载电流\\(I_d &lt; I_{dm}\\)，转速\\(n = \\frac{U_n^*}{\\alpha} = n_0\\)。此时转速调节器起主要调节作用。 \\[U_n^*=U_n=\\alpha n=\\alpha n_0\\] \\[U_i^*=U_i=\\beta I_d\\] 转速调节器饱和 ASR输出输出达到限幅值时，转速外环呈开环状态，转速的变化对转速环不再产生影响。 对应图上静特性BC段，此时负载电流\\(I_d = \\frac{U_{im}^*}{\\beta} = I_{dm}\\)，转速\\(n &lt; n_0\\)。此时电流调节器起主要调节作用，双闭环系统变成一个电流无静差的单电流闭环调节系统。 当ASR处于饱和状态时，\\(I_d=I_{dm}\\)，若负载电流减小，\\(I_d&lt;I_{dm}\\)，使转速上升，\\(n&gt;n_0\\)，\\(\\Delta n&lt;0\\)，ASR反向积分，使ASR调节器退出饱和。 各变量的稳态工作点和稳态参数计算 双闭环调速系统在稳态工作中，当两个调节器都不饱和时，各变量关系为： \\[U_n^*=U_n=\\alpha n=\\alpha n^*\\] \\[U_i^*=U_i=\\beta I_d=\\beta I_{dL}\\] \\[U_c=\\frac{U_{d0} }{K_s}=\\frac{C_en+I_dR}{K_s}=\\frac{C_eU_n^*/\\alpha+I_{dL}R}{K_s}\\] 上述关系表明，在稳态工作点上，转速\\(n\\)由给定电压\\(U_n^*\\)决定，ASR的输出量\\(U_i^*\\)由负载电流\\(I_{dL}\\)决定，ACR的输出量由即控制电压\\(U_c\\)的大小同时取决于\\(n\\)和\\(I_d\\)（或\\(U_n^*\\)和\\(I_{dL}\\)） 当转速给定和电枢电流分别为\\(U_{nm}^*\\)和\\(I_{dm}\\)，调节器输出对应最大控制电压\\(U_{cm}\\)。 根据各调节器的给定与反馈值计算有关的反馈系数： 转速反馈系数\\(\\alpha=\\frac{U_{nm}^*}{n_{max} }\\)，电流反馈系数\\(\\beta=\\frac{U_{im}^*}{I_{dm} }\\)。 两个给定电压的最大值\\(U_{nm}^*\\)和\\(U_{im}^*\\)由设计者选定。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统07-转速闭环直流调速系统的限流保护","slug":"课程笔记/运动控制系统/运动控制系统07-转速闭环直流调速系统的限流保护","date":"2023-08-07T00:58:52.000Z","updated":"2024-01-25T05:20:20.989Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统07-转速闭环直流调速系统的限流保护/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F07-%E8%BD%AC%E9%80%9F%E9%97%AD%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E9%99%90%E6%B5%81%E4%BF%9D%E6%8A%A4/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第三章 转速闭环控制的直流调速系统 第三节 转速闭环直流调速系统的限流保护；对应页码p42-p44 转速闭环直流调速系统的限流问题 转速反馈控制直流调速系统有效解决了调速范围与静差率的矛盾，有效抑制了扰动对转速的影响，采用比例积分调节器后便可实现无静差调速。然而转速反馈控制直流调速系统并没有实现对电流的控制，在电动机的起动、制动过程与堵转状态下，必须限制电枢电流。 起动：突加给定电压时，电枢电压\\(U_d\\)立即立即达到它的最高值，对电动机来说，相当于全压起动，会造成电动机过流。 堵转：根据系统静特性，堵转时电流将远远超过允许值。如果只依靠过流继电器或熔断器来保护，过载时就跳闸。 因此系统中必须有自动限制电枢电流的环节，需要引入电流负反馈，使它不超过允许值。但这种作用只应在起动和堵转时存在，在正常的稳速运行时又得取消。因为正常运行时需要电流随着负载的增减而变化，电流负反馈会抑制电动机的带载能力。 这种电流大到一定程度时才出现的电流负反馈，称为电流截止负反馈。 带电流截止负反馈环节的直流调速系统 图1 带电流截止负反馈环节的模拟实现(a)利用独立直流电源作为比较电压 (b)利用稳压管产生比较电压 用模拟电路实现带电流截止负反馈环节如上图所示，电流反馈信号取自串入电动机电枢回路的小阻值电阻\\(R_s\\)，\\(I_dR_s\\)正比于电流。设\\(I_{dcr}\\)为临界截止电流，当电流大于\\(I_{dcr}\\)时，将电流负反馈信号加到放大器输入端；当电流小于\\(I_{dcr}\\)时，将电流反馈切断。 图(a)中使用独立的直流电流源作为比较电压\\(U_{com}\\)，图(b)使用稳压管的击穿电压\\(U_{br}\\)作为比较电压\\(U_{com}\\)。 图2 电流截止负反馈环节输入输出特性 电流截止负反馈环节输入输出特性如上图所示： 当\\(I_dR_s &gt; U_{com}\\)时，二极管导通，电流负反馈信号加到\\(U_i\\)上，\\(U_i=I_dR_s-U_{com}\\)； 当\\(I_dR_s \\leqslant U_{com}\\)时，二极管截止，输出\\(U_i=0\\)，可知截止电流\\(I_{dcr}=\\frac{U_{com} }{R_s}\\)。 带电流截止负反馈比例控制闭环直流调速系统的稳态结构框图与静特性 图3 带电流截止负反馈比例控制闭环直流调速系统的稳态结构框图 带电流截止负反馈的比例控制闭环直流调速系统的稳态结构框图如上图所示，其静特性如下图所示。 \\(I_d \\leqslant I_{dcr}\\)时，电流负反馈被截止，其静特性与转速负反馈调速系统的静特性相同,对应下图CA段。 \\[n = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} (1 + K) } } - \\frac{ {R{I_d} } } { { {C_e} (1 + K) } }\\] \\(I_d &gt; I_{dcr}\\)时，引入电流负反馈，静特性发生改变，对应下图AB段。 \\[n = \\frac{ { {K_p}{K_s}U_n^*} }{ { {C_e}(1 + K)} } - \\frac{ { {K_p}{K_s} } }{ { {C_e}(1 + K)} }({R_s}{I_d} - {U_{com} }) - \\frac{ {R{I_d} } }{ { {C_e}(1 + K)} }\\] \\[= \\frac{ { {K_p}{K_s}(U_n^* + {U_{com} })} }{ { {C_e}(1 + K)} } - \\frac{ {(R + {K_p}{K_s}{R_s}){I_d} } }{ { {C_e}(1 + K)} }\\] 图4 带电流截止负反馈比例控制闭环直流调速系统的静特性 电流负反馈的作用相当于在主电路中串入一个大电阻\\({K_p}{K_s}{R_s}\\)因此稳态速降极大，特性急剧下垂。 比较电压\\(U_{com}\\)作用与给定电压\\(U_n^*\\)一致，相当于将给定电压提高至\\(U_n^*+U_{com}\\)，AB段的理想空载转速被提高为\\(n_0&#39; = \\frac{ { {K_p}{K_s}(U_n^* + {U_{com} })} }{ { {C_e}(1 + K)} }\\)。 这样的两段式静特性常被称作下垂式特性或挖土机特性。 令\\(n=0\\)，可得到堵转电流\\(I_{dbl}\\)（一般\\({K_p}{K_s}{R_s} \\gg R\\)）： \\[{I_{dbl} } = \\frac{ { {K_p}{K_s}(U_n^* + {U_{com} })} }{ {R + {K_p}{K_s}{R_s} } } \\approx \\frac{ {U_n^* + {U_{com} } } }{ { {R_s} } }\\] 堵转电流\\(I_{dbl}\\)应小于电动机允许的最大电流，一般取\\(I_{dbl}=(1.5 \\sim 2)I_N\\)。 截止电流\\(I_{dcr}\\)应大于电动机的额定电流，一般取\\(I_{dcr}=(1.1 \\sim 1.2)I_N\\)。 带电流截止负反馈的无静差直流调速系统 图5 带电流截止负反馈的无静差直流调速系统 带电流截止负反馈的无静差直流调速系统如上图所示，采用PI调节器实现无静差，采用带电流截止负反馈环节限制电枢电流。 TA为检测电流的交流互感器，经整流后得到电流反馈信号\\(U_i\\)。 当电流达到截止电流\\(I_{dcr}\\)时，\\(U_i\\)高于稳压管VS的击穿电压，使晶体三极管VT导通。 忽略晶体管VT的导通压降，则PI调节器的输出电压\\(U_c=0\\)，电力电子变换器的输出电压\\(U_d=0\\)，达到限制电流的目的。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统06-无静差的转速闭环直流调速系统","slug":"课程笔记/运动控制系统/运动控制系统06-无静差的转速闭环直流调速系统","date":"2023-08-05T23:14:51.000Z","updated":"2024-01-25T05:20:20.979Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统06-无静差的转速闭环直流调速系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F06-%E6%97%A0%E9%9D%99%E5%B7%AE%E7%9A%84%E8%BD%AC%E9%80%9F%E9%97%AD%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第三章 转速闭环控制的直流调速系统 第二节 无静差的转速闭环直流调速系统；对应页码p38-p42 比例控制规律 在比例控制的调速系统中调节器输出为电力电子变换器控制电压\\(U_c\\)，输入输出关系为\\({U_c} = {K_p}\\Delta {U_n}\\)。这使得电动机运行时\\(\\Delta {U_n}\\)会一直存在，即静差无法消除。比例控制调速系统突加负载（负载转矩由\\(T_{L1}\\)增加到\\(T_{L2}\\)）时调速系统转速\\(n\\)、偏差电压\\(\\Delta {U_n}\\)、控制电压\\(U_c\\)的动态变化过程如下图所示。 图1 有静差调速系统突加负载时的动态过程 积分控制规律 积分调节器中输出量为输入量的积分，输入量为转速误差信号\\(\\Delta {U_n}\\)时，积分调节器的输入输出关系为： \\[{U_c} = \\frac{1}{\\tau }\\int\\limits_0^t {\\Delta {U_n}dt}\\] 其传递函数为： \\[{W_I}(s) = \\frac{1}{\\tau s}\\] 其中\\(\\tau\\)为积分时间常数，积分调节器的输入输出动态过程如下图所示。 图2 积分调节器的输入输出动态过程 可以观察到当\\(\\Delta {U_n}\\)为阶跃函数时，\\(U_c\\)按线性规律增长。其大小与\\(\\Delta {U_n}\\)与横轴包围的区域面积成正比。（体现了积分控制的延缓作用与积累作用）直到达到输出限幅值\\(U_{cm}\\)不再增长。 当\\(\\Delta {U_n}\\)为零时，\\(U_c\\)并不为零，而是一个终值\\(U_{cf}\\)。若\\(\\Delta {U_n}\\)一直为零，则\\(U_c\\)将始终保持为终值不再变化（体现了积分控制的记忆作用）。正因为如此，积分控制可以使系统在无静差的情况下保持恒速运行，实现无静差调速。 图3 积分控制调速系统突加突加负载时的动态过程 积分控制调速系统突加突加负载时的动态过程如上图所示。可见突加负载时\\(I_{dL}\\)增加使转速\\(n\\)下降，产生正的\\(\\Delta {U_n}\\)，从而使\\(U_c\\)增长。值得注意的是，在积分控制中\\(U_c\\)的增长量与\\(\\Delta {U_n}\\)曲线形成的阴影面积成正比，而不是像比例控制那样与\\(\\Delta {U_n}\\)本身成正比。当\\(\\Delta {U_n}\\)值降为零时，\\(U_c\\)的增长量不再变化，即\\(U_c\\)不再变化，这样实现了无静差的调速。 换句话说，\\(U_c\\)的改变依靠的是\\(\\Delta {U_n}\\)在一段时间内的积累。 比例积分控制器及其控制规律 积分控制可以实现无静差调速，但是在快速性上却不如比例控制。为兼顾快速性与稳态精度上的优势，可以采用比例积分(PI)控制。 PI调节器的输入输出关系为： \\[{U_{ex} } = {K_p}{U_{in} } + \\frac{1}{\\tau}\\int\\limits_0^t { {U_{in} }dt}\\] PI调节器的传递函数为： \\[{W_{PI} }(s) = K_p + \\frac{1}{\\tau s} = {K_p}\\frac{ {\\tau_1}s + 1}{ {\\tau_1}s}\\] 其中\\(K_p\\)为比例放大系数，\\(\\tau\\)为积分时间常数，\\(\\tau_1={K_p}\\tau\\)为微分项中的超前时间常数。 图4 比例积分(PI)调节器 采用模拟控制时，比例积分调节器可以用运算放大器实现，其电路图如上图所示（运算放大器原理参见《模拟电子技术》教材）。 输入\\(U_{in}\\)的极性和输出\\(U_{ex}\\)的极性时反向的。\\(R_{bal}\\)为运算放大器同相输入端平衡电阻，一般取反向输入端各路电阻的并联值。 输入输出关系为： \\[{U_{ex} } = \\frac{R_1}{R_0}{U_{in} } + \\frac{1}{ { {R_0}{C_1} } }\\int { {U_{in} }dt} = {K_p}{U_{in} } + \\frac{1}{\\tau }\\int { {U_{in} }dt}\\] 其中比例放大系数\\(K_p=\\frac{R_1}{R_0}\\)、积分时间常数\\(\\tau={R_0}{C_1}\\) 图5 比例积分控制调速系统突加突加负载时的动态过程 比例积分控制调速系统突加突加负载时的动态过程如上图所示，突加负载后负载电流增大，转速\\(n\\)下降同时产生\\(\\Delta {U_n}\\)。这里\\(U_c\\)的响应曲线由比例部分与积分部分叠加而成。其中①与\\(\\Delta {U_n}\\)成正比，是比例部分的响应曲线；其中②与从\\(t=0\\)到此时刻对\\(\\Delta {U_n}(t)\\)的积分值（\\(\\Delta {U_n}\\)曲线与横轴由\\(t=0\\)到此时刻间的阴影面积）成正比，是积分部分的响应曲线。从时间上看，前期比例部分起主要作用，实现了迅速响应，增强了系统的的快速性；后期积分部分起主要作用，最终消除稳态误差。\\(\\Delta {U_n}\\)归零后比例部分不再起作用，积分部分也始终保持为终值不再变化，这样就实现了无静差的调速。 在起动及抗负载扰动过程中，比例作用由强变弱，起强烈作用，加速系统响应；积分作用由弱变强，最后消除静差。比例积分控制综合了比例控制和积分控制的优点。比例部分能迅速响应控制作用，积分部分则最终消除稳态误差。 无静差的转速单闭环直流调速系统稳态参数设计 图6 无静差直流调速系统稳态结构图 无静差的转速单闭环直流调速系统稳态结构图如上图所示。图中转速调节器（Automatic Speed Regulator,ASR）采用比例积分调节器，用象征性的比例积分特性来表示。 系统稳态工作时，各变量间有以下关系： \\[U_n^* = {U_n} = \\alpha n = \\alpha {n^*}\\] \\[{U_c} = \\frac{U_{d0} }{K_s} = \\frac{ { {C_e}{n^*} + {I_d}R} }{ { {K_s} } } = \\frac{ { {C_e}U_n^*/\\alpha + {I_{dL} }R} }{K_s}\\] 由此可知，在稳态工作点上，转速\\(n\\)由给定电压\\(U_n^*\\)决定，ASR的输出量控制电压\\(U_c\\)的大小由\\(n\\)和\\(I_d\\)决定（或由\\(U_n^*\\)和\\(I_{dL}\\)决定）。 这体现了PI调节器与P调节器的不同之处。P调节器的输出量总是正比于其输入量，而 PI调节器的输出量在动态过程中取决于输入量的积分，而到达稳态时，输入为零，输出的稳态值与输入无关，而是由它后面环节为了保证输入为零的需要决定的。 无静差直流调速系统的稳态参数计算： 稳态时\\(\\Delta {U_n}=0\\)，\\(U_n=U_n^*\\) 转速反馈系数\\(\\alpha=\\frac {U_{nmax}^*}{n_{max} }\\) 其中\\(n_{max}\\)为电动机调压时的最高转速，\\(U_{nmax}^*\\)为相应的最高给定电压。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统05-有静差的转速闭环直流调速系统","slug":"课程笔记/运动控制系统/运动控制系统05-有静差的转速闭环直流调速系统","date":"2023-08-03T03:34:10.000Z","updated":"2024-01-25T05:20:20.969Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统05-有静差的转速闭环直流调速系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F05-%E6%9C%89%E9%9D%99%E5%B7%AE%E7%9A%84%E8%BD%AC%E9%80%9F%E9%97%AD%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第三章 转速闭环控制的直流调速系统 第一节 有静差的转速闭环直流调速系统；对应页码p28-p38 比例控制转速闭环直流调速系统的结构与静特性 转速开环控制系统对负载扰动没有任何抑制作用。因此要引入负反馈，构成转速闭环的控制系统。 图1 比例控制转速闭环直流调速系统原理框图 比例控制的转速闭环直流调速系统原理框图如上图所示。相较于开环系统，闭环系统增加了比例放大器A与测速发电机TG。 图中\\(U_n^*\\)为给定电压，\\(U_n\\)为反馈电压，其大小与被测转速成正比。给定电压与反馈电压做差得到转速偏差电压\\(\\Delta {U_n}\\)。转速偏差电压经过比例放大器A放大后得到控制电压\\(U_c\\)，控制电压是实际加到电力电子变换器UPE（相控整流器或PWM变换器）的电压值。系统其余部分与开环系统相同。 比例控制转速闭环直流调速系统各个环节关系式（忽略非线性因素、忽略控制器电源与电位器内阻）： 电压比较环节：\\(\\Delta {U_n} = U_n^* - {U_n}\\) 比例放大器：\\({U_c} = {K_p}\\Delta {U_n}\\)（\\(K_p\\)为比例系数） 测速反馈环节：\\({U_n} = \\alpha n\\)（\\(\\alpha\\)为转速反馈系数，单位V·min/r） 电力电子变换器：\\({U_{d0}} = {K_s}{U_c}\\) 直流电动机：\\(n = \\frac{ { {U_{d0} } - {I_d}R} } {C_e}\\) 根据上述关系式，可以得到系统稳态结构框图如下所示： 图2 比例控制转速闭环直流调速系统稳态结构框图 将给定量\\(U_n^*\\)与扰动量\\(-{I_d}R\\)看作两个独立的输入量，求其单独作用时的输入输出关系式，再将二者结果叠加得到闭环调速系统静特性方程式： \\[n = \\frac{ { {K_p} {K_s}U_n^* - {I_d}R} } { { {C_e} (1 + {K_p} {K_s}\\alpha /{C_e} ) } } = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} (1 + K) } } - \\frac{ {R{I_d} } } { { {C_e} (1 + K) } }\\] 这里取闭环系统的开环放大系数\\(K = \\frac{ { {K_p} {K_s}\\alpha } } {C_e}\\)。 开环系统机械特性和比例闭环系统静特性的对比分析 开环系统机械特性： \\(n = \\frac{ { {U_{d0} } - {I_d}R} } { { {C_e} } } = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} } } - \\frac{ {R{I_d} } } { { {C_e} } } = {n_{0op} } - \\Delta {n_{op} }\\) 其中\\(n_{0op}\\)为开环系统的理想空载转速，\\(\\Delta n_{op}\\)为开环系统的稳态速降。 比例闭环系统静特性： \\(n = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} (1 + K) } } - \\frac{ {R{I_d} } } { { {C_e} (1 + K) } } = {n_{0cl} } - \\Delta {n_{cl} }\\) 其中\\(n_{0cl}\\)为闭环系统理想空载转速，\\(\\Delta n_{cl}\\)为闭环系统的稳态速降。 当\\(K\\)值较大时，\\(\\Delta n_{cl}\\)比\\(\\Delta n_{op}\\)小得多，二者关系为：\\(\\Delta {n_{cl} } = \\frac{ {\\Delta {n_{op} } } } { {1 + K} }\\)。 由此可知，闭环系统静特性比开环系统机械特性要硬的多。 闭环系统静差率\\({s_{cl} } = \\frac{ {\\Delta {n_{cl} } } } { { {n_{0cl} } } }\\)；开环系统静差率\\({s_{op} } = \\frac{ {\\Delta {n_{op} } } } { { {n_{0op} } } }\\)。 当\\({n_{0op} } = {n_{0cl} }\\)时，有\\({s_{cl} } = \\frac{ { {s_{op} } } } {1 + K}\\)。 由此可知，理想空载转速一致时，闭环系统静差率比开环系统小得多。 闭环系统调速范围\\({D_{cl} } = \\frac{ { {n_N}s} } { {\\Delta {n_{cl} } (1 - s) } }\\)；开环系统调速范围\\({D_{op} } = \\frac{ { {n_N}s} } { {\\Delta {n_{op} } (1 - s) } }\\)。 若两者最高转速都为\\(n_N\\)，最低速静差率都为\\(s\\)，则有\\({D_{cl} } = (1 + K){D_{op} }\\)。 由此可知，系统要求静差率一定时，闭环系统可以有更大的调速范围。 图3 闭环系统静特性和开环系统机械特性的关系 闭环系统静特性和开环系统机械特性如上图所示。 在开环状态下，提高负载，负载电流\\(I_d\\)增大，转速会有明显的下降，如图中从A点到A'点。 转速闭环状态下，转速下降时，测速反馈电压\\(U_n\\)会相应的减小，使得给定电压与反馈电压差值\\(\\Delta U_n\\)变大，进而使控制电压\\(U_c\\)与整流器输出电压\\(U_{d0}\\)成比例变大，最终使转速\\(n\\)有所回升，显著降低稳态速降，如图中从A点到B点。 也就是说，在闭环系统中，每增加（或减少）一点负载，就相应地提高（或降低）一点电枢电压，使电动机在新的机械特性下工作。比例控制直流调速系统能够减少稳态速降的实质在于它的自动调节作用，在于它能随着负载的变化而相应地改变电枢电压，以补偿电枢回路电阻压降的变化。 闭环直流调速系统的反馈控制规律 只有比例放大器的反馈控制系统，其被调量仍是有静差的。静差率\\(\\Delta {n_{cl} } = \\frac{ {R{I_d} } } { { {C_e}(1 + K)} }\\)，无论K为多少，静差率都不为零，过大的K值会使系统不稳定。 反馈控制系统的作用是：抵抗扰动，服从给定 。它能够有效地抑制一切被包含在负反馈环内前向通道上的扰动作用，但对给定信号的任何变化都是唯命是从。 系统的精度依赖于给定和反馈检测的精度。反馈控制系统无法鉴别是给定信号的正常调节还是外界的电压波动。反馈通道上有一个测速反馈系数，它同样存在着因扰动而发生的波动，由于它不是在被反馈环包围的前向通道上，因此也不能被抑制。 比例控制转速闭环系统的稳定性 转速反馈控制直流调速系统的动态数学模型 比例放大器传递函数：\\({W_a}(s) = \\frac{ { {U_c} (s) } } { {\\Delta {U_n}(s)} } = {K_p}\\) 电力电子变换器传递函数：\\({W_s}(s) \\approx \\frac{ { {K_s} } } { { {T_s}s + 1} }\\) 注：参考运动控制系统02-晶闸管整流器——直流电动机系统与运动控制系统03-PWM变换器——电动机系统，相控整流器或PWM变换器的近似传递函数相同，只是不同场合下\\(K_s\\)与\\(T_s\\)的数值不同。 测速反馈环节传递函数：\\({W_{fn} }(s) = \\frac {U_n(s)} {n(s)} = \\alpha\\) 直流电动机动态数学模型： 注：参考运动控制系统01-绪论与运动控制系统02-晶闸管整流器——直流电动机系统 图4 他励直流电动机在额定励磁下的等效电路 (1)电压方程（假设主电路电流连续） \\[{U_{d0} } = R{I_d} + L\\frac{ {d{I_d} } } { {dt} } + E\\] (2)转矩方程 额定励磁下的电磁转矩：\\({T_e} = {C_m} {I_d}\\) 额定励磁下的感应电动势：\\(E = {C_e}n\\) 电动机轴上的动力学方程（忽略粘性摩擦及弹性转矩）：\\({T_e} - {T_L} = \\frac{ {G{D^2} } } { {375} }\\frac{ {dn} } { {dt} }\\) 其中， \\(T_L\\)——包括电动机空载转矩在内的负载转矩(N·m) \\({GD}^2\\)——电力拖动装置折算到电动机轴上的飞轮惯量(N·㎡) \\({C_m} = \\frac{ {30} } {\\pi } {C_e}\\)——电动机额定励磁下的转矩系数(N·m/A) 上述式子可整理为： \\[{U_{d0} } - E = R({I_d} + {T_l}\\frac{ {d{I_d} } } {dt})\\] \\[{I_d} - {I_{dL} } = \\frac{ { {T_m} } } {R}\\frac{ {dE} } { {dt} }\\] 其中， \\({T_l} = \\frac{L}{R}\\)——电枢回路电磁时间常数(s) \\({T_m} = \\frac{ {G{D^2}R} }{ {375{C_e}{C_m} } }\\)——电力拖动系统机电时间常数(s) \\({I_{dL} } = \\frac{T_L}{C_m}\\)——负载电流(A) 在零初始条件下，取拉氏变换，得电压与电流间的传递函数为 \\[\\frac{ { {I_d}(s)} }{ { {U_{d0} }(s) - E(s)} } = \\frac{ {\\frac{1}{R} } }{ { {T_1}s + 1} }\\] 电流与电动势间的传递函数为 \\[\\frac{ {E(s)} }{ { {I_d}(s) - {I_{dL} }(s)} } = \\frac{R}{ { {T_m}s} }\\] 通过上述两个式子与公式\\(E = {C_e}n\\)，可得额定励磁下直流电动机的动态结构框图如下图所示： 图5 额定励磁下直流电动机的动态结构框图 由上图可知，直流电动机有两个输入量，一个是施加在电枢上的理想空载电压\\(U_{d0}\\)（控制输入量），另一个是负载电流\\(I_{dL}\\)（扰动输入量）。如果不需要在结构图中显现出电流，可将扰动量的综合点移前，再进行等效变换，如下图所示： 图6 直流电动机动态结构框图的变换 由上图可知，额定励磁直流电动机可以等效为一个二阶线性环节。\\(T_m\\)和\\(T_l\\)时间常数分别表示机电惯性和电磁惯性。完整的转速反馈控制直流调速系统如下图所示： 图7 转速反馈控制直流调速系统的动态结构框图 比例控制闭环直流调速系统的动态稳定性 转速反馈控制的直流调速系统的开环传递函数： \\[W(s) = \\frac{ { {U_n}(s)} }{ {\\Delta {U_n}(s)} } = \\frac{K}{ {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1)} }\\] 其中\\(K = {K_p}{K_s}\\alpha /{C_e}\\) 转速反馈控制的直流调速系统的闭环传递函数： \\[{W_{cl} }(s) = \\frac{ {n(s)} }{ {U_n^*(s)} } = \\frac{ {\\frac{ { {K_p}{K_s}/{C_e} } } { {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1)} } } }{ {1 + \\frac{ { {K_p}{K_s}\\alpha /{C_e} } }{ {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1)} } } } = \\frac{ { {K_p}{K_s}/{C_e} } }{ {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1) + K} }\\] \\[= \\frac{ {\\frac{ { {K_p}{K_s} } }{ { {C_e}(1 + K)} } } }{ {\\frac{ { {T_m}{T_l}{T_s} } }{ {1 + K} }{s^3} + \\frac{ { {T_m}({T_l} + {T_s})} }{ {1 + K} }{s^2} + \\frac{ { {T_m} + {T_s} } }{ {1 + K} }s + 1} }\\] 由上式可知，比例控制闭环系统的特征方程为\\(\\frac{ { {T_m}{T_l}{T_s} } }{ {1 + K} }{s^3} + \\frac{ { {T_m}({T_l} + {T_s})} }{ {1 + K} }{s^2} + \\frac{ { {T_m} + {T_s} } }{ {1 + K} }s + 1 = 0\\) 对于三阶系统\\({a_0}{s^3} + {a_1}{s^2} + {a_2}s + {a_3} = 0\\)，其劳斯判据判断系统稳定的充分必要条件是\\(a_0&gt;0\\),\\(a_1&gt;0\\),\\(a_2&gt;0\\),\\(a_3&gt;0\\),\\({a_1}{a_2}-{a_0}{a_3}&gt;0\\) 这里特征方程各项系数均大于0符合要求，故其系统稳定条件为\\(\\frac{ { {T_m}({T_l} + {T_s})} }{ {1 + K} } \\cdot \\frac{ { {T_m} + {T_s} } }{ {1 + K} } - \\frac{ { {T_m}{T_l}{T_s} } }{ {1 + K} } &gt; 0\\) 整理后得\\(K &lt; \\frac{T_m}{T_s} + \\frac{T_m}{T_l} + \\frac{T_s}{T_l}\\) 取系统的临界放大系数\\(K_{cr} = \\frac{T_m}{T_s} + \\frac{T_m}{T_l} + \\frac{T_s}{T_l}\\)，则当\\(K \\geqslant K_{cr}\\)时，系统将不稳定。 通常情况下，K值越大意味着系统的稳态误差越小，稳态性能越好，而上述计算却说明K值增大会降低系统的动态性能，K值过大甚至会使系统不稳定。由此可见，比例控制闭环系统的动态稳定性和稳态性能的要求是矛盾的。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"乐理笔记07-和弦","slug":"音乐/乐理/乐理笔记07-和弦","date":"2023-07-23T23:02:57.000Z","updated":"2024-01-25T05:20:21.081Z","comments":true,"path":"音乐/乐理/乐理笔记07-和弦/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B007-%E5%92%8C%E5%BC%A6/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 143-161节 和弦 和弦 三个音或者三个以上的音构成的集体称为和弦。在特定风格或条件下，有些和弦会规律性地省略自己内部的一些音，导致这些和弦看上去只有1或2个音。 和声 和声指不同的和弦组合、连接、运用方式、细节处理等。强调不同和弦连接而形成的整体。 三和弦 三个音，按照三度叠置的关系形成的和弦称为三和弦。三个音由低到高分别为根音、三音与五音。根音到三音，三音到五音的音程皆为三度。 大三和弦与小三和弦 根音到三音是大三度，三音到五音是小三度，称为大三和弦（大+小）。听起来通常感觉明亮、温馨。 根音到三音是小三度，三音到五音是大三度，称为小三和弦（小+大）。听起来通常感觉暗淡、忧伤。 大三和弦与小三和弦的根音到五音是纯五度，是协和音程，听起来顺耳。 增三和弦与减三和弦 根音到三音是大三度，三音到五音是大三度，称为增三和弦（大+大）。 根音到三音是小三度，三音到五音是小三度，称为减三和弦（小+小）。 增三和弦与减三和弦的根音到五音是增五度/减五度，是不协和音程，听起来紧张、压抑。 增三和弦是需要扩张的紧张、压抑，后面通常接大六度；减三和弦是需要收缩的紧张、压抑，后面通常接纯四度或大三度； 三和弦的转位 三和弦的第一转位，指将原位的根音提高八度，三音与五音保持不变。所得和弦低音（三音）与根音的距离是六度，故又称为六和弦。 三和弦的第二转位，指将原位的根音与三音提高八度，五音保持不变。所得和弦低音（五音）与根音的距离是四度，低音（五音）与三音的距离是六度，故又称为四六和弦。 注意转位后音高最低的音（低音）不是根音。 如图为大三和弦的转位，小三和弦、增三和弦、减三和弦同理，其转位后的名称前缀与原位三和弦的前缀相同。 七和弦 四个音，按照三度叠置的关系形成的和弦称为七和弦。四个音由低到高分别为根音、三音、五音、七音。根音到三音，三音到五音，五音到七音的音程皆为三度。 七和弦的命名规则 七和弦名字前有两个前缀，第一个前缀与其根音、三音、五音形成的三和弦前缀相同，第二个前缀与其根音与七音形成的音程前缀相同。 如C4、E4、G4、B4构成的七和弦，其根三五音为CEG，是大三和弦；根音与七音是大七度。分别取两者的前缀，得到七和弦的名称为“大大七和弦”（有两个“大”的情况通常会省略一个，称其为“大七和弦”）。 如B4、D5、F5、A5构成的七和弦，其根三五音是减三和弦；根音与七音是小七度。分别取两者的前缀，得到七和弦的名称为“减小七和弦”。 常用七和弦及其简称 常用的七和弦一共有7种，如下表所示： 表1 常用七和弦及其简称 全称 简称/别称 举例 大大七和弦 大七和弦 C4、E4、G4、B4 大小七和弦 属七和弦 G4、B4、D5、F5 小大七和弦 D4、F4、A4、C5♯ 小小七和弦 小七和弦 E4、G4、B4、D5 减小七和弦 半减七和弦小七降五和弦 B3、D4、F4、A4 减减七和弦 减七和弦 B3、D4、F4、A4♭ 增大七和弦 半增七和弦大七升五和弦 F4、A4、C5♯、E5 这里减小七和弦又称“半减七和弦”，指的是相较于“减减七和弦”，减小七和弦只有一个减。半增七和弦同理。 这里减小七和弦又称“小七降五和弦”，是指将小七和弦的五音降低一个半音，就可以得到减小七和弦。增大七和弦同理，可以将大七和弦的五音升一个半音来得到，故可称为“大七升五和弦”。 七和弦的转位 七和弦的转位根据低音与七音、根音的度数来命名。 七和弦的第一转位，指将原位的根音提高八度，三音、五音、七音保持不变。所得和弦低音（三音）与七音的距离是五度，低音与根音的距离是六度，故又称为五六和弦。 七和弦的第二转位，指将原位的根音与三音提高八度，五音、七音保持不变。所得和弦低音（五音）与七音的距离是三度，低音与根音的距离是四度，故又称为三四和弦。 七和弦的第三转位，指将原位的根音、三音、五音提高八度，七音保持不变。所得和弦低音（七音）与根音的距离是二度，故又称为二和弦。 如图为大七和弦的转位，与三和弦类似，七和弦的转位后的名称前缀与原位七和弦的前缀相同。 广义的和弦原位与转位、转位的意义 判断和弦的两条标准：①和弦的构成音；②低音。 如大三和弦的构成音为CEG，低音为C。只要满足这两个条件构成的和弦就是大三和弦。与构成音的数量、所处的组无关。C3E4G5、C4E4G4E5G5等都是大三和弦。 只要和弦的根音不是低音，转位构成音仍是原位的构成音，则都是（广义的）该和弦的转位。不局限于提高或降低八度。如大三和弦原位C4E4G4，可以转位为E4G4C6(C/E)、G3C4E5(C/G)等。 转位的意义：①使声部进行流畅；②构建低音线条。 和弦的织体 织体(texture)是一个抽象的概念，用于描述乐曲的状态、形态、造型、形式、神态、质感等，可以用来形容声部关系、节奏、和声、附调、配器等的相互关系。 和弦的织体表示和弦在纵横两个方向上的具体形态。常见的和弦织体有柱式织体、分解织体、混合织体等。 柱式织体： 分解织体： 混合织体： 和弦固定标记法 三和弦的标记 表2 常用三和弦及其标记 全称 标记 大三和弦 XMajor(Xmajor)XMaj(Xmaj)XMX 小三和弦 XminorXminXmX- 增三和弦 XaugmentedXaugX+ 减三和弦 XdiminishedXdimX° 七和弦的标记 表3 常用七和弦及其标记 全称 简称/别称 标记 大大七和弦 大七和弦 XMajor7(Xmajor7)XMaj7(Xmaj7)XM7XΔ7 大小七和弦 属七和弦 Xdominant7Xdom7X7 小大七和弦 XminorMajor7XminMaj7XmMaj7XmM7X-M7X-Δ7 小小七和弦 小七和弦 Xminor7Xmin7Xm7X-7 减小七和弦 半减七和弦小七降五和弦 Xdim(m7)X°(m7)Xhalf-dim7XØ7Xm7(♭5)Xm7-5 减减七和弦 减七和弦 Xdiminished7Xdim7X°7 增大七和弦 半增七和弦大七升五和弦 Xaug(maj7)X+(maj7)X+Δ7XM7+5XM7♯5XΔ7+5XΔ7♯5 注意这里“减”前缀的标记不是“-”，而是“°”，“小”前缀的标记是“-”，这里容易产生混淆。 斜杠和弦 斜杠和弦（又称slash和弦、分数和弦、分割和弦）可以用于表示含有转位的和弦。其表示方法为“X/Y”，其中X为原位和弦标记，Y为低音。 如“C/G”表示的就是低音为G的C大三和弦（四六和弦），是三和弦的第二转位，根音与三音皆提高八度。 再如“F♯Δ7/C♯”表示低音为C♯的F♯大七和弦（大三四和弦），是大七和弦的第二转位，根音与三音皆提高八度。 再如“Bm7-5/A”表示低音为A的B减小七和弦（减小二和弦），是减小七和弦的第三转位，根音、三音、五音皆提高八度。 斜杠和弦亦可用于再原和弦基础上加一个不在此和弦内的音。 如“Fm/G”中Fm为F小三和弦（构成音F、A♭、C），G表示以G为低音。该斜杠和弦表示同时奏G、F、A♭、C四个音（如G3、F4、A4♭、C5）。 九音、十一音、十三音 九和弦有五个音，在七和弦的基础上增加一个九音；十一和弦有六个音，在九和弦的基础上增加一个十一音；十三和弦有七个音，在九和弦的基础上增加一个十三音。九和弦、十一和弦、十三和弦举例如下图所示： 九和弦、十一和弦、十三和弦的标记遵循以下规则： ①若标记中的9（或11、13）没有升降号，则该和弦根音与九音（或十一音、十三音）的音程为大九度（或纯十一度、大十三度）。 如Fm7(11)表示的小七和弦由F、A♭、C、E♭构成，要求根音与十一音的音程为纯十一度，则十一音应为B♭。 ②在实际乐谱中，并不要求根音与九音（或十一音、十三音）的音程必须为大九度（或纯十一度、大十三度）。只要求和弦构成音正确。 如D7(11)表示大小七和弦加一个与根音距离为纯十一度的十一音，其构成音为“D、F♯、A、C、G”。在实际乐谱中，这五个音可以是D4、F4♯、A4、C5、G5，也可以是D4、G4、F4♯、A4、C5（将G5移动到G4），虽然此时根音与十一音的音程是四度，但是其构成音仍是D7(11)的构成音，因此仍可用D7(11)表示。依据为“判断和弦的两条标准”。 ③标记直接后接9、11、13时，需要包含其下方所有三度叠加音。 如CM11的构成音为“C、E、G、B、D、F”，这里既有十一音，也有九音和七音。 如果想表示七和弦加十一音，则应记为CM7(11)，11要外加一个括号，其构成音为“C、E、G、B、F”。 如果想表示七和弦加九音与十三音，则应记为CM7(9,13)，9与13外加一个括号，其构成音为“C、E、G、B、D、A”。 如果想表示三和弦加一个十一音，则应记为Cadd11，其构成音为“C、E、G、F”。 ④和弦构成音过多时，一般优先省略五音。（去掉五音对听觉的影响最小） ⑤标记中的9、11、13可以加升降号。如Fm7(♯11)表示小七和弦加音程为增十一度的十一音，即构成音为“F、A♭、C、E♭、B”。 “♭5 ♯5 ♭9 9 ♯9 11 ♯11 ♭13 13”统称为延伸音(Tension音)，这些音的加入，会增加和弦的不稳定性，增加和弦的张力。 注意这里没有♭11与♯13，因为大小七和弦（属七和弦）的♭11音等同于其3音，♯13音等同于其7音，这使得♭11与♯13变得没有意义。 ⑥大小七和弦可以使用⑤中的所有Tension音，其他结构的七和弦只能使用其中的一部分。 加音和弦 加音和弦格式为XaddY，表示在原X和弦基础上加上一个Y音。在这里Y可以为9、11、13，此时加音与根音距离为大九度、纯十一度、大十三度。 如Cadd9表示在C大三和弦基础上加一个大九度音，其构成音有“C、E、G、D”。 在实际乐谱中，并不要求根音与九音的音程必为九度。如上图所示，Cadd9可以为“C4、D4、E4、G4”，此时根音与九音的音程是二度。因此Xadd9也可记作Xadd2（不常用记法）。 同理Xadd11亦可记作Xadd4。由于其所加的纯十一度音容易产生不协和的冲突而导致三音模糊，因此该加音和弦很少使用。 Xadd13亦可记作Xadd6（常用记法），指在X和弦基础上加大十三度音（大六度音）。Xadd6又可进一步简记为X6，称为六和弦，。而三和弦的第一转位也称为六和弦，因此六和弦又两种意义，需要结合具体的构成音加以区分。 Xadd6add9指在X和弦基础上加大六度与大九度音，可进一步简记为X69，称为六九和弦。 同样的构成音及低音可能有不同的和弦名字，如Fadd6的构成音为F、A、C、D，低音为F，而这也是Dm7/F的构成音及低音。但两者的侧重点不一样，在不同的音乐语境下有不同的含义。Fadd6侧重于F大三和弦，在此基础上加入大六度音；Dm7/F侧重于D小七和弦，在此基础上进行第一转位得到低音为F的五六和弦。 挂留和弦 挂留和弦(Suspended和弦、sus和弦)来源于“延留音”或“延留音和弦”。即前一个和弦的某个音X的时值被延长，继续保持在下一个和弦中，导致下一个和弦的音Y被挤掉，推迟了音Y开始发音的时间（也有可能音Y不再发音）。 挂留和弦的举例如上图所示，这里C大三和弦中原本的E4音（三音）被前面的G属七和弦的F4（纯四度音）代替，而E4则推迟半拍才发出。纯四度音挤压掉三音，因此该和弦亦可称为Csus4。 “挂留和弦”最常见的有两种形式，纯四度音挤压掉三音称为sus4，大二度音挤压掉三音称为sus2。（sus和弦中没有三音） 如Csus4的构成音是CFG，就是将三音E替换为纯四度音F；Csus2的构成音是CDG，就是将三音E替换为大二度音D。 省略音和弦 省略音和弦(omit和弦、no和弦)指省略某个和弦的音。如Fm7omit5（或Fm7no5）指省略Fm7和弦（构成音F、A♭、C、E♭）的五音C，得到和弦构成音F、A♭、E♭。 Comit3（或Cno3）指省略C大三和弦的三音E，得到和弦构成音C、G。省略了三音的和弦，模糊了和弦的明暗色彩感。由于该和弦只由根音与五音构成，因此又可简记为C5，称为五和弦。 五和弦也可称作power chord（强力和弦、重力和弦），常出现在朋克、摇滚、金属等风格中。 和弦功能与级数标记法 对音符与和弦的功能与级数标记法如上图所示，其中音符的级数标记法指的是将大调中的七个音依次标罗马数字I到VII。并将七个音依次命名为主音、上主音、中音、下属音、属音、下中音、导音。 将这七个音做为根音，向上叠加两个三度得如上图所示的三和弦（需要使用大调内的音），可以发现这里的根音I、IV、V形成的是大三和弦，分别记为I（主和弦）、IV（下属和弦）、V（属和弦）；根音II、III、VI形成的是小三和弦，分别记为ii（二级和弦）、iii（三级和弦）、vi（六级和弦）；根音VII形成的是减三和弦，记为vii°（导和弦）。上述规律适用于所有的大调。 和弦同样可以使用阿拉伯数字标记，如上图所示。 功能标记法源自西方功能和声体系理论，使用三种功能记号对和弦进行标记，分别为T（主功能、Tonica）、D（属功能、Dominant）、S（下属功能、Subdominant）。在和声中主功能代表“稳定”，属功能与下属功能代表“紧张”。音乐里和声的底层逻辑，就是从“稳定”到“紧张”再到“稳定”再到“紧张”......通过循环保持音乐的推进。显然主和弦、下属和弦、属和弦分别可以记为T、S、D。其余和弦的标记取决于其体现的功能，如二级和弦具有下属功能，可标记为Sii；三级和弦既有一部分属功能，又有一部分主功能，因此标记为DTiii。全部标记可见上图。 属七和弦原意为“调式中的五级属功能七和弦”，如C大调中的G7便是这种含义下的属七和弦。而这个和弦恰恰是大小七和弦，因此最终泛指“大小七和弦”。 七和弦的级数标记法为级数右下角标7，如C大调的G属七和弦(G7)可标记为\\(V_7\\)。 转位和弦通过级数右侧数字体现和弦结构。如C大调C大三和弦第一转位(C/E)可标记为\\(I_6\\)，三和弦第一转位又称为六和弦，这里右下角的6体现该和弦根音与三音的距离是六度。再如C大调E小三和弦第二转位(Em/B)可标记为\\({iii}_4^6\\)，三和弦第二转位又称为四六和弦，这里右下角的4与右上角6体现该和弦低音与根音的距离是四度，低音与三音的距离是六度。 和声模板 和声模板指一些常见的和弦走向套路，如4536251、15634125、6415、1645等。 使用和声模板需要注意以下几点： 几乎所有模板都通过首调方式提示某个音的和弦，可以先使用C调进行创作，然后根据实际需要移调。如1645对应C大调C-Am-F-G。 所有模板均采用44拍，且每个和弦占据一个小节，收尾的和弦可以长一点，尽量把整体补成4个或8个小节。如4536251对应C大调F-G-Em-Am-Dm-G-C，前面六个和弦各占一个小节，最后一个C和弦占两个小节。 不局限于原位三和弦，可以尝试七、九、转位、add、sus等和弦。 织体上可以多做变化。 有些模板中的数字可能强调的是低音进行，而不是某级和弦。如17654325这里的7通常指的是“低音为7的属和弦”而非七级和弦。 多看谱，多分析，扩充自己的模板库。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记06-音程","slug":"音乐/乐理/乐理笔记06-音程","date":"2023-07-20T12:40:25.000Z","updated":"2024-01-25T05:20:21.081Z","comments":true,"path":"音乐/乐理/乐理笔记06-音程/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B006-%E9%9F%B3%E7%A8%8B/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 122-142节 音程 音程的概念 音程，即音与音的音高距离，如半音、全音（见“乐理笔记01-基础知识”）都是音程。 度数 两个音，忽略音名升降号（忽略钢琴黑键），只看音名的字母（只看钢琴白键），从低音到高音数有几个字母，就称几度。 如E4到A4经过了E4,F4,G4,A4四个字母，就称E4到A4有四度； 再如E4♭到A4♯，去掉升降号为E4与A4，仍然经过E4,F4,G4,A4四个字母，故E4♭到A4♯也是四度。 （这里F4到G4，G4到A4间有黑键F4♯与G4♯，但是要忽略黑键，因此F4♯与G4♯不计入度数） 根音与冠音 两个音中的低音是根音，高音是冠音。如E4与A4中的E4是根音，A4是冠音。 音数 表示两个音之间有多少个全音与半音。一个全音的音数为1，一个半音的音数为0.5，两个音的音数等于其间隔的全音数x1+半音数x0.5。 换一种说法，音数等于两个音之间的键数距离x0.5，这里的键包括白键与黑键。 如E4到A4间有一个半音(E4-&gt;F4)与两个全音(F4-&gt;G4,G4-&gt;A4)，故E4到A4的音数为2.5。 也可以数两个键的距离，E4-&gt;F4-&gt;F4♯-&gt;G4-&gt;G4♯-&gt;A4，显然E4到A4间是五个半音的距离，音数为2.5。 小二度、大二度、小三度、大三度、小六度、大六度、小七度、大七度 音数为0.5的二度称为小二度。 如C4到D4♭，两个音是半音（音数为0.5），度数是二度，故为小二度。 小二度的音数必为0.5，但音数为0.5不一定为小二度。如C4到C4♯（不是二度、是增一度）。 音数为1的二度称为大二度。 如C4到D4，两个音是全音（音数为1），度数是二度，故为大二度。 大二度的音数必为1，但音数为1不一定为大二度。如B4♯到D4（不是二度、是减三度）。 小三度、大三度、小六度、大六度、小七度、大七度见表1。 纯一度、纯八度、纯四度、纯五度 音数为0的一度称为纯一度（即两个相同的音）。如C4到C4。 一个音与其相邻组别的相同音名的距离是纯八度。如C4到C5。 纯四度是音数为2.5的四度，纯五度是音数为3.5的五度。 纯四度、纯五度见表1。 表1 音程总结表（一） 名称 定义 举例 纯一度 音数为0的一度 C4到C4 小二度 音数为0.5的二度 C4到D4♭ 大二度 音数为1的二度 C4到D4 小三度 音数为1.5的三度 C4到E4♭ 大三度 音数为2的三度 C4到E4 纯四度 音数为2.5的四度 C4到F4 纯五度 音数为3.5的五度 C4到G4 小六度 音数为4的六度 C4到A4♭ 大六度 音数为4.5的六度 C4到A4 小七度 音数为5的七度 C4到B4♭ 大七度 音数为5.5的七度 C4到B4 纯八度 音数为6的八度 C4到C5 增音程、减音程、倍增音程、倍减音程 二、三、六、七 由表1可知音数为1.5的三度为小三度，在1.5的基础上减0.5，得到音数为1的三度，被称为减三度，如C4到E4♭♭。 在1的基础上再减0.5，得到音数为0.5的三度，被称为倍减三度，如C4♯到E4♭♭。 同理，音数为2的三度为大三度，在2的基础上加0.5，得到音数为2.5的三度，被称为增三度，如C4到E4♯。 在2.5的基础上再加0.5，得到音数为3的三度，被称为倍增三度，如C4到E𝄪。 一、四、五、八 由表1可知音数为2.5的四度为纯四度，在2.5的基础上减0.5，得到音数为2的四度，被称为减四度，如C4到F4♭。 在2的基础上再减0.5，得到音数为1.5的四度，被称为倍减四度，如C4♯到F4♭♭。 同理，在2.5基础上加0.5，得到音数为3的四度，被称为增四度，如C4到F4♯。 在3的基础上再加0.5，得到音数为3.5的四度，被称为倍增四度，如C4到F4𝄪。 表2 音程总结表（二） 二三六七度 倍减X度 减X度 小X度 大X度 增X度 倍增X度 音数 Y-1.5 Y-1 Y-0.5 Y Y+0.5 Y+1 一四五八度 倍减X度 减X度 纯X度 增X度 倍增X度 音数 Y-1 Y-0.5 Y Y+0.5 Y+1 表3 音程总结表（三） 等音程 音数相等的音程被称作等音程。如减三度、大二度、倍增一度互为等音程，它们的音数都是1。 全音与半音 所有音数为0.5的音程（增一度、小二度、倍减三度）都是半音，所有音数为1的音程（减三度、大二度、倍增一度）都是全音。 三全音 所有音数为3的音程（倍增三度、增四度、减五度、倍减六度）都是三全音，倍增与倍减的情况较为罕见，因此三全音通常指的是增四度或减五度。 三全音的听觉感受极不协和。 识别音程的方法 不含升降号的情况 使用钢琴键可以更好的判断音程。钢琴键如下图所示，首先把钢琴中所有的EF、BC圈出，因为E到F、B到C是半音，它们中间没有黑键。 一度音程（或八度音程）不用判断，肯定是纯一度（或纯八度），如C4到C4（或C4到C5）。 对于二度音程，如果是E-F、B-C，那就是小二度。其他情况（C-D、D-E、F-G、G-A、A-B）就是大二度。 对于三度音程，三度中包含EF或BC时音数会小一些，是小三度（D-F、E-G、A-C、B-D）。不包含EF或BC时音数会大一些，是大三度（C-E、F-A、G-B）。 对于四度音程，EF或BC中包含一个时是纯四度（C-F、D-G、E-A、G-C、A-D、B-E）。EF或BC都不包含时是增四度（F-B）。 对于五度音程，EF或BC中包含一个时是纯五度（C-G、D-A、E-B、F-C、G-D、A-E）。EF或BC都包含时是减五度（B-F）。 对于六度音程或七度音程，EF或BC中包含一个时是大六度/七度，EF或BC都包含时是小六度/七度。 不含升降号的情况下，识别音程的方法可总结为表4，如下所示： 表4 识别音程的方法（不含升降号） 名称 不包含 包含一个 包含两个 一度 纯一度 二度 大二度 小二度 三度 大三度 小三度 四度 增四度 纯四度 五度 纯五度 减五度 六度 大六度 小六度 七度 大七度 小七度 八度 纯八度 含升降号的情况 先去掉升降号，判断出音程后，根据升降号确定音数是变大了还是变小了，进而得到最后的音程。 如要判断E4♭♭到C5♯的音程，首先知道E4到C5是六度，其间包含两个EF或BC，因此是小六度。 E4到C5♯相较于E4到C5音数要大0.5，因此E4到C5♯是大六度。 E4♭♭到C5♯相较于E4到C5♯音数要大1，因此E4♭♭到C5♯是倍增六度。 超过八度的音程 先确定两个音的度数，再将两个音放在八度以内，判断八度以内的音程，来确定音程度数前面的前缀。 如C4到E5是十度，将其放到同一个八度，即C4到E4，C-E是三度，且不包含EF或BC，是大三度。保留大三度的前缀“大”，因此C4到E5是大十度。 再如D3到G6♯是二十五度，将其放到同一个八度，即D3到G3♯，D-G是四度，且包含一个EF，因此是纯四度，D3到G3♯相较于D3到G3多0.5个音数，因此是增四度，保留增四度的前缀“增”，因此D3到G6♯是增二十五度。 单音程与复音程 有两种定义。定义一认为度数小于等于8为单音程，度数大于八为复音程；定义二认为实际距离小于等于纯八度的距离（音数小于等于6）为单音程，反之为复音程。 倍增七度、增八度、倍增八度在定义一中为单音程，定义二中为复音程； 减九度、倍减九度在定义一中为复音程，定义二中为单音程。 音程名字的简写 主要的音程前缀有——大(Major)、小(minor,m为小写)、增(Augmented)、减(Diminished)、纯(Perfect或Pure)。（倍增与倍减不常见） 简写时就采用前缀首字母+数字的形式，如大三度记为M3，小七度记为m7，增五度记为A5。 亦可用Major与minor形容调式，如C大调记为C Major，D小调记为D minor。 旋律音程与和声音程 两个音先后弹奏时，称为旋律音程。 两个音同时弹奏时，称为和声音程。 自然音程与变化音程 在“自然大小调音阶”里直接存在的音程称为自然音程。可以由两个白键形成的音程称为自然音程。所有在表4中出现的音程都是自然音程。 在“自然大小调音阶”里不存在的音程称为变化音程，要通过临时升降音产生变化而形成。自然音程之外的音程称为变化音程。 如C4♯到F4♯是纯四度，纯四度在表4中能找到，因此C4♯与F4♯形成的是自然音程。 再如C4到A4♯是增六度，增六度在表4中找不到，说明增六度不是能由两个白键形成的音程，因此C4到A4♯形成的是变化音程。 超过八度的音程，将两个音放在八度以内，判断八度以内的音程能否在表4中找到，从而判断其是自然音程还是变化音程。 协和音程与不协和音程 协和音程分为三种： ①极完全协和音程——纯一度、纯八度...纯(1+7n)度（n为整数且n≥0） ②完全协和音程——纯四度、纯五度...纯(4或5+7n)度（n为整数且n≥0） ③不完全协和音程——大三度、小三度、大六度、小六度...大或小(3或6+7n)度（n为整数且n≥0） 协和音程之外的音程称为不协和音程： 大二度、小二度、大七度、小七度...大或小(2或7+7n)度（n为整数且n≥0） 所有增音程、减音程、倍增音程、倍减音程。 C4到A4♭是小六度，是不完全协和音程，而C4到G4♯是增五度，是不协和音程。虽然A4♭与G4♯是等音，小六度与增五度是等音程，C4到A4♭与C4到G4♯在弹奏时的音高完全相同，但它们所处的音乐语境不同，即在一段连续的音乐中，通过与其他声音，其他和弦，其他音程的对比，所体现出的协和程度是不一样的。 音程转位 转位指改变两个音的高低顺序。如C4到E4，可以转位得到E4到C5、E3到C4、E4到C6、E5到C6等等（只要是E-C就行）。而通常情况下转位得到的是E4到C5、E3到C4（原位中的一个音不动，转位后在八度以内）。 可以根据原位的音程名字，推出转位后的音程名字。音程名字前缀对应关系为：大↔︎小、纯↔︎纯、增↔︎减、倍增↔︎倍减。原位的音数大于0且小于6时，原位与转位的音程度数之和为9。如C4-D4是大二度，其转位D4-C5是小七度。 原位的音数等于0或大于6时，不满足“原位与转位的音程度数之和为9”这一规律。如纯一度的转位仍为纯一度，纯八度的转位仍为纯八度。增七度的转位为减九度（如D4♭到C5♯为增七度，其转位C3♯到D4♭为减九度。其转位不是C4♯到D4♭，是因为C4♯与D4♭等音，而转位要求两个音的高低顺序彻底改变）。 原位音程与转位音程的各类性质（自然音程还是变化音程，协和音程还是不协和音程）不会改变。 如C4到F4𝄪是倍增四度，其转位F4𝄪到C5是倍减五度。倍增四度与倍减五度都是变化音程，不协和音程。 度数大于八的音程，先缩小到八度以内，再转位。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记05-五线谱","slug":"音乐/乐理/乐理笔记05-五线谱","date":"2023-07-17T08:18:20.000Z","updated":"2024-01-25T05:20:21.071Z","comments":true,"path":"音乐/乐理/乐理笔记05-五线谱/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B005-%E4%BA%94%E7%BA%BF%E8%B0%B1/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 101-121节 五线谱 谱号 五线谱有五条线，由下至上分别可称为一线、二线、三线、四线、五线。五条线形成四个空间由下至上可称为一间、二间、三间、四间。此外五线谱可以加线，向上加线可称为上加一线、上加二线、上加三线等，形成上加一间、上加二间、上加三间等；向下加线可称为下加一线、下加二线、下加三线等，形成下加一间、下加二间、下加三间等。 高音谱号 高音谱号符号为𝄞，由字母G的花体演化而来。该谱号记在五线谱的第二线上（手写时从第二线开始画），表示五线谱的第二线对应音名\\(g^1\\)（或G4），对应其他音名如下图所示。 上图中音名全部对应钢琴中的白键，可以在音符前加升降号来对应钢琴中的黑键。 低音谱号 低音谱号符号为𝄢，由字母F的花体演化而来。该谱号记在五线谱的第四线上（手写时从第四线开始画），表示五线谱的第四线对应音名\\(f\\)（或F3），对应其他音名如下图所示。 中音谱号与次中音谱号 中音谱号与次中音谱号的符号为𝄡，由字母C的花体演化而来。中音谱号记在五线谱的第三线上，表示五线谱的第三线对应音名\\(c^1\\)（或C4）;次中音谱号记在五线谱的第四线上，表示五线谱的第四线对应音名\\(c^1\\)（或C4）。 八度记号与十五度记号 八度记号用于表示某个区间的音符需要提高一个八度（𝄶，记在上方）或降低一个八度（𝄷，记在下方）演奏。 十五度记号用于表示某个区间的音符需要提高两个八度（𝄸，记在上方）或降低两个八度（𝄹，记在下方）演奏。 当然也有二十二度记号，即提高或降低三个八度。 拍号 和简谱类似，不再赘述。 补充：44拍亦可记为“𝄴”，22拍亦可记为“𝄵”。 音符 表1 音符及其时长(以44拍为例) 名称 简谱记法 五线谱记法 时长 倍全音符 \\(1-------\\) 𝅜 八拍（两节） 全音符 \\(1---\\) 𝅝 四拍（一节） 二分音符 \\(1-\\) 𝅗𝅥 二拍 四分音符 \\(1\\) 𝅘𝅥 一拍 八分音符 𝅘𝅥𝅮 半拍 十六分音符 𝅘𝅥𝅯 四分之一拍 三十二分音符 𝅘𝅥𝅰 八分之一拍 六十四分音符 𝅘𝅥𝅱 十六分之一拍 音符中的实心或空心圈称为“符头”，符头的位置决定了音高。 竖线可称为“符干”，除全音符、倍全音符外的音符都有符干。 八分音符及时值更短的音符有“符尾”，音符符尾的条数与其简谱音符下横线数相等。 五线谱的附点记在音符的符头右侧，表示的意义与简谱相同，即延长原音符时长一半。 两个附点表示在第一个附点延长一半的基础上，第二个附点再延长原音符时长一半的一半（1.75倍）。三个附点的时长为原音符的1.875倍，以此类推。 表2 休止符及其时长 名称 简谱记法 五线谱记法 全休止符 \\(0000\\) 二分休止符 \\(00\\) 四分休止符 \\(0\\) 𝄽 八分休止符 𝄾 十六分休止符 𝄿 三十二分休止符 𝅀 全休止符贴第四线，二分休止符贴第三线。 八分休止符及时值更短的休止符符尾的条数与其简谱下横线数相等。 全休止符即可表示休止四拍，也可表示休止一整个小节（此时整个小节只记一个全休止符）。 休止符加附点同样是延长时值，规则与音符附点相同。 连线、延音线规则与简谱相同。 速度 抽象的速度记法与简谱相同。 具体的速度，可以记为“𝅘𝅥=120”的形式，意为每分钟奏120个四分音符时对应的速度，若乐谱以四分音符为一拍（拍号分母为4），即可进一步解释为“每分钟120拍”。 同理，“𝅗𝅥=60”意为每分钟奏60个二分音符时对应的速度，若乐谱以二分音符为一拍（拍号分母为2），即可进一步解释为“每分钟60拍”。 对于拍号分子为3或6的乐谱，如83拍、86拍。会以3拍为一组计算速度，如对于83拍乐谱，“𝅘𝅥.=60”意为每分钟奏60个附点四分音符（三拍时长）时对应的速度，相当于每分钟180拍，即“𝅘𝅥𝅮=180”。 节奏型 常见的节奏型与简谱一致。 表3 常见节奏型 名称 简谱记法/打拍子方法 五线谱记法 二八 四十六 前八后十六 前十六后八 前附点 后附点 大附点 小切分 大切分 三连音 调号 五线谱的调号用升降号在谱号后表示，使用哪些升降号取决于调式音阶中哪些音带升降号。 如D大调的调号可表示为，可以观察到其高音谱号第三间(#C5)、第五线(#F5)与低音谱号第二间(#C4)、第四线(#F4)上有升号，有升号的位置对应着音名C与F。而D大调音阶为D、E、#F、G、A、B、#C、D，其中音名C与F上有升号。 五线谱的调号可以理解为适用于整个乐谱的“变音记号”，用于提示相应的音名需要升音或降音演奏。如D大调的调号表示乐谱中（更换调号前）所有的C或F都要演奏为#C或#F（所有组的C与F，不局限于C4、F4、C5、F5），这样在乐谱中的C与F音符不用再加“#”号来提示。 五线谱一共有十五种调号，如上图所示。其中C大调不含任何升降号，其余调号含有1到7个升号或降号。 观察升号最多的大调，升C大调有7个升号，从左到右依次是“#F、#C、#G、#D、#A、#E、#B”。去掉最后一个升号“#B”，得到“#F、#C、#G、#D、#A、#E”，正好是有6个升号的升F大调，再去掉“#E”，则可得到有5个升号的B大调。以此类推，只留下第一个“#F”，这就是有1个升号的G大调。 降号最多的大调为降C大调，从左到右依次是“♭B、♭E、♭A、♭D、♭G、♭C、♭F”，也可按照这个规则推出其他带降号的大调。 口诀：FCGDAEB，BEADGCF；4152637，7362514。 五线谱的调号可以通过一定规则去识别： 带有升号的大调，最后一个升号是#X音时，此调为(#X+半音)大调。 如4个升号的大调，其最后一个升号是#D，#D提高半音是E，故该调为E大调。 带有降号的大调，倒数第二个降号是♭X音时，此调为♭X大调 如5个降号的大调，其倒数第二个降号时♭D，故该调为♭D大调。 记号 五线谱的记号大多数与简谱记号一致。 力度记号、速度记号、反复记号——与简谱完全一致； 省略记号——将单音震音记号画在音符符干位置，双音震音记号画在音符中央，其余省略记号与简谱完全一致； 演奏记号——顿音记号在五线谱中被分为“跳音”与“顿音”两种，其中跳音符号为“·”，标在音符上方或下方，表示演奏原音符二分之一时值，顿音符号为“▼”，标在音符上方或下方，表示演奏原音符四分之一时值。几个连续的跳音记号上画连线时，如“”。意为“连续的跳音”，理论上演奏时长为原音符的四分之三时长。 倚音记号在五线谱中的记法如图，原音与倚音用连线相连，倚音上画有一根短斜线。 其余演奏记号只是记法稍有区别，在意义上与简谱完全一致。 临时变音记号规则与简谱一致。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记04-乐谱记号","slug":"音乐/乐理/乐理笔记04-乐谱记号","date":"2023-07-01T23:07:19.000Z","updated":"2024-01-25T05:20:21.061Z","comments":true,"path":"音乐/乐理/乐理笔记04-乐谱记号/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B004-%E4%B9%90%E8%B0%B1%E8%AE%B0%E5%8F%B7/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 73节、85-99节 乐谱记号 变音记号 变音记号一共有五种，除乐理笔记01-基础知识中提到的升号♯、降号♭、重升号𝄪与重降号𝄫外，还有还原号♮，用于取消前面音符的升降变音记号，还原为原来的音。 变音记号遵循以下的规则： 变音记号对“同一小节”内它出现后的所有“同一个音”生效。只管同一个小节，小节外的部分不会变音。 “同一小节”的“同一个音”出现新的变音记号时，立即以新记号为准。如前面有降号的情况下，后面出现升号，升号及以后的音均要进行升音变音（这里不存在升号与降号相抵消的情况）。 涉及到延音线跨小节的情况，延音线上的音是同一个音，因此以延音线上最前面的音的升降号为准。延音线后的音与延音线上最前面的音不在同一小节，不会受该升降号影响。 为方便看谱，很多简谱会将所有需要升降的音全部标注。 变音记号使用实例（上谱为原谱，下谱表示实际要演奏的音）： 力度记号 标记 含义 \\(pp\\) 很弱(pianssimo) \\(p\\) 弱(piano) \\(mp\\) 稍弱(mezzo piano) \\(mf\\) 稍强(mezzo forte) \\(f\\) 强(forte) \\(ff\\) 很强(fortissimo) \\(fff\\) 最强(forte fortissimo) \\(cresc.\\) 渐强(crescendo) \\(dim.\\) 渐弱(diminuendo) \\(sf\\)、\\(sfz\\)、\\(fz\\) 突强(sforzando) \\(fp\\) 强后突弱(forte piano) \\(sfp\\) 突强后突弱(sforzando piano) \\(&gt;\\) 重音 \\(pp\\)、\\(p\\)、\\(mp\\)、\\(mf\\)、\\(f\\)、\\(ff\\)、\\(fff\\)的作用范围从标有该力度记号的音开始，到下一个力度记号出现为止。 速度记号 标记 含义 \\(rit.\\)、\\(rall.\\) 渐慢 \\(accel.\\) 渐快 𝄐 自由延长时值 反复记号 反复一次标记间的内容 前反复记号“𝄆”与后反复记号“𝄇”之间的内容要多重复一遍。 前反复记号在乐谱开头时可以省略。 跳房子 第一次进入一房子，第二次进入二房子，以此类推。 从头反复 \\(D.C.\\)(Da Capo)回到乐谱开头反复，反复到\\(Fine\\)处结束。 \\(D.C.\\)(Da Capo)回到乐谱开头反复到\\(Da\\ Coda\\)，然后跳转到\\(Coda\\)处继续演奏。 Coda意为“尾声”，\\(Da\\ Coda\\)与\\(Coda\\)均可用符号“𝄌”代替，如下谱所示。 从S处反复 类似于上文“从头反复”，区别为遇到\\(D.S.\\)后回到“𝄋”处。 省略记号 震音记号 单音震音：实际演奏音符取决于震音记号有几根线，实际演奏时长为原音符时长。 如“”的震音记号有两条线，代表十六分音符，原音符为四分音符，则实际演奏四个十六分音符，即“” 再如“”的震音记号有三条线，代表三十二分音符，原音符为八分音符，则实际演奏四个三十二分音符，即“” 双音震音：实际演奏音符取决于震音记号有几根线，实际演奏时长为其中一个原音符时长。（双音震音中各个原音符时长一致） 如“”的震音记号有两条线，代表十六分音符，原音符均为四分音符，则实际演奏四个十六分音符，即“” 音型反复记号 用音型反复记号代表重复的音型，音型反复记号的斜线数与原音符下横线数一致（或与其中某个原音符下横线数一致，并不绝对）。 小节反复记号 标在小节内部时表示重复该小节；标在小节线上就是重复两个小节。 小节反复记号斜线数量与该小节第一个音符下横线数一致（并不绝对）。 演奏记号 换气记号 换气符号为“∨”，标在音符上方，防止一口气唱到底被憋死。 顿音记号 顿音记号为“▼”，标在音符上方，唱的时候要有明显停顿感。理论上演奏时长为原音符的四分之一或二分之一时长（并不绝对）。 几个连续的顿音记号上画连线时，如“”。意为“连续的顿音”，唱的时候也要断开但断开的程度较低。理论上演奏时长为原音符的四分之三时长（并不绝对）。 保持音记号 顿音记号为“—”，标在音符上方，起强调作用，要求充分保证这个音的演奏时长为该音符时长。（受客观条件所限，演奏某个音时通常达不到其音符规定时长） 滑音记号 对于涉及单个音的滑音，上滑音为“↗”，下滑音为“↘”，标在音符两侧。演奏时需要适当的在原有音调基础上平滑地变调，变调的程度自己把握。 对于涉及两个音的滑音，上滑音为“𝆱”，下滑音为“𝆲”，标在两个音符中间。要平滑地从一个音符变调到另一个音符。 刮奏记号为“”，常见与西洋乐器曲谱中，效果上与滑音相同，强调为实现滑音所做的操作为刮奏。 琶音记号 曲谱中同时演奏几个音时，几个音并列标在曲谱同一个位置上，若要使这几个音的演奏有较小的时差时就称为琶音。 琶音记号为“𝆃”，此时需要按从下到上的顺序（默认顺序）迅速弹出同一个位置上的音。 若要按从上到下顺序弹奏，则使用记号“𝆄”。 装饰音记号 理论基础 级进：忽略升降号，若两个音间没有其他唱名，则前一个音到后一个音称为“级进”。如“\\(12\\)”、“\\(^♭1^♯2\\)”可称为向上级进，“\\(\\dot 1 7\\)”可称为向下级进。 跳进：忽略升降号，若两个音间有其他唱名，则前一个音到后一个音称为“跳进”。如“\\(5 \\dot 1\\)”可称为向上跳进，“\\(53\\)”可称为向下跳进。 经过音：三个音X、Y、Z，若X级进到Y，Y又级进到Z，且两次级进的方向相同。则称中间的Y为经过音。如“\\(123\\)”中\\(2\\)为经过音。 辅助音：若X级进到Y，Y又反向级进回到到X，两次级进的方向相反，则称Y为辅助音。如“\\(121\\)”中\\(2\\)为辅助音（先由\\(1\\)向上级进至\\(2\\)，又称为上助音）。同理\\(\\dot 1 7 \\dot 1\\)中\\(7\\)为辅助音（下助音）。 跳进级出的助音：X跳进到Y，Y级进到Z，称Y为跳进级出的助音。如“\\(634\\)”中\\(3\\)为跳进级出的助音。 级进跳出的助音：X级进到Y，Y跳进到Z，称Y为级进跳出的助音。如“\\(341\\)”中\\(4\\)为级进跳出的助音。 环绕助音：上助音与下助音同时出现时对其的统称。如“”中\\(6\\)为上助音，\\(4\\)为下助音，同时出现时都可称为环绕助音。 辅助音、跳进级出的助音、级进跳出的助音、环绕助音统称为助音。经过音和助音都需要处在弱拍或弱节奏位，否则不能称为经过音或助音。 波音 弹奏某音较短时间后迅速弹奏该音的临近音（忽略升降号）较短时间，然后恢复弹奏原音。形成波动感，称为波音。 名称 符号与效果 上波音 下波音 复上波音 复下波音 回音 由四个音或五个音组成的一种旋律型。四个音的顺回音由上助音开始，然后依次为主音、下助音，最后回到主音。四个音的逆回音由下助音开始，然后依次为主音、上助音，最后回到主音。在四个音的回音前加一个主音便是五个音的回音。 在回音符号上侧添加变音记号，表示回音上助音为升/降音，下侧（下助音）同理。 颤音 由主音与其上助音快速交替而成，交替的频率由演奏者自行把握，总时长足够即可。 在颤音符号上侧添加变音记号，表示颤音上助音为升/降音。 倚音 倚音在简谱中通常指短倚音，在某个音的前/后插入时长很短（可忽略不计）的音称为短倚音。按照插入在音前还是音后可分为前倚音和后倚音。如果插入的音包含多个音符，则可称为复倚音。 某个音的后倚音可以看做其后一个音的前倚音。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记03-节奏","slug":"音乐/乐理/乐理笔记03-节奏","date":"2023-06-26T08:09:17.000Z","updated":"2024-01-25T05:20:21.031Z","comments":true,"path":"音乐/乐理/乐理笔记03-节奏/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B003-%E8%8A%82%E5%A5%8F/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 60-84节 基本节奏型 对四分音符进行拆分，可以得到不同的节奏型，一共有九种。 四分节奏 最简单的拆分方式就是不拆分，称为四分节奏型。 八分节奏 把四分音符拆成两个八分音符。 【例】 十六分节奏 把四分音符拆成四个八分音符。 【例】 前八后十六节奏 把四分音符拆成一个八分音符（在前）与两个十六分音符（在后）。 前十六后八节奏 把四分音符拆成一个八分音符（在后）与两个十六分音符（在前）。 【例】 前八分附点节奏 把四分音符拆成一个附点八分音符（在前）与一个十六分音符（在后）。 后八分附点节奏 把四分音符拆成一个附点八分音符（在后）与一个十六分音符（在前）。 【例】 小切分节奏 把四分音符拆成一个八分音符（在中间）与两个十六分音符（在两侧）。 切分改变了音乐中“先强后弱”的强弱关系。中间音符为强音，两侧音符为弱音。 【例】 三连音 把四分音符平分成三分。 三连音的总拍数代表其下方常规音符拍数的两倍，简称“三代二”。因此四分音符时长的三连音用八分音符作为常规音符表示。 【例】 节奏型的变体 大附点及其变体 将两个四分音符拆成一个附点四分音符与一个八分音符，称为大附点。时长为附点节奏的两倍。 大附点节奏的一种变体形式是将八分音符替换为两个十六分音符。附点四分音符不能变动。 【例】 大切分及其变体 将两个四分音符拆成一个四分音符（在中间）与两个八分音符（在两侧），称为切分。时长为小切分节奏的两倍。 大切分节奏的变体可以将两侧的八分音符替换为十六分音符。中间的四分音符不能变动。 【例】 三连音的变体 三连音的总拍数代表其下方常规音符拍数的两倍，简称“三代二”。四分音符（一拍）时长的三连音用八分音符作为常规音符表示。同理，两拍时长的三连音用四分音符作为常规音符表示，四拍时长的三连音用二分音符作为常规音符表示，半拍时长的三连音用十六分音符作为常规音符表示。 三连音下方部分（或全部）常规音符也可以在不改变总时长的前提下用其他常规音符代替，较复杂且不常见，不再过多叙述，感兴趣者可以参考这个视频。 【零基础学音乐·自学乐理】71-打拍子（12）-三连音的变体 基本节奏型的首位休止 指基本节奏型的第一个音符用休止符替代。 【例】 反拍节奏 指强拍强位被休止的节奏形态。八分节奏的首位休止是典型的反拍节奏之一。 其律动与常规节奏相反，有较强的动感，常用于R&amp;B、雷鬼等风格音乐。 “弱起节奏”与“连续切分节奏”也是反拍节奏的重要形态。 【例】 弱起节奏 指从弱拍开始的节奏，可从一小节的任意一个弱拍开始。可分为正拍弱起与反拍弱起两种。 【例1-正拍弱起】 【例2-反拍弱起】 参考资料 三分钟音乐社 基础乐理(流行音乐学院系列教材)","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记02-简谱","slug":"音乐/乐理/乐理笔记02-简谱","date":"2023-06-23T16:00:00.000Z","updated":"2024-01-25T05:20:21.031Z","comments":true,"path":"音乐/乐理/乐理笔记02-简谱/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B002-%E7%AE%80%E8%B0%B1/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 39-59节 简谱 调号 见乐理笔记01-基础知识 拍号 拍号的表示方式为\\(\\frac X Y\\)，读作YX拍，意思是以Y分音符的时长为一拍，每小节有X拍。 最常见的拍号是44拍，即以4分音符的时长为一拍，每小节有4拍。此外可以见到的拍号有42拍、43拍、83拍、86拍，其他拍号极其罕见。 拍号的强弱关系 无论什么拍号，每小节第一拍均为强拍，且每小节只有这一个强拍。 强拍的音量不一定响，弱拍的音量不一定弱。 旋律中的长音符，稳定音，通常处于强拍；短音符，不稳定音，通常处于弱拍。 和声通常要在强拍进行变化，弱拍进行保持。 不同的强弱关系还影响旋律的动机，织体的写法，配器的选择，速度的选择等等。 单拍子 每小节只有一个强拍，并且存在弱拍。 42拍——动次；43拍——动次次；83拍——动次次。 复拍子 由相同的单拍子组合而成。 44拍——动次打次；86拍——动次次打次次。 44拍由两个42拍组合而成，由多个拍号组合而成的拍号，每小节第一个拍子之外的强拍均要变成次强拍。因此这里的第二个42拍的强拍变成了次强拍，其强度弱于强拍。86拍同理，第二个83拍的强拍也变成了次强拍。 混合拍子 由不同的单拍子组合而成。 45拍——动次打次次（或动次次打次）。 45拍的组合顺序有两种：“42拍+43拍”或“43拍+42拍”，因此次强拍的位置有两种可能。 一拍子 每小节只有一拍，且这一拍是强拍。即拍号的分子是1被称为一拍子。 同理，拍号分子为X被称为X拍子。如43拍、83拍可称为三拍子。 散拍子 符号为“艹”。散拍子没有固定小节线，没有固定拍数，没有固定强弱关系，一般用于戏曲音乐中。 情绪与速度 情绪即演奏(唱)时的情绪，常见的情绪有欢快地、愉悦地、柔和地、抒情地、激昂地、悲伤地等。 速度即演奏速度，包括具体的速度和抽象的速度两种。 具体的速度指的是BPM(Beats Per Minute)，即每分钟有多少拍。如BPM为120时可表示为“每分钟120拍”或“𝅘𝅥=120”或“120 BPM”。 抽象的速度是词语式的表达，是一个大致范围，有上下浮动的空间。如BPM在60以下称为慢速，60到120称为中速，120到180称为快速，180以上称为急速。 表1 抽象的速度 意大利文 中文 BPM Grave 庄板 约40 Largo 广板 约46 Lento 慢板 约52 Adagio 柔板 约56 Larghetto 小广板 约60 Andante 行板 约66 Andantino 小行板 约69 Moderato 中板 约88 Allegretto 小快板 约108 Allegro 快板 约132 Presto 急板 约184 Prestissimo 最急板 约208 音符 音符时长取决于拍号的分母。以44拍为例，44拍以四分音符的时长为1拍。那么对应二分音符的时长是2拍，全音符时长为4拍。 附点音符时长为原音符的1.5倍。 复附点音符，两个附点的时长为原音符的1.75倍，三个附点的时长为原音符的1.875倍，以此类推。 表2 音符及其时长(以44拍为例) 名称 记法 时长 全音符 \\(1---\\) 四拍 █ █ █ █ 附点二分音符 \\(1--\\) 三拍 █ █ █ 二分音符 \\(1-\\) 二拍 █ █ 附点四分音符 一点五拍 █ ▌ 四分音符 \\(1\\) 一拍 █ 附点八分音符 四分之三拍 ▌▎ 八分音符 半拍 ▌ 附点十六分音符 八分之三拍 ▎▏ 十六分音符 四分之一拍 ▎ 附点三十二分音符 十六分之三拍 ▏| 三十二分音符 八分之一拍 ▏ 小节 小节使用小节线“|”隔开，小节的时长取决于拍号。以44拍为例，四分音符为一拍，每小节四拍，那么每个小节的时长为四个四分音符的长度，即一个全音符长度。 小节序号 用来标明是第几个小节，最主要的作用是方便查找。小节序号通常标在小节线的正上方或稍微偏右。 弱起小节 不从强拍开始的不完整的小节，常用在乐曲开头。 小节序号从第一个完整小节开始计算，因此弱起小节不是乐曲的第一个小节。 终止线 终止线为“𝄂”，意味着乐谱的终止。 延音线 延音线可以用于表示一个时长无法通过音符或附点音符表示的音。亦用于某个音跨越小节线的情况。 如要表示一个时长为1.25拍的音，可以用延音线表示为，即四分音符与十六分音符的组合，加起来的时长为1.25拍。这里只有第一个音符发出声音，第二个音符不重新发音，仅为前面的音补充时长。 延音线的两个音必须为同一个音。 连线 乐谱中需要连贯演奏(唱)的地方使用连线进行连接，某一个字对应几个音时也会使用连线连接。 连线的画法与延音线相同，但通常情况下会连几个不同的音。 举一个例子。这里最外侧从第一个音连至最后一个音的线为连线。内侧连接同一个音的线为延音线。 休止符 表示停顿，符号为0，停顿时长与音符时长的表示方法类似。 音符下方横线 通常情况下将处于同一拍的音符下方的横线连接起来，方便计算拍数。如，这里连起来的部分的拍数之和都是一拍。 断开的部分不存在停顿，横线的断开与小节线的分割均不表示停顿，都需要连续演奏。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"作曲研究-序言","slug":"音乐/作曲研究-序言","date":"2023-06-22T16:00:00.000Z","updated":"2024-01-25T05:22:33.461Z","comments":true,"path":"音乐/作曲研究-序言/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%BD%9C%E6%9B%B2%E7%A0%94%E7%A9%B6-%E5%BA%8F%E8%A8%80/","excerpt":"","text":"前言 个人的音乐制作研究笔记，包括乐理笔记与Fl Studio作曲笔记。参考了网上的一些公开的视频、文档等资源，将其整理为笔记形式方便查看。我就做了一个整理工作，至于参考的部分其版权自然属于原作者。 出于兴趣爱好整理该笔记，肯定不严谨，若有问题敬请指正。 软件准备 Fl Studio——专业的音乐制作软件，又称宿主软件(DAW) LMMS——开源且免费的音乐制作软件 MuseScore——免费乐谱制作软件 番茄简谱——免费简谱制作软件 硬件准备 电脑——能用就行 耳机——听个响就行 麦克风——如果需要录制声音的话 目录 乐理笔记 内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 乐理笔记01-基础知识 乐理笔记02-简谱 乐理笔记03-节奏 乐理笔记04-乐谱记号 乐理笔记05-五线谱 乐理笔记06-音程 乐理笔记07-和弦 乐理笔记08-调式（敬请期待） Fl Studio作曲笔记 To Be Countinued未完待续...... 参考资料 三分钟音乐社 从零开始学音乐 by-光能丰 FL Studio学院 LMMS Musescore作谱 番茄简谱","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记01-基础知识","slug":"音乐/乐理/乐理笔记01-基础知识","date":"2023-06-22T16:00:00.000Z","updated":"2024-01-25T05:20:21.031Z","comments":true,"path":"音乐/乐理/乐理笔记01-基础知识/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B001-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 1-38节 基础知识 乐音与噪音 乐音：音高（频率）固定，振动规则的音。钢琴等乐器发出的是乐音，听起来悦耳、柔和。 噪音：振动不规则，音高也不明显的音。风声、雨声、机器轰鸣声是噪音，大多数打击乐器（鼓、镲、沙锤等）发出的是噪音，听起来刺耳。 音的物理性质 音高：指音调的高低。由音的频率决定，频率是发音体在单位时间内的振动次数。 音值：指音的持续时间。 音强：指音的响度。由发音体的振幅大小决定。 音色：指不同声音表现在波形方面的与众不同的特性。音色与发音体的材料、结构等有关。 唱名 用来唱的名字，也就是do,re,mi,fa,sol,la,si。在简谱上对应1,2,3,4,5,6,7。 音名 即声音的名字，声音是物体振动产生的，不同的声音会有不同的振动频率，而同一个声音的振动频率是固定的。因此同一个音名的频率不会改变，永远对应同一个音。 钢琴键与音名 钢琴一共有88个键（因此钢琴有时被戏称为88k音游）。按键的分布有周期性的规律，可以划分为若干组，取出其中一组如下图所示，一共有12个键，包括7个白键和5个黑键。7个白键的音名就分别为C,D,E,F,G,A,B。 图1 钢琴键与音名 调号 唱名对应的音名不是固定的，同一个唱名不一定对应同一个音名。唱名与音名的对应关系取决于调号。 调号的格式为“唱名=音名”，简谱采用首调唱名法，如1=C表示的是C大调，即唱名do对应音名C，以此类推唱名re,mi,fa,sol,la,si分别对应音名D,E,F,G,A,B。而1=D则表示是D大调，此时唱名do对应音名D。 首调与固定调 首调唱名法：将大调中的主音唱为do，如C大调中将C唱为do，D大调中就将D唱为do。简谱通常使用首调。 固定调唱名法：在任何调式中，都将C4（中央C）唱为do，其他音以此类推。五线谱通常使用固定调。 半音与全音 观察图1所示的一组钢琴键，不难发现C到D、D到E、F到G、G到A、A到B间都有黑键，而E到F间与B到C间没有黑键。也就是说E到F与B到C是直接相邻的，便可以称E到F、B到C间的音高距离为一个半音。 半音指的是相邻的两个音间的距离，而全音距离是半音的两倍。C到D、D到E、F到G、G到A、A到B间的音高距离为一个全音。 C到♯C、♯C到D的距离是一个半音。 升降号 ♯为升号，表示升一个半音；♭为降号，表示降一个半音。 𝄪为重升号，表示升一个全音；𝄫为重降号，表示降一个全音。 图2 钢琴键与带升降号音名 加上升降符号后的一组钢琴键如上图所示，可以发现同一个键可以用不同的音名表示出来，而实际上这些音是同一个音，只是写法不同，这些对应同一个音的不同音名被称作等音。至于使用哪个音名，这取决于所处的音乐语境。 音的分组 对完整的88键钢琴进行分组，共分为9组，如下图所示： 图3 钢琴键的分组 霍尔赫姆兹音调记号法 命名分大字组、小字组、大字N组与小字N组。 大字组/大字N组的音名大写，小字组/小字N组的音名小写； 大字N组音名右下角写N，小子N组音名右上角写N。 科学音调记号法 将9个组从左至右命名为0到8。直接记为“大写音名+数字”的形式。 例如小字一组的C可以按霍法记为\\(c^1\\)，也可按科法记为C4。 中央C与标准音 小字一组的C（即C4）被称作中央C。 小字一组的A（即A4）被称作标准音，其频率确定为440Hz。 音域 乐器能够发出的声音范围，对于钢琴来说是\\(A_2\\)到\\(c^5\\)。 人声的音域通常情况下为\\(g\\)到\\(d^2\\)，正好覆盖小字一组，因此对于简谱中的“1=C”，其中的C对应钢琴中小字一组的C（中央C）。 高音点与低音点 1=C时，以小字一组为基准，小字一组的CDEFGAB对应简谱1234567。小字二组对应简谱加一个高音点，即\\(\\dot 1\\dot 2\\dot 3\\dot 4\\dot 5\\dot 6\\dot 7\\)，小字三组对应简谱则加两个高音点，以此类推。大字组对应简谱加一个低音点，即，大字一组对应简谱则加两个低音点，以此类推。 纯八度 纯八度是音程的一种，指相邻音组中相同音名的两个音之间的音高距离。纯八度的两个音（如C3与C4），其频率比正好为1:2。当两个音的振动频率比接近简单整数时，两个音听起来会很相近，很协和，感觉像同一个音。 调式 若干高低不同的乐音，围绕某一有稳定感的中心音，按一定的音程关系组织在一起，成为一个有机的体系，称为调式。 调式有很多种，包括大调式、小调式、中古调式、五声调式等。 自然大调是大调式的一种，当七个音按照“全全半全全全半”的规则排列时，构成的是自然大调。 简谱中“1=C”表示的是C大调，CDEFGAB间的音高距离符合“全全半全全全半”的规则，是自然大调的一种。此外有D大调、E大调等。 音阶 将调式中的所有音，以主音开始到主音结束，由低到高或由高到低以阶梯状排列起来，被称作音阶。 如C大调的音阶就可以表示为“CDEFGABC”，这里最后面的C比最前面的C高了一个八度。此外“CBAGFEDC”、“CDEFGABCBAGFEDC”、“CBAGFEDCDEFGAB”也可称作C大调的音阶。 表1 自然大调音阶一览表 1=C C D E F G A B C 1=♯C(第一个黑键) ♯C ♯D ♯E ♯F ♯G ♯A ♯B ♯C 1=♭D(第一个黑键) ♭D ♭E F ♭G ♭A ♭B C ♭D 1=D D E ♯F G A B ♯C D 1=♭E(第二个黑键) ♭E F G ♭A ♭B C D ♭E 1=E E ♯F ♯G A B ♯C ♯D E 1=F F G A ♭B C D E F 1=♯F(第三个黑键) ♯F ♯G ♯A B ♯C ♯D ♯E ♯F 1=♭G(第三个黑键) ♭G ♭A ♭B ♭C ♭D ♭E F ♭G 1=G G A B C D E ♯F G 1=♭A(第四个黑键) ♭A ♭B C ♭D ♭E F G ♭A 1=A A B ♯C D E ♯F ♯G A 1=♭B(第五个黑键) ♭B C D ♭E F G A ♭B 1=B(第七个白键) B ♯C ♯D E ♯F ♯G ♯A B 1=♭C(第七个白键) ♭C ♭D ♭E ♭F ♭G ♭A ♭B ♭C 自然大调的所有音阶如上表所示，一共有十五个大调，对应十二个音。其中第一个黑键上的“1=♯C”与“1=♭D”、第一个黑键上的“1=♯F”与“1=♭G”、第七个白键上的“1=B”与“1=♭C”是等音调，调式中的所有音完全相同，只是音名不同。 为了方便起见，大调中的音名最好不要含有重升重降符号，第二个黑键上的“1=♯D”、第四个黑键上的“1=♯G”、第五个黑键上的“1=♯A”其大调内音名含有重升符号，不符合方便的原则，因此没有列在上表中。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"参赛经历——2020年TI杯辽宁省大学生电子设计竞赛","slug":"日记/参赛经历——2020年TI杯辽宁省大学生电子设计竞赛","date":"2023-05-29T08:58:00.000Z","updated":"2024-01-25T05:20:20.908Z","comments":true,"path":"日记/参赛经历——2020年TI杯辽宁省大学生电子设计竞赛/","link":"","permalink":"https://renahah.github.io/%E6%97%A5%E8%AE%B0/%E5%8F%82%E8%B5%9B%E7%BB%8F%E5%8E%86%E2%80%94%E2%80%942020%E5%B9%B4TI%E6%9D%AF%E8%BE%BD%E5%AE%81%E7%9C%81%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%94%B5%E5%AD%90%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9B/","excerpt":"前言 2020年10月10日至10月13日，我与人组队参加了TI杯辽宁省大学生电子设计竞赛，所选题目为G题——非接触物体尺寸形态测量。在这次竞赛中我主要负责程序相关工作，其中涉及到STM32单片机、OPENMV图像识别模块、激光测距模块、串口屏上位机开发等诸多方面的知识，积累了相当多的经验。经过一个月的前期准备与四天三夜的刻苦奋斗，最终取得了省二等奖的优异成绩。 整理这个笔记，也是对竞赛做一个全面回顾，总结竞赛过程中遇到的困难与解决问题的方法，列举相关参考资料，为今后的读研与工作提供一些参考。","text":"前言 2020年10月10日至10月13日，我与人组队参加了TI杯辽宁省大学生电子设计竞赛，所选题目为G题——非接触物体尺寸形态测量。在这次竞赛中我主要负责程序相关工作，其中涉及到STM32单片机、OPENMV图像识别模块、激光测距模块、串口屏上位机开发等诸多方面的知识，积累了相当多的经验。经过一个月的前期准备与四天三夜的刻苦奋斗，最终取得了省二等奖的优异成绩。 整理这个笔记，也是对竞赛做一个全面回顾，总结竞赛过程中遇到的困难与解决问题的方法，列举相关参考资料，为今后的读研与工作提供一些参考。 题目要求 设计并制作一个非接触式物体形状和尺寸自动测量装置，测量被测目标的形状、 尺寸、 测量头中心点与被测目标之间的距离等参数，并用激光束指示出被测目标的中心位置。 图1 题目要求 硬件与软件准备 STM32单片机 STM32是高性能，低成本，低功耗的嵌入式微控制器。本次竞赛采用的STM32F103ZET6型号单片机，作为整个测量系统的控制中心使用，实现程序的整体流程控制，对二维云台的舵机PWM控制，以及与OPENMV图像识别模块、激光测距模块、串口屏的信息交换处理。 所用IDE为Keil μVision V5.21.1.0 STM32的学习资料可以在此下载 正点原子资料下载中心 OPENMV视觉模块 OpenMV是一款低价，可扩展的机器视觉模块。本次竞赛采用OPENMV2-M3摄像头，该模块采用STM32F427VG微处理器与OV7725感光元件。可以通过编写简单的Python语言脚本，实现数据采集和图像处理。在本次竞赛中用于识别区域内色块，进行相应处理实现形状识别功能。 OPENMV参考资料： OPENMV中文入门教程 OpenMV Cam快速参考 使用与之配套的OPENMV IDE进行程序开发。 USART HMI串口屏 USART HMI串口屏是一款编程简单，易于调试的可触摸显示模块。可以通过图形化软件快速制作显示界面。在本次竞赛中用于显示测距与形状识别结果信息，同时为形状识别提供测量启动按键。本次竞赛使用中景园2.8寸TFT LCD串口屏。 USART HMI参考资料： USART HMI入门教程 使用与之配套的USART HMI IDE进行程序开发。 激光测距模块 本次竞赛采用摩天MyAntenn-L1型号激光测距模块。与超声波测距模块相比，激光测距模块可以更为灵敏，精确度高，且可以满足用激光束指示出被测目标的中心位置之要求。 二维云台 二维云台有两个自由度，通过控制两个舵机的角度即可实现任意对任意方向的瞄准。本次竞赛将OPENMV视觉模块与激光测距模块安装在二维云台上，通过回传的图像确定下一时刻舵机的移动方向，做一个简单的闭环控制，最后使激光测距模块指向待测图形的中心。 蜂鸣器/LED指示灯 作为单片机启动，串口屏按键以及测量结束的提示信号。 硬件设计 稳压电路 采用LM2596S-ADJ来实现12V到6.5V（云台供电）的稳压和5V的稳压。LM2596S-ADJ是德州仪器（TI）生产的3A电流输出降压开关型集成稳压芯片，它内含固定频率振荡器（150KHZ）和基准稳压器（1.23v），并具有完善的保护电路、电流限制、热关断电路等功能，使它的性能很稳定。利用该器件只需极少的外围器件便可构成高效稳压电路。所以，LM2596S-ADJ稳压芯片十分适合系统的稳压电路设计。 图2 稳压电路 电路接线图 图3 电路接线图 系统实物图 图4 系统实物图 STM32F103ZET6与其他器件的连接 串口屏—USART1—PA9(TX),PA10(RX) 激光测距模块—USART2—PA2(TX),PA3(RX) OPENMV视觉模块—USART3—PB10(TX),PB11(RX) 舵机PWM—TIM3—PA6(CH1),PA7(CH2) 蜂鸣器与指示灯—PE14,PE15 软件设计 STM32程序总流程图 图5 STM32程序总流程图 OPENMV视觉模块 OPENMV程序总流程图 图6 OPENMV程序总流程图 OPENMV程序总流程图如上图所示，测量分为“普通测量”与“追踪测量”两种。 普通测量模式下，激光测距模块已事先对准待测图形中心，可以直接调用OPENMV内置库函数识别特定色块，读取色块的各项信息，以此可以判断出待测图形的形状。将图形形状等信息以串口信号形式发送至单片机，结合单片机接收到的来自激光测距模块的距离信息。即可根据相似三角形原理计算出图形的尺寸（正方形或三角形的边长、圆的直径）。为提高测量精确度，这里采取了多次读取求平均值的方法。 追踪测量模式下，激光测距模块未对准待测图形中心，如果摄像头没有观察到待测图形色块，则向单片机发送“移动”信号，控制舵机按照设定好的方式来回运动（从左到右，从上到下，覆盖可能找到色块的所有方向）；摄像头观察到色块后，向单片机发送“对准”信号，通过一个简单的闭环控制使激光测距模块对准色块中心（设定值为摄像头视野中心坐标，实际值为色块在摄像头视野中的坐标，被控量为两个舵机的PWM值）。完成对准后所执行程序同普通测量模式。 非接触式物体尺寸测量原理 图7 相似三角形法测量图形尺寸 本次竞赛的物体尺寸测量基于相似三角形原理，公式如下所示： \\[\\frac{L} {x} = \\frac{ {L&#39;} } {f}\\] 首先进行一次测试以求出摄像头焦距\\(f\\)，可以将某已知边长\\(L\\)的物体放置在摄像头前已知距离\\(x\\)的位置，使用测试程序测量像素点的长度\\(L&#39;\\)，便可用上式求出摄像头焦距\\(f\\)，该值为固定值，一旦确定便不会改变。 普通测量或追踪测量模式下，通过来自激光测距模块的距离\\(x\\)，与来自OpenMV摄像头模块的像素点长度\\(L’\\)，以及固定的摄像头焦距\\(f\\)，便可以求出待测物体的长度\\(L\\)。 形状识别原理 图8 形状识别原理 本次竞赛待测形状有正方形、圆形与正三角形，如上图所示。 调用OPENMV摄像头模块的库函数img.find_blobs可以识别摄像头内所有符合要求的色块blobs。使用自定义的函数find_max(blobs)筛选出最大的色块max_blob，一般情况下是待测色块。 调用库函数img.draw_rectangle(max_blob.rect())可为待测色块绘制一个矩形将其包住，如上图所示。 可以获取到待测色块矩形的像素点长与宽，两者乘积即为矩形像素点面积\\(S_{square}\\)。此外还可以通过max_blob.pixels()得到色块像素点面积\\(S_{blob}\\)（即图中蓝色区域面积）。 设二者比值\\(\\frac{S_{blob}}{S_{square}} = k\\)，则可根据\\(k\\)值区分不同的形状，由上图可知正方形\\(k = 1\\)，圆形\\(k = \\frac{\\pi }{4} \\approx 0.785\\)，正三角形\\(k = 0.5\\)。 结合实际情况，当\\(k \\geqslant 0.9\\)时，判断图形为正方形；当\\(k \\leqslant 0.6\\)时，判断图形为三角形；其余情况为圆形。 USART HMI串口屏 图9 串口屏主界面 串口屏使用USART HMI配套IDE进行图形界面的编辑与程序烧录。本次竞赛所用串口屏主界面如上图所示。按下“普通测量”或“追踪测量”键后，串口屏将向STM32单片机发送不同的串口信号。STM32接到信号后向OPENMV视觉模块发送串口信号，蜂鸣器鸣响提示，OPENMV根据不同的信号按照图5所示程序流程进行测量。 至于立体测量，竞赛时间有限没做出来。 激光测距模块 STM32单片机与激光测距模块的通信通过单片机的串口USART2实现，设置波特率为38400。 根据摩天MyAntenn-L1型号激光测距模块参考手册，结合实际情况使用快速测距模式。 在STM32主函数写下代码printf(\"iFACM\");便可启用快速测距模式。 注意这里需要对printf函数进行重定义，重定义代码位于usart.c文件下，具体如下： (这里将原有例程中的USART1改成了USART2。这样才能用printf通过USART2发送字符串信号。) 1234567891011121314151617181920212223#if 1#pragma import(__use_no_semihosting) //标准库需要的支持函数 struct __FILE &#123; int handle; &#125;; FILE __stdout; //定义_sys_exit()以避免使用半主机模式 _sys_exit(int x) &#123; x = x; &#125; //重定义fputc函数 int fputc(int ch, FILE *f)&#123; while((USART2-&gt;SR&amp;0X40)==0);//循环发送,直到发送完毕 USART2-&gt;DR = (u8) ch; return ch;&#125;#endif USART2串口中断函数如下所示，通常串口接收到的数据以0x0d,0x0c结尾。 123456789101112131415161718void USART2_IRQHandler(void) //串口2中断服务程序&#123; u8 Res; if(USART_GetITStatus(USART2, USART_IT_RXNE) != RESET) //接收中断 &#123; Res = USART_ReceiveData(USART2); //读取接收到的数据 if(Res!=0x0d&amp;&amp;Res!=0x0a) &#123; USART_RX_BUF2[USART_RX_STA2] = Res ;//USART_RX_BUF2 USART_RX_STA2++; &#125; else &#123; USART_RX_STA2 = 0; Distance_cal(); &#125; &#125;&#125; 激光测距模块距离处理函数如下： 1234567891011void Distance_cal(void)//数据处理&#123; if(USART_RX_BUF2[0]==&#x27;D&#x27;&amp;&amp;USART_RX_BUF2[3]==&#x27;.&#x27;) &#123; dis=(USART_RX_BUF2[2]-48)*1000+(USART_RX_BUF2[4]-48)*100+(USART_RX_BUF2[5]-48)*10+(USART_RX_BUF2[6]-48); &#125; else if(USART_RX_BUF2[0]==&#x27;D&#x27;&amp;&amp;USART_RX_BUF2[4]==&#x27;.&#x27;) &#123; dis=(USART_RX_BUF2[2]-48)*10000+(USART_RX_BUF2[3]-48)*1000+(USART_RX_BUF2[5]-48)*100+(USART_RX_BUF2[6]-48)*10; &#125;&#125; 在快速测距模式下，数据格式为D=1.234m或D=12.34m。 注意串口输出的数字为'0'到'9'的ASCII码，需要减去'0'的ASCII码，即48。 二维云台 二维云台的两个舵机采用PWM控制，分别使用定时器TIM3的CH1与CH2通道。 TIM1为20ms的定时器中断，根据外部状态（识别色块过程中的二维云台“移动”或“对准”状态）每隔20ms对舵机PWM值进行更新。 通过来自OPENMV摄像头的信息判断二维云台的工作状态。摄像头未识别到色块时，二维云台处于“移动”状态，舵机按照设定好的方式来回运动，搜寻目标色块；摄像头识别到色块后，二维云台处于“对准”状态，通过一个简单的闭环控制使激光测距模块对准色块中心，以便接下来的测量。 二维云台移动对准色块效果 蜂鸣器/LED指示灯 使用TIM1定时器中断，根据外部状态（串口屏是否有按键按下，是否完成测量）每隔20ms对蜂鸣器与LED指示灯状态进行更新。 后续与总结 这次竞赛基本上发挥了自己本科阶段在单片机电子方面的全部实力，最后做出来的东西也实现了测距、判断物体形状与尺寸的基本功能。当然软件上还有一些bug，不过将将能用。 记得竞赛结束前大概两个小时，我一时手贱改了改程序还不备份，结果整个系统全不能用了，全都不好使了。当时心态彻底炸了，因为其实不改也行。还好使用Ctrl+Z大法把程序恢复到了修改前的状态，在竞赛结束前一小时一切恢复正常。这里特地感谢帮我稳住心态，提供安慰的队友。接下来仓促地写了写设计报告，随后封箱等待测评。 测评是在竞赛结束两周后，鬼知道这两周时间会发生什么，设备还好不好用。不过还好一切正常，最终拿了省二等奖（这次电赛我们学校成绩不咋好，二十五个队伍就拿了两个二等奖和三个三等奖）。 参加电赛的那个学期，基本上算是我大学阶段的高光时刻了，除了电赛还拿了其他几个比赛的奖，当然这里也有取舍，有一些比赛我就放弃了。随后就是下坡路了，考研一战寄了，二战将将考上本校，二战复试结束后暂时也没什么事，所以就搭建了这个博客。 既然已经到谷底了，就该触底反弹了，虽然接下来会遇到新的挑战，落入新的谷底，但是干就完了！任何时刻都不轻言放弃。","categories":[{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"竞赛","slug":"竞赛","permalink":"https://renahah.github.io/tags/%E7%AB%9E%E8%B5%9B/"},{"name":"单片机","slug":"单片机","permalink":"https://renahah.github.io/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"},{"name":"OPENMV","slug":"OPENMV","permalink":"https://renahah.github.io/tags/OPENMV/"}]},{"title":"自制网易云音乐淘歌软件","slug":"日记/自制网易云音乐淘歌软件","date":"2023-05-27T16:00:00.000Z","updated":"2024-01-25T05:20:20.918Z","comments":true,"path":"日记/自制网易云音乐淘歌软件/","link":"","permalink":"https://renahah.github.io/%E6%97%A5%E8%AE%B0/%E8%87%AA%E5%88%B6%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%B7%98%E6%AD%8C%E8%BD%AF%E4%BB%B6/","excerpt":"","text":"前言 本人是网易云音乐听歌量30000+用户，主要听电子音乐，其他类型音乐亦有涉及。随着听歌量的增长，就会越来越发现一个问题，就是有大量的优质冷门音乐无人问津。对于多数普通用户而言，所听音乐以评论数999+甚至1w+的热门歌曲为主。但实际上，999+评论的音乐只是网易云庞大曲库的冰山一角，冰山以下蕴含丰富的宝藏。 本人开发的这个程序，试图用最原始的方法——按歌曲专辑id序号顺序逐一展示与挑选音乐。 本软件采用Python爬虫技术，逐一爬取规定范围内的各专辑ID的网址和名称，并将其所得数据整理到HTML文件中，方便挑选音乐。 目前程序仍处于开发阶段，存在诸多待改善之处。最重要的是本人非计算机专业，许多技术还不会，纯粹出于爱好查阅相关资料，最终整合出了这样一个刚好能用的答辩，所以大佬轻喷、轻喷、轻喷啊！ 整理这个笔记，也是对开发软件的步骤与技术细节进行一个全面的回顾，列举相关参考资料，为进一步的开发提供便利。 为什么是网易云音乐——目前只有网易云的链接仍然包含数字id，其他平台全用上了乱码，根本无法按顺序检索。 为什么是专辑id——目前网易云音乐的绝大多数歌曲都对应着一个专辑，而一个专辑对应一个或多个单曲，因此检索专辑的效率更高。除专辑id外，本软件亦支持单曲、歌单、用户、歌手、电台、节目、视频、话题的id检索，可以在操作界面中选择。 工具准备 IDE 目前使用的是Visual Studio 2019（当然也可以使用PyCharm）。 Python Python是一种解释型、面向对象、动态数据类型的高级程序设计语言。本软件使用3.7版本进行开发。 Python3.7中文文档 Python下载地址 菜鸟教程——Python安装教程 安装完成后，在运行的CMD界面中进入Python安装文件夹，输入python -V，出现有版本号则说明Python已经安装到电脑上。 输入cd scripts，则会进入Python的库文件夹，输入pip install xxx==x.x.x即可下载指定版本的插件。 Selenium+PhantomJS PhantomJS是一个自带JavaScript API的无头WebKit脚本，即无头浏览器（不展示图形界面）。 PhantomJS下载与安装——中文文档 Selenium+PhantomJS使用 by-qq_38767359 Selenium+PhantomJS使用详解 by-尘世gu行 Selenium是一个Web的自动化测试工具，它可以模拟人类浏览网页时的各种操作，它是一个python库。新版本的selenium已经不在支持PhantomJS，因此需要安装旧版本的selenium。 pip install selenium==2.48.0 Selenium+PhantomJS共同构成所谓的“爬虫”，用于爬取网页上的各类数据。 BeautifulSoup Beautiful Soup是一个可以从HTML或XML文件中提取数据的Python库。可以按照一定的规则处理所得的网页源代码，提取想要的数据。本程序中用于提取网页源代码中的专辑名称与专辑图片链接。 pip install beautifulsoup4 还需要搭配第三方解析器lxml pip install lxml Beautiful Soup 4.4.0 文档 爬虫知识——第三方库Beautiful Soup4 使用总结 by-fengzhen8023 PyQt5 pyqt5中文教程 Python Qt教程 by-白月黑羽 PyQt5是最强大的GUI库之一。本程序使用PyQt5制作一个图形化的界面，使淘歌操作更为方便。 pip install pyqt5-tools Qt Designer是一个QT界面生成器，其位置为Python\\Lib\\site-packages\\qt5_applications\\Qt\\bin PyInstaller PyInstaller用于将Python代码编译为可执行文件 pip install pyinstaller pyinstaller -D -w 入口程序路径\\入口程序.py --distpath=目标路径 生成包含exe的文件夹，并在执行的时候不显示黑框（若-D换为-F，则生成单个exe文件；若去掉-w，程序执行时将显示黑框）。 生成含exe的文件夹后，一定要在该文件夹内添加phantomjs.exe，否则点击'ok'键就会闪退。 程序详解 爬取数据并整理成HTML文件 12345678910111213141516171819202122232425262728293031323334import requestsfrom urllib.request import urlopenfrom selenium import webdriverfrom bs4 import BeautifulSoupi=j=0id=3057200num=200web_or_app=1 #0——网页 1——调用applist_a=[&#x27;album&#x27;,&#x27;song&#x27;,&#x27;playlist&#x27;,&#x27;user&#x27;,&#x27;artist&#x27;,&#x27;djradio&#x27;,&#x27;program&#x27;,&#x27;mv&#x27;,&#x27;activity&#x27;]list_b=[&#x27;专辑&#x27;,&#x27;单曲&#x27;,&#x27;歌单&#x27;,&#x27;用户&#x27;,&#x27;歌手&#x27;,&#x27;电台&#x27;,&#x27;节目&#x27;,&#x27;视频&#x27;,&#x27;话题&#x27;]list_index=0path = &quot;D:/SongPage/&quot;+ list_b[list_index] + str(id) + &quot;~&quot; + str(id+num-1) + &quot;.htm&quot;driver = webdriver.PhantomJS()fp=open(path,&quot;w+&quot;,encoding=&quot;utf-8&quot;)#创建文件fp.write(&quot;&lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=utf-8\\&quot;&gt;\\n&lt;/head&gt;\\n&lt;body&gt;&quot;)for i in range(num): url = &quot;https://music.163.com/#/&quot; + list_a[list_index] + &quot;?id=&quot; + str(id+i) #请求网址 driver.get(url) driver.switch_to.frame(&quot;g_iframe&quot;) html = driver.page_source#网页源码 soup = BeautifulSoup(html, &#x27;lxml&#x27;)#创建Beautifulsoup对象 title=soup.title.string if(title!=&#x27;网易云音乐&#x27;):#无歌曲的情况下，标题为“网易云音乐” pic=soup.select(&#x27;meta[property=&quot;og:image&quot;]&#x27;)[0].attrs[&#x27;content&#x27;] j=j+1 fp.write(&quot;&lt;p&gt;&quot; + str(id+i) + &quot;&lt;/p&gt;&quot;)#专辑网址 fp.write(&quot;&lt;img src=\\&quot;&quot; + pic + &quot;\\&quot;width=\\&quot;120\\&quot; height=\\&quot;120\\&quot;/&gt;&quot;)#专辑图片 if(web_or_app==1):#是否调用软件播放音乐 url = &quot;orpheus://&quot; + list_a[list_index] + &quot;/&quot; + str(id+i) + &quot;?autoplay=1&quot; fp.write(&quot;&lt;a href=\\&quot;&quot; + url + &quot;\\&quot;&gt;&quot; + title + &quot;&lt;/a&gt;&quot;)#专辑标题 print(&quot;已完成&quot; + str(i+1) + &quot;\\t标题:&quot; + str(title))fp.write(&quot;&lt;/body&gt;\\n&lt;/html&gt;&quot;)fp.close() 先编写一个如上所示的相对简单的程序，实现基本功能。其中id是检索起始id，num是检索数量。list_index是检索资源的类型，默认为0（专辑）。使用web_or_app变量指定文件的打开形式，用网页打开或者在app内打开。 使用PyQt5绘制操作界面 打开Qt Designer，设计好图形界面后保存，该文件为.ui格式 使用pyuic5将ui文件转换为py文件 pyuic5 - o 新文件名.py ui文件名.ui PyQt5，Qt Designer，PyUIC，pyrcc5安装与使用 by-开饭了船长 为图形界面添加背景图片，可以参考以下资料，样式表文件为.qrc格式 PyQt5最详细pyrcc5配置+样式使用 by-咸菜萝卜头 使用pyrcc5将qrc文件转换为py文件 pyrcc5 - o 新文件名.py qrc文件名.qrc 经过亿点点修改后的完整代码如下： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788import sysimport requestsfrom urllib.request import urlopenfrom selenium import webdriverfrom bs4 import BeautifulSoupfrom PyQt5 import QtCore, QtGui, QtWidgetsfrom PyQt5.QtCore import QObject, pyqtSignal, QThreadfrom SongWindow import Ui_MainWindowid=num=list_index=web_or_app=0path0=&quot;D:/Code/NCM/SongPage&quot;list_e=[&#x27;album&#x27;,&#x27;song&#x27;,&#x27;playlist&#x27;,&#x27;user&#x27;,&#x27;artist&#x27;,&#x27;djradio&#x27;,&#x27;program&#x27;,&#x27;mv&#x27;,&#x27;activity&#x27;]list_c=[&#x27;专辑&#x27;,&#x27;单曲&#x27;,&#x27;歌单&#x27;,&#x27;用户&#x27;,&#x27;歌手&#x27;,&#x27;电台&#x27;,&#x27;节目&#x27;,&#x27;视频&#x27;,&#x27;话题&#x27;]class GoSearch(QThread):#检索线程 _signal = pyqtSignal(int) _signal2 = pyqtSignal(str) finished = pyqtSignal() def __init__(self): super(GoSearch, self).__init__() def run(self): i=j=percent=0 path = path0 + &quot;/&quot; + list_c[list_index] + str(id) + &quot;~&quot; + str(id+num-1) + &quot;.htm&quot; driver = webdriver.PhantomJS() fp=open(path,&quot;w+&quot;,encoding=&quot;utf-8&quot;) fp.write(&quot;&lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=utf-8\\&quot;&gt;\\n&lt;/head&gt;\\n&lt;body&gt;&quot;) for i in range(num): url = &quot;https://music.163.com/#/&quot; + list_e[list_index] + &quot;?id=&quot; + str(id+i) #请求网址 driver.get(url) driver.switch_to.frame(&quot;g_iframe&quot;) html = driver.page_source#网页源码 soup = BeautifulSoup(html, &#x27;lxml&#x27;)#创建Beautifulsoup对象 title=soup.title.string if(title!=&#x27;网易云音乐&#x27;):#无歌曲的情况下，标题为“网易云音乐” pic=soup.select(&#x27;meta[property=&quot;og:image&quot;]&#x27;)[0].attrs[&#x27;content&#x27;] j=j+1 fp.write(&quot;&lt;p&gt;&quot; + str(id+i) + &quot;&lt;/p&gt;&quot;)#专辑网址 fp.write(&quot;&lt;img src=\\&quot;&quot; + pic + &quot;\\&quot;width=\\&quot;120\\&quot; height=\\&quot;120\\&quot;/&gt;&quot;)#专辑图片 if(web_or_app==1):#是否调用软件播放音乐 url = &quot;orpheus://&quot; + list_e[list_index] + &quot;/&quot; + str(id+i) + &quot;?autoplay=1&quot; fp.write(&quot;&lt;a href=\\&quot;&quot; + url + &quot;\\&quot;&gt;&quot; + title + &quot;&lt;/a&gt;&quot;)#专辑标题 infomation=&quot;已完成:&quot; + str(i+1) + &quot;\\t标题:&quot; + str(title) percent=int((i+1)/num*100) self._signal2.emit(infomation) self._signal.emit(percent) fp.write(&quot;&lt;/body&gt;\\n&lt;/html&gt;&quot;) fp.close() self.finished.emit()#线程结束class mywindow(QtWidgets.QMainWindow,Ui_MainWindow): def __init__(self): super(mywindow,self).__init__() self.setupUi(self) def OK(self):#按下OK键 global id,num,list_index,web_or_app,path0 id=int(self.lineEdit.text()) num=int(self.lineEdit_2.text()) list_index=int(self.comboBox.currentIndex()) web_or_app=int(self.comboBox_2.currentIndex()) path0=self.lineEdit_3.text() self.gosearch = GoSearch() self.test_thread = QThread() self.gosearch.moveToThread(self.test_thread) self.gosearch._signal.connect(self.progressBar.setValue) self.gosearch._signal2.connect(self.plainTextEdit.appendPlainText) self.gosearch.finished.connect(self.gosearch_finished) self.test_thread.started.connect(self.gosearch.run) self.test_thread.start() self.plainTextEdit.appendPlainText(&quot;检索即将开始......&quot;) def gosearch_finished(self): self.test_thread.quit() self.test_thread.wait() self.plainTextEdit.appendPlainText(&quot;检索结束&quot;) def path(self):#设置网页保存位置 path0 = QtWidgets.QFileDialog.getExistingDirectory(self,&quot;浏览&quot;,&quot;D:&quot;) self.lineEdit_3.setText(path0)app = QtWidgets.QApplication(sys.argv)window = mywindow()window.show()sys.exit(app.exec_()) 软件操作界面如下图所示，点击OK键即可开始检索。 图1 软件操作界面 检索完成后，HTML文件可在目标文件夹找到。 展望 目前的问题 这个程序目前就是依托堪堪能用的答辩，还有很多需要改进之处。 需要爬取完毕才能看到输出的页面结果，需要实时爬取实时出结果。（最好可以直接在网页上操作） 目前爬取是单线程的，慢且容易卡死，需要支持多线程。 To Be Countinued未完待续...... 参考资料 RenAhah的网易云音乐用户页 Python爬取网易云音乐辑的图片、专辑名和专辑出版时间 by-哈利波特","categories":[{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"软件开发","slug":"软件开发","permalink":"https://renahah.github.io/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"},{"name":"python","slug":"python","permalink":"https://renahah.github.io/tags/python/"}]},{"title":"电力电子技术02-电力电子器件","slug":"课程笔记/电力电子技术/电力电子技术02-电力电子器件","date":"2023-05-21T07:36:56.000Z","updated":"2024-01-25T05:20:20.928Z","comments":true,"path":"课程笔记/电力电子技术/电力电子技术02-电力电子器件/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF02-%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E5%99%A8%E4%BB%B6/","excerpt":"","text":"《电力电子技术(第五版)》学习笔记 本节内容对应书中第二章 绪论；对应页码p10-p42 电力电子器件概述 电力电子器件的一般特征 处理电功率的大小，即承受电压和电流的能力远大于信息电子器件； 一般工作在开关状态； 需要由信息电子电路来控制； 自身功耗远大于信息电子器件，一般要安装散热器。 电力电子器件损耗包括通态损耗、断态损耗与开关损耗，其中开关损耗包括开通损耗和关断损耗。 电力电子器件的主要损耗为通态损耗，器件开关频率较高时，开关损耗成为主要损耗。 电力电子器件的分类 按照被信号控制的程度分类： 半控型器件——通过控制信号可控制通，不能控制关——晶闸管(Thyristor)及其大部分派生器件 全控型器件——通过控制信号既可控制通又可控制关，又称自关断器件——绝缘栅极双极型晶体管（IGBT）、电力场效应晶体管（Power-MOSFET） 不可控器件——不能用控制信号来控制其通断, 不需要驱动电路——电力二极管(Power Diode) 按照驱动电路信号的性质，可分为电流驱动型和电压驱动型（场效应器件）。 电流驱动型：双极型器件中除SITH外——具有电导调制效应，因而通态压降低，导通损耗小，但工作频率较低，所需驱动功率大,驱动电路较复杂。 电压驱动型：单极型器件和复合型器件，双极型器件中的SITH——输入阻抗高，所需驱动功率小，驱动电路简单，工作频率高。 按照驱动电路信号的波形，可分为脉冲触发型和电平控制型。 按照器件内部电子和空穴两种载流子参与导电的情况，可分为单极型器件、双极型器件、复合型器件。 图0 电力电子器件分类 不可控器件——电力二极管 电力二极管工作原理与信息电子电路中的二极管一致，皆以半导体PN结为基础。 电力二级管于20世纪50年代初开始应用，至今在中、高频整流和逆变场合，仍然不可替代。其主要封装有螺栓型和平板型两种。 图1 电力二极管a) 外形 b) 基本结构 c) 电气符号 电力二极管的基本特性 静态特性（伏安特性） 图2 电力二极管伏安特性 电力二极管承受电压大于一定值（门槛电压\\(U_{TO}\\)）时，正向电流开始明显增加，处于稳定导通状态（正向偏置）。 电力二极管承受反向电压时，只有少子引起的微小而数值恒定的反向漏电流，处于截至状态（反向偏置）。 动态特性（开关特性） 图3 电力二极管关断过程 外加电压突然由正向变为反向时，电力二极管不能立即关断，需要经一短暂时间重获反向阻断能力，进入截至状态。 在关断前有较大反向电流,伴有明显反向电压过冲\\(U_{RP}\\)。 反向恢复时间\\(t_{rr}\\)——\\(t_{rr} = t_d + t_f\\)。其中\\(t_d\\)为延迟时间，\\(t_f\\)为电流下降时间。 恢复系数\\({S_r} = \\frac{t_f} {t_d}\\)，\\(S_r\\)越大则恢复特性越软，反向电流下降时间相对越长，在同样的外电路条件下造成的反向电压\\(U_{RP}\\)过冲较小。 图4 电力二极管开通过程 正向压降先出现一个过冲\\(U_{FP}\\)，经过一段时间才趋于接近稳态压降的某个值。 正向恢复时间为\\(t_{fr}\\)。电流上升率越大，\\(U_{FP}\\)越高。 电力二极管的主要参数 正向平均电流\\({I_{F(AV)} }\\)——在指定的管壳温度\\(T_c\\)和散热条件下，其允许流过的最大工频正弦半波电流的平均值。按照电流的发热效应来定义，使用时应按有效值相等的原则来选取电流定额，并应留有一定的裕量。 正向压降\\(U_F\\)——指定温度下，流过某一指定的稳态正向电流时对应的正向压降。 反向重复峰值电压\\(U_{RRM}\\)——能重复施加的反向最高峰值电压。使用时，应留有两倍裕量（反向最高峰值电压的两倍）。 最高工作结温\\(T_{JM}\\)——在PN结不致损坏的前提下所能承受的最高平均温度，通常在125~175℃范围之内。（结温\\(T_J\\)指PN结的平均温度） 关断过程反向恢复时间\\(t_{rr}\\)——\\(t_{rr} = t_d + t_f\\)。其中\\(t_d\\)为延迟时间，\\(t_f\\)为电流下降时间。 浪涌电流\\(I_{FSM}\\)——指能承受最大的连续一个或几个工频周期的过电流。 电力二极管的主要类型 普通二极管(General Purpose Diode)又称整流二极管(Rectifier Diode)，多用于开关频率不高（1kHz以下）的整流电路中，反向恢复时间较长，正向电流定额和反向电压定额可以达到很高。 快恢复二极管(Fast Recovery Diode,FRD)简称快速二极管，反向恢复过程很短，正向压降很低。分快速恢复和超快速恢复两个等级。 肖特基二极管(Schottky Barrier Diode,SBD)反向恢复时间很短（10~40ns），正向恢复无明显的电压过冲。 反向耐压较低时其正向压降也很小，明显低于快恢复二极管。其开关损耗和正向导通损耗都比快速二极管还小，效率高。其缺点在于：当所能承受的反向耐压提高时其正向压降也会变高以至于不满足要求，因此多用于200V以下的低压场合；反向漏电流较大且对温度敏感，因此反向稳态损耗不能忽略，需严格限制其工作温度。 半控型器件——晶闸管 晶闸管的结构与工作原理 晶体闸流管(Thyristor)，简称晶闸管，又称可控硅整流器(Silicon Controlled Rectifier,SCR)，简称可控硅。 其主要封装有螺栓型和平板型两种。有三个连接端，分别为阳极A、阴极K、门级G（控制端）。 图5 晶闸管a) 外形 b) 基本结构 c) 电气符号 晶闸管可以看作由\\(P_1 N_1 P_2\\)和\\(N_1 P_2 N_2\\)构成的两个晶体管\\(V_1\\)、\\(V_2\\)组合而成。 若外电路向门级注入驱动电流\\(I_G\\)，则\\(I_G\\)流入晶体管\\(V_2\\)的基极，产生集电极电流\\(I_{c2}\\)，它构成晶体管\\(V_1\\)的基极电流，放大成集电极电流\\(I_{c1}\\)，又进一步增大\\(V_2\\)的基极电流，如此形成强烈的正反馈使\\(V_1\\)和\\(V_2\\)进入完全饱和状态，即晶闸管导通。 此时若撤掉门极电流\\(I_G\\)，晶闸管内部由于强烈的正反馈仍能维持导通状态。除非去掉阳极所加的正向电压，或者阳极施加反压，或者设法使流过晶闸管的电流降低到接近于零的某一数值以下，晶闸管才能关断。 因此晶闸管的驱动方式为触发驱动，晶闸管是半控型器件。 图6 晶闸管的双晶体管模型及其工作原理 晶闸管导通条件：晶闸管阳极与阴极间加有正向电压，且在门极施加触发电流 晶闸管关断条件：晶闸管的正向电流小于维持电流，或在晶闸管上加反向电压 晶闸管的基本特性 静态特性 图7 晶闸管静态特性 正向特性（第一象限） \\(I_G = 0\\)时，器件两端加正向电压，有很小的正向漏电流，晶闸管处于正向阻断状态。 正向电压超过正向转折电压\\(U_{bo}\\)时，漏电流急剧增大，器件开通。 门极电流\\(I_G\\)越大，正向转折电压\\(U_{bo}\\)越小。 晶闸管正向导通的管压降很小，1V左右。 导通期间若门极电流为零且阳极电流降低至维持电流\\(I_H\\)以下，晶闸管回到正向阻断状态。 反向特性（第三象限） 阻断状态时，有极小的反向漏电流。 反向击穿后，反向漏电流急剧增大，可能导致晶闸管发热损坏。 动态特性 图8 晶闸管开通与关断过程 开通过程 延迟时间\\(t_d\\)(0.5~1.5μs)——从门极电流阶跃时刻开始，到阳极电流上升至稳态值10%的时间——随门极电流的增大而减小 上升时间\\(t_r\\)(0.5~3μs)——阳极电流从10%上升至90%所需的时间——反应晶闸管本身特性，受到外电路电感严重影响 开通时间\\(t_{gt}=t_d+t_r\\)——提高阳极电压可以增大晶体管\\(V_2\\)的电流增益\\(\\alpha_2\\)，使正反馈过程加速，缩短开通时间 关断过程 反向阻断恢复时间\\(t_{rr}\\)——从正向电流降为零，到反向电流衰减至接近于零的时间。 正向阻断恢复时间\\(t_{gr}\\)——从到反向电流衰减至接近于零，到晶闸管恢复对正向电压的阻断能力的时间。 关断时间\\(t_q=t_{rr}+t_{gr}\\)——普通晶闸管的关断时间约几百微秒。 晶闸管的主要参数 电压定额 断态重复峰值电压\\(U_{DRM}\\)——门极断路而结温额定时，允许重复加在器件上的正向峰值电压。规定\\(U_{DRM}\\)为断态不重复峰值电压\\(U_{DSM}\\)的90%。规定重复频率为50Hz，每次持续时间不超过10ms。 反向重复峰值电压\\(U_{RRM}\\)——门极断路而结温额定时，允许重复加在器件上的反向峰值电压。规定\\(U_{RRM}\\)为反向不重复峰值电压\\(U_{RSM}\\)的90%。\\(U_{RSM}\\)应低于反向击穿电压。 通态（峰值）电压\\(U_{TM}\\)——晶闸管通有某一规定倍数的额定通态平均电流时的瞬态峰值电压。 额定电压——通常取晶闸管的\\(U_{DRM}\\)和\\(U_{RRM}\\)中较小的标值作为额定电压。额定电压要有一定裕量，为正常工作时晶闸管所承受峰值电压的2~3倍。 电流定额 通态平均电流\\(I_{T(AV)}\\)——允许长期流过的最大工频正弦半波电流的平均值。使用时应按有效值相等的原则来选取晶闸管。 如若需要晶闸管实际承担波形电流有效值400A，则对应通态平均电流为400A/1.57=255A（正弦半波波形平均值：有效值=1：1.57）。考虑裕量（1.5到2倍），则可选择额定电流（通态平均电流）500A的晶闸管。 维持电流\\(I_H\\)——使晶闸管维持导通所必需的最小电流。 擎住电流\\(I_L\\)——刚从断态转入通态并移除触发信号后，能维持导通所需的最小电流。对同一晶闸管来说，通常\\(I_L\\)约为\\(I_H\\)的2~4倍。 浪涌电流\\(I_{TSM}\\)——使超过额定结温的不重复性最大正向过载电流。 动态参数 开通时间\\(t_{gt}\\) 关断时间\\(t_q\\) 断态电压临界上升率du/dt——额定结温、门极开路，从断态到通态转换的外加电压最大上升率。电压上升率过大，使充电电流足够大，就会使晶闸管误导通。 通态电流临界上升率di/dt——指在规定条件下，晶闸管能承受而无有害影响的最大通态电流上升率。如果电流上升太快，可能造成局部过热而使晶闸管损坏。 晶闸管的派生器件 快速晶闸管 快速晶闸管(Fast Switching Thyristor,FST)分为快速晶闸管(400Hz)和高频晶闸管(10kHz)。 开关时间以及du/dt和di/dt耐量都有明显改善。 普通晶闸管关断时间数百微秒，快速晶闸管为数十微秒，高频晶闸管为10μs左右。 高频晶闸管的不足在于其电压和电流定额都不易做高。 由于工作频率较高，不能忽略其开关损耗的发热效应。 双向晶闸管 双向晶闸管(Triode AC Switch,TRIAC或Bidirectional triode thyristor)由一对反并联的普通晶闸管集合而成。 有两个主电极\\(T_1\\)和\\(T_2\\)，一个门极\\(G\\)。在第Ｉ和Ⅲ象限有对称的伏安特性。 控制电路简单，在交流调压电路、固态继电器(Solid State Relay,SSR)和交流电动机调速等领域应用较多。 用有效值而非平均值来表示其额定电流值。 图9 双向晶闸管 逆导晶闸管 逆导晶闸管(Reverse Conducting Thyristor,RCT)将晶闸管反并联一个二极管制作在同一管芯上的功率集成器件。 不具有承受反向电压能力，一旦承受反向电压即开通，适用于不需要阻断反向电压的电路。 具有正向压降小、关断时间短、高温特性好、额定结温高等优点。 图10 逆导晶闸管 光控晶闸管 光控晶闸管(Light Triggered Thyristor,LTT)又称光触发晶闸管，利用一定波长的光照信号触发导通。 保证了主电路与控制电路之间的绝缘，且可避免电磁干扰影响。 多应用在高压大功率的场合，如高压直流输电和高压核聚变装置中。 图11 光控晶闸管 典型全控型器件 门极可关断晶闸管——GTO GTO的结构和工作原理 图12 门极可关断晶闸管a) 各单元的阴极、门极间隔排列的图形 b) 并联单元结构断面示意图 c) 电气图形符号 门极可关断晶闸管(Gate Turn-Off Thyristor,GTO)是一种多元的功率集成器件。 其外部结构与普通晶闸管一致，是PNPN四层半导体结构，外部可以引出阳极、阴极与门极。但其内部包含数十个甚至数百个共用阳极的小GTO元，这些GTO元的阴极和门极则在器件内部并联在一起。 可以通过在门极施加负的脉冲电流使其关断。 与普通晶闸管一样，GTO亦可以用图6所示的双晶体管模型来分析其工作原理，GTO导通原理与普通晶闸管一样，是一个正反馈过程，只是导通时饱和程度较浅。 关断时，门极加负脉冲，即从门极抽出电流，则晶体管\\(V_2\\)的基极电流\\(I_{b2}\\)减小，使\\(I_K\\)和\\(I_{c2}\\)减小，继而使\\(I_A\\)和\\(I_{c1}\\)减小又进一步减小\\(V_2\\)的基极电流。当\\(I_A\\)和\\(I_K\\)的减小到不能维持时， 器件退出饱和关断（同样是一个正反馈过程）。 多元集成结构使GTO比普通晶闸管开通过程快，承受di/dt能力强。 GTO的动态特性与主要参数 图13 GTO开通与关断过程 开通过程与普通晶闸管相同，开通时间\\(t_{on} = t_d + t_r\\)。延迟时间\\(t_d\\)一般约1~2μs，上升时间\\(t_r\\)则随通态阳极电流的增大而增大。 关断过程与普通晶闸管不同，关断时间\\(t_{off} = t_s + t_f\\)。其中储存时间\\(t_s\\)是使等效晶体退出饱和状态的时间；下降时间\\(t_f\\)是等效晶体从饱和区退至放大区的时间，阳极电流逐渐减小下降时间一般小于2μs。；尾部时间\\(t_f\\)是残存载流子复合所需时间，尾部时间不计入关断时间。 \\({t_t} &gt; {t_s} \\gg {t_f}\\)，门极负脉冲电流幅值越大，\\(t_s\\)越短。 最大可关断阳极电流\\(I_{ATO}\\)——标称GTO额定电流。 电流关断增益\\(\\beta_{off} = \\frac{I_{ATO} } {I_{GM} }\\)——最大可关断阳极电流与门极负脉冲电流最大值之比。 不少GTO都制造成逆导型，类似于逆导晶闸管，需承受反压时，应和电力二极管串联。 电力晶体管——GTR GTR的结构和工作原理 电力晶体管(Giant Transistor,GTR)，直译为巨型晶体管，是一种耐压高、电流大、开关特性好的双极结型晶体管(Bipolar Junction Transistor,BJT)，即GTR = Power BJT。 GTR通常采用至少由两个晶体管按达林顿接法组成单元结构。同GTO一样采用集成电路工艺将许多这种单元并联而成。 20世纪80年代以来，GTR在中、小功率范围内取代晶闸管，但目前又大多被IGBT和电力MOSFET取代。 图14 电力晶体管a) 内部结构断面示意图 b) 电气图形符号 c) 内部载流子的流动 在应用中，GTR一般采用共射极接法。 电流放大系数\\(\\beta = \\frac{i_c} {i_b}\\)，反映了基极电流对集电极电流的控制能力。 单管GTR的\\(\\beta\\)值比小功率的晶体管小得多，通常为10左右，采用达林顿接法可有效增大电流增益。 GTR的基本特性 静态特性 图15 GTR静态特性 共射接法时的典型输出特性：截止区、放大区和饱和区。 在电力电子电路中GTR工作在开关状态（截止区与饱和区）。 在开关过程中，即在截止区和饱和区之间过渡时，要经过放大区。 动态特性 图16 GTR开通与关断过程 开通时间\\(t_{on} = t_d + t_r\\)，与GTO类似。增大基极驱动电流\\(i_b\\)的幅值并增大\\(di_b/dt\\)，可以缩短开通时间。 关断时间\\(t_{off} = t_s + t_f\\)。 GTR的开关时间在几微秒以内，比晶闸管和GTO都短很多。 GTR的主要参数 电流放大系数\\(\\beta = \\frac{i_c} {i_b}\\)。 集射极间漏电流\\(I_{ceo}\\)，若考虑\\(I_{ceo}\\)，则有\\(i_c = \\beta i_b + I_{ceo}\\)。集射极间饱和压降\\(U_{ces}\\)。 直流电流增益\\(h_{FE}\\)，一般可认为\\(h_{FE} \\approx \\beta\\)。 开通时间\\(t_{on}\\)与关断时间\\(t_{off}\\)。 最高工作电压（GTR上电压超过规定值时会发生击穿）。 集电极最大允许电流\\(I_{cM}\\)与集电极最大耗散功率\\(P_{cM}\\)。 GTR的二次击穿现象与安全工作区 一次击穿——集电极电压升至击穿电压时，\\(I_c\\)迅速增大。只要\\(I_c\\)不超过限度，GTR一般不会损坏，特性也不变。 二次击穿——一次击穿发生时，\\(I_c\\)突然急剧上升，电压陡然下降。常常立即导致器件的永久损坏，或者工作特性明显衰变。 安全工作区(Safe Operating Area,SOA)——二次击穿临界线由不同基极电流的二次击穿临界点连接而成。 图17 GTR安全工作区 其中\\(U_{ceM}\\)为最高电压，\\(I_{cM}\\)为集电极最高电流，\\(P_{cM}\\)为最大耗散功率，\\(P_{SB}\\)为二次击穿功率。 电力场效应晶体管——Power MOSFET 电力场效应晶体管分为结型（静电感应晶体管）(Static Induction Transistor,SIT)和绝缘栅型(Metal Oxide Semiconductor,MOS)，电力MOSFET主要指绝缘栅型场效应晶体管(MOSFET)。 电力MOSFET利用栅极电压来控制漏极电流，驱动电路简单，驱动功率小。开关速度快，工作频率高。热稳定性优于GTR。电流容量小，耐压低，一般用于功率≼10kW的电力电子装置。 电力MOSFET按导电沟道分类可分为P沟道和N沟道。对于N（或P）沟道器件，栅极电压为零时漏源极间存在导电沟道的称为耗尽型，栅极电压大于（或小于）零时漏源极间存在导电沟道的称为增强型。电力MOSFET通常指N沟道增强型。 电力MOSFET的结构和工作原理 导电机理与小功率MOS管相同，结构上有区别。小功率MOS管是横向导电器件，而电力MOSFET采用垂直导电结构。 按垂直导电结构的差异，又分为利用V型槽实现垂直导电的VVMOSFET(Vertical V-groove MOSFET)和具有垂导电双扩散MOS结构的VDMOSFET(Vertical Double-diffused MOSFET)。这里以VDMOSFET为例讨论。 电力MOSFET采用多元集成结构，一个器件由多个小MOSFET元组成。 图18 电力MOSFET结构截面图及电气图形符号a) N沟道增强型VDMOS单元截面图 b) 电气图形符号 截止：漏源极间加正电源，栅源极间电压为零。 P基区与N漂移区之间形成的PN结\\(J_1\\)反偏，漏源极之间无电流流过。 导电：在栅源极间加正电压\\(U_{GS}\\)。 当\\(U_{GS}\\)大于\\(U_T\\)时，P型半导体反型成N型而成为反型层，该反型层形成N沟道而使PN结\\(J_1\\)消失，漏极和源极导电。 场效应管的引脚与三极管相对应：栅极/门极G对应基极b，漏极D对应集电极c，源极S对应发射级e。 电力MOSFET的基本特性 图19 电力MOSFET静态特性a) 转移特性 b) 输出特性 漏极电流\\(I_D\\)和\\(U_{GS}\\)的关系称为MOSFET的转移特性。 \\(I_D\\)较大时，\\(I_D\\)与\\(U_{GS}\\)的关系近似线性，曲线的斜率定义为跨导\\(G_{fs}\\)。 MOSFET的漏极伏安特性对应为输出特性。 其中截止区对应于GTR的截止区，饱和区对应于GTR的放大区，非饱和区对应GTR的饱和区。 MOSFET工作在开关状态，即在截止区和非饱和区之间来回转换。 漏源极间有寄生二极管，加反向电压时器件导通。 通态电阻\\(R_{on}\\)具有正温度系数，对器件并联时的均流有利。 图20 电力MOSFET动态特性测试电路与开关过程波形 开通时间\\(t_{on} = t_{d(on)} + t_r\\)，开通延迟时间与上升时间之和。 关断时间\\(t_{off} = t_{d(off)} + t_f\\)，关断延迟时间和下降时间之和。 MOSFET的开关速度和\\(C_{in}\\)充放电有很大关系。可降低驱动电路内阻\\(R_s\\)减小时间常数，加快开关速度。 MOSFET不存在少子储存效应，关断过程非常迅速。开关时间在10~100ns之间，频率可达100kHz以上，是器件中最高的。 MOSFET是场控器件，静态时不需输入电流。但开关时需对输入电容充放电，仍需一定驱动功率。开关频率越高，所需要的驱动功率越大。 电力MOSFET的主要参数 跨导\\(G_{fs}\\)、开启电压\\(U_T\\)、开通延迟时间\\(t_{d(on)}\\)、上升时间\\(t_r\\)、关断延迟时间\\(t_{d(off)}\\)、下降时间\\(t_f\\)。 漏极电压\\(U_{DS}\\)——标称电力MOSFET电压定额 漏极直流电流\\(I_D\\)和漏极脉冲电流幅值\\(I_{DM}\\)——标称电力MOSFET电流定额 栅源电压\\(U_{GS}\\)——栅源之间的绝缘层很薄，\\(U_{GS} &gt; 20V\\)将导致绝缘层击穿。 极间电容\\(C_{GS}\\)、\\(C_{GD}\\)、\\(C_{DS}\\) 绝缘栅双极晶体管——IGBT GTR和GTO是双极型电流驱动器件，有电导调制效应，通流能力很强，但开关速度较低，所需驱动功率大，驱动电路复杂。电力MOSFET是单极型电压驱动器件，开关速度快，输入阻抗高，热稳定性好，所需驱动功率小而且驱动电路简单。将两类器件取长补短结合而成的复合器件，通常称为Bi-MOS器件。 绝缘栅双极晶体管(Insulated-gate Bipolar Transistor,IGBT)结合了GTR和MOSFET的优点，于1986年投入市场，是中小功率电力电子设备的主导器件，并在继续努力提高电压和电流容量。 开关速度高，开关损耗小。 安全工作区比GTR大，且具有耐脉冲电流冲击能力。 通态压降比VDMOSFET低。 输入阻抗高，输入特性与MOSFET类似。 与MOSFET和GTR相比，耐压和通流能力还可以进一步提高，同时保持开关频率高的特点。 IGBT的结构和工作原理 图21 IGBT结构和工作原理a) 内部结构断面示意图(N沟道VDMOSFET与GTR结合的N沟道IGBT) b) 简化等效电路 c) 电气图形符号 IGBT比VDMOSFET多一层P+注入区，使其有很强的通流能力。 简化等效电路表明，IGBT是GTR与MOSFET组成达林顿结构，相当于一个由MOSFET驱动的厚基区PNP晶体管。 \\(R_N\\)为基区内调制电阻。 IGBT是场控器件，驱动原理与电力MOSFET基本相同，通断由栅射极电压\\(u_{GE}\\)决定。 导通：\\(u_{GE}\\)为正且大于开启电压\\(U_{GE(th)}\\)时，MOSFET内形成沟道，提供基极电流，IGBT导通。由于电导调制效应，电阻\\(R_N\\)减小，使高耐压的IGBT也有很小的通态压降。 关断：栅射极间施加反压或不加信号时，MOSFET内的沟道消失，晶体管的基极电流被切断，IGBT关断。 IGBT亦为三端器件，分别是栅极G，集电极C，发射级E。 IGBT的基本特性 图22 IGBT静态特性a) 转移特性 b) 输出特性 IGBT的转移特性——集电极电流\\(I_C\\)与栅极电压\\(U_{GE}\\)间的关系，与电力MOSFET的转移特性类似。开启电压为\\(U_{GE(th)}\\)。 IGBT的输出特性——栅极电压\\(U_{GE}\\)为参考变量时，集电极电流\\(I_c\\)与集射极间电压\\(U_{CE}\\)间的关系。与GTR的输出特性类似，不同的是参考变量（GTR参考变量为基极电流\\(I_B\\)）。 分为三个区域：正向阻断区、有源区和饱和区（对应GTR的截止区、放大区、饱和区）。 \\(U_{CE} &lt; 0\\)时，IGBT为反向阻断工作状态。 电力电子电路中，IGBT工作于开关状态，即在正向阻断区与饱和区间转换。 图23 IGBT开关过程 IGBT的开通过程与MOSFET类似，其中开通时间\\(t_{on} = t_{d(on)} + t_r\\)。 \\(u_{CE}\\)的下降过程分为\\(t_{fv1}\\)和\\(t_{fv2}\\)两段。\\(t_{fv1}\\)为IGBT中MOSFET单独工作的电压下降过程；\\(t_{fv2}\\)为MOSFET和PNP晶体管同时工作的电压下降过程。 IGBT的关断过程，关断时间\\(t_{off} = t_{d(off)} + t_f\\)，电流下降时间又可分为\\(t_{fi1}\\)和\\(t_{fi2}\\)两段。 \\(t_{fi1}\\)为IGBT器件内部的MOSFET的关断过程，\\(i_C\\)下降较快。\\(t_{fi2}\\)为IGBT内部的PNP晶体管的关断过程，\\(i_C\\)下降较慢。 IGBT的主要参数 最大集射极间电压\\(U_{CES}\\)——由内部PNP晶体管的击穿电压确定。 最大集电极电流包括额定直流电流\\(I_C\\)和1ms脉宽最大电流\\(I_{CP}\\)。 最大集电极功耗\\(P_{CM}\\)——正常工作温度下允许的最大功耗。 其他新型电力电子器件 MOS控制晶闸管MCT MCT(MOS Controlled Thyristor)是将MOSFET与晶闸管组合而成的复合型器件。 结合了MOSFET高输入阻抗、低驱动功率、快速的开关过程（开关损耗小）与晶闸管高电压大电流、低导通压降的优点。 MCT可承受较高的di/dt和du/dt，使其保护电路可以简化。 一个MCT器件由数以万计的MCT元组成，每个由一个PNPN晶闸管，一个控制该晶闸管开通的MOSFET和一个控制该晶闸管关断的MOSFET组成。 遗憾的是，MCT的关键技术问题没有大的突破，电压和电流容量都远未达到预期的数值，未能投入实际应用。 静电感应晶体管SIT SIT(Static Induction Transistor)是一种结型场效应晶体管。SIT是多子导电的器件，工作频率与电力MOSFET相当，甚至更高，功率容量更大，因而适用于高频大功率场合。 在雷达通信设备、超声波功率放大、脉冲功率放大和高频感应加热等领域获得应用。 然而，SIT栅极会在不加任何信号时导通，加负偏压时关断，称为正常导通型器件，使用不太方便。 此外，SIT通态电阻较大，通态损耗也大，因而还未在大多数电力电子设备中得到广泛应用。 静电感应晶闸管SITH SITH(Static Induction Thyristor)可以看作是SIT与GTO组合而成的复合型器件。 SITH是双极型器件，具有电导调制效应，通态压降低、通流能力强。 其很多特性与GTO类似，但开关速度比GTO高，是大容量的快速器件。 SITH一般也是正常导通型，但也有正常关断型。此外，电流关断增益较小，因而其应用范围还有待拓展。 集成门极换流晶闸管IGCT IGCT(Integrated Gate-Commutated Thyristor)于20世纪90年代后期出现，结合了IGBT与GTO的优点，容量与GTO相当，开关速度快10倍。 可省去GTO复杂的缓冲电路，但驱动功率仍很大。 目前正在与IGBT等新型器件激烈竞争，试图最终取代GTO在大功率场合的位置。 基于宽禁带半导体材料的电力电子器件 硅的禁带宽度为1.12电子伏特（eV），而宽禁带半导体材料是指禁带宽度在3.0电子伏特左右及以上的半导体材料，典型的是碳化硅（SiC）、氮化镓（GaN）、金刚石等材料。 基于宽禁带半导体材料的电力电子器件将具有高得多的耐受高电压的能力、低得多的通态电阻、更好的导热性能、热稳定性以及耐受高温和射线辐射的能力。 宽禁带半导体器件的发展一直受制于材料的提炼和制造以及随后的半导体制造工艺的困难。 功率集成电路与集成电力电子模块 基本概念 20世纪80年代中后期开始，模块化趋势，将多个器件封装在一个模块中，称为功率模块。 可缩小装置体积，降低成本，提高可靠性。 对工作频率高的电路，可大大减小线路电感，从而简化对保护和缓冲电路的要求。 将器件与逻辑、控制、保护、传感、检测、自诊断等信息电子电路制作在同一芯片上，称为功率集成电路(Power Integrated Circuit,PIC)。 实际应用电路 高压集成电路(High Voltage IC,HVIC)一般指横向高压器件与逻辑或模拟控制电路的单片集成。 智能功率集成电路(Smart Power IC,SPIC)一般指纵向功率器件与逻辑或模拟控制电路的单片集成。 智能功率模块(Intelligent Power Module,IPM)则专指IGBT及其辅助器件与其保护和驱动电路的单片集成，也称智能IGBT(Intelligent IGBT)。 发展现状 功率集成电路的主要技术难点：高低压电路之间的绝缘问题以及温升和散热的处理。 以前功率集成电路的开发和研究主要在中小功率应用场合。 智能功率模块在一定程度上回避了上述两个难点,最近几年获得了迅速发展。 功率集成电路实现了电能和信息的集成，成为机电一体化的理想接口。 附表1：常用电力半导体开关器件性能对比 器件名称 可控性 驱动信号 额定电压、电流 工作频率 饱和压降 二极管 不可控 无 最大 有高有低 小 晶闸管 半控 脉冲电流（开通） 最大 最低 小 GTO 全控 正、负脉冲电流 大 较低 中 GTR(BJT) 全控 正电流 中 中 小 IGBT 全控 正电压 较大 较高 较小 MOSFET 全控 正电压 小 最该 大 附表2：全控型器件性能对比 器件名称 功率容量 驱动电路 通态压降 开关速度 GTO 6kV/6kA,9kV/1kA 复杂, 功率大 小 1~2kHz GTR 450V/30A,1200V/800A 较复杂, 功率大 较大 5kHz IGBT 1kV/100A,10~50A 简单,功率小 大,与耐压成正比 100kHz MOSFET 2.5kV/1.8kA 简单,功率小 较大 50kHz 扩展阅读 基本元器件 - 晶体三级管(by Power's Wiki) 【模拟电子技术Analog Electronics Technology 6】—— 共射放大电路的原理与改进 【模拟电子技术Analog Electronics Technology 10】——放大电路的三种接法详解 基本元器件 - 场效应管(by Power's Wiki)","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"课程笔记/电力电子技术","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"电力电子技术","permalink":"https://renahah.github.io/tags/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}]},{"title":"运动控制系统04-稳态调速性能指标和开环直流调速系统","slug":"课程笔记/运动控制系统/运动控制系统04-稳态调速性能指标和开环直流调速系统","date":"2023-05-20T02:18:05.000Z","updated":"2024-01-25T05:20:20.969Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统04-稳态调速性能指标和开环直流调速系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F04-%E7%A8%B3%E6%80%81%E8%B0%83%E9%80%9F%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E5%92%8C%E5%BC%80%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第二章 转速开环控制的直流调速系统 第三节 稳态调速性能指标和开环系统存在的问题；对应页码p24-p26 对于调速系统转速控制的要求 调速——在一定的最高转速和最低转速范围，有级（分档地）或无极（平滑地）调节转速； 稳速——以一定的精度在所需转速上稳定运行，在各种干扰下不允许有过大的转速波动； 加、减速——频繁起、制动的设备要求加、减速尽量快；不宜经受剧烈速度变化的机械则要求起、制动尽量平稳。 稳态性能指标 调速范围\\(D\\) 图1 调速范围 调速范围\\(D = \\frac{n_{\\max } } {n_{\\min } } = \\frac{n_{N} } {n_{\\min } }\\) \\(n_{\\max }\\)和\\(n_{\\min }\\)为电动机运行在额定负载下的最高转速与最低转速 一般以电动机最高转速作为额定转速\\(n_{\\max } = n_{N}\\) 静差率\\(s\\) 图2 静差率 静差率\\(s = \\frac{\\Delta {n_N} } {n_{0min} } \\times 100\\%\\) 静差率用来衡量调速系统在负载变化下的稳定度，影响静差率大小的因素有理想空载转速\\(n_0\\)与额定速降\\(\\Delta n_N\\) 调速系统的静差率指标应以最低速时所能达到的数值为准（图中b线） 调速范围、静差率和额定速降的关系 \\[D = \\frac{ {n_N}s} {\\Delta {n_N} (1 - s)}\\] 开环调速系统 图3 开环调速系统的结构原理图 图4 开环调速系统的稳态结构图 开环调速系统的性能：在要求的静差率不高时，可以实现一定范围内的无级调速。 开环调速系统存在的问题：对负载变化引起的转速波动没有抑制作用（没有抗扰能力）。不能同时满足\\(D\\)和\\(s\\)的要求（提高\\(D\\)的同时降低\\(s\\)）。 开环系统不能同时满足\\(D\\)和\\(s\\)的要求的原因：开环系统的转速降落太大。 解决问题的方案：减少额定负载所引起的转速降落。 但由直流电机系统机械特性方程式可知，额定负载转速降落\\(\\Delta {n_N} = \\frac{R{I_{dN} } } {C_e}\\)，由直流电动机的参数决定，无法改变。 解决矛盾的有效途径是采用反馈控制技术，构成转速闭环的控制系统。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统03-PWM变换器——电动机系统","slug":"课程笔记/运动控制系统/运动控制系统03-PWM变换器——电动机系统","date":"2023-05-16T01:42:26.000Z","updated":"2024-01-25T05:20:20.962Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统03-PWM变换器——电动机系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F03-PWM%E5%8F%98%E6%8D%A2%E5%99%A8%E2%80%94%E2%80%94%E7%94%B5%E5%8A%A8%E6%9C%BA%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第二章 转速开环控制的直流调速系统 第二节 PWM变换器——电动机系统的工作原理及调速特性；对应页码p16-p24 直流PWM调速系统由全控型电力电子器件构成，采用脉冲宽度调制控制方式。 在中、小容量的高动态性能系统中，直流PWM调速系统已经完全取代了V-M系统。 相较于V-M系统，直流PWM调速系统有如下优点： 主电路简单，需要的电力电子器件少； 开关频率高，电流容易连续，谐波少，电动机损耗及发热较少； 低速性能好，稳速精度高，调速范围宽； 若与快速响应的电动机配合，则系统频带宽，动态响应快，动态抗扰能力强； 电力电子开关器件工作在开关状态，导通损耗小，当开关频率适当时，开关损耗也不大，因而装置效率较高； 直流电源采用不控整流时，电网功率因数比相控整流器高。 脉宽调制变换器的作用是：用脉冲宽度调制的方法，把恒定的直流电源电压调制成频率一定、宽度可变的脉冲电压序列，从而可以改变平均输出电压的大小，以调节电动机转速。 PWM变换器电路有多种形式，总体上可分为不可逆与可逆两大类。 简单的不可逆PWM变换器——电动机系统 图1 简单的不可逆PWM变换器-直流电动机系统 上图为简单不可逆PWM变换器-直流电动机系统，其中\\(U_g\\)为脉宽可调的脉冲电压，脉冲电压宽度由控制电压\\(U_c\\)调节。 在一个开关周期\\(T\\)内： 当\\(0 \\leqslant t &lt; {t_{on} }\\)时，\\(U_g\\)为正，VT饱和导通，电源电压\\(U_s\\)通过VT加到直流电动机电枢两端。 当\\({t_{on} } \\leqslant t &lt; T\\)时，\\(U_g\\)为负，VT关断，电枢电路中的电流通过续流二极管VD续流，直流电动机电枢电压近似等于零。 因此，直流电动机电枢两端平均电压\\({U_d} = \\frac{t_{on} } {T} {U_s} = \\rho {U_s} = \\frac{U_c} {U_{TM} } {U_s} = {K_s} {U_c}\\) 其中，\\(\\rho = \\frac{t_{on} } {T} = \\frac{U_c} {U_{TM} }\\)为占空比，取值在0到1之间，改变占空比即可实现直流电动机的调压调速。 若令\\(\\gamma = \\frac{U_d} {U_s}\\)为PWM电压系数，则在不可逆PWM变换器中\\(\\gamma = \\rho\\) \\(U_{TM}\\)为锯齿电压最大值，也是控制电压的最大值；\\(K_s = \\frac{U_s} {U_{TM} }= \\frac{U_d} {U_c}\\)为电力电子变换器放大系数。 有制动电流通路的不可逆PWM变换器——电动机系统 简单的不可逆PWM变换器——电动机系统不允许电流反向； 续流二极管VD的作用只是为\\(i_d\\)提供一个续流的通道，没有制动能力； 若占空比过低，使\\(U_d\\)小于反电动势时，电流将衰减到零，直流就会断续，出现和相控整流器同样的问题。 为了实现电动机的制动，就需要为其提供反向电流通道。 图2 简单的不可逆PWM变换器-直流电动机系统电路原理图 原系统电路中的VT和VD作为新系统电路中的\\(VT_1\\)和\\(VD_2\\)，增加\\(VT_2\\)和\\(VD_1\\)来提供反向电枢电流通路。 \\(VT_1\\)和\\(VD_2\\)的驱动电压相等极型相反，即\\(U_{g1} = -U_{g2}\\)。 电压和电流波形有三种状态，分别为一般电动状态、制动状态和轻载电动状态。 一般电动状态 图3 一般电动状态 在一般电动状态中，\\(i_d\\)始终为正值。其电压与电流波形与简单不可逆电路工作波形一致。 \\(0 \\leqslant t &lt; {t_{on} }\\)期间，\\(U_{g1}\\)为正，\\(VT_1\\)导通，\\(U_{g2}\\)为负，\\(VT_2\\)关断，电流\\(i_d\\)沿图2回路①流通。 \\({t_{on} } \\leqslant t &lt; T\\)期间，\\(U_{g1}\\)与\\(U_{g2}\\)皆改变极性，\\(VT_1\\)关断，\\(i_d\\)沿图2回路②经过二极管\\(VD_2\\)续流。 \\(VT_1\\)和\\(VD_2\\)交替导通，\\(VT_2\\)和\\(VD_1\\)始终关断。 制动状态 图4 制动状态 在电动运行需要降速的时候，减小控制电压\\(U_c\\)使，\\(U_{g1}\\)正脉冲变窄，\\(U_{g2}\\)负脉冲变宽，从而使\\({U_d}\\)降低，\\(E &gt; {U_d}\\)（由于机电惯性，转速和电动势不会立即变化）。制动状态\\(i_d\\)始终为负值。 \\(t_{on} \\leqslant t &lt; T\\)期间，\\(U_{g2}\\)为正，\\(VT_2\\)导通，在感应电动势\\(E\\)作用下，反向电流沿图2回路③能耗制动。 \\(T \\leqslant t &lt; T + t_{on}\\)期间，\\(VT_2\\)关断，反向电流沿图2回路④经过二极管\\(VD_1\\)续流，向电源回馈能量。 \\(VT_2\\)和\\(VD_1\\)交替导通，\\(VT_1\\)和\\(VD_2\\)始终关断。 轻载电动状态 图5 轻载电动状态 特殊情况，平均电流较小，\\(VT_1\\)、\\(VD_2\\)、\\(VT_2\\)、\\(VD_1\\)依次导通。 \\(t_{on} \\leqslant t &lt; t_2\\)期间，\\(VT_1\\)关断，\\(i_d\\)沿图2回路②经过\\(VD_2\\)续流； \\(t_2 \\leqslant t &lt; T\\)，电流在\\(t = t_2\\)时刻衰减至零，\\(VT_2\\)导通，使电流反向，产生局部时间的制动作用，反向电流沿图2回路③能耗制动； \\(T \\leqslant t &lt; T + t_4\\)期间，\\(VT_2\\)关断，反向电流沿图2回路④经过二极管\\(VD_1\\)续流，向电源回馈能量。 \\(T + t_4 \\leqslant t &lt; T + t_{on}\\)期间，\\(VT_1\\)导通，电流\\(i_d\\)沿图2回路①流通。 注释1：电动机是感性元件，流过的电流不会因外部电路状态变化而突变。 注释2：电流经过二极管\\(VD_2\\)或\\(VD_1\\)续流时（对应回路②与回路④），对应的\\(VT_2\\)或\\(VT_1\\)不能导通，因为此时二极管有压降向晶闸管施加反压，使晶闸管无法导通。 桥式可逆PWM变换器——电动机系统 不可逆PWM变换器——电动机系统的平均电压\\(U_d\\)始终大于零，电压和转速不能反向。 如果要求转速反向，需要再增加VT和VD，构成可逆的PWM变换器-直流电动机系统，如下图所示： 图6 桥式可逆PWM变换器 可逆PWM变换器控制方式有双极式、单极式、受限单极式等，这里分析双极式控制的桥式可逆PWM变换器工作原理。 关于PWM变换器的几种控制方式的具体原理可参见我的电力电子技术笔记（还没写，到时候会附上链接）。 图7 双极式控制可逆PWM变换器的驱动电压、输出电压和电流波形 四个驱动电压波形关系：\\(U_{g1} = U_{g4} = -U_{g2} = -U_{g3}\\) \\(0 \\leqslant t &lt; {t_{on} }\\)期间，\\(VT_1,VT_4\\)导通，\\(U_{AB} = U_s\\)，电枢电流\\(i_d\\)沿图6回路①流通； \\({t_{on} } \\leqslant t &lt; T\\)期间，驱动电压反号，\\(U_{AB} = -U_s\\)，\\(i_d\\)沿图6回路②经二极管\\(VD_2,VD_3\\)续流。 PWM正负脉冲的宽窄通过控制电压\\(U_c\\)调节，\\(U_c\\)越大，正脉冲就越宽（即\\(t_{on}\\)越大），负脉冲越窄。 若\\(t_{on} &gt; \\frac T 2\\)，\\(U_{AB}\\)的平均值为正，电动机正转；(\\(\\rho&gt;\\frac 1 2,\\gamma&gt;0\\)) 若\\(t_{on} &lt; \\frac T 2\\)，\\(U_{AB}\\)的平均值为负，电动机反转；(\\(\\rho&lt;\\frac 1 2,\\gamma&lt;0\\)) 若\\(t_{on} = \\frac T 2\\)，正负脉冲相等，平均输出电压为零，电动机停止。(\\(\\rho=\\frac 1 2,\\gamma=0\\)) 双极式控制可逆PWM变换器的输出平均电压 \\[{U_d} = \\frac{t_{on} } {T} {U_s} - \\frac{T - {t_{on} } } {T} {U_s} = (\\frac{2{t_{on} } } {T} - 1){U_s} = \\gamma{U_s} = \\frac{U_c} {U_{TM} } {U_s} = {K_s} {U_c}\\] 占空比\\(\\rho = \\frac{t_{on} } {T} = \\frac{ { {U_c} + {U_{TM} } } } {2{U_{TM} } }\\) 占空比\\(\\rho\\)和电压系数\\(\\gamma\\)的关系\\(\\gamma = 2\\rho - 1\\) 电流波形存在两种情况，如图7所示： \\(i_{d1}\\)对应电动机负载较重情况，平均电流大，电机始终工作在第Ⅰ象限（正转电动状态）。 \\(i_{d2}\\)对应电动机轻载情况，平均电流小，续流阶段电流很快衰减到零，于是二极管终止续流，而反向开关器件导通，电枢电流反向，电动机处于制动状态。 \\(i_{d2}\\)电流中的线段3和4是工作在第Ⅱ象限（正转制动状态）。 电枢电流的方向决定了电流是经过续流二极管还是经过开关器件流动。 注释3：电动机的四个象限，指的是电机转速为横轴，电机转矩为纵轴，将电机的运行分为四个状态 第Ⅰ象限，转速为正，转矩为正，正转电动状态； 第Ⅱ象限，转速为负，转矩为正，正转制动状态，此时电机发电，又称回馈制动； 第Ⅲ象限，转速为负，转矩为负，反转电动状态； 第Ⅳ象限，转速为正，转矩为负，反转制动状态，此时电机发电，又称回馈制动。 对于直流电动机而言，\\(T = {C_T}\\Phi {I_a}\\)，即电磁转矩常数与磁通一定时，电机转矩与电枢电流成正比。 双极式控制的桥式可逆PWM的优点： 电流一定连续； 可使电动机在四象限运行； 电动机停止时有微振电流，能消除静磨擦死区； 低速平稳性好，系统的调速范围大； 低速时，每个开关器件的驱动脉冲仍较宽，有利于保证器件的可靠导通。 双极式控制的桥式可逆PWM的不足之处： 在工作过程中，四个开关器件可能都处于开关状态，开关损耗大，而且在切换时可能发生上、下桥臂直通的事故，为了防止直通，在上、下桥臂的驱动脉冲之间，应设置死区时间（逻辑延时）。亦可采用单极式控制。 直流PWM调速系统的机械特性 对于有制动电流通路的不可逆PWM变换器——电动机系统，其电压平衡方程式分两个阶段： \\(0 \\leqslant t &lt; {t_{on} }\\)期间，\\({U_s} = R{i_d} + L\\frac{d{i_d} } {dt} + E\\) \\({t_{on} } \\leqslant t &lt; T\\)期间，\\(0 = R{i_d} + L\\frac{d{i_d} } {dt} + E\\) 式中\\(R\\)、\\(L\\)分别为电枢电路的电阻和电感。 取平均电压\\({U_d} = \\gamma {U_s}\\)，平均电流\\(I_d\\)，电枢电感压降的均值\\(L\\frac{d{i_d} } {dt} = 0\\)，转速\\(n = \\frac{E} {C_e}\\) 得电压平均值方程\\(\\gamma {U_s} = R{I_d} + E = R{I_d} + {C_e}n\\) 进而得机械特性方程式（理想空载转速\\({n_0} = \\frac{ {\\gamma {U_s} } } {C_e}\\)，与电压系数成正比） \\[n = \\frac{\\gamma {U_s} } {C_e} - \\frac{R} {C_e} {I_d} = \\frac{ { {K_s} {U_c} } } {C_e} - \\frac{R} {C_e} {I_d} = {n_0} - \\frac{R} {C_e} {I_d}\\] 机械特性方程式可用转矩表示为（电动机在额定磁通下的转矩系数\\({C_m} = {K_m} {\\Phi _N}\\)） \\[n = \\frac{\\gamma {U_s} } {C_e} - \\frac{R} { { {C_e} {C_m} } } {T_e} = \\frac{ { {K_s} {U_c} } } {C_e} - \\frac{R} { { {C_e} {C_m} } } {T_e} = {n_0} - \\frac{R}{ { {C_e} {C_m} } } {T_e}\\] 对于有制动电流通路的不可逆PWM变换器——电动机系统，\\(0 \\leqslant \\gamma \\leqslant 1\\)，其理想空载转速与电压系数成正比，机械特性如下图所示： 图8 直流PWM调速系统（电流连续）的机械特性 对于双极式控制可逆PWM变换器——电动机系统，直流电动机机械特性与之类似为一组平行直线，且扩展到四个象限。 PWM控制器与变换器的动态数学模型 图9 PWM控制器与变换器框图 与V-M系统类似，控制电压\\(U_c\\)与PWM变换器输出平均电压\\(U_d\\)的变化存在延迟，最大时延为一个开关周期\\(T\\)，可被视作一个纯滞后环节。 传递函数\\({W_s}(s) = \\frac{ {U_d}(s)} { {U_c}(s)} = {K_s} {e^{ - {T_s}s} }\\) 其中\\(K_s\\)为PWM装置放大系数，\\(T_s\\)为PWM装置延迟时间（\\(T_s \\leqslant T\\)）。 在系统分析设计中，通常按最大延时考虑，取\\(T_s = T\\)。 传递函数近似为一阶惯性环节\\({W_s}(s) \\approx \\frac{K_s} { {T_s}s + 1}\\) 直流PWM调速系统的电能回馈和泵升电压 PWM变换器的直流电源通常由交流电网经不可控的二极管整流器产生，并采用大电容C滤波，以获得恒定的直流电压。 当电动机工作在回馈制动状态时，电能不可能通过整流装置送回交流电网，只能向滤波电容充电，形成直流PWM变换器-电动机系统特有的电能回馈问题。 对滤波电容充电的结果造成直流侧电压升高，称作“泵升电压”。 系统在制动时释放的动能将表现为电容储能的增加，要适当地选择电容的电容量，或采取其它措施，以保护电力电子开关器件不被泵升电压击穿。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"电力电子技术01-绪论","slug":"课程笔记/电力电子技术/电力电子技术01-绪论","date":"2023-05-14T07:34:51.000Z","updated":"2024-01-25T05:20:20.928Z","comments":true,"path":"课程笔记/电力电子技术/电力电子技术01-绪论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF01-%E7%BB%AA%E8%AE%BA/","excerpt":"《电力电子技术(第五版)》学习笔记 本节内容对应书中第一章 绪论；对应页码p1-p9 什么是电力电子技术","text":"《电力电子技术(第五版)》学习笔记 本节内容对应书中第一章 绪论；对应页码p1-p9 什么是电力电子技术 电子技术的分类 电力电子技术是使用器件对电能进行变换和控制的技术。电力电子技术使用的器件是电力半导体器件，主要用于电力变换，而信息电子技术主要用于信息处理，这是二者的主要区别。 电力电子技术可分为器件制造技术与变流技术。其中器件制造技术，即制造晶闸管、电力晶体管、IGBT等电力电子器件的技术是电力电子技术的基础，其理论基础是半导体物理。变流技术包括使用电力电子器件构成电力变换电路、电力装置、电力电子系统，以及对电力电子系统进行控制的技术，变流技术是电力电子技术的核心，其理论基础为电路理论。 电力变换可分为四大类： 四种电力变换 交流变直流（AC-DC）——整流 直流变交流（DC-AC）——逆变 直流变直流（DC-DC）——斩波 交流变交流（AC-AC）——变频（交流电力控制，可以是电压、频率、相数的变换） 电力电子技术与相关学科的关系、地位 与电子学（信息电子技术）的关系 都分为器件和电路应用两大分支 器件制造技术的理论基础均基于半导体理论；材料、工艺基本相同，采用微电子技术 电路应用的分析方法、分析软件基本相同 信息电子器件工作在开关、放大状态；电力电子器件工作在开关状态 与电力学（电气工程）的关系 电力电子技术广泛用于电气工程中 应用场景：高压直流输电、静止无功补偿、电力机车牵引、交直流电力传动、电解、励磁、电加热、高性能交直流电源 电力电子技术是电气工程学科最活跃的一个分支 与控制理论（自动化技术）的关系 控制理论广泛用于电力电子系统中 电力电子技术是弱电控制强电的技术，是弱电和强电的接口的有力纽带 电力电子装置是自动化技术的基础元件和重要支撑技术 电力电子技术和运动控制一起，和计算机技术共同成为未来科学技术的两大支柱。 若把计算机比作人的大脑，电力电子技术就可以比作人的消化系统与循环系统，可以实现能量的转换（电网或其他电源提供的“粗电”转化为易于消化利用的“精电”）。电力电子技术和运动控制还可以比作人的肌肉和四肢，可以使人运动和从事劳动，以实现大脑指令的执行。 电力电子技术作为20世纪后半叶诞生和发展的一门崭新的技术，21世纪仍将以迅猛的速度发展。 电力电子技术的发展史 史前期 1904年，电子管诞生，能在真空中对电子流进行控制，并应用于通信和无线电，从而开启了电子技术应用于电力领域的先河。 水银整流器流行于二十世纪30到50年代，它将水银封于管内，利用对其蒸汽的点弧可对大电流进行控制，在晶闸管未问世的时代广泛用于电化学工业、电气铁道直流变电、轧钢用直流电动机的传动以及直流输电。 交流变直流的方法除水银整流器外，还有电动机—直流发电机组，即变流机组。 1947年，贝尔实验室发明晶体管。 晶闸管时期 1957年，晶闸管问世，取代水银整流器与旋转变流机组，广泛应用于电化学工业、铁道电气机车、钢铁工业（轧钢用电气传动、感应加热等）、电力工业（直流输电、无功补偿等）。 晶闸管是半控型器件（通过对门极的控制使其导通而不能关断），电路控制方式为相位控制，晶闸管关断需要依靠电网电压等外部条件实现，有一定的局限性。 20世纪70年代，全控型器件迅速发展。包括门极可关断晶闸管（GTO）、电力双极型晶体管（BJT）、电力场效应晶体管（Power-MOSFET）等。全控型器件可以通过对门极的控制既可对其开通又可对其关断，且开关速度高于晶闸管。 全控型器件的控制方式为脉冲宽度调制（PWM）方式，又称斩波控制。 复合型器件时期 80年代后期以绝缘栅极双极型晶体管（IGBT）为代表的复合型器件异军突起，IGBT是全控型器件，是MOSFET和BJT的复合体，IGBT兼具MOSFET驱动功率小、开关速度快的优点与BJT通态压降小、载流能力大、可承受电压高的优点。 MOS控制晶闸管（MCT）和集成门极换流晶闸管（IGCT）是MOSFET和GTO的复合体，同样综合了两种器件的优点。 电力电子集成电路（PIC）将驱动、控制、保护电路和电力电子器件集成到了一起。PIC结构紧凑、体积小，这给应用带来了很大的方便。 除以PIC为代表的单片集成技术，电力电子集成技术还包括混合集成与系统集成。 软开关技术应运而生，零电压开关（ZVS）和零电流开关（ZCS）是软开关的基本形式。软开关可以有效降低开关损耗，进而提高开关频率与电力电子装置的功率密度。 电力电子技术的应用 一般工业：各类交直流电动机（轧钢机、数控机床、矿山牵引、大型鼓风机）、电机软起动装置、电化学工业整流电源（电解铝、电解食盐水、电镀装置）、冶金工业（感应加热电源、淬火电源、直流电弧炉电源） 交通运输：电气化铁道、电动汽车、飞机、船舶、电梯。 电力系统：直流输电、柔性交流输电、无功补偿和谐波抑制、电能质量控制。 电源：程控交换机、大型计算机、各类信息技术装置的电源。不间断电源（UPS）。 家用电器：节能灯、变频空调等。 其他：航天领域、太阳能发电与风力发电缓冲储能装置、抽水储能发电站、超导储能、特种电源。 电力电子技术研究的是电源技术——电力电子装置提供给负载的是各种不同的直流电源、恒频交流电源以及变频交流电源。 电力电子技术是节能技术——在大型风机、水泵采用变频调速方面，在使用量十分庞大的照明电源等方面，电力电子技术的节能效果十分显著。 参考资料 王兆安,刘进军. 电力电子技术(第5版)[M]. 北京:机械工业出版社,2009","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"课程笔记/电力电子技术","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"电力电子技术","permalink":"https://renahah.github.io/tags/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}]},{"title":"运动控制系统02-晶闸管整流器——直流电动机系统","slug":"课程笔记/运动控制系统/运动控制系统02-晶闸管整流器——直流电动机系统","date":"2023-05-13T01:39:40.000Z","updated":"2024-01-25T05:20:20.959Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统02-晶闸管整流器——直流电动机系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F02-%E6%99%B6%E9%97%B8%E7%AE%A1%E6%95%B4%E6%B5%81%E5%99%A8%E2%80%94%E2%80%94%E7%9B%B4%E6%B5%81%E7%94%B5%E5%8A%A8%E6%9C%BA%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第二章 转速开环控制的直流调速系统 第一节 晶闸管整流器——直流电动机系统的工作原理及调速特性；对应页码p9-p15 触发脉冲相位控制 晶闸管整流器-电动机调速系统 图中VT为晶闸管整流器，通过调整触发装置GT的控制电压\\(U_c\\)来移动触发脉冲的相位，即可改变可控整流器输出瞬时电压\\(u_d\\)的波形，进而改变输出平均电压\\(U_d\\)。 瞬时电压平衡方程式\\[{u_{d0} } = E + {i_d}R + L\\frac{ {d{i_d} } } {dt}\\] 其中： \\(E\\)——电动机反电动势（V） \\(i_d\\)——电动机电流瞬时值（A） \\(L\\)——主电路总电感（H） \\(R=R_{rec}+R_a+R_L\\)——主电路总电阻（Ω） 其中\\(R_{rec}\\)为整流装置电阻，\\(R_a\\)为电枢电阻，\\(R_L\\)为平波电抗器电阻。 V-M系统主电路的等效电路图 理想空载整流电压平均值\\({U_{d0}} = \\frac{m}{\\pi }{U_m}\\sin \\frac{\\pi }{m}\\cos \\alpha\\)（假设电流波形连续） \\(\\alpha\\)——从自然换相点算起的触发脉冲控制角 \\(U_m\\)——\\(\\alpha=0\\)时的整流电压波形峰值 \\(m\\)——交流电源一周内的整流电压脉波数 不同整流电路的整流电压波峰值、脉冲数及平均整流电压 电流脉动及波形断续问题 带负载单相全控桥式整流电路的输出 对于带R-L-E负载的可控整流系统，以单相全控桥式电路为例。 在整流变压器二次侧额定相电压\\(u_2\\)的瞬时值大于反电动势\\(E\\)时，晶闸管才可能被触发导通。 导通后如果\\(u_2\\)降低到\\(E\\)以下，靠电感作用可以维持电流\\(i_d\\)继续流通。 由于电压波形的脉动，造成了电流波形的脉动。 在\\(I_d\\)上升阶段，电感储能；在\\(I_d\\)下降阶段，电感中的能量将释放出来维持电流连续。 电路有足够的电感量时，电动机负载足够大时，电流脉动波形连续；但当负载电流较小时，电感中的储能较少，等到\\(I_d\\)降到零时，则会造成电流波形断续，如下图所示。 V-M系统的电流波形断续 脉动电流会增加电动机的发热，产生脉动转矩对生产机械不利。抑制电流脉动可以： 增加整流电路相数，或采用多重化技术。 设置电感量足够大的平波电抗器。 V-M系统的机械特性 电流波形连续时，V-M系统机械特性方程式： \\[n = \\frac{1} { {C_e} }({U_{d0} } - {I_d}R)\\] 其中\\(C_e = {K_e} {\\phi_N}\\)为额定磁通下的电动势系数；\\(K_e\\)为直流电机电动势结构常数 电流连续时V-M系统的机械特性 电流波形断续时，由于非线性因素，机械特性方程十分复杂，这里不再赘述。 V-M系统的机械特性 由图可知电流连续时，机械特性较硬，这时的晶闸管整流器可视作线性的可控电压源。 电流断续时，机械特性软，理想空载转速高，特性曲线上翘处于非线性状态。 连续区与断续曲的分界线位于\\(\\theta = \\frac{2\\pi } {3}\\)处，其中\\(\\theta\\)为一个电流脉波的导通角，\\(\\theta &gt; \\frac{2\\pi } {3}\\)时电流波形连续。 图中\\(\\alpha\\)为触发脉冲控制角，\\(\\alpha &lt; \\frac{\\pi } {2}\\)时系统处于整流状态，\\(\\alpha &gt; \\frac{\\pi } {2}\\)处于逆变状态。 晶闸管触发和整流装置的传递函数 实际晶闸管触发和整流装置是非线性的，在一定的工作范围内可近似看作线性环节。分别求出它的放大系数与传递函数后，便可以利用线性控制理论分析V-M系统。 放大系数计算 晶闸管触发与整流装置的输入输出特性 晶闸管触发与整流装置的输入输出特性如上图所示，其中\\(U_c\\)为输入电压（控制电压），\\(U_d\\)为输出电压（整流电压） 可求出放大系数\\({K_s} = \\frac{\\Delta {U_d} } {\\Delta {U_c} }\\)，即工作范围内的特性斜率。 亦可根据装置的工作参数估算。如\\(U_c\\)范围为0~10V，\\(U_d\\)范围为0~220V，则放大系数\\(K_s=220/10=22\\)。 失控时间 晶闸管的整流作用具有滞后性，即晶闸管导通后，控制电压\\(U_c\\)的变化不再起到作用，直到下一个自然换相点后，控制电压\\(U_c\\)对应的下一相触发脉冲到来才会使输出整流电压\\(U_{d0}\\)发生变化。这使得整流电压滞后于控制电压。 晶闸管触发与整流装置的失控时间 上图所示电路为单相桥式全控整流电路，其具体原理可参见我的电力电子技术笔记（还没写，到时候会附上链接）。 图中\\(t_2\\)时刻控制电压发生变化，但\\(u_d\\)没有立刻发生改变，而是在下一相发生变化。平均整流电压的计算周期是从自然换向点开始到下一个自然换向点结束，因此\\(t_3\\)时刻平均整流电压\\(U_{d0}\\)改变。在这里失控时间\\(T_s=t_3-t_2\\)。 由于\\(U_c\\)变化的时刻不确定，因此失控时间\\(T_s\\)是随机值。 最大失控时间\\({T_{smax} } = \\frac{1} {mf}\\) 其中\\(f\\)为交流电源频率，通常取50Hz；\\(m\\)为一周内整流电压脉波数。 平均失控时间\\({T_s} = \\frac{1}{2}{T_{smax } }\\) 常见晶闸管整流器失控时间（\\(f=50Hz\\)） 整流电路形式 最大失控时间 \\({T_{smax} }\\)(ms) 平均失控时间 \\({T_{smax} }\\)(ms) 单相半波(\\(m=1\\)) 20 10 单相桥式（全波）(\\(m=2\\)) 10 5 三相半波(\\(m=3\\)) 6.67 3.33 三相桥式(\\(m=6\\)) 3.33 1.67 传递函数 因上可知，在动态过程中，晶闸管触发与整流装置可被视作一个纯滞后环节。 输入阶跃信号\\(1(t)\\)，在\\(T_s\\)时间后产生响应\\(1(t-T_s)\\)。 输入输出关系（时域）：\\({U_{d0} } = {K_s} {U_c} \\times 1(t - {T_s})\\) 传递函数：\\({W_s}(s) = \\frac{ { {U_{d0} }(s)} } { { {U_c}(s)} } = {K_s} {e^{ - {T_s}s} }\\) 泰勒展开，忽略高次项后，可近似为一阶惯性环节\\({W_s}(s) \\approx \\frac{ { {K_s} } } { {1 + {T_s}s} }\\) 动态结构图如下所示： 晶闸管触发与整流装置动态结构图a)准确的时滞环节 b)近似的一阶惯性环节 晶闸管整流器运行中存在的问题 晶闸管是单向导电的。 晶闸管对过电压、过电流和过高的du/dt与di/dt都十分敏感。 晶闸管的导通角变小时会使得系统的功率因数也随之减少，称之为“电力公害”。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统01-绪论","slug":"课程笔记/运动控制系统/运动控制系统01-绪论","date":"2023-05-11T23:13:57.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统01-绪论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F01-%E7%BB%AA%E8%AE%BA/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第一章 绪论；对应页码p1-p6 运动控制系统的概念 电力拖动——电能与机械能间的能量转换 电力拖动自动控制系统(运动控制系统) ——通过控制电动机的电压、电流、频率等输入量，来改变机械转矩、速度、位移等机械量 运动控制系统的实现涉及到多个学科 运动控制系统及其组成 ①电动机——电机学/电机拖动 ②功率放大与变换装置——电力电子技术 ③控制器——自动控制原理/计算机控制技术 ④信号处理与传感器——检测与转换 运动控制系统基本方程式 \\[J\\frac{ {d{\\omega _m} } } { {dt} } = {T_e} - {T_L} - D{\\omega _m} - K{\\theta _m}\\] \\[\\frac{ {d{\\theta _m} } } { {dt} } = {\\omega _m}\\] 其中： \\(J\\)——机械转动惯量（kg·㎡） \\(\\omega _m\\)——转子机械角速度（rad/s） \\(\\theta _m\\)——转子机械角（rad） \\(T_e\\)——电磁转矩（N·m） \\(T_L\\)——负载转矩（N·m） \\(D\\)——阻尼转矩系数 \\(K\\)——扭转弹性转矩系数 通常忽略阻尼转矩和扭转弹性转矩，运动方程式简化为 \\[J\\frac{ {d{\\omega _m} } } { {dt} } = {T_e} - {T_L}\\] 采用飞轮距代替转动惯量，可以将式子改写为 \\[\\frac{ {G{D^2} } } { {375} }\\frac{ {dn} } { {dt} } = {T_e} - {T_L}\\] 其中：转换公式为\\(J = m{\\rho ^2} = \\frac{ {G{D^2} } } { {4g} }\\)，角速度\\({\\omega _m} = \\frac{ {2\\pi n} } { {60} }\\)，\\(375 \\approx \\frac{ {120g} } {\\pi }\\)（m/min·s） \\(m\\)——转动部分质量（kg） \\(G\\)——转动部分重力（N） \\(\\rho\\)——转动惯性半径（m） \\(D\\)——转动惯性直径（m） \\(g\\)——重力加速度（取9.8\\(m{\\text{/} } { {\\text{s} }^2}\\)） \\(n\\)——转子机械转速（r/min） 转矩控制是运动控制的根本问题 因为要控制电机的转速与转角（或直线电机的速度与位移），唯一需要控制的是电机的电磁转矩\\(T_e\\) 磁链控制同样重要 为了有效地控制电磁转矩，充分利用电机铁芯，在一定的电流作用下尽可能产生最大的电磁转矩，必须在控制转矩的同时也控制磁通（或磁链）。 通常在基速（额定转速）以下采用恒磁通控制，基速度以上采用弱磁控制。 生产机械的负载转矩特性 恒转矩负载 恒转矩负载 a）位能性恒转矩负载（由重力产生）——起重机、电梯 负载转矩的大小和方向始终不变。例如起重设备提升重物时，负载转矩为阻转矩，其作用方向与电动机旋转方向相反，当下放重物时，负载转矩变为驱动转矩，其作用方向与电动机旋转方向相同，促使电动机旋转 b) 反抗性恒转矩负载——轧钢机、机床平移机构 负载转矩的方向始终与生产机械运动的方向相反，始终是阻转矩 恒功率负载 恒功率负载 \\(P_L\\)为常数，\\({T_L} = \\frac{P_L}{\\omega _m} = \\frac{ {60{P_L} } } { {2\\pi n}}\\) 负载转矩与转速成反比、反抗性负载——车床加工、牵引 车床粗加工时，切削量大（负载大），用低速挡 车床精加工时，切削量小（负载小），用高速挡 风机泵类负载 风机泵类负载 \\({T_L} \\propto \\omega _m^2 \\propto {n^2}\\)负载转矩与转速平方成正比、反抗性负载——风机、水泵、油泵 参考资料 阮毅,杨影,陈伯时. 电力拖动自动控制系统——运动控制系统(第四版)[M]. 北京:机械工业出版社,2016 机电之家——生产机械的负载转矩特性","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"建站历程","slug":"hello-world-1","date":"2023-05-11T12:53:46.000Z","updated":"2024-09-08T10:46:23.756Z","comments":true,"path":"hello-world-1/","link":"","permalink":"https://renahah.github.io/hello-world-1/","excerpt":"记录网站搭建的过程，解决问题的途径，列举所参考的资料。","text":"记录网站搭建的过程，解决问题的途径，列举所参考的资料。 2023年 2023-4-3 最初的打算是搭建一个wiki形式的知识库，参考B站相关教程，建立了基于Wikitten的本地网站。Wikitten是基于PHP的动态网站，开始初步学习（其实是复习，以前有基础）HTML、CSS、Javascript、PHP等相关知识。 搭建本地Wiki，创建属于自己的知识管理体系 by-FiixOne Wikitten by-devaneando 菜鸟教程 2023-5-11 基于静态网页生成器Hexo搭建个人知识库/博客，使用Wikitten主题，挂载在GitHub上。 hexo搭建个人博客超简单效果超好的个人网站博客搭建对小白很友好 by-计算机毕业设计团队 【2022最新版】保姆级Hexo+github搭建个人博客并绑定自己的域名 by-武师叔 hexo-script使用文档 hexo文档 hexo-theme-Wikitten by-zthxxx Hexo博客搭建基础教程 by-fomal 2023-5-12 实现对MathJax数学公式的支持 2023-5-13 加入网页404界面 2023-5-14 试图实现Mermaid流程图支持，成功了但效果不好，目前未启用。 ①太慢，二十多秒才能渲染出来；②手机端显示效果不佳——应该是mermaid.min.js的问题 设置Hexo支持mermaid by-天天教程 2023-5-21 成功支持twikoo评论系统，使用Zeabur进行部署 twikoo文档 Zeabur hexo-yilia主题支持twikoo评论系统 by-布小星 2023-5-23 成功支持夜间模式，点击🌞或🌙图标即可切换 Hexo 暗黑模式 by-Royce 2023-7-18 关闭了评论系统，因为Zeabur试用期结束，之后需要花钱，而我只想白嫖。 也不会有人在我的博客里评论吧。 计划中的内容 实现分类页与文章目录的浮动。 To Be Countinued未完待续......","categories":[],"tags":[]},{"title":"论外星人存在的可能性","slug":"日记/论外星人存在的可能性","date":"2023-05-11T10:30:57.000Z","updated":"2024-01-25T05:20:20.928Z","comments":true,"path":"日记/论外星人存在的可能性/","link":"","permalink":"https://renahah.github.io/%E6%97%A5%E8%AE%B0/%E8%AE%BA%E5%A4%96%E6%98%9F%E4%BA%BA%E5%AD%98%E5%9C%A8%E7%9A%84%E5%8F%AF%E8%83%BD%E6%80%A7/","excerpt":"个人认为，在宇宙中，外星人存在的可能性无限趋近于百分之百，不存在的可能性几乎没有。","text":"个人认为，在宇宙中，外星人存在的可能性无限趋近于百分之百，不存在的可能性几乎没有。 如果没有外星人，也就是说宇宙中只有地球上出现了智慧生命，或者说地球人是的宇宙中第一个出现的智慧生命种族，那未免过于巧合，毕竟宇宙太大了，存在无限的可能性。 从另一个角度看，我们可以试着想一下，地球在宇宙中，是否具有特殊性。目前的答案是否定的，因为基于目前的天文观测结果，太阳在银河系中，只是一个普通恒星，银河系也只是宇宙中的一个普通河系，没有任何特别之处。既然地球上能出现智慧生命，那么宇宙中其他的普通恒星系上，只要存在处于宜居带上的岩石行星，就有机会存在智慧生命。也就是说外星人在宇宙中到处都是，不要把自己想的太特殊。 可能有人会说，就算宇宙中存在大量符合条件的类似于地球的行星，也不意味着这些行星会有智慧生命，这种概率太低了。地球诞生了约45亿年，在诞生几亿年后出现了最初的生命，而再此基础上出现我们却用了约40亿年，可以看出来生命的出现相对容易，火星上也有可能存在生命，但出现智慧生命并不容易，这需要漫长的进化，天时地利，以及各种复杂条件。这确实使得类地行星出现智慧生命的概率极低。但概率再低也不是零，哪怕是亿分之一，只要宇宙足够大，就可以诞生数以亿计的智慧文明。这种概率极低事情就在你身上发生过，数以亿计的精子争夺一个进入卵子的机会，你所在的精子取得胜利，结合为受精卵。概率低不要紧，只要基数足够大，事件发生的次数就会很多。 当然有这么一种可能性，地球具有特殊性，只是以目前科学无法探测，通过这样的特殊性推测出我们是目前宇宙中唯一智慧生命族群，如果这事真的发生了，那就更证实了外星人确实存在，为什么地球会特殊？这会不会是外星人的刻意安排，或许它们躲在宇宙深处观察我们，进行一项实验，研究内容可能是在没有任何外星人的前提下，单一智慧文明在宇宙中会如何发展。如果地球有特殊性，那么极有可能是外星人的干预造成的，自然形成特殊性的可能性极低。 综上，外星人不存在的可能性极低，外星人不存在的情况只有两种可能：地球具有特殊性，且这种特殊性系自然形成；地球人是的宇宙中第一个出现的智慧生命种族。","categories":[{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"科幻","slug":"科幻","permalink":"https://renahah.github.io/tags/%E7%A7%91%E5%B9%BB/"},{"name":"脑洞","slug":"脑洞","permalink":"https://renahah.github.io/tags/%E8%84%91%E6%B4%9E/"}]},{"title":"使用技巧","slug":"hello-world","date":"2023-05-11T02:53:46.000Z","updated":"2025-07-18T07:10:26.663Z","comments":true,"path":"hello-world/","link":"","permalink":"https://renahah.github.io/hello-world/","excerpt":"","text":"Hexo指令 在hexoblog文件夹内，右键点击Git Bash Here进入窗口输入指令 启动本地服务器 hexo s 清空静态文件 hexo clean 生成静态文件 hexo g 上传至git hexo d 创建新文章 hexo new 文章名称.md 安装Nodejs插件 npm i 插件名称 --save 卸载Nodejs插件 npm un 插件名称 --save 查看插件是否安装 npm list 插件名称 一键部署脚本up.sh 清空+生成+上传git source up.sh Hexo语法 基础语法 井号是标题（最多6个井号），段尾两个空格是换行 一星*斜体*，俩星**粗体**，仨星***斜体加粗体***。 一星斜体，俩星粗体，仨星斜体加粗体。 摘要 &lt;!--more--&gt;之上的内容为摘要。 站内链接 格式为： &#123;% post_link 音乐/乐理/乐理笔记01-基础知识 '乐理笔记01-基础知识' %&#125; 显示效果： 乐理笔记01-基础知识 HTML语法 Markdown不支持或者支持效果不好的语法可以使用HTML代替。 文本高亮 &lt;mark&gt;文本高亮&lt;/mark&gt; 文本高亮 &lt;mark style=\"background-color:cyan\"&gt;也可以使用CSS换一个高亮颜色&lt;/mark&gt; 也可以使用CSS换一个高亮颜色 文本标注 鼠标移动到这段文字上会显示标注 文本下划线 &lt;u&gt;文本下划线&lt;/u&gt; 文本下划线 文章插入图片方法 修改工程根目录下的_config.yml的配置：post_asset_folder: true； 创建一个文件夹，文件夹的名字和博客文件名一样，在里面放置你要引入的图片； 在文章中正常引用，只需要把图片名字引入即可，不需要写相对地址和绝对地址 &lt;center&gt;&lt;img src=\"1 图片插入模板.png\" width=400/&gt;&lt;span class=\"caption\"&gt;图1 图片插入模板&lt;/span&gt;&lt;/center&gt; 改变字体样式 &lt;div style=\"font-family:Simsun;font-size:larger;font-weight:bold;\"&gt;宋体；字体加大；字体加粗&lt;/div&gt; 乃命羲和，钦若昊天历象—日月星辰，敬授民时。 字体拼音 &lt;ruby&gt;说&lt;rt&gt;yuè&lt;/rt&gt;&lt;/ruby&gt; 子曰：“学而时习之，不亦说yuè乎？有朋自远方来，不亦乐乎？人不知而不愠，不亦君子乎？” 折叠一部分内容 &lt;details&gt;&lt;summary&gt;点击展开/折叠内容&lt;/summary&gt;&lt;p&gt;这是折叠的内容。当你点击上面的标题时，这段内容会展开或折叠。&lt;/p&gt;&lt;/details&gt; 点击展开/折叠内容 这是折叠的内容。当你点击上面的标题时，这段内容会展开或折叠。 Mathjax公式 使用说明 所用渲染插件为hexo-rendere-pandoc 从mathtype粘贴AMSLaTex格式，公式内不能出现连续的左大括号——将公式内连续的大括号用空格隔开即可 公式内不能出现换行——删掉换行即可 公式符号边要紧挨$字符，不能有空格 公式语法 太多了，暂略 公式测试 \\[E = m{c^2}\\] 行内\\(O(f(n))=log_2^{n}\\)测试 行内\\(\\begin{Bmatrix} a &amp; b \\\\ c &amp; d \\end{Bmatrix}\\)显示测试 \\[{I_d} - {I_{dL}}\\] \\[i\\hbar\\frac{\\partial}{\\partial t}\\psi=-\\frac{\\hbar^2}{2m}\\nabla^2\\psi+V\\psi\\] \\[\\left\\{ \\begin{gathered} {U_{d0} } - E = R({I_d} + {T_e}\\frac{ {d{I_d} } } { {dt} }) \\hfill \\\\{I_d} - {I_{dL} } = \\frac{ { {T_m} } } {R}\\frac{ {dE} } { {dt} } \\hfill \\\\ \\end{gathered} \\right. \\] \\[{I_d} - {I_{dL}} = \\frac{G{D^2}}{375*{C_T}*{C_e}}\\frac{dE}{dt}\\] \\[u(t) = {K_p}e(t) + {K_i}\\int_0^t {e(t)dt + {K_d}\\frac{de(t)}{dt}}\\] \\[X_{k + 1}^{(j)} = X_k^{(j)} + v_{k + 1}^{(j)} \\cdot dt\\] \\[{W_{opi} }(s) = \\frac{ { {K_i}({\\tau _i}s + 1)} } { { {\\tau _i}s} }\\frac{ {\\beta {K_s}/R} } { {({T_l}s + 1)({T_{\\sum i}}s + 1)} }\\] \\[3\\sqrt {\\frac{1} { { {T_m} {T_l} } } } = 3 \\times \\sqrt {\\frac{1} { {0.137 \\times 0.032} } } {s^{ - 1} } = 45.31{s^{ - 1} } &lt; {\\omega _{ci} }\\] 特殊符号 ①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮⑯⑰⑱⑲⑳㉑㉒㉓㉔㉕㉖㉗㉘㉙㉚㉛㉜㉝㉞㉟㊱㊲㊳㊴㊵㊶㊷㊸㊹㊺㊻㊼㊽㊾㊿ Git的使用 Git是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。 Git是将代码和文档更新并上传至网站（或下载到本地）的数据备份方式。 配置账号名与邮箱信息： git config --global user.name \"name\" git config --global user.email \"email\" 生成密钥： ssh-keygen -t rsa -C \"email\" 查看密钥（复制到网站设置界面“SSH公钥”内）： cat ~/.ssh/id_rsa.pub 初始化本地仓库： git init 添加所有文件（不会删除文件）： git add .（将“.”替换成具体文件用于添加单个文件） 更新所有文件： git add -A 添加注释(commit)： git commit -m \"注释内容\" 设置网站仓库地址： git remote add origin https://gitee.com/renahah/RenAhahWikiSource.git 删除网站仓库地址： git remote rm origin 同步网站仓库内容到本地： git pull --rebase origin master 由本地上传到网站： git push -u origin master hexo d报错“Spawn failed”的解决办法 1234567891011进入站点根目录cd D:/RenAhah/hexoblog 删除git提交内容文件夹rm -rf .deploy_git/ 执行git config --global core.autocrlf false 最后hexo clean &amp;&amp; hexo g &amp;&amp; hexo d 代码段嵌入测试 在主题配置文件_config.Wikitten.yml中修改customize.highlight的值，即可修改代码段的高亮样式，高亮样式文件夹位于hexoblog\\themes\\Wikitten\\source\\css\\_highlight 目前所用高亮样式为atelier-forest-light 注意修改yml文件后要重新hexo s一次才能生效 123456789101112131415int main(void)&#123; NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);//设置中断优先级分组为组2：2位抢占优先级，2位响应优先级 delay_init(); //延时函数初始化 uart_init(9600); //串口初始化为115200 TIM1_Int_Init(99,7199);//定时10ms(电机) CAN2_Configuration(); Sensor_Init(); PID_Reset(&amp;pid1); PID_Reset(&amp;pid2); while(1) &#123; &#125;&#125; To Be Countinued未完待续...... 参考资料 Git 常用命令详解 hexo部署报错Spawn failed原因及解决方法 hexo-theme-Wikitten说明 这次彻底解决在Hexo中渲染MathJax数学公式出现的问题！！！","categories":[],"tags":[]}],"categories":[{"name":"国学","slug":"国学","permalink":"https://renahah.github.io/categories/%E5%9B%BD%E5%AD%A6/"},{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机控制器算法综述","slug":"课题笔记/电机控制器算法综述","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%97%E6%B3%95%E7%BB%BC%E8%BF%B0/"},{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"课程笔记/神经网络原理及应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"},{"name":"永磁同步电机","slug":"课题笔记/永磁同步电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA/"},{"name":"开关磁阻电机","slug":"课题笔记/开关磁阻电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"},{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"},{"name":"电机设计","slug":"课程笔记/电机设计","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A1/"},{"name":"电机学","slug":"课程笔记/电机学","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA%E5%AD%A6/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"},{"name":"鲁棒控制理论与应用","slug":"课程笔记/鲁棒控制理论与应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"作曲","slug":"音乐/作曲","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%BD%9C%E6%9B%B2/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"},{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"},{"name":"电力电子技术","slug":"课程笔记/电力电子技术","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"国学","slug":"国学","permalink":"https://renahah.github.io/tags/%E5%9B%BD%E5%AD%A6/"},{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"},{"name":"DeepSeek","slug":"DeepSeek","permalink":"https://renahah.github.io/tags/DeepSeek/"},{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"神经网络原理及应用","permalink":"https://renahah.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"},{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"永磁同步电机","slug":"永磁同步电机","permalink":"https://renahah.github.io/tags/%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA/"},{"name":"开关磁阻电机","slug":"开关磁阻电机","permalink":"https://renahah.github.io/tags/%E5%BC%80%E5%85%B3%E7%A3%81%E9%98%BB%E7%94%B5%E6%9C%BA/"},{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"},{"name":"电机设计","slug":"电机设计","permalink":"https://renahah.github.io/tags/%E7%94%B5%E6%9C%BA%E8%AE%BE%E8%AE%A1/"},{"name":"电机学","slug":"电机学","permalink":"https://renahah.github.io/tags/%E7%94%B5%E6%9C%BA%E5%AD%A6/"},{"name":"智能优化算法","slug":"智能优化算法","permalink":"https://renahah.github.io/tags/%E6%99%BA%E8%83%BD%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/"},{"name":"粒子群算法","slug":"粒子群算法","permalink":"https://renahah.github.io/tags/%E7%B2%92%E5%AD%90%E7%BE%A4%E7%AE%97%E6%B3%95/"},{"name":"鲁棒控制理论与应用","slug":"鲁棒控制理论与应用","permalink":"https://renahah.github.io/tags/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"},{"name":"作曲","slug":"作曲","permalink":"https://renahah.github.io/tags/%E4%BD%9C%E6%9B%B2/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"},{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"},{"name":"竞赛","slug":"竞赛","permalink":"https://renahah.github.io/tags/%E7%AB%9E%E8%B5%9B/"},{"name":"单片机","slug":"单片机","permalink":"https://renahah.github.io/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"},{"name":"OPENMV","slug":"OPENMV","permalink":"https://renahah.github.io/tags/OPENMV/"},{"name":"软件开发","slug":"软件开发","permalink":"https://renahah.github.io/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"},{"name":"python","slug":"python","permalink":"https://renahah.github.io/tags/python/"},{"name":"电力电子技术","slug":"电力电子技术","permalink":"https://renahah.github.io/tags/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"},{"name":"科幻","slug":"科幻","permalink":"https://renahah.github.io/tags/%E7%A7%91%E5%B9%BB/"},{"name":"脑洞","slug":"脑洞","permalink":"https://renahah.github.io/tags/%E8%84%91%E6%B4%9E/"}]}