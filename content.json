{"meta":{"title":"RenAhahWiki","subtitle":"个人数据库/个人博客","description":"电气工程/控制工程/电机控制/电力电子/信息技术","author":"RenAhah","url":"https://renahah.github.io","root":"/"},"pages":[{"title":"","date":"2024-01-25T05:20:20.888Z","updated":"2024-01-25T05:20:20.888Z","comments":true,"path":"README.html","permalink":"https://renahah.github.io/README.html","excerpt":"","text":"RenAhahWiki_source RenAhahWiki源文件备份"},{"title":"异！误！","date":"2023-05-13T12:08:47.000Z","updated":"2024-01-25T05:20:20.888Z","comments":true,"path":"/404.html","permalink":"https://renahah.github.io/404.html","excerpt":"","text":"异页顶针，鉴定为404错误。 ⣿⣿⣿⠟⠛⠛⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⢋⣩⣉⢻⣿⣿ ⣿⣿⣿⠀⣿⣶⣕⣈⠹⠿⠿⠿⠿⠟⠛⣛⢋⣰⠣⣿⣿⠀⣿⣿ ⣿⣿⣿⡀⣿⣿⣿⣧⢻⣿⣶⣷⣿⣿⣿⣿⣿⣿⠿⠶⡝⠀⣿⣿ ⣿⣿⣿⣷⠘⣿⣿⣿⢏⣿⣿⣋⣀⣈⣻⣿⣿⣷⣤⣤⣿⡐⢿⣿ ⣿⣿⣿⣿⣆⢩⣝⣫⣾⣿⣿⣿⣿⡟⠿⠿⠦⠀⠸⠿⣻⣿⡄⢻ ⣿⣿⣿⣿⣿⡄⢻⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣾⣿⣿⣿⣿⠇⣼ ⣿⣿⣿⣿⣿⣿⡄⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⣰⣿ ⣿⣿⣿⣿⣿⣿⠇⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢀⣿⣿ ⣿⣿⣿⣿⣿⠏⢰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢸⣿⣿ ⣿⣿⣿⣿⠟⣰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⣿⣿ ⣿⣿⣿⠋⣴⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡄⣿⣿ ⣿⣿⠋⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⢸⣿ 12345 44 00000 44 NN NN tt FFFFFFF dd 444 00 00 444 NNN NN oooo tt FF oooo uu uu nn nnn dd 44 4 00 00 44 4 NN N NN oo oo tttt FFFF oo oo uu uu nnn nn dddddd44444444 00 00 44444444 NN NNN oo oo tt FF oo oo uu uu nn nn dd dd 444 00000 444 NN NN oooo tttt FF oooo uuuu u nn nn dddddd"},{"title":"Tags","date":"2024-01-25T05:20:21.091Z","updated":"2024-01-25T05:20:21.091Z","comments":true,"path":"tags/index.html","permalink":"https://renahah.github.io/tags/index.html","excerpt":"","text":""},{"title":"About","date":"2024-01-25T05:20:21.091Z","updated":"2024-01-25T05:20:21.091Z","comments":true,"path":"about/index.html","permalink":"https://renahah.github.io/about/index.html","excerpt":"","text":"关于我 一个普通而平凡的人。虽努力，但也不完全努力；虽顺利，但也不怎么顺利；虽失败，但也不彻底失败；虽然生命的起源与世界为何存在至今仍是未解之谜，但怎么说得证明自己存在的价值，为这个世界留下点什么。 虽是电气/自动化专业学生，但一直以来都对计算机感兴趣，看了下目前的个人博客，除了生活类内容外，绝大多数技术性分享都是计算机软件相关内容，最多涉及到单片机硬件，涉及其他学科的个人博客较少，涉及电气工程——电机控制方向的个人博客更是相当稀少（特指个人建立网站发布，不包括在CSDN、博客园等大型平台上发布的博客）。我的个人博客将弥补国内在这方面的空白。我就随便写一写，整理资料罢了。 音乐方面主要听电子音乐；想自学乐理及Fl Stdio做曲，但是懒得学 书籍方面主要看科幻小说，网文也看；想自己写科幻小说或者网文，但是懒得写 游戏方面主要玩我的世界(Minecraft)以及类似的沙盒游戏(Starbound,terraria,Minetest等)；想编程开发类似的沙盒游戏或者做Minecraft模组，但是懒得编 除此之外还玩玩音乐游戏，天赋不够水平一般，主要是听歌打节奏，毕竟音游曲与电子音乐有较大的重合度。 电影电视剧不怎么看，因为感觉信息密度太低，看书可以自由控制阅读节奏，脑补出的场景效果更好。 个人非常不喜欢把看视频作为学习某门课程知识的方式（除非是动手操作类的视频），对于理论知识的学习，对我个人而言其效率排序为文章≥PPT&gt;书籍&gt;视频。看视频学知识实在是太低效了，可能看半天也看不到重点；书籍的内容全面，但是内容过多，其中很多都是废话；上课用的PPT就很好，内容全是干货，当然有时会过于精炼，导致有的点get不到；而文章，我认为是学习知识的最好载体，基于PPT和书籍以及自己的心得体会整理而成的笔记，可以兼顾到书籍和PPT的优点，看文章的学习效率，可以说是视频的十倍不止。这或许是大家写博客的一个重要原因。 哪里有我 网易云音乐RenAhah 知乎任啊啊 B站我是任啊啊 微博RenAhah osu! RenAhah MalodyRenAhah githubRenAhah SpotifyRenAhah SoundcloudRenAhah 邮箱527849618@qq.com 网站内容规划 网站定位：个人知识数据库兼博客 ①电气工程——电机控制相关：研究生阶段专业知识数据库，包括不同种类电机的本体及调速原理方法，自动控制原理及方法；建模仿真软件ANSYS，MATLAB的使用及相关例程，DSP控制器编程方法及相关例程。 ②单片机——硬件相关：单片机知识数据库，包括微机原理，单片机原理，计算机控制技术，数字电子技术等基础知识；STM32等各类单片机编程方法及相关例程。 ③计算机——软件相关：网站搭建所需知识数据库(HTML,CSS,Javascript,php,SQL等)。其他编程语言笔记及项目实战(C,C++,Java,Python,lua等)。 ④兴趣爱好相关：作曲研究，读过的书籍整理及读后感，视频剪辑学习研究等。 ⑤个人日记：心路历程。"},{"title":"Categories","date":"2024-01-25T05:20:21.091Z","updated":"2024-01-25T05:20:21.091Z","comments":true,"path":"categories/index.html","permalink":"https://renahah.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"Maxwell教程05-永磁同步电机静态仿真案例","slug":"工业软件/ANSYS/Maxwell教程05-永磁同步电机静态仿真案例","date":"2024-04-05T03:59:05.000Z","updated":"2024-04-05T13:29:19.621Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程05-永磁同步电机静态仿真案例/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B05-%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA%E9%9D%99%E6%80%81%E4%BB%BF%E7%9C%9F%E6%A1%88%E4%BE%8B/","excerpt":"","text":"基于B站视频【Maxwell基础入门】永磁同步电机静态仿真案例整理的学习笔记，视频原作者为我真的爱吃炸鸡。 使用的软件版本为2021R1 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 电机参数 部件 参数 定子外径 180mm 定子内径 120mm 气隙 0.6mm 永磁体厚度 4mm 定子槽数 36 定子极数 4 模型绘制 打开软件，点击Desktop菜单里的Maxwell图标，点击Maxwell 2D，创建一个二维的Maxwell工程。 点击菜单栏Modeler-&gt;Units，确认仿真单位为mm。 接下来绘制定子槽与导体。 (1)点击Draw菜单栏中的直线(Draw Line)，然后在右下角xyz坐标处依次输入(59.6,1,0)-&gt;(61.25,1,0)-&gt;(62.75,2.75,0)-&gt;(79.25,4,0)，每输入一个数据就回车一次，输入数据时鼠标不要离开输入区域。最后得到一段折线。 (2)接下来选中这段折线，点击Draw菜单栏中Thru Mirror，做一个镜面对称，点击x轴上的任意一点作为镜面对称的基准点，再点击其竖直下方的任意点作为另一个基准点。最后得到一段与x轴轴对称的折线。 (3)接下来画一段圆弧。点击Draw菜单栏中的“Draw center point arc”，在右下角xyz坐标输入(79.25,0,0)作为圆心，然后点击(79.25,4,0)与(79.25,-4,0)作为圆弧的两个端点。它将定子槽的两个顶端连接了起来。 (4)然后画一段直线，连接(59.6,1,0)与(59.6,-1,0)，完成整个定子槽。 (5)为方便仿真计算，将圆弧转化为线段的组合。这里选择Polyline2（圆弧对应的在左侧物料栏中的名字）-&gt;CreatePolyline-&gt;CreateAngular，双击它进入属性窗口，将Number of Segments设置为5。这样将会使圆弧近似转化为5条线段的组合。 (6)将定子槽所有的部分组合为一体。选中各个部分后，点击Draw菜单栏中Unite即可。 (7)将其由线段的组合转化为面。选中这个定子槽整体，点击Draw菜单栏中Surface-&gt;Cover Lines，就可以看到整个定子槽被填充成实心的了。 (8)接下来画定子槽导体，先画下导体，点击Draw菜单栏中的直线(Draw Line)，然后在右下角xyz坐标处依次输入(61.25,1,0)-&gt;(61.25,-1,0)-&gt;(61.25,-2.75,0)-&gt;(71.99,-3.45,0)-&gt;(71.99,3.45,0)-&gt;(61.25,2.75,0)-&gt;(61.25,1,0)，每输入一个数据就回车一次。 (9)再画上导体，这次不一个一个输入坐标，而是直接描线段，依次点击八个端点得到上导体。 (10)给导体命名，修改属性窗口中的Name，下导体(Polyline4)命名为down，上导体(Polyline5)命名为up。还可以顺便修改颜色。 接下来画定子铁芯。 (11)画两个圆，可以先随意一画，再修改圆的半径，根据上文电机参数，设置外圆半径90mm，内圆半径60mm。 (12)为方便仿真计算，将圆转化为线段的组合，这里将设置外圆的Number of Segments为36（原则上与定子槽数相等），内圆的Number of Segments为180（内圆与气隙接触，需要更精细的刨分来确保仿真精度）。 (13)接下来做布尔运算，将两个圆转化为圆环。选中这两个圆，点击Draw菜单栏中的Subtract做相减运算，进入界面后设置Blank Parts（减数）为外圆，Tool Parts为内圆（被减数）。 得到的圆环就是定子，这里将其命名为stator。 接下来将一个定子槽沿圆环复制得到全部36个定子槽。 (14)选中整个定子槽，点击Draw菜单栏中的Around Axis，界面中的Total number设为36（等于定子槽数），Angle设为10（360度除以定子槽数）。 (15)接下来剪切槽口，同样是布尔运算，选中定子圆环与36个定子槽，点击Draw菜单栏中的Subtract做相减运算，设置Blank Parts为定子圆环，Tool Parts为36个定子槽。 接下来绘制转子。 (16)同样是画一个外圆，其半径为55.4mm（定子内径减去气隙长度再减去永磁体厚度）。Number of Segments设置为180（和前面与气隙接触的定子内圆相同）。 (17)接下来画内圆，半径设为15mm，Number of Segments设置为36。 (18)接下来点击Draw菜单栏中的Subtract做相减运算，外圆减去内圆得到转子，这里将其命名为rotor。 接下来绘制永磁体。 (19)首先画一个半径为59.4mm的外圆（这个是辅助线，画完永磁体后需删掉），Number of Segments设置为180。 (20)然后就是比较精细的操作了，需要在59.4mm永磁体外圆与55.4mm转子外圆（永磁体内圆）之间画永磁体边界线。放大画面，画面中心为x轴正方向安装永磁体的位置，从x轴开始分别数两个圆的边（最好将Draw菜单栏中的Select由Object改为Edge，这样才能选中两个圆的边一个个数，数完后恢复原来的Object），分别逆时针数15个边（对应的角度为30°），最后一个边的上端点就是永磁体边界线的两个端点，画线连接之。 (21)然后使用Draw菜单栏中的Thru Mirror做一个对称，得到x轴下方的永磁体边界线。 (22)接下来画两段圆弧，以永磁体边界线的端点作为圆弧端点。 (23)将得到的四条线组合为一体，选中后点击Draw菜单栏中Unite。 (24)将永磁体由线段的组合转化为面。选中这个永磁体，点击Draw菜单栏中Surface-&gt;Cover Lines。 (25)选中永磁体，点击Draw菜单栏中的Around Axis，界面中的Total number设为4（定子极数），Angle设为90（360度除以定子极数）。这样就得到了全部四个永磁体。 (26)将x轴上的两个永磁体组合成一个N极，命名为Mag_N，同理y轴上的是S极，命名为Mag_S。 接下来画定子求解边界。 (27)画一个半径为90mm的外圆（Number of Segments设置为36）与59.7mm的内圆（Number of Segments设置为180），二者相减得到定子求解边界，命名为air。 接下来画转子运动边界。 (28)画一个半径为59.7mm的外圆（Number of Segments设置为180）与15mm的内圆（Number of Segments设置为36），二者相减得到定子求解边界，命名为band。 材料绑定 (1)选中所有导体（36个上导体与36个下导体），右键Assign Material，选择copper（铜）作为导体的材料。 (2)选中定子与转子，右键Assign Material，点击右上角的省略号按钮打开材料库，点击RMxprt材料库将之导入，选择DW465_50作为定子与转子的材料。 (3)选中永磁体N极，右键Assign Material，搜索NdFe30，选中后点击Clone Material，将其更名(Material Name)为NdFe30_N，Material Coordinate System Type设置为Cylindrical（径向磁化，圆柱坐标）。 (4)选中永磁体S极，右键Assign Material，搜索NdFe30，选中后点击Clone Material，Material Coordinate System Type设置为Cylindrical，将属性里的R Component设置为-1。 绕组设置 (1)选中up,up1,up2,up18,up19,up20,down,down34,down35,down16,down17,down18。右键Assign Excitation-&gt;Current，命名(Base Name)为PA（A相正极），15A，Positive。 (2)选中up9,up10,up11,up27,up28,up29,down7,down8,down9,down25,down26,down27。右键Assign Excitation-&gt;Current，命名(Base Name)为RA（A相负极），15A，Negative。 (3)选中up6,up7,up8,up24,up25,up26,down4,down5,down6,down22,down23,down24。右键Assign Excitation-&gt;Current，命名(Base Name)为PB（B相正极），7.5A，Positive。 (4)选中up15,up16,up17,up33,up34,up35,down13,down14,down15,down31,down32,down33。右键Assign Excitation-&gt;Current，命名(Base Name)为RB（B相负极），7.5A，Negative。 (5)选中up12,up13,up14,up30,up31,up32,down10,down11,down12,down28,down29,down30。右键Assign Excitation-&gt;Current，命名(Base Name)为PC（C相正极），7.5A，Positive。 (6)选中up3,up4,up5,up21,up22,up23,down19,down20,down21,down1,down2,down3。右键Assign Excitation-&gt;Current，命名(Base Name)为RC（C相负极），7.5A，Negative。 边界条件 (1)将Draw菜单栏中的Select由Object改为Edge。 (2)依次选中定子外径的36条边，右键Assign Boundary-&gt;Vector Potential，然后OK。 (3)选中转子内径，可以之间拖动选取，右键Assign Boundary-&gt;Vector Potential，然后OK。 模型刨分 (1)打开Simulation菜单栏，点击Mesh Settings，Mesh Method选择为Classic。 (2)选中所有的定子导体，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，命名为coil，Skin Depth设置为5，Number of Layers of Elements设置为8，Surface Triangle Length设置为2。 (3)选中定子与转子，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，命名为rotor_stator，Skin Depth设置为5，Number of Layers of Elements设置为6，Surface Triangle Length设置为4。 (4)选中永磁体N极与S极，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，命名为mag，Skin Depth设置为5，Number of Layers of Elements设置为2，Surface Triangle Length设置为4。 (4)选中定子求解边界与转子运动边界，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，命名为air，Skin Depth设置为5，Number of Layers of Elements设置为22，Surface Triangle Length设置为0.3。 模型求解与仿真结果查看 (1)右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面，使用默认设置，直接确定即可。 (2)点击Simulation菜单栏的Validate，可以检查目前是否达成正式开始仿真运行的所有条件。 (3)点击Validate旁边的Analyze All，开始求解，需要较长的一段时间。 (4)求解结束后，就可以看各种仿真结果了。先看一下磁力线分布，选中整个电机模型，右键Fields-&gt;A-&gt;Flux_Lines，设置界面中In Volume选择AllObjects，确认后开始生成相应的图像，右击图像上的图例Modify进入设置界面，可以修改图像的显示效果。 (5)再看一下磁场密度，选中电机模型后右键Fields-&gt;B-&gt;Mag_B，设置界面中In Volume选择AllObjects。 参考资料 【Maxwell基础入门】永磁同步电机静态仿真案例","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"BP神经网络PID控制器的设计与仿真","slug":"课程笔记/神经网络原理及应用/BP神经网络PID控制器的设计与仿真","date":"2024-03-28T01:42:17.000Z","updated":"2024-04-02T09:37:46.852Z","comments":true,"path":"课程笔记/神经网络原理及应用/BP神经网络PID控制器的设计与仿真/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/BP%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9CPID%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"预习神经网络原理及应用课程大作业所整理的笔记。 本文将介绍BP神经网络PID控制器原理及其改进、Simlink仿真具体步骤。依照上述原理与方法完成BP神经网络PID控制器的设计与仿真。 绪论 BP神经网络概述 误差反向传播(Back Propagation,BP)神经网络于1986年由Rumelhart和McClelland等人提出，其本质是一种对误差进行逆向传播，反复训练得到的多层前馈神经网络。BP神经网络一般由三层网络组成：输入层、隐含层与输出层。 BP神经网络算法有两个要点：其一是信息的前向传播，即信息经过输入层传播到隐含层后最终由输出层进行输出的过程。此时若实际输出与期望输出相同，则学习训练到此结束，给出结果； 其二是误差的反向传播，若实际输出与期望值不符，误差信号会原路返回，通过依次修改输出层和 隐含层的连接权使误差信号沿着负梯度方向下降，即调节权值使误差减小。 经过上述过程后，网络的最终实际输出将慢慢趋近于期望输出。 BP神经网络算法学习步骤 图1 BP神经网络模型 设输入层、隐含层、输出层节点分别为\\(x_i,o_j,y_l \\quad (i=1,2,\\cdots,M \\quad j=1,2,\\cdots,Q \\quad l=1,2,\\cdots,L)\\)。 设输入层神经元\\(i\\)与隐含层神经元\\(j\\)的连接权值为\\(w_{ji}\\)，设隐含层神经元\\(j\\)与输出层神经元\\(l\\)的连接权值为\\(w_{lj}\\)。 (1)初始化：为每个神经元随机分配初始权值与阈值。 (2)前向传播： 计算隐含层节点的输出：\\(o_j=f(\\sum\\limits_{i=0}^n w_{ji}x_i-\\theta_j)=f(net_j)\\) 计算输出层节点的输出：\\(y_l=f(\\sum\\limits_{j=0}^n w_{lj}x_i-\\theta_l)=f(net_l)\\) (3)计算误差：设输出端的教师信号为\\(t_l \\quad (l=1,2,\\cdots,L)\\)，得到误差函数\\(E_p=\\frac{1}{2} \\sum_l (t_l-y_l)^2\\) (4)反向传播：若误差函数满足要求，则结束训练；否则开始误差反向传递，即从后向前沿着误差梯度减小的方向修改每层之间的连接权值。 计算误差函数\\(E_p\\)与输出层节点连接权的偏导数：\\(\\frac{\\partial E}{\\partial w_{lj}}=\\sum\\limits_{k=1}^L \\frac{\\partial E}{\\partial y_k} * \\frac{\\partial y_k}{\\partial w_{lj}}=\\frac{\\partial E}{\\partial y_l} * \\frac{\\partial y_l}{\\partial w_{lj}}\\) \\(\\frac{\\partial E}{\\partial y_l}=\\frac{1}{2}\\sum_K[-2(t_k-y_k)] * \\frac{\\partial y_k}{\\partial y_l}=-(t_l-y_l)\\) \\(\\frac{\\partial y_l}{\\partial w_{lj}}=\\frac{\\partial y_l}{\\partial net_l} * \\frac{\\partial net_l}{\\partial w_{lj}}=f&#39;(net_l) * y_j\\) \\(\\Rightarrow \\frac{\\partial E}{\\partial w_{lj}}=-(t_l-y_l) * f&#39;(net_l) * y_j\\) 计算误差函数\\(E_p\\)与隐含层节点连接权的偏导数：\\(\\frac{\\partial E}{\\partial w_{ji}}=\\sum_i \\sum_j \\frac{\\partial E}{\\partial y_l} * \\frac{\\partial y_l}{\\partial o_j} * \\frac{\\partial o_j}{\\partial w_{ji}}\\) \\(\\frac{\\partial y_l}{\\partial o_j}=\\frac{\\partial y_l}{\\partial net_l} * \\frac{\\partial net_l}{\\partial o_j}=f&#39;(net_l) * w_{ji}\\) \\(\\frac{\\partial o_j}{\\partial w_{ji}}=\\frac{\\partial o_j}{\\partial net_j} * \\frac{\\partial net_j}{\\partial w_{ji}}=f&#39;(net_j) * x_i\\) \\(\\Rightarrow \\frac{\\partial E}{\\partial w_{ji}} = -\\sum_l (t_l-y_l) * f&#39;(net_l) * w_{ji} * f&#39;(net_j) * x_i\\) \\(=-\\sum_l \\delta_l * w_{ji} * f&#39;(net_j) * x_i = -\\delta_j^{&#39;} * x_i\\) 其中\\(\\delta_l = (t_l-y_l) * f&#39;(net_l) \\quad \\delta_j^{&#39;}=f&#39;(net_j)*\\sum_l \\delta_l w_{ji}\\) (5)调整连接权值：利用梯度下降原理，令连接权值按照学习速率\\(\\eta\\)修正。 输出层节点的连接权值被更新为：\\(w_{lj}(k+1)=w_{lj}(k)+\\Delta w_{lj} = w_{lj}(k) + \\eta \\delta_l o_j\\) 隐含层节点的连接权值被更新为：\\(w_{ji}(k+1)=w_{ji}(k)+\\Delta w_{ji} = w_{ji}(k) + \\eta^{&#39;} \\delta_j^{&#39;} x_i\\) (6)令\\(k=k+1\\)，回到步骤(2)再次进行计算，直至误差函数\\(E_p\\)小于某个设定好的阈值，结束学习训练。 BP神经网络的改进 (1)引入惯性项 (2)引入动量项 (3)变步长因子 (4)选取合适的激活函数 BP神经网络PID控制器设计 BP神经网络PID控制器原理 图2 BP神经网络PID控制器框图 PID控制的比例、积分、微分三个参数具有相互配合、相互制约的特点。借助BP网络对非线性函数的映射能力，可以使PID控制器中三个参数的各种非线性组合的最优解能够通过自学习得到。 BP神经网络PID控制器框图如上图所示，其中常规PID部分能够对受控对象形成闭环反馈控制，神经网络部分能够依据系统状态和特定的学习算法，最终得到最优的PID控制器的参数。 BP神经网络PID控制器设计步骤 图3 BP神经网络模型（PID控制器） (1)确定BP神经网络的结构 本文应用于PID控制器的BP神经网络模型如上图所示，该模型采用3-5-3结构。 其中，输入层\\(x_1,x_2,x_3\\)分别是系统的期望值、偏差值与实际值。输出层是PID控制器的\\(K_p,K_i,K_d\\)参数。这里将隐含层神经元个数设为5。 (2)设定隐含层以及输出层的连接权的初始值 设输入层、隐含层、输出层节点分别为\\(x_i,o_j,y_l \\quad (i=1,2,3 \\quad j=1,2,3,4,5 \\quad l=1,2,3)\\)。 设输入层神经元\\(i\\)与隐含层神经元\\(j\\)的连接权值为\\(w_{ji}\\)，设隐含层神经元\\(j\\)与输出层神经元\\(l\\)的连接权值为\\(w_{lj}\\)。 (3)确定激活函数 根据系统控制实际需求，这里选择双曲正切函数作为隐含层的激活函数。 \\(f(x)=tanh(x)=\\frac{e^x-e^{-x}}{e^x+e^{-x}}\\) \\(f^{&#39;}(x)=1-tanh^2(x)=1-f^2(x)\\) 由于输出层节点\\(K_p,K_i,K_d\\)值不能小于零，因此选择非负型双曲正切函数作为输出层的激活函数。 \\(g(x)=\\frac{1}{2}[1+tanh(x)]=\\frac{e^x}{e^x+e^{-x}}\\) \\(g^{&#39;}(x)=2g(x)[1-g(x)]\\) (4)前向传播参数计算 根据当前时刻系统设定值\\(r(k)\\)与实际输出值\\(y(k)\\)，依次计算\\(e(k)\\)、输入层输入、隐含层输入、隐含层输出、输出层输入、输出层输出。 注：右上角的\\((1),(2),(3)\\)用来指代输入层、隐含层、输出层。 输入层输入：\\(o_i^{(1)}=x(j) \\quad (i=1,2,3)\\) 隐含层输入：\\(net_j^{(2)}=\\sum\\limits_{i=0}^3 w_{ji}^{(2)} o_i^{(1)}\\) 隐含层输出：\\(o_j^{(2)}(k)=f(net_j^{(2)}(k)) \\quad (j=1,2,3,4,5)\\) 输出层输入：\\(net_l^{(3)}(k)=\\sum\\limits_{j=0}^5 w_{lj}^{(3)} o_j^{(2)}(k)\\) 输出层输出：\\(o_l^{(3)}(k)=g(net_l^{(3)}(k)) \\quad (l=1,2,3)\\) (5)根据增量式数字PID控制的公式，计算PID控制器输出的控制值u(k) 选定性能指标函数\\(E(k)=\\frac{1}{2}[r(k)-y(k)]^2\\) (6)反向传播参数计算 根据负梯度规则，调整输出层连接权值\\(w_{lj}^{(3)}\\)和隐含层连接权值\\(w_{ji}^{(2)}\\)。 \\(\\Delta w_{lj}^{(3)}(k)=-\\eta\\frac{\\partial E(k)}{\\partial w_{lj}^{(3)}} + \\alpha \\Delta w_{lj}^{(3)}(k-1)\\) \\(\\frac{\\partial E(k)}{\\partial w_{lj}^{(3)}}=\\frac{\\partial E(k)}{\\partial y(k)} * \\frac{\\partial y(k)}{\\partial \\Delta u(k)} * \\frac{\\partial \\Delta u(k)}{\\partial o_l^{(3)}(k)} * \\frac{\\partial o_l^{(3)}(k)}{\\partial net_l^{(3)}(k)} * \\frac{\\partial net_l^{(3)}(k)}{\\partial w_{lj}^{(3)}}\\) 经过化简与近似，得到输出层的连接权值在学习后的改变量 \\(\\Delta w_{lj}^{(3)}(k)=\\alpha \\Delta w_{lj}^{(3)}(k-1) + \\eta \\delta_l^{(3)}o_j^{(2)}(k)\\) \\(\\delta_l^{(3)}=e(k)sgn(\\frac{\\partial y(k)}{\\partial \\Delta u(k)}) \\frac{\\Delta u(k)}{\\partial o_l^{(3)}(k)}g^{&#39;}(net_l^{(3)}(k))\\) 同理得到隐含层的连接权值在学习后的改变量 \\(\\Delta w_{ji}^{(2)}(k)=\\alpha \\Delta w_{ji}^{(2)}(k-1)+\\eta \\delta_i^{(2)}o_i^{(1)}(k)\\) \\(\\delta_j^{(2)}=f^{&#39;}(net_j^{(2)}(k))\\sum\\limits_{l=1}^3 \\delta_l^{(3)}w_{lj}^{(3)}(k)\\) (7)令\\(k=k+1\\)，回到步骤(4)再次进行计算，直至性能指标函数\\(E(k)\\)小于设定值，结束学习训练。 BP神经网络PID控制器仿真分析 仿真模型搭建 S-function编写 仿真结果分析 参考资料 邱锡鹏. 神经网络与深度学习[M]. 北京:机械工业出版社,2020 李捷菲. 基于BP神经网络的PID控制系统研究与设计[D]. 吉林大学，2019 基于BP神经网络PID控制+Simulink仿真 CSDN—Mr. 邹—几种神经网络整定PID参数原理剖析及simulink案例仿真","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"课程笔记/神经网络原理及应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"神经网络原理及应用","permalink":"https://renahah.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}]},{"title":"单神经元PID控制器的设计与仿真","slug":"课程笔记/神经网络原理及应用/单神经元PID控制器的设计与仿真","date":"2024-03-23T14:19:32.000Z","updated":"2024-03-29T15:22:20.425Z","comments":true,"path":"课程笔记/神经网络原理及应用/单神经元PID控制器的设计与仿真/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/%E5%8D%95%E7%A5%9E%E7%BB%8F%E5%85%83PID%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"预习神经网络原理及应用课程大作业所整理的笔记。 本文将介绍单神经元PID控制器原理、有监督Hebb学习规则、单神经元PID控制器的改进、Simlink仿真具体步骤、S-function的使用方法。依照上述原理与方法完成单神经元PID控制器的设计与仿真。 下一篇文章将介绍基于BP神经网络的PID控制器的设计与仿真。 绪论 神经网络 人工神经网络(Artificial Neural Networks，ANN)，简称神经网络，是指一类受生物学和神经科学启发得来的的数学模型。主要通过对人脑的神经元网络进行抽象，构建人工神经元，并按照一定拓扑结构来建立人工神经元之间的连接，来模拟生物的神经网络。 人工神经网络由许许多多信息处理单位（对应于人脑中的神经元）根据不同的相互作用强度（即连接权值）互连而成，其实质是对生物学上的人脑神经体系的一种近似与模拟，人工神经网络能够像人体神经系统一样对外界知识进行检索、处理与存储。 单神经元原理 单神经元，又被称作MP神经元，由心理学家McCulloch和数学家Pitts于1943年根据生物神经元的结构提出。 图1 单神经元模型 单神经元模型如上图所示，其中\\(x_1,x_2,\\cdots,x_n\\)为接收到的信息，\\(\\omega_{i1},\\omega_{i2},\\cdots,\\omega_{in}\\)为连接的权值。将各个信息值按照权重相加并做一定处理，所得到的结果被称为“净输入”，其表达式为： \\(net_i=\\sum\\limits_{j = 1}^n \\omega_{ij}x_j-\\theta_i\\) 式中\\(\\theta_i\\)为神经元\\(i\\)的阈值。 最终的输出值\\(y_i\\)与净输入\\(net_i\\)的关系式为：\\(y_i=g(net_i)\\)，这里的\\(g\\)被称为激活函数。 单神经元PID控制器原理 图2 单神经元PID控制框图 单神经元PID控制框图如上图所示，图中\\(r_{in}\\)为系统输入值（设定值），\\(y_{out}\\)为系统实际输出值，输入转换模块将\\(r_{in}\\)与\\(y_{out}\\)变换为神经元的输入状态变量\\(x_i(k)\\)，这三个状态变量与PID控制器的三个参数（\\(K_p,K_i,K_d\\)）相关，PID控制器采用增量式算法，其中： \\(x_1(k)=e(k)\\)，对应PID控制的积分项，与误差量相等； \\(x_2(k)=\\Delta e(k)=e(k)-e(k-1)\\)，对应PID控制的比例项，反映误差变化的方向； \\(x_3(k)=\\Delta^2 e(k)=e(k)-2e(k-1)+e(k-2)\\)，对应PID控制的微分项。 取\\(\\omega_i(k)\\)为\\(x_i(k)\\)的神经元连接权值，取\\(K\\)为神经元的比例系数（要求\\(K&gt;0\\)），则有： \\(u(k)=u(k-1)+K\\sum\\limits_{i = 1}^3 \\omega_i(k)x_i(k)\\) \\(\\Delta u(k)=K[\\omega_1(k)e(k)+\\omega_2(k)\\Delta e(k)+\\omega_3(k)\\Delta^2 e(k)]\\) 由此可知，\\(K\\)值越大，系统整体速度越快，但同时超调量也会增多，而且影响系统整体稳定性。 神经元通过有监督型Hebb学习，对神经元连接权值进行实时修正，以实现对PID控制器参数的自适应调整。 这里取教师信号（系统性能指标）\\(z(k)=e(k)\\)，得到\\(k\\)时刻的连接权值为： \\(\\omega_i(k)=\\omega_i(k-1)+\\eta z(k)u(k)x_i(k)\\) 式中\\(\\eta\\)为学习速率，取大于零的较小值。 单神经元PID控制器改进 为解决当\\(\\eta\\)的值较大时，单神经元PID的学习速度增大的同时可能造成的收敛速度降低问题，可以让输入状态变量的连接权值以不同学习速率分开调整。 这里对不同状态变量采用不同的连接权值学习速率\\(\\eta_P,\\eta_I,\\eta_D\\)，可以得到： \\(\\omega_1(k)=\\omega_1(k-1)+\\eta_I z(k)u(k-1)x_1(k)\\) \\(\\omega_2(k)=\\omega_2(k-1)+\\eta_P z(k)u(k-1)x_2(k)\\) \\(\\omega_3(k)=\\omega_3(k-1)+\\eta_D z(k)u(k-1)x_3(k)\\) \\(u(k)=u(k-1)+K\\sum\\limits_{i=1}^3 \\omega_i^{&#39;}(k)x_i(k)\\) \\(\\omega_i^{&#39;}(k)=\\frac{\\omega_i(k)}{\\sum\\limits_{j=1}^3 |\\omega_j(k)|}\\)（归一化处理） 而实际经验表明，PID参数不仅与\\(e(k)\\)有关，还与其变化值\\(\\Delta e(k)\\)有关，将后者也加入到连接权值调整公式中，可以得到： \\(\\omega_1(k)=\\omega_1(k-1)+\\eta_I z(k)u(k-1)[e(k)+\\Delta e(k)]\\) \\(\\omega_2(k)=\\omega_2(k-1)+\\eta_P z(k)u(k-1)[e(k)+\\Delta e(k)]\\) \\(\\omega_3(k)=\\omega_3(k-1)+\\eta_D z(k)u(k-1)[e(k)+\\Delta e(k)]\\) 单神经元PID控制器仿真分析 仿真模型搭建 使用Simulink构建一个简单的连续系统仿真模型，如下图所示： 图3 单神经元PID控制系统仿真模型 其中输入为阶跃信号，传递函数为\\(G(s)=\\frac{1}{20s+1}\\)，单神经元PID控制器如下图所示： 图4 单神经元PID控制器系统仿真模型 仿真模型最中央的“exp_pidf”是一个S函数(S-function)模块，它是一个Matlab脚本文件，在仿真模型中实现单神经元PID的相关运算。 S函数模块左侧的Mux总线与该函数的五个输入值相连，它们分别是\\(e(k),e(k-1),e(k-2),u(k-1),u(k)\\)。 这里\\(e(k)\\)是误差变量，也是整个PID控制器的输入变量。在\\(e(k)\\)的基础上串联一个延时环节(Unit Delay)就会得到\\(e(k-1)\\)，他表示的是上一次的误差。同理串联两个延时环节得到\\(e(k-2)\\)。 \\(u(k)\\)是控制器输出量，同理可知串联一个延时环节得到的\\(u(k-1)\\)是上一次的输出量。 S函数模块右侧的Demux总线与该函数的四个输出值相连，它们是控制器输出值\\(u(k)\\)与PID的三个参数\\(K_i,K_p,K_d\\)。 这里\\(u(k)\\)是必须输出的值，而输出PID的三个参数值，是为了观察仿真运行过程中三个参数的变化情况。 S-function模块 S函数(S-function)是System-function系统函数的缩写，是指采用非图形化的方式（计算机语言）描述的一个功能块。 首先要在Simulink中，找到S函数模块，打开库浏览器，找到Simulink-&gt;User-Defined Functions-&gt;S Function。 图5 S函数模块参数 打开S函数模块，可以看到“模块参数”界面，有三个空。 第一个是S-Function名称，这个名称就是自己创建的matlab脚本的名称，脚本与仿真文件需要在同一文件夹内，点击“编辑”可以打开该脚本文件。 第二个是S-Function参数，它既不是输入参数也不是输出参数，而是外部参数，这些参数将被导入到脚本文件中参与计算。本次仿真外部参数为不同的连接权值学习速率\\(\\eta_P,\\eta_I,\\eta_D\\)和神经元比例系数\\(K\\)，填写为[ni;np;nd],K。 最后一个是S-Function模块，在S-function是用C语言编写并用MEX工具编译的C-MEX文件时，需要填写该参数，这里不做修改。 而如果导入了外部参数，还需要进行另外的一步，那就是封装。 右键S函数模块-&gt;封装-&gt;编辑封装，就能打开封装编辑器(Mask Editor)。 图6 封装编辑器 将之前的四个外部参数(np,ni,nd,K)按如图所示添加进去，这里的参数名称和前面“模块参数”中的名称保持一致。 完成这一步后，再打开S函数模块，会直接弹出设置外部参数的对话框，更方便调整参数。 图7 参数设置 S-function编写 下面介绍S函数的编写原则，并基于此写出单神经元PID控制器的S函数。 1function [sys,x0,str,ts,simStateCompliance] = exp_pidf(t,x,u,flag,deltak,K) 这是主函数的第一行，函数的定义，exp_pidf是函数名，其右侧为输入参数（包括外部参数），等号左侧是输出参数。 t是时间变量； x是状态变量，对应前面的\\(x_i(k)\\)或\\(\\omega_i(k)\\)； u是输入向量，对应仿真文件中S函数模块与左侧Mux总线相连的五个输入值\\(e(k),e(k-1),e(k-2),u(k-1),u(k)\\)，它们在S函数程序中被表示为\\(u(1),u(2),u(3),u(4),u(5)\\)； flag是标志位，在仿真程序运行的不同阶段，会根据标志位运行不同的子函数。 deltak是外部参数，这里deltak=[ni;np;nd]，表示控制器积分、比例、微分的学习速率，它是一个列向量。 K是外部参数，神经元比例系数。这里的外部参数与前面“模块参数”界面中设置的参数要一一对应。 sys是程序返回值，它不一定是控制器输出量，返回的值取决于flag值，也就是不同的子函数； x0是状态变量初始值； str默认为空，无需设置； ts是采样时间，包含采样时间和偏移量； simStateComplicance是附加变量； 123456789101112131415switch flag, case 0, [sys,x0,str,ts,simStateCompliance]=mdlInitializeSizes;%调用初始化函数 case 2, sys=mdlUpdate(t,x,u,deltak);%更新状态变量，此算法有三个状态变量，三个权值系数w1(k),w2(k),w3(k) case 3, sys=mdlOutputs(t,x,u,K);%调用输出函数，输出控制值信号 case &#123;1,4,9&#125;, sys=[]; otherwise DAStudio.error(&#x27;Simulink:blocks:unhandledFlag&#x27;, num2str(flag));end 接下来完成这个主函数，它是一个switch-case结构，选择不同的标志位以进入不同的子函数。 其中flag=0时进入初始化函数，flag=2时更新状态变量，flag=3时计算控制器输出值。 123456789101112131415161718192021function [sys,x0,str,ts,simStateCompliance]=mdlInitializeSizes%初始化函数sizes = simsizes;sizes.NumContStates = 0;sizes.NumDiscStates = 3;%定义三个离散的状态变量，w1(k),w2(k),w3(k)sizes.NumOutputs = 4;%定义四个输出，算法中的控制变量u（k)和三个PID参数Kp,Ki,Kdsizes.NumInputs = 5;%定义该系统有五个输入sizes.DirFeedthrough = 1;%直接馈通，输出和输入有关存在直接馈通参数为1sizes.NumSampleTimes = 1; %采样时间个数，默认值sys = simsizes(sizes);x0 = [0.1,0.1,0.1];%定义三个状态变量的初始值，即w1(0)=0.1,w2(0)=0.1,w3(0)=0.1str = [];ts = [-1 0];%S-function设置为[-1 0]为按照其所连接块的速率来运行simStateCompliance = &#x27;UnknownSimState&#x27;; 初始化函数如上所示，主要关注离散的状态变量数量(NumDiscStates)、输出量数量(NumOutputs)、输入量数量(NumInputs)。 状态变量初始值x0设成不为零的较小数，可以避免可能出现的程序报错。 12function sys=mdlUpdate(t,x,u,deltak)sys = x+deltak*u(1)*u(5)*(2*u(1)-u(2)); 状态变量更新函数如上所示。 其中x为上一次状态变量，\\(x=[\\omega_1(k-1);\\omega_2(k-1);\\omega_3(k-1)]\\) sys为更新后状态变量，\\(sys=[\\omega_1(k);\\omega_2(k);\\omega_3(k)]\\) 其对应的公式为： \\(\\omega(k)=\\omega(k-1)+\\eta z(k)u(k-1)[e(k)+\\Delta e(k)]\\) 123function sys=mdlOutputs(t,x,u,K)xx = [u(1) u(1)-u(2) u(1)+u(3)-2*u(2)];sys = [u(4)+K*xx*x/sum(abs(x));K*x/sum(abs(x))]; 控制器输出值计算函数如上所示。 其中xx对应\\(x_i(k)\\) sys的第一个参数是控制器输出值，对应公式： \\(u(k)=u(k-1)+K\\sum\\limits_{i=1}^3 \\omega_i^{&#39;}(k)x_i(k)\\) sys的后面三个输出值为PID控制器参数\\(K_i,K_p,K_d\\)，对应公式为： \\(K_i=K \\omega_1^{&#39;}(k)\\) \\(K_p=K \\omega_2^{&#39;}(k)\\) \\(K_d=K \\omega_3^{&#39;}(k)\\) 注：这里的xx是行向量，x是列向量，只有这样向量相乘才会得到一个数。 仿真结果分析 参考资料 邱锡鹏. 神经网络与深度学习[M]. 北京:机械工业出版社,2020 李捷菲. 基于BP神经网络的PID控制系统研究与设计[D]. 吉林大学，2019 CSDN—小师兄1995—单神经元PID控制+Simulink控制系统仿真 CSDN—小师兄1995—Matlab S-function 使用总结 CSDN—Mr. 邹—几种神经网络整定PID参数原理剖析及simulink案例仿真","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"课程笔记/神经网络原理及应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"神经网络原理及应用","permalink":"https://renahah.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}]},{"title":"神经网络算法概述","slug":"课程笔记/神经网络原理及应用/神经网络算法概述","date":"2024-02-15T00:17:45.000Z","updated":"2024-03-25T08:54:19.073Z","comments":true,"path":"课程笔记/神经网络原理及应用/神经网络算法概述/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%AE%97%E6%B3%95%E6%A6%82%E8%BF%B0/","excerpt":"","text":"预习神经网络原理及应用课程大作业所整理的笔记。 本文将初步介绍神经网络与深度学习相关理论原理，后面的文章将讲解基于神经网络算法的电机控制器参数整定研究。 按照网络上的内容整理，若有错误敬请指正。 绪论 人工智能 智能是知识与智慧的总和，与大脑的思维活动相关。人工智能(Artificial Intelligence，AI)就是通过计算机控制的方式，让机器具有人类的智能。 人工智能的就是让机器的行为看起来就像是人所表现出的智能行为一样。 人工智能的研究主要领域有这三个方面： 模拟人的感知能力，对外部刺激信息（视觉和语音等）进行感知和加工。主要研究领域包括语音信息处理和计算机视觉等。 模拟人的学习能力，主要研究如何从样例或从与环境的交互中进行学习。主要研究领域包括监督学习、无监督学习和强化学习等。 模拟人的认知能力，主要研究领域包括知识表示、自然语言理解、推理、规划、决策等。 机器学习 机器学习(MachineLearning，ML)是指从有限的观测数据中学习（或猜测）出具有一般性的规律，并利用这些规律对未知数据进行预测的方法。机器学习人工智能的一个重要分支。 通常一个机器学习模型通常包括数据预处理、特征提取、特征转换、预测这四个环节。 其中数据预处理、特征提取、特征转换可以统称为特征处理。预测环节是机器学习的核心环节，它对特征处理所得的数据进行了一次“浅层学习”。 图1 传统机器学习的数据处理流程 机器学习可以分为监督学习、无监督学习和强化学习。 表示学习 为了提高机器学习系统的准确率，我们就需要将输入信息转换为有效的特征，或者更一般性地称为表示（Representation）．如果有一种算法可以自动地学习出有效的特征，并提高最终机器学习模型的性能，那么这种学习就可以叫作表示学习（Representation Learning，RL）。 表示学习的关键是解决语义鸿沟（SemanticGap）问题．语义鸿沟问题是指输入数据的底层特征和高层语义信息之间的不一致性和差异性。 我们需要需要一个“好的表示”，这种好的表示可以可以通过一定的规则，将所得到的底层特征与相对抽象的高层语义概念联系起来。 这里的底层特征，可以比作一张由不同颜色的点组成的图片，而高层语义概念，则可以比作我们的能够从图片上观察得到的事物，比如“汽车、房子”。我们需要一个“好的表示”，把图片上的一个个点的特征表示出来，让它们与我们所认知的“汽车、房子”能够更好地通过一定的规则对应上。 深度学习 为了学习一种好的表示，需要构建具有一定“深度”的模型，并通过学习算法来让模型自动学习出好的特征表示（从底层特征，到中层特征，再到高层特征），从而最终提升预测模型的准确率。 深度学习(DeepLearning，DL)是机器学习的一个子问题，其主要目的是从数据中自动学习到有效的特征表示。 “深度”是指原始数据进行非线性特征转换的次数．如果把一个表示学习系统看作一个有向图结构，深度也可以看作从输入节点到输出节点所经过的最长路径的长度。 图2 深度学习的数据处理流程 深度学习需要解决的关键问题是贡献度分配问题(CreditAssignment Problem，CAP)，即一个系统中不同的组件(component)或其参数对最终系统输出结果的贡献或影响。 目前，深度学习采用的模型主要是神经网络模型。神经网络模型可以使用误差反向传播算法，从而可以比较好地解决贡献度分配问题．只要是超过一层的神经网络都会存在贡献度分配问题，因此可以将超过一层的神经网络都看作深度学习模型。 神经网络 人工神经网络(Artificial Neural Networks，ANN)，简称神经网络，由许许多多信息处理单位（对应于人脑中的神经元）根据不同的相互作用强度（即连接权值）互连而成，其实质是对生物学上的人脑神经体系的一种近似与模拟，能够像人体神经系统一样对外界知识进行检索、处理与存储。 参考资料 邱锡鹏. 神经网络与深度学习[M]. 北京:机械工业出版社,2020 神经网络与深度学习 研究生选修课程 李捷菲. 基于BP神经网络的PID控制系统研究与设计[D]. 吉林大学，2019","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"课程笔记/神经网络原理及应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"神经网络原理及应用","permalink":"https://renahah.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"}]},{"title":"基于粒子群算法的电机控制器参数整定研究","slug":"课题笔记/电机/基于粒子群算法的电机控制器参数整定研究","date":"2024-01-20T01:42:06.000Z","updated":"2024-01-27T03:30:22.426Z","comments":true,"path":"课题笔记/电机/基于粒子群算法的电机控制器参数整定研究/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/%E5%9F%BA%E4%BA%8E%E7%B2%92%E5%AD%90%E7%BE%A4%E7%AE%97%E6%B3%95%E7%9A%84%E7%94%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E5%8F%82%E6%95%B0%E6%95%B4%E5%AE%9A%E7%A0%94%E7%A9%B6/","excerpt":"","text":"本科毕业设计课题，本文将对之进行重新修订整理。 本文主要介绍粒子群算法原理及参数整定原理，搭建双闭环PI控制的PMSM仿真模型，并建立粒子群算法电机控制器参数整定程序。将使用粒子群算法整定与传统工程整定方法得到的PI控制器参数分别进行仿真分析，对比二者的动态与稳态性能，来证明采用粒子群算法可以有效改善系统性能。 智能优化算法概述 智能优化算法是为解决信号解析、图像辨析、模式识别、任务调度、生产规划分配、控制系统设计等各行各业的复杂优化类问题，受到人类智能、生物种群的社会行为或者是自然界的固有现象而启发，通过现代化的计算机技术手段所设计出的算法。 常见的智能优化算法可以分为以下6类：传统智能优化算法（模糊PID控制算法、专家经验PID控制算法）、进化类智能算法（遗传算法、差分进化算法、免疫算法）、群体智能类算法（粒子群算法、蚁群算法、人群搜索算法、人工蜂群算法等）、模拟退火算法、禁忌搜索算法与神经网络算法。 在电机控制领域，引入了智能优化算法的电机 PID 控制器在参数整定上相较于传统参数整定方式具有更好的整定效果，可以有效提高电机的控制精度，更好地满足电机控制指标。 粒子群算法 粒子群算法介绍 粒子群优化算法(Particle Swarm Optimization, PSO)是由肯尼迪和埃伯哈特提出的一种新型智能优化算法，属于演化类智能优化算法，其算法灵感来源于自然界中鸟群觅食时的群体行为特点。粒子群算法将鸟群中的一只只觅食的鸟抽象为一个个粒子，这些粒子只具备坐标与速率这两个属性，鸟群中的鸟不知道食物的具体位置，但是知道其余各个鸟的具体位置，以及它们各自离食物的距离。也就是粒子群中各个粒子存在的信息共享机制，虽然单独的鸟未必每次运动都会离目标越近，但鸟群整体会越来越靠近目标食物位置。 粒子群算法易于理解，快速高效，在实时性强的复杂函数优化问题的最优化求解上效果显著，目前广泛应用于模式识别、神经深度学习、控制系统参数整定、目标函数最优化等各个场景。其缺点是运算过程中容易陷入局部最优解，导致所求解的不全面，使问题处理效果不尽人意。 粒子群算法原理 假设粒子群参数维度为\\(N\\)，粒子群中粒子总数\\(m\\)，迭代次数为\\(n\\)，设定迭代速度系数为\\(c_1\\)、\\(c_2\\)、\\(\\omega\\)。 为确保每个粒子在限定范围内呈随机分散分布，输入向量\\(x=(x_1,x_2,\\cdots,x_N )^T\\)的限制范围为： \\[\\left\\{ \\begin{gathered} x_{\\min }^{(1)} &lt; {x_1} &lt; x_{\\max }^{(1)} \\hfill \\\\ x_{\\min }^{(2)} &lt; {x_2} &lt; x_{\\max }^{(2)} \\hfill \\\\ ... \\hfill \\\\ x_{\\min }^{(N)} &lt; {x_N} &lt; x_{\\max }^{(N)} \\hfill \\\\ \\end{gathered} \\right.\\] 记\\(X_{min}=(x_{min}^{(1)},x_{min}^{(2)},\\cdots,x_{min}^{(N)} )\\)，\\(X_{max}=(x_{max}^{(1)},x_{max}^{(2)},\\cdots,x_{max}^{(N)})\\) 输入向量应满足\\(X_{min}&lt;x&lt;X_{max}\\) 这里设定每个粒子的初始速度\\(v_0 = 0\\)，则第\\(j\\)个粒子\\((1 \\leqslant j \\leqslant m)\\)下一步的迭代速度可以用公式表示成： \\[{v^{(j)}} = \\omega \\cdot {v_0} + {c_1} \\cdot rand \\cdot ({P^{(j)}} - {X^{(j)}}) + {c_2} \\cdot rand \\cdot ({P_G} - {X^{(j)}})\\] 迭代速度公式由三个部分相加而得，其中\\(rand\\)表示调用函数生成的0到1之间的随机数。 公式第一部分体现了粒子的自身因素，其包含粒子上一次迭代时的速度信息，\\(v_0\\)是上一次迭代时的粒子速度； 第二部分体现了粒子的学习因素，\\(P^{(j)}\\)为第\\(j\\)个粒子在历次迭代运动过程中最接近于待优化问题结果的那一次迭代时的位置（鸟离食物最近时的位置）； 第三部分体现粒子的交流因素，\\(P_G\\)表示当前的最接近于待优化问题结果的粒子的所在位置（鸟群离食物最近时的位置）。 粒子迭代速度系数可以根据仿真实际需要加以修改，结合实际情况与工程实践经验，可以取\\(\\omega=1,c_1=c_2=2\\)，对于粒子群中粒子数量较多的情况，为确保运算结果能得到较快收敛，可以适当减小\\(\\omega\\)的值。 根据迭代速度公式计算下一时刻的速度及其粒子位置，其公式可表达为： \\[X_{k + 1}^{(j)} = X_k^{(j)} + v_{k + 1}^{(j)} \\cdot dt\\] 式中\\(X_{k+1}^{(j)}\\)表示第\\((k+1)\\)步迭代的位置，\\(X_k^{(j)}\\)表示第\\(k\\)步迭代的位置，\\(v_{k+1}^{(j)}\\)表示第\\((k+1)\\)步迭代的速度，\\(dt\\)是仿真间隔，默认值为1，适当减小该值可以使仿真更慢更平滑。 计算\\(P_G\\)与\\(P^{(j)}\\)的公式如下所示，用于迭代过程中的最优粒子与粒子群的更新： \\[{P_G} = \\left\\{ \\begin{gathered} P_G^{(k)},F(P_G^{(k)}) &gt; F(P_G^{(k + 1)}) \\hfill \\\\ P_G^{(k + 1)},F(P_G^{(k)}) &lt; F(P_G^{(k + 1)}) \\hfill \\\\ \\end{gathered} \\right.\\] \\[P_G^{(j)} = \\left\\{ \\begin{gathered} P_k^{(j)},F(P_k^{(j)}) &gt; F(P_{k + 1}^{(j)}) \\hfill \\\\ P_{k + 1}^{(j)},F(P_k^{(j)}) &lt; F(P_{k + 1}^{(j)}) \\hfill \\\\ \\end{gathered} \\right.\\] 改进粒子群算法 在粒子群算法的参数调整中，惯性因子\\(\\omega\\)以及学习因子\\(c_1,c_2\\)是关键。 学习因子主要影响粒子的目标方向感，即目标识别能力。 在进化上，\\(c_1\\)相对越大，粒子行为越独立，“分散”现象越明显，即学习因素比重较大，全局最优解颇具盲目性，算法收敛速度慢; \\(c_2\\)相对越大，粒子群体意识越强，“群聚”现象越明显，交流因素比重大，但容易陷入局部最优解。 为解决传统的粒子群算法存在的收敛速度慢、容易陷入局部最优解等问题。需要对算法的惯性权重与学习因子在迭代过程中动态调整。 对于学习因子，在前期应当有较大的搜索空间，随着粒子的进化逐渐缩小搜索区域，向全局最优解加速进化，这就 要求\\(c_1\\)应当先大后小，\\(c_2\\)先小后大。 学习因子在迭代过程中的公式如下所示，这里引入了反正切函数进行优化。设定\\(c_1\\)与\\(c_2\\)的值域为\\([0.1,2]\\)。\\(n\\)为迭代总次数，\\(k\\)为当前迭代次数。 \\(c_1=-\\frac{4.265}{2\\pi}arctan[\\frac{8}{n}(k-\\frac{n}{2})]+1\\) \\(c_2=\\frac{4.265}{2\\pi}arctan[\\frac{8}{n}(k-\\frac{n}{2})]+1\\) 注：arctan的结果单位是角度，式中\\(2\\pi\\)为360° 对于惯性因子，应当先大后小，使算法在迭代初期增强全局搜索能力，更大范围遍历整体空间，避免陷入局部最优解；而在后期增强局部搜索能力，在更小范围内搜索到精确解。 惯性因子\\(\\omega\\)在迭代过程中的公式如下所示，其在迭代过程中由权重最大值\\(\\omega_{max}\\)线性衰减至权重最小值\\(\\omega_{min}\\)。\\(n\\)为迭代总次数，\\(k\\)为当前迭代次数。 \\(\\omega=\\omega_{max}-\\frac{k}{n}(\\omega_{max}-\\omega_{min})\\) 这里取\\(\\omega_{max}=0.9\\)、\\(\\omega_{min}=0.4\\) PMSM仿真模型搭建 PMSM的数学模型参见鲁棒控制理论与应用02-H∞控制器的设计方法，本文沿用了上述数学模型，这里不再赘述。 电机具体参数如下： 定子电阻\\({R_s} = 0.958\\Omega\\)，极对数\\(p_n=4\\)，粘滞摩擦系数\\(B = 0.008N \\cdot M \\cdot s\\)，d轴电感\\({L_d} = 5.25mH\\)，q轴电感\\({L_q} = 12mH\\)，永磁体的励磁磁链\\({\\Psi _f} = 0.1827wb\\)，转动惯量\\(J = 0.003kg \\cdot {m^2}\\)。 首先搭建双闭环PI控制的PMSM控制系统，使用工程整定方法确定转速环与电流环的PI控制器参数： 取转速环PI控制器参数\\({k_p} = 0.2\\)，\\({k_i} = 30\\)，输出\\(i_q^*\\)的限幅范围为-25.7A≤\\(i_q^*\\)≤25.7A； 取电流环\\(i_q\\)的PI控制器参数\\(K_{pn} = 300\\)，\\(K_{In} = 23950\\)，输出\\(u_q^*\\)的限幅范围为-161.6V≤\\(u_q^*\\)≤161.6V； 取电流环\\(i_d\\)的PI控制器参数\\(K_{pi} = 131.25\\)，\\(K_{Ii} = 23950\\)，输出\\(u_d^*\\)的限幅范围为-161.6V≤\\(u_d^*\\)≤161.6V。 在双闭环PI控制的PMSM控制基础上，引入改进的粒子群算法，对转速环的PI参数进行优化，限幅值及电流环PI参数保持不变。其控制系统原理图如下图所示： 图1 PMSM控制系统原理图 该系统采用空间电压矢量调制技术(Space Vector Pulse Width Modulation，SVPWM)。空间电压矢量调制又被称作称“磁链跟踪控制”。它以三相正弦波电压供电时交流电机的理想磁通轨迹为基准，通过三相功率逆变器的六个功率开关元件组成的特定开关模式来产生的脉宽调制波，用逆变器不同的开关模式产生的实际磁通去逼近基准磁通圆，从而达到较高的控制性能。 该系统采用\\(i_d=0\\)的矢量控制策略。该方法实现了对PMSM的解耦控制，具有控制简单、调速范围宽、转矩特性好、有效降低铜耗的优点。 图中，\\(\\omega^*\\)为目标转速，\\(\\omega\\)为实际转速；\\(i_a,i_b,i_c\\)为三相静止坐标系下的相电流；\\(i_\\alpha,i_\\beta\\)为经过CLARKE变换后的两相静止绕组电流；\\(i_d,i_q\\)为经过PARK变换后的两相旋转绕组电流；\\(u_\\alpha,u_\\beta\\)为\\(u_d,u_q\\)经过PARK逆变换得到的参数。 根据PMSM控制系统原理图，可以搭建出如下图所示的控制系统仿真模型。 图2 PMSM控制系统仿真模型 仿真总时长为0.2s，采样周期为\\(10^{-5}s\\)。设定电机转速给定值\\(\\omega_r^* = 1000r/\\min\\)，使其空载起动，0.1秒后对电机施加12\\(N \\cdot m\\)的负载转矩。 参数整定程序 粒子群算法参数整定程序共由5个MATLAB脚本文件和1个Simulink仿真文件构成，运行入口程序后，将依次执行粒子群算法参数初始化，粒子群算法参数整定，Simulink仿真文件调用及仿真结果数据处理，仿真结果与参数整定结果图像输出等程序功能。 入口程序(main.m) 入口程序是第一个被执行的程序，用于初始化粒子群算法相关参数，包括迭代次数、粒子群规模、粒子限幅值等参数。并导入需要使用的其他MATLAB文件。 12345678910clearglobal Kpn KIn barKpn=0.2;KIn=30;bar=0;n=20;m=50;xmax=[2,500];xmin=[0.05,5];cal_f=@cal_n;f=@PID_n_access;[Pg,fmin]=PSO(n,m,xmax,xmin,cal_f,f);draw();disp(&#x27;OK&#x27;); 粒子群算法函数(PSO.m) 粒子群算法函数的输入参数为迭代次数、粒子群的粒子总数、粒子限幅值、电机控制效果计算函数和评价函数计算函数，输出参数为评价函数最小值及其对应的电机PI控制参数。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647function [Pg,fmin]=PSO(n,m,xmax,xmin,cal_f,f)%全局粒子群算法,f为目标函数,dimension为维度,n为代数,m为种群规模 dimension=numel(xmax); %numel函数，返回数组元素个数 dimension=2 wmax=0.9;wmin=0.4;%速度惯性系数 先大后小 dt=1;%位移仿真间隔 vmax=0.1*(xmax-xmin);%速度限幅 v=zeros(m,dimension);%初始速度为0 X=(xmax-xmin).*rand(m,dimension)+xmin;%初始位置满足(xmin,xmax)内均匀分布 P=X;%P为每个粒子每代的最优位置 last_f=f(X); [fmin,min_i]=min(last_f);%Pg为所有代中的最优位置 Pg=X(min_i,:); last_Pg=Pg; Pg_draw=zeros(n,dimension);%待绘图的PI参数集合 legend_i=1; Pg_draw(legend_i,:)=Pg; [ts_n,sigma_n,ts_nb,sigma_nb,n_err]=cal_f(Pg);%计算初始粒子群的性能参数 disp([&#x27;初始粒子群最优粒子 f=&#x27;,num2str(fmin)]); disp([&#x27;sigma_n=&#x27;,num2str(sigma_n),&#x27; ts_n=&#x27;,num2str(ts_n),&#x27; sigma_nb=&#x27;,num2str(sigma_nb),&#x27; ts_nb=&#x27;,num2str(ts_nb),&#x27; n_err=&#x27;,num2str(n_err)]); disp([&#x27;Kpn=&#x27;,num2str(Pg(1)),&#x27; KIn=&#x27;,num2str(Pg(2))]); for i=1:n w=wmax-i*(wmax-wmin)/n;%改进w 先大后小 c1=-4.265/2/pi*atan(8*(i-n/2)/n)+1;%改进c1 先大后小 c2=4.265/2/pi*atan(8*(i-n/2)/n)+1;%改进c2 先小后大 v=w*v+c1*rand*(P-X)+c2*rand*(ones(m,1)*Pg-X); v=(v&gt;vmax).*vmax+(v&gt;=-vmax &amp; v&lt;=vmax).*v+(v&lt;-vmax).*(-vmax); X=X+v*dt; X=(X&gt;xmax).*xmax+(X&gt;=xmin &amp; X&lt;=xmax).*X+(X&lt;xmin).*(xmin); new_f=f(X);%新的目标函数值 update_j=find(new_f&lt;last_f); P(update_j,:)=X(update_j,:);%修正每个粒子的历史最优值 [new_fmin,min_i]=min(new_f); new_Pg=X(min_i,:); Pg=(new_fmin&lt;fmin)*new_Pg+(new_fmin&gt;=fmin)*Pg; last_f=new_f;%保存当前的函数值 fmin=min(new_fmin,fmin);%更新函数最小值 [ts_n,sigma_n,ts_nb,sigma_nb,n_err]=cal_f(Pg); if last_Pg~=Pg legend_i=legend_i+1; Pg_draw(legend_i,:)=Pg; end last_Pg=Pg; disp([&#x27;第&#x27;,num2str(i),&#x27;次迭代完成 f=&#x27;,num2str(fmin)]); disp([&#x27;sigma_n=&#x27;,num2str(sigma_n),&#x27; ts_n=&#x27;,num2str(ts_n),&#x27; sigma_nb=&#x27;,num2str(sigma_nb),&#x27; ts_nb=&#x27;,num2str(ts_nb),&#x27; n_err=&#x27;,num2str(n_err)]); disp([&#x27;Kpn=&#x27;,num2str(Pg(1)),&#x27; KIn=&#x27;,num2str(Pg(2))]); endend 电机控制效果计算函数(cal_n.m) 电机控制效果计算函数的输入参数为一组（单个粒子）的电机转速环PI控制参数(\\(K_{pn},K_{In}\\))，首先将上述参数导入到双闭环PMSM控制系统仿真模型文件，然后运行仿真程序，提取所得转速数据，分析所得数据，求得转速环调节时间、转速环超调量、突加负载最大转速降落、突加负载转速环恢复时间与系统稳定后的转速波动，作为输出参数用于评价函数计算。 这里取系统从响应至保持在终值± 2%所经过的时间作为调节时间（或恢复时间），系统稳定后的转速波动为0.18s~0.2s时刻转速最大值与最小值的差值。 1234567891011121314151617181920212223242526272829function [ts_n,sigma_n,ts_nb,sigma_nb,n_err]=cal_n(parameters) global Kpn KIn %将simulink所需参数导入工作区，以便仿真使用 obj_slx=&#x27;PMSM_SVPWM_2015b_Jiazai.mdl&#x27;; Kpn=parameters(1); KIn=parameters(2); sim(obj_slx); n_data=n.signals.values; n_max=max(n_data); sigma_n=n_max-1000; %转速超调量 ts_n1=find(n_data(1:10000)&gt;1020); ts_n2=find(n_data(1:10000)&lt;980); if(numel(ts_n1)==0) ts_n=ts_n2(end); else ts_n=ts_n1(end); end n_min=min(n_data(10001:20000)); sigma_nb=1000-n_min; %突加负载最大转速降落 ts_nb1=find(n_data(10001:20000)&lt;980); if(numel(ts_nb1)==0) ts_nb=0; else ts_nb=ts_nb1(end); end n_infty_max=max(n_data(18000:20000));%转速终值 n_infty_min=min(n_data(18000:20000));%转速终值 n_err=n_infty_max-n_infty_min;%转速波动end 评价函数计算函数(PID_n_access.m) 评价函数是粒子群算法待优化的函数，本程序的输入参数是待处理的所有粒子群参数，程序首先将将粒子群逐一分散为粒子，针对每个粒子所对应的电机PI控制参数逐一单独仿真，带入参数计算程序，计算所得的各个控制效果参数，包括转速环调节时间\\(T_{sn}\\)、转速环超调量\\(\\omega_{sn}\\)、突加负载最大转速降落\\(n_d\\)、突加负载转速环恢复时间\\(T_{sd}\\)、系统稳定后的转速波动\\(n_{err}\\)。 最后将上述参数带入如下式所示的评价函数，其中\\(T_{sn0},\\omega_{sn0},n_{d0},T_{sd0}\\)为基准值。 \\[f=3*\\log(\\frac{T_{sn}}{T_{sn0}}+1)+3*\\log(\\frac{\\omega_{sn}}{\\omega_{sn0}}+1)+\\log(\\frac{n_d}{n_{d0}}+1)+\\log(\\frac{T_{sd}}{T_{sd0}}+1)+10*n_{err}\\] 上述五个参数都是越小越好，这使得所得函数值越小，代表电机控制效果越好。各项式子前的系数代表着各个参数对于评价函数值的影响权重，可以根据实际控制性能的不同需求修改这些系数。 12345678910111213141516171819function [y,ts_n,sigma_n,ts_nb,sigma_nb,n_err]=PID_n_access(parameters_list) global bar M=size(parameters_list,1);%计算需要仿真的组数（simulink无法并行仿真） ts_n0=1200.0;sigma_n0=10.0;ts_nb0=600;sigma_nb0=20.0;%基准值 %将simulink所需参数导入工作区，以便仿真使用 %if((mod(bar,4)==1&amp;&amp;bar&lt;=200)||(mod(bar,2)==1&amp;&amp;bar&gt;=200)) y=zeros(M,1); for sim_i=1:M bar=bar+1; if(mod(bar,2)==1) disp(&#x27;█&#x27;); fprintf(&#x27;%c&#x27;,8); end parameters=parameters_list(sim_i,:); [ts_n,sigma_n,ts_nb,sigma_nb,n_err]=cal_n(parameters); y(sim_i)=3*log(ts_n/ts_n0+1)+3*log(sigma_n/sigma_n0+1)+log(ts_nb/ts_nb0+1)+log(sigma_nb/sigma_nb0+1)+n_err*10; endend 作图函数(draw.m) 用于绘制参数整定前后的转速曲线图。 1234567891011121314151617181920212223function draw() global Kpn KIn figure(1) sim(&#x27;PMSM_SVPWM_2015b_Jiazai.mdl&#x27;) n_data=n.signals.values;time=n.time;%获取转速序列及对应时刻 plot(time,n_data) hold on figure(1) Kpn=0.2; KIn=30; sim(&#x27;PMSM_SVPWM_2015b_Jiazai.mdl&#x27;) n_data=n.signals.values;time=n.time;%获取转速序列及对应时刻 plot(time,n_data) hold on figure(1) legend_str&#123;1&#125;=&#x27;PSO-PI&#x27;; legend_str&#123;2&#125;=&#x27;PI&#x27;; legend(legend_str) xlabel(&#x27;时间/s&#x27;) ylabel(&#x27;电机转速n/(r/min)&#x27;) disp(&#x27;比较曲线绘制完成&#x27;); 仿真结果分析 图3 粒子群算法参数整定前后转速曲线比较 运行代码后，输出参数整定前后的转速曲线如上图所示。其具体参数见下表： 表1 粒子群算法参数前后的控制性能比较 PI PSO-PI 转速环PI参数 \\(K_{pn}=0.2,K_{In}=30\\) \\(K_{pn}=0.24005,K_{In}=276.6148\\) 转速环调节时间/ms 21.57 14.54 转速环超调量/(r/min) 44.167 28.0042 突加负载最大转速降落/(r/min) 40.1785 24.7302 转速环恢复时间/ms 8.48 1.99 稳态转速波动/(r/min) 0.17 0.09 由上表可知，采用粒子群算法整定后的PID参数，无论是在电机启动速度及超调量，还是加入负载转矩后恢复时的属性，都显著优于工程整定方法所得的参数。 参考资料 CSDN—沉沙丶—永磁同步电机矢量控制系列教程 【Simulink】粒子群算法（PSO）整定PID参数（附代码和讲解） 刘子健. 基于改进的PSO-BP神经网络算法的永磁同步电机PID参数整定[J]. 兰州文理学院学报（自然科学版），2024，38(1)：77-81. 谢金法. 基于改进粒子群优化算法的PMSM矢量控制[J]. 现代制造工程，2019(7)：6-11. 曾雄飞. 基于粒子群算法优化BP神经网络的PID控制算法[J]. 电子设计工程，2022，30(11)：69-73. 金宝宝. 基于智能算法的无刷直流电机控制系统设计与实现[D]. 兰州交通大学，2023","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"智能优化算法","slug":"智能优化算法","permalink":"https://renahah.github.io/tags/%E6%99%BA%E8%83%BD%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/"},{"name":"粒子群算法","slug":"粒子群算法","permalink":"https://renahah.github.io/tags/%E7%B2%92%E5%AD%90%E7%BE%A4%E7%AE%97%E6%B3%95/"}]},{"title":"鲁棒控制理论与应用02-H∞控制器设计与仿真","slug":"课程笔记/鲁棒控制理论与应用/鲁棒控制理论与应用02-H∞控制器的设计方法","date":"2023-12-06T02:49:40.000Z","updated":"2024-01-25T05:20:21.009Z","comments":true,"path":"课程笔记/鲁棒控制理论与应用/鲁棒控制理论与应用02-H∞控制器的设计方法/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A802-H%E2%88%9E%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%B3%95/","excerpt":"","text":"为完成鲁棒控制理论与应用与交流伺服电机及其控制课程大作业所整理的笔记。 无PPT，按照板书、教材及网络上的内容整理，若有错误敬请指正。 本文首先介绍\\(H_\\infty\\)标准设计问题和永磁同步电动机(PMSM)的数学模型，根据数学模型与电机参数进行\\(H_\\infty\\)鲁棒控制器设计。使用Simulink搭建\\(H_\\infty\\)控制PMSM调速系统仿真模型，将其与采用传统双闭环PI控制的PMSM调速系统进行对比分析，通过分析二者的动态与稳态性能，来证明\\(H_\\infty\\)鲁棒控制在提高系统抗扰动能力的鲁棒性上的有效性。 \\(H_\\infty\\)标准设计问题 \\(H_\\infty\\)控制问题可以归结为如下图所示的标准设计问题。 其中\\(w\\)为干扰输入信号、\\(z\\)为评价信号、\\(u\\)为控制输入信号（对于\\(K(s)\\)而言是输出信号）、\\(y\\)为观测量（对于\\(K(s)\\)而言是输入量）。 \\(G(s)\\)是由输入信号\\(u,w\\)到输出信号\\(z,y\\)的传递函数阵，被称为增广被控对象。\\(K(s)\\)为反馈控制器。 图1 H∞标准设计问题 传递函数\\(G(s)\\)的状态空间实现（增广被控对象）可由下式给出： \\(\\left\\{ {\\begin{array}{*{20}{c}} {\\dot x}={\\bf A}x+{\\bf B_1}w+{\\bf B_2}u \\\\ z={\\bf C_1}x+{\\bf D_{11}}w+{\\bf D_{12}}u \\\\ y={\\bf C_2}x+{\\bf D_{21}}w+{\\bf D_{22}}u \\end{array}}\\right.\\)① 式中，x为n维变量，w为r维信号向量，u为p维、z为m维、 y为q维信号向量，该式亦可表示为： \\(G(s)=\\left[ {\\begin{array}{*{20}{c}} G_{11}(s)&amp;G_{12}(s) \\\\ G_{21}(s)&amp;G_{22}(s)\\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} {\\bf A}&amp;{\\bf B_1}&amp;{\\bf B_2} \\\\ {\\bf C_1}&amp;{\\bf D_{11}}&amp;{\\bf D_{12}}\\\\ {\\bf C_2}&amp;{\\bf D_{21}}&amp;{\\bf D_{22}} \\end{array}}\\right]\\)② 从w到z的闭环传递函数为： \\(T_{zw}=LFT(G(s),K(s))=G_{11}+G_{12}K(I-G_{22}K)^{-1}G_{21}\\)③ 对于增广被控对象，需要求解传递函数的范数\\(\\parallel {T_{zw}}(s){\\parallel _\\infty }\\)最小，进而求得控制器\\(K(s)\\)，即\\(\\min \\parallel {T_{zw}}(s){\\parallel _\\infty } = {\\gamma _0}\\) 由此可以定义\\(H_\\infty\\)的次优设计问题如下： 对于给定的增广被控对象\\(G(s)\\)和\\(\\gamma(\\gamma&gt;\\gamma_0)\\)，求反馈控制器\\(K(s)\\)使得闭环系统内部稳定且\\({T_{zw}}(s)\\)满足 \\(\\parallel {T_{zw}}(s){\\parallel_\\infty } &lt; \\gamma\\)④ 若满足式④，则对于给定的被控对象\\(G(s)\\)存在次优解，可以通过反复地减小\\(\\gamma\\)来进行对此迭代，将控制器的解慢慢逼近最优解，即\\(\\gamma \\to {\\gamma_0}\\)。 这样式④就等价于\\(\\parallel \\frac{1}{\\gamma }{T_{zw}}(s){\\parallel _\\infty } &lt; 1\\)⑤ 其中\\(\\frac{1}{\\gamma }{T_{zw}}(s)\\)对应增广被控对象\\(G(s) = \\left[ {\\begin{array}{*{20}{c}} { {\\gamma ^{ - 1}}{G_{11}}(s)}&amp;{ {G_{12}}(s)} \\\\ { {\\gamma ^{ - 1}}{G_{21}}(s)}&amp;{ {G_{22}}(s)} \\end{array}} \\right]\\)⑥ 上述增广被控对象和控制器\\(K(s)\\)能构成如图1所示系统的闭环传递函数。在实际工程中，往往采用\\(\\gamma=1\\)的情况，这使得式④等价于\\(\\parallel {T_{zw}}(s){\\parallel_\\infty } &lt; 1\\)⑦ 通过这样的变换，可以将控制器的设计问题转化为标准的\\(H_\\infty\\)设计问题。 讨论状态反馈\\(H_\\infty\\)控制器的设计问题。即设系统的观测量等于系统的状态变量\\(y=x\\)，在增广被控对象满足特定条件的前提下，直接基于Riccati不等式的设计方法。 这里给出\\(H_\\infty\\)次优设计问题在\\(D_{11}=0,D_{12}\\)列满秩的特例下的特解。 设增广被控对象的状态空间实现为\\(\\left\\{ {\\begin{array}{*{20}{c}}{\\dot x = {\\mathbf{A}}x + { {\\mathbf{B}}_{\\mathbf{1}}}w + { {\\mathbf{B}}_{\\mathbf{2}}}u} \\\\ {z = { {\\mathbf{C}}_{\\mathbf{1}}}x + { {\\mathbf{D}}_{ {\\mathbf{12}}}}u} \\end{array}} \\right.\\)⑧ 且\\(rank{\\bf{D_{12}}}=p\\)，\\(({\\bf{A}},{\\bf{B_2}})\\)可稳定，即\\(G(s) = \\left[ {\\begin{array}{*{20}{c}}{\\mathbf{A}}&amp;{ { {\\mathbf{B}}_{\\mathbf{1}}}}&amp;{ { {\\mathbf{B}}_{\\mathbf{2}}}}\\\\{ { {\\mathbf{C}}_{\\mathbf{1}}}}&amp;0&amp;{ { {\\mathbf{D}}_{ {\\mathbf{12}}}}} \\\\ {\\mathbf{I}}&amp;0&amp;0 \\end{array}}\\right]\\)⑨ 对式⑧所示的系统，考虑状态反馈控制器\\(u = {\\mathbf{K}}x,\\quad {\\mathbf{K}} \\in {R^{p \\times n}}\\)⑩ 可以使用以下的结论求得控制器：对于给定的\\(\\gamma&gt;0\\)，存在\\(\\mathbf{K}\\)使得闭环系统⑧和⑩内部稳定且\\(\\parallel {T_{zw}}(s){\\parallel_\\infty } &lt; \\gamma\\)成立的充分必要条件是存在正定阵\\({\\bf X}&gt;0\\)，满足Riccati不等式 \\({\\bf A}^T{\\bf X}+{\\bf XA}+\\gamma^{-2}{\\bf XB_1 B_1}^T {\\bf X}+{\\bf C_1}^T {\\bf C_1}-({\\bf XB_2}+{\\bf C_1}^T {\\bf D_{12}})({\\bf D_{12}}^T {\\bf D_{12}})^{-1}({\\bf B_2}^T {\\bf X}+{\\bf D_{12}}^T {\\bf C_1})&lt;0\\)⑪ 若上述不等式有正定解，则使闭环系统稳定且式④成立的反馈阵由下式给出 \\({\\bf K}=-({\\bf D_{12}}^T {\\bf D_{12}})^{-1}({\\bf B_2}^T {\\bf X}+{\\bf D_{12}}^T {\\bf C_1})\\)⑫ PMSM数学模型 基于PMSM的实际工作特性，建立PMSM的数学模型，在这里对PMSM做出如下假设： 1）忽略铁芯饱和； 2）不计涡流和磁滞损耗； 3）转子上没有阻尼绕组，永磁体也没有阻尼作用； 4）反电动势是正弦的。 以转子参考坐标，建立d-q坐标系。取永磁体基波磁场的方向为d轴，q轴顺着旋转方向超前d轴90°电角度，转子参考坐标的旋转速度即为转轴速度。 电压方程为：\\(\\left\\{ {\\begin{array}{*{20}{c}}{ {u_q} = {R_s}{i_q} + p{\\psi _q} + {\\omega _r}{\\psi _d}} \\\\ { {u_d} = {R_s}{i_d} + p{\\psi _d} - {\\omega _r}{\\psi _q}} \\end{array}} \\right.\\)⑬ 磁链方程为：\\(\\left\\{ {\\begin{array}{*{20}{c}}{ {\\psi _q} = {L_q}{i_q}} \\\\ { {\\psi _d} = {L_d}{i_d} + {\\psi _f}} \\end{array}} \\right.\\)⑭ 上述公式中，\\(u_d,u_q\\)为d,q轴电压；\\(\\psi_d,\\psi_q\\)为d,q轴磁链；\\(i_d,i_q\\)为d,q轴电流；\\(L_d,L_q\\)为d,q轴电感；\\(R_s\\)为定子相电阻；\\(\\omega_r\\)为转子电角速度；\\(\\psi_f\\)为永磁体的励磁磁链；p为微分算子。 转矩方程为：\\({T_{em}} = \\frac{3}{2}{p_n}[{\\psi _q}{i_q} + ({L_d} - {L_q}){i_d}{i_q}]\\)⑮ 式中，\\(T_{em}\\)为电磁转矩，\\(p_n\\)为电机的极对数，若采取\\(i_d=0\\)矢量控制策略，则转矩方程可简化为： \\({T_{em}} = \\frac{3}{2}{p_n}{\\psi _f}{i_q}\\)⑯ 此时\\(\\psi_f=\\psi_q\\)，转矩大小与\\(i_q\\)大小成正比，可以更方便地通过控制\\(i_q\\)大小来控制转矩。 运动方程为：\\({T_{em}} = {T_l} + B{\\Omega _r} + Jp{\\Omega _r}\\)⑰ 式中，\\(T_l\\)为负载转矩，B为粘滞摩擦系数，\\(\\Omega_r\\)为机械角速度，J为转子和所带负载的总转动惯量。 由电角速度\\(\\omega_r\\)与机械角速度\\(\\Omega_r\\)的关系\\(\\omega_r=p_n \\Omega_r\\)，可以将运动方程可整理为： \\({T_{em}} - {T_l} = \\frac{J}{ { {p_n}}}\\frac{ {d{\\omega _r}}}{ {dt}} + \\frac{B}{ { {p_n}}}{\\omega _r}\\)⑱ 根据上述方程所推导出的状态方程为：\\(\\left\\{ \\begin{gathered}p{i_d} = ({u_d} - {R_s}{i_d} + {\\omega_r}{L_q}{i_q})/{L_d} \\hfill \\\\p{i_q} = ({u_q} - {R_s}{i_q} - {\\omega_r}{L_d}{i_d} - {\\omega_r}{\\psi_f})/{L_q} \\hfill \\\\p{\\omega_r} = ({p_n}{T_{em}} - {p_n}{T_l} - B{\\omega_r})/J \\hfill \\\\ \\end{gathered} \\right.\\)⑲ \\(H_\\infty\\)鲁棒控制器设计 根据PMSM的数学模型及系统控制的实际需要，建立如下的\\(H_\\infty\\)鲁棒控制器。 首先，确定状态变量为：\\(\\left[ {\\begin{array}{*{20}{c}} x_1&amp;x_2&amp;x_3 \\end{array}}\\right]^T=\\left[ {\\begin{array}{*{20}{c}} \\omega_r&amp;i_q&amp;\\int_0^t (\\omega_r^*-\\omega_r)dt \\end{array}}\\right]^T\\)⑳ 式中，\\(\\omega_r\\)为电机转速给定值，\\(i_q\\)为q轴电流，\\(\\int_0^t (\\omega_r^* -\\omega_r)dt\\)为给定转速与实际转速差值的积分变量，其作用是消除系统的稳态误差。 考虑到系统的扰动主要来自负载转矩与转速给定的变化，选取系统扰动变量为：\\(w=\\left[ {\\begin{array}{*{20}{c}} T_L&amp;\\omega_r^* \\end{array}}\\right]^T\\)㉑ 设PMSM系统增广被控对象的状态空间实现为式⑧的形式，则\\(G(s)\\)可列为式⑨的形式。 根据如式⑯和式⑲所示的系统的状态方程，得到式⑨中的参数矩阵\\({\\bf A},{\\bf {B_1}},{\\bf {B_2}}\\)分别为： \\({\\bf A}=\\left[ {\\begin{array}{*{20}{c}} -\\frac{B}{J}&amp;\\frac{3p_n^2 \\psi_f}{2J}&amp;0 \\\\ -\\frac{\\psi_f}{L_q}&amp;-\\frac{R_s}{L_q}&amp;0 \\\\ -1&amp;0&amp;0 \\end{array}}\\right],{\\bf B_1}=\\left[ {\\begin{array}{*{20}{c}} -\\frac{p_n}{J}&amp;0 \\\\ 0&amp;0 \\\\ 0&amp;-1 \\end{array}}\\right],{\\bf B_2}=\\left[ {\\begin{array}{*{20}{c}} 0 \\\\ \\frac{1}{L_q} \\\\ 0 \\end{array}}\\right]\\)㉒ 定义评价信号为： \\(z = {\\bf{C_1}}x+{\\bf{D_{12}}}u=\\left[ {\\begin{array}{*{20}{c}} \\sqrt q_1&amp;0&amp;0 \\\\ 0&amp;\\sqrt q_2&amp;0 \\\\ 0&amp;0&amp;\\sqrt q_3 \\\\ 0&amp;0&amp;0 \\end{array}}\\right]x+\\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ 0 \\\\ \\sqrt \\rho \\end{array}}\\right]\\)㉓ 对系统按照式⑩的要求设计状态反馈控制器，采用标准\\(H_\\infty\\)设计方法，借助MATLAB解⑪、⑫式就可以求得控制器\\(\\bf K\\)。 下面根据电机的参数计算控制器\\(\\bf K\\)，电机具体参数如下： 定子电阻\\({R_s} = 0.958\\Omega\\)，极对数\\(p_n=4\\)，粘滞摩擦系数\\(B = 0.008N \\cdot M \\cdot s\\)，d轴电感\\({L_d} = 5.25mH\\)，q轴电感\\({L_q} = 12mH\\)，永磁体的励磁磁链\\({\\Psi _f} = 0.1827wb\\)，转动惯量\\(J = 0.003kg \\cdot {m^2}\\)。 将上述参数代入式㉒，得到参数矩阵如下： \\({\\mathbf{A}} = \\left[ {\\begin{array}{*{20}{c}} { - 2.667}&amp;{1491.6}&amp;0 \\\\ { - 15.225}&amp;{79.833}&amp;0 \\\\ { - 1}&amp;0&amp;0 \\end{array}} \\right],{ {\\mathbf{B}}_{\\mathbf{1}}} = \\left[ {\\begin{array}{*{20}{c}} { - 1333.3}&amp;0 \\\\ 0&amp;0 \\\\ 0&amp;{ - 1} \\end{array}} \\right],{ {\\mathbf{B}}_{\\mathbf{2}}} = \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ {83.333} \\\\ 0 \\end{array}} \\right]\\)㉔ 取评价信号加权系数\\({q_1} = 0.0009\\)、\\({q_2} = 0.011\\)、\\({q_3} = 101.85\\)、\\(\\rho = 0.000625\\)代入式㉓。 使用MATLAB解上述参数矩阵构成的Riccati不等式。这里使用了MATLAB的μ分析与综合工具箱的hinffi.m函数，涉及模型构成、模型转换、hinffi命令共三条语句，其程序代码为： 123p=[A,B1,B2;C1,zeros(q,m),D12];sys=pss2sys(p,n);[k,g,gfin,ax,hamx]=hinffi(sys, r, 0, 1, 20, 1, 2); 其中q为\\(\\bf C_1\\)行数，m为\\(\\bf B_1\\)列数，n为\\(\\bf A\\)的阶数，r为\\(\\bf B_2\\)列数。 这里取q=4,m=2,n=3,r=1，运行代码后得到控制器\\(\\bf K\\)的值： \\({\\mathbf{K}} = \\left[ {\\begin{array}{*{20}{c}} { - 2.821}&amp;{ - 12.032}&amp;{458.180} \\end{array}} \\right]\\)㉕ 仿真模型搭建与数据分析 根据控制系统的稳态与动态性能的要求，设计出PMSM的\\(H_\\infty\\)控制系统原理图如下图所示。 图2 H∞控制系统原理图 该原理图与双闭环PI控制的PMSM控制系统的原理图的区别体现在，其对于转速环\\(\\omega\\)与电流环\\(i_q\\)采用\\(H_\\infty\\)控制，两者的共同点体现在电流环\\(i_d\\)均采用PI控制。为便于对二者进行对比分析，二者的结构框图在闭环控制之外的部分保持相同。 PMSM控制系统采用空间电压矢量调制(Space Vector Pulse Width Modulation，SVPWM)技术，空间电压矢量调制又被称作称“磁链跟踪控制”。它以三相正弦波电压供电时交流电机的理想磁通轨迹为基准，通过三相功率逆变器的六个功率开关元件组成的特定开关模式来产生的脉宽调制波，用逆变器不同的开关模式产生的实际磁通去逼近基准磁通圆，从而达到较高的控制性能。 同时，该系统采取了\\(i_d=0\\)矢量控制策略，该方法实现了对PMSM的解耦控制，具有控制简单、调速范围宽、转矩特性好、有效降低铜耗的优点。 根据图2所示的PMSM的\\(H_\\infty\\)控制系统原理图，应用MATLAB软件建立如图3所示的永磁同步电机控制系统Simulink仿真模型，将其与采用双闭环PI控制的系统进行对比分析。以验证\\(H_\\infty\\)鲁棒控制器在改善系统的动态与稳态性能上的有效性。 图3 H∞控制系统仿真模型 \\(H_\\infty\\)控制器的仿真模型如图4所示。其中，\\(H_\\infty\\)控制器的三个输入分别是：\\({x_1} = {\\omega _r}\\)、\\({x_2} = {i_q}\\)、\\({x_3} = \\int_0^t {(\\omega_r^* - {\\omega_r})}dt\\)。其控制器参数\\({k_1},{k_2},{k_3}\\)取自式㉕，\\(k_i\\)为控制器增益，这里取\\(k_i=7.1\\)。 图4 H∞控制器仿真模型 为了进行对比分析，再搭建一个转速、电流双闭环控制的PI控制的PMSM控制系统，使用工程整定方法确定转速环与电流环的PI控制器参数。 取转速环PI控制器参数\\({k_p} = 0.2\\)，\\({k_i} = 30\\)，输出\\(i_q^*\\)的限幅范围为-25.7A≤\\(i_q^*\\)≤25.7A； 取电流环\\(i_q\\)的PI控制器参数\\({k_p} = 300\\)，\\({k_i} = 23950\\)，输出\\(u_q^*\\)的限幅范围为-161.6V≤\\(u_q^*\\)≤161.6V； 取电流环\\(i_d\\)的PI控制器参数\\({k_p} = 131.25\\)，\\({k_i} = 23950\\)，输出\\(u_d^*\\)的限幅范围为-161.6V≤\\(u_d^*\\)≤161.6V，为了起到对照作用，这一组参数与\\(H_\\infty\\)控制系统中的电流环\\(i_d\\)的PI控制器参数保持一致。 接下来确定所要观察的控制系统动态与稳态性能指标。 所要分析的动态与稳态性能指标如下：动态性能指标包括上升时间\\(t_r\\)、峰值时间\\(t_p\\)、调节时间\\(t_s\\)、超调量\\(\\tau\\)。这里我们主要考察系统起动和受到负载扰动情况下的调节时间（或恢复时间）与超调量，并取系统从响应至保持在终值± 2%所经过的时间作为调节时间（或恢复时间）。稳态性能指标指系统的稳态误差。 分别对PI控制的系统与\\(H_\\infty\\)控制的系统进行仿真分析，设定为电机转速给定值\\(\\omega_r^* = 1000r/\\min\\)，使其空载起动，0.1秒后对电机施加12\\(N \\cdot m\\)的负载转矩，仿真得到电机转速\\(\\omega_r\\)与电流\\(i_q\\)的波形，对其动态与静态性能进行对比分析。 PI控制系统与\\(H_\\infty\\)控制系统起动和突加负载的转速响应曲线如图5与图6所示，电流响应曲线如图7与图8所示。 图5 PMSM PI控制转速响应曲线 图6 PMSM H∞控制转速响应曲线 由图5与图6的响应曲线可以看出，在系统起动时，PI控制下的调节时间为21.558ms，超调量为4.4%，\\(H_\\infty\\)控制下的调节时间为12.714ms，超调量为0.6%；突加负载扰动后，PI控制下的恢复时间为8.392ms，\\(H_\\infty\\)控制下的恢复时间为6.884ms。PI控制系统与 控制系统转速最终均稳定为给定值，稳态误差为0。 由转速响应曲线归纳出的数据表明，二者在稳态性能上均符合控制需求，在动态性能指标上，\\(H_\\infty\\)控制系统具有更短的调节时间与恢复时间，以及更小的超调量，这说明相较于PI控制系统，\\(H_\\infty\\)控制系统具有更好的快速性。 图7 PMSM PI控制电流响应曲线 图7为PI控制系统的电流\\(i_q\\)响应曲线，可以观察到电机起动后电流迅速上升，受到PI控制器限幅环节影响，在2.43ms时达到设定的限幅值25.7A，然后电流值不再上升，此时系统处于恒流升速状态，直到11.8ms时刻电流开始迅速下降。转速仍有小幅上升，电流下降至0后继续下降，在18.7ms时达到反向峰值-0.83A，随后电流回升最终稳定在0.03s时刻趋于稳定。0.1s突加负载后，电流回归稳态所用恢复时间为17.76ms。 图8 PMSM H∞控制电流响应曲线 图14为\\(H_\\infty\\)控制系统的电流\\(i_q\\)响应曲线，可以观察到电机起动后电流同样迅速上升，但上升速度较PI控制系统更快，在1.92ms便达到25.7A，由于\\(H_\\infty\\)控制系统没有设计限幅环节，因此电流继续上升，在6.31ms上升至峰值59.6A，随后电流迅速下降，在0.02s时刻之后趋于稳定。0.1s突加负载后，电流回归稳态所用恢复时间为13.43ms。 由电流响应曲线归纳出的数据表明，\\(H_\\infty\\)控制系统具有更好的快速性。对于扰动的恢复时间更短，即具有更好的抵抗扰动的能力。 结论 为解决PMSM运行过程中，容易受到来自控制系统内部和外部扰动的多种不确定性因素的影响的问题，设计采用\\(H_\\infty\\)鲁棒控制的PMSM控制系统，将其与传统PI控制的系统进行仿真分析，分析仿真效果以验证\\(H_\\infty\\)鲁棒控制在提升控制系统动态与稳态性能的有效性。 首先，介绍了\\(H_\\infty\\)控制基本原理，以及将控制器设计问题转化为\\(H_\\infty\\)鲁棒控制标准问题的基本过程，并说明了一种情况下的\\(H_\\infty\\)鲁棒控制器的设计方法。 随后建立了永磁同步电动机的数学模型。 接下来根据所建立的PMSM数学模型，结合系统的实际控制需求，以及系统的主要扰动来源，并选取合适的评价信号加权系数，最终得到系统的增广被控对象 。借助MATLAB解Riccati不等式的正定解，进而得到\\(H_\\infty\\)控制器的参数矩阵\\(\\bf K\\)。 最后对采用\\(H_\\infty\\)控制的系统与采用双闭环PI控制的系统进行Simulink仿真对比分析，比较二者在电机起动与突加负载的情况下的转速与电流响应曲线，根据曲线得到两种控制方法下电机起动时的转速调节时间、超调量与电流\\(i_q\\)的调节时间，突加负载时转速与电流\\(i_q\\)的恢复时间。 仿真结果表明，采用\\(H_\\infty\\)控制的调速系统的调节时间、超调量与恢复时间均小于采用双闭环PI控制的调速系统。且对于系统状态突变的响应更快，这说明采用\\(H_\\infty\\)控制的调速系统具有更好的抵抗扰动的能力，即鲁棒性更强。 最终得出结论，相较于PI控制的永磁同步电机系统，采用\\(H_\\infty\\)控制器的系统具有更好的动态与稳态性能，这验证了\\(H_\\infty\\)控制器在提高控制系统鲁棒性方面的有效性。 参考资料 申铁龙. H∞控制理论及应用[M]. 北京:清华大学出版社,1996 郭庆鼎,孙宜标,王丽梅. 现代永磁电动机交流伺服系统[M]. 北京:中国电力出版社,2006 蓝益鹏．永磁直线电机伺服系统鲁棒控制的研究[D]．沈阳：沈阳工业大学，2007． 张馨圆， 蓝益鹏. 直线同步电机参数不确定性系统H∞控制策略[J]. 电机与控制应用，2020，47(11)：18-24. 蔡超豪. 永磁同步电动机的鲁棒H∞控制[J]. 电气传动自动化，2006，28(2)：13-15.","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"鲁棒控制理论与应用","slug":"课程笔记/鲁棒控制理论与应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"鲁棒控制理论与应用","slug":"鲁棒控制理论与应用","permalink":"https://renahah.github.io/tags/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"}]},{"title":"永磁同步电机","slug":"课题笔记/电机/永磁同步电机","date":"2023-11-24T13:13:13.000Z","updated":"2024-01-25T05:20:21.009Z","comments":true,"path":"课题笔记/电机/永磁同步电机/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/%E6%B0%B8%E7%A3%81%E5%90%8C%E6%AD%A5%E7%94%B5%E6%9C%BA/","excerpt":"","text":"最初是为完成鲁棒控制理论与应用与交流伺服电机及其控制课程大作业所整理的笔记。 将陆续补充内容，介绍永磁同步电动机的结构、数学模型、空间脉宽矢量调制方法（SVPWM）、控制策略等内容。 按照教材及网络上的内容整理，若有错误敬请指正。 绪论 从分类上看，永磁同步电机属于交流电机、同步电机（电机转速与定子磁场的同步转速始终保持相同的交流电机）。 交流永磁伺服电动机主要有两大类，一是无刷直流电动机(The Blush-less DC Motor,BDCM)，二是永磁同步电动机(Permanent Magnet Synchronous Motor,PMSM)。本文主要论述永磁同步电动机。 无刷直流电动机用装有永磁体的转子取代有刷直流电机的定子磁极，用定子电枢取代原有刷直流电机的转子电枢。线圈不动，磁极旋转。不同与有刷直流电机采用机械换向器将直流电流转换为交流，无刷直流电机采用电子换向方式（如霍尔传感器），将方波电流（三相对称的）直接输入定子。 注：无刷直流电机虽然名字中含有“直流”，但实际上是交流电机，这是因为其输入到定子的电流是交流电。名字中的“直流”仅仅体现了其由有刷直流电机改进而来。 永磁同步电动机与之类似，与无刷直流电机的最大区别为其输入到定子的电流是正弦波。 永磁同步电动机定子与绕线式同步电动机基本相同，要求输入的电流是三相正弦交流电。绕线式同步电动机转子中的励磁绕组被替换为永磁体，从而省去了励磁线圈、滑环与电刷。通过电子换向方式实现无刷运行。 交流永磁伺服电动机按结构可分为内转子式和外转子式；按磁场方向可分为径向和轴向；按定子结构可分为分布绕组和集中绕组、有槽和无槽。 按转子结构可分为凸装式、嵌入式和内埋式三种，前两种又可称作外装式。凸装式按永磁体形状又可分为圆套筒型、瓦片型和扇状型。 凸装式交流永磁伺服电动机实质上是一种隐极式同步电动机，其永磁材料的磁导率接近空气，所以交、直轴电感相同\\(L_q=L_d\\)。气隙磁场均匀，可以使用解析法近似计算。 而嵌入式和内埋式属于凸极式同步电动机，交轴电感大于直轴电感\\(L_q&gt;L_d\\)（与传统绕线式凸极同步电动机相反），这使得其在产生电磁转矩的同时还会产生磁阻转矩。气隙磁场不是正弦分布，磁路复杂，需采用有限元法计算。 三相永磁同步电动机的数学模型 电压方程与磁链方程 PMSM的定子和普通电励磁三相同步电动机的定子是相似的。如果永磁体产生的感应电动势(反电动势)与励磁线圈产生的感应电动势一样，也是正弦的，那么PMSM的数学模型就与电励磁同步机基本相同。在推导中，做了如下假设： ①忽略铁芯饱和； ②不计涡流和磁滞损耗； ③转子上没有阻尼绕组，永磁体也没有阻尼作用； ④反电动势是正弦的。 图1 二极PMSM简化结构图 一台二极PMSM的简化结构图如上图所示。这里用固定于转子的参考坐标来描述和分析它们的稳态和动态性能。 其中AX、BX、CX表示A、B、C三相线圈（定子三相绕组），A、B、C为首端，X、Y、Z为尾端。将各绕组首端流出电流、 尾端流入电流规定为该相电流的正方向。 as、bs、cs为A、B、C三相绕组的轴线方向。其方向可由各绕组右手螺旋定则确定。由此建立了一个三相静止坐标系（又称3s坐标系，固定在定子上）。 \\(i_s,F_f\\)为空间矢量。 图中，假定了定子电流的正方向。正向电流流进相绕组产生的正弦分布磁通势波的轴线就是该相绕组的轴线。假定相绕组中反电动势的正方向与电流正方向相反。取转子逆时针旋转方向为正。 取永磁体基波磁场的方向为d轴。而q轴顺着旋转方向超前d轴90°电角度。转子参考坐标的旋转速度即为转轴速度。转子参考坐标的空间坐标以q轴与固定轴线A相绕组轴线间的电角度\\(\\theta_r\\)来确定。 由此建立了dq坐标系（又称2r坐标系，固定在转子上）。 三相静止坐标系定子电压方程： \\(\\left[ {\\begin{array}{*{20}{c}} u_a \\\\ u_b \\\\ u_c \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} R_s&amp;0&amp;0 \\\\ 0&amp;R_s&amp;0 \\\\ 0&amp;0&amp;R_s \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} i_a \\\\ i_b \\\\ i_c \\end{array}}\\right]+p\\left[ {\\begin{array}{*{20}{c}} \\psi_a \\\\ \\psi_b \\\\ \\psi_c \\end{array}}\\right]\\) 其中\\(u_a,u_b,u_c\\)为定子绕组的相电压，\\(i_a,i_b,i_c\\)为定子绕组的相电流，\\(R_s\\)为电枢电阻，p为微分算子（代替\\(\\frac{d}{dt}\\)），\\(\\psi_a,\\psi_b,\\psi_c\\)为三相定子绕组的全磁链。 三相静止坐标系定子磁链方程： \\(\\left[ {\\begin{array}{*{20}{c}} \\psi_a \\\\ \\psi_b \\\\ \\psi_c \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} L_{aa}&amp;M_{ab}&amp;M_{ac} \\\\ M_{ba}&amp;L_{bb}&amp;M_{bc} \\\\ M_{ca}&amp;M_{cb}&amp;L_{cc} \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} i_a \\\\ i_b \\\\ i_c \\end{array}}\\right]+\\psi_f\\left[ {\\begin{array}{*{20}{c}} cos\\theta \\\\ cos(\\theta-\\frac{2\\pi}{3}) \\\\ cos(\\theta+\\frac{2\\pi}{3}) \\end{array}}\\right]\\) 其中\\(L_{aa}=L_{bb}=L_{cc}\\)为各相绕组自感，\\(M_{ab}=M_{ac}=M_{ba}=M_{bc}=M_{ca}=M_{cb}\\)为各相绕组互感。 \\(\\psi_f\\)为转子永磁体磁场的磁链，仅与转子位置有关，与定子电流无关。\\(\\theta\\)为转子N极和a相轴线之间的夹角。 dq坐标系电压方程： \\(\\left[ {\\begin{array}{*{20}{c}} u_d \\\\ u_q \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} R_s&amp;-\\omega_r L_d \\\\ \\omega_r L_d&amp;R_s \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_d \\\\ i_q \\end{array}}\\right]+p\\left[ {\\begin{array}{*{20}{c}} \\psi_d \\\\ \\psi_q \\end{array}}\\right]+\\left[ {\\begin{array}{*{20}{c}} 0 \\\\ \\omega_r \\psi_f \\end{array}}\\right]\\) 其中\\(u_d,u_q\\)为dq轴电压，\\(i_d,i_q\\)为dq轴电流，\\(L_d,L_q\\)为dq轴电感，\\(\\psi_d,\\psi_q\\)为dq轴磁链，\\(\\omega_r \\psi_f\\)为永磁体正弦磁场在转速\\(\\omega_r\\)下q轴绕组产生的感应电动势。 dq坐标系磁链方程： \\(\\left[ {\\begin{array}{*{20}{c}} \\psi_d \\\\ \\psi_q \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} L_d&amp;0 \\\\ 0&amp;L_q \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_d \\\\ i_q \\end{array}}\\right]+\\left[ {\\begin{array}{*{20}{c}} \\psi_f \\\\ 0 \\end{array}}\\right]\\) 转矩方程与运动方程 参考教材P69内容进行运算 dq坐标系转矩方程： 在转子参考坐标中，取d轴反方向为虚轴，q轴为实轴，取二者合成出来的定子空间电流\\({\\bf i_s}=i_q-ji_d\\)，\\(\\bf i_s\\)与d轴夹角为\\(\\beta\\)（实质：定子三相合成旋转磁通势波轴线与永磁体励磁磁场轴线的夹角） 则有\\(i_d={\\bf i_s}cos\\beta,i_q={\\bf i_s}sin\\beta\\) 得到转矩方程：\\(T_{em}=p_n[\\psi_f {\\bf i_s}sin\\beta+\\frac{1}{2}(L_d-L_q){\\bf i_s}^2sin2\\beta]\\) 其中\\(p_n\\)为电机的极对数。 可以看出电磁转矩由两个部分组成，第一部分是永磁体和定子绕组磁链之间相互作用，第二部分由磁阻变化而产生。 对于凸装式转子永磁同步电动机（隐极），\\(L_d=L_q\\)，其电磁转矩不含磁阻引起的部分，\\(T_{em}=p_n\\psi_f i_q\\)。 转矩大小与\\(i_q\\)成正比，从而通过控制电流\\(i_q\\)来控制转矩。 对于任意类型的永磁同步电动机，若能控制\\(i_d=0\\)，就可以将它看作一台典型的他励直流电动机，定子只有交轴分量，且定子磁动势的空间矢量正好和永磁体磁场空间矢量正交。控制\\(i_d=0\\)也能降低铜耗。 运动方程： \\(T_{em}=T_l+B\\Omega_r+Jp\\Omega_r\\) 其中\\(T_l\\)为负载转矩，B为粘滞摩擦系数，\\(\\Omega_r\\)为机械角速度，\\(J\\)为转子和所带负载的总转动惯量。 电角速度\\(\\omega_r=p_n \\Omega_r\\) 运动方程可整理为：\\(T_{em}-T_l=\\frac{J}{p_n}\\frac{d\\omega_r}{dt}+\\frac{B}{p_n}\\omega_r\\) 状态方程 电压方程与运动方程的状态方程形式如下所示，以便动态仿真： \\(pi_d=(u_d-R_s i_d+\\omega_r L_q i_q)/L_d\\) \\(pi_q=(u_q-R_s i_q-\\omega_r L_d i_d -\\omega_r L_{md}i_f)/L_q\\) \\(p\\omega_r=(p_n T_{em}-p_n T_l-B\\omega_r)/J\\) 其中\\(\\psi_f=L_{md}i_f\\)，取\\(p\\psi_f=0\\)。 坐标变换 Clarke变换(三相静止绕组⇒两相静止绕组,3s/2s) \\(\\left[ {\\begin{array}{*{20}{c}} i_\\alpha \\\\ i_\\beta \\end{array}}\\right]=\\frac{N_3}{N_2}\\left[ {\\begin{array}{*{20}{c}} 1&amp;-\\frac{1}{2}&amp;-\\frac{1}{2} \\\\ 0&amp;\\frac{\\sqrt{3}}{2}&amp;-\\frac{\\sqrt{3}}{2} \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_a \\\\ i_b \\\\ i_c \\end{array}}\\right]\\) Clarke逆变换(两相静止绕组⇒三相静止绕组,2s/3s) \\(\\left[ {\\begin{array}{*{20}{c}} i_a \\\\ i_b \\\\ i_c \\end{array}}\\right]=\\frac{N_3}{N_2}\\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\\\ -\\frac{1}{2}&amp;\\frac{\\sqrt{3}}{2} \\\\ -\\frac{1}{2}&amp;-\\frac{\\sqrt{3}}{2} \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_\\alpha \\\\ i_\\beta \\end{array}}\\right]\\) 其中\\(\\frac{N_3}{N_2}\\)为三相绕组与两相绕组的匝数比。 当三相电流与两相电流幅值相等时，取\\(\\frac{N_3}{N_2}=\\frac{2}{3}\\) 当三相与两相的总功率不变(\\(p=u_a i_a+u_b i_b+u_c i_c=u_\\alpha i_\\alpha+u_\\beta i_\\beta\\))时，取\\(\\frac{N_3}{N_2}=\\sqrt\\frac{2}{3}\\) Park变换(两相静止绕组⇒两相旋转绕组,2s/2r) \\(\\left[ {\\begin{array}{*{20}{c}} i_d \\\\ i_q \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} cos\\varphi&amp;sin\\varphi \\\\ -sin\\varphi&amp;cos\\varphi \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_\\alpha \\\\ i_\\beta \\end{array}}\\right]\\) Park逆变换(两相旋转绕组⇒两相静止绕组,2r/2s) \\(\\left[ {\\begin{array}{*{20}{c}} i_\\alpha \\\\ i_\\beta \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} cos\\varphi&amp;-sin\\varphi \\\\ sin\\varphi&amp;cos\\varphi \\end{array}}\\right]\\left[ {\\begin{array}{*{20}{c}} i_d \\\\ i_q \\end{array}}\\right]\\) 其中\\(\\varphi\\)为静止的\\(\\alpha\\)轴与旋转的d轴的夹角。 空间电压矢量调制(SVPWM) 脉宽调制(Pulse Width Modulation,PWM)指的是利用半导体开关器件的导通与关断，把直流电压变成电压脉冲序列，并通过控制脉冲宽度和脉冲序列的周期来达到调压、调频、控制谐波的目的。 空间电压矢量调制(Space Vector PWM,SVPWM)又称“磁链跟踪控制”。它以三相正弦波电压供电时交流电机的理想磁通轨迹为基准，通过三相功率逆变器的六个功率开关元件组成的特定开关模式来产生的脉宽调制波，用逆变器不同的开关模式产生的实际磁通去逼近基准磁通圆 ，从而达到较高的控制性能。 空间电压矢量指的是随时间变化的交流电动机绕组电压在绕组中的空间位置。 合成空间矢量\\(u_s\\)由空间中互差120°的三相定子绕组相电压\\(u_a,u_b,u_c\\)矢量相加而成。其幅值固定不变，为相电压峰值的\\(\\frac{3}{2}\\)倍。 SVPWM的理论基础是平均值等效原理，即在一个开关周期内通过对基本电压矢量加以组合，使其平均值与给定电压矢量相等。 图2 三相两电平电压型逆变器 用于产生近似的空间电压矢量的三相两电平电压型逆变器如上图所示。 逆变器内含的器件可以分为三对共六个开关管，其中\\(V_1,V_{D1},V_4,V_{D4}\\)与PMSM的A相相连，\\(V_3,V_{D3},V_6,V_{D6}\\)与B相相连，\\(V_5,V_{D5},V_2,V_{D2}\\)与B相相连，这三对器件的通断决定了其所连接的各相的电压。 这三对器件中的任意一对，在同一时刻内都有且仅有一个开关管导通，同时另一个开关管截止。这样就可以定义出如下所示的开关函数： \\(S(x)=\\left\\{ {\\begin{array}{*{20}{c}} 1,\\quad x相上桥臂导通 \\\\ 0,\\quad x相下桥臂导通 \\end{array}}\\right.\\) 得到对应于\\(A,B,C\\)三相的开关函数\\(S(A),S(B),S(C)\\)，一共可以形成8种组合，如下表所示： 表1 三相两电平电压型逆变器工作状态及相应的电压值 由上表进而得到如下所示的电压空间矢量图： 图3 电压空间矢量图 可以看到矢量图被划分为6个扇区，任意属于矢量图范围内的矢量都可以通过这8种组合合成得到。 其矢量的合成按照“伏秒平衡”的原则得到，如下式所示： \\(U_{ref}\\cdot T_s = {U_x}\\cdot{T_x} + {U_y}\\cdot{T_y} + {U_0}\\cdot{T_0}\\) 其中，\\(U_{ref}\\)为要合成出来的目标电压矢量；\\(T_s\\)为采样周期；\\(T_x,T_y,T_0\\)分别为对应两个非零电压矢量\\(U_x,U_y\\)和零电压矢量\\(U_0\\)在一个采样周期的作用时间，\\(T_x+T_y+T_0=T_s\\)；其中\\(U_0\\)包括了\\(U_0\\)和\\(U_7\\)两个零矢量。 该式的意义是，矢量\\(U_{ref}\\)在一个周期\\(T_s\\)内所产生的积分效果值和\\(U_x,U_y,U_0\\)分别在时间\\(T_x,T_y,T_0\\)内产生的积分效果相加总和值相同。 比如Ⅰ扇区内的某个矢量就可以通过\\(U_0,U_4,U_6,U_7\\)合成得到。 对于任意的矢量，首先要判断矢量所在的扇区，确定所合成矢量的基本矢量构成，然后计算各基本矢量的持续时间。 ①判断所在的扇区 定义变量\\(A,B,C\\) 若\\(U_\\beta&gt;0\\)，则A=1，反之A=0； 若\\(\\sqrt 3 U_\\alpha-U_\\beta&gt;0\\)，则B=1，反之B=0； 若\\(-\\sqrt 3 U_\\alpha-U_\\beta&gt;0\\)，则C=1，反之C=0； 得到\\(N=A+2B+4C\\) N与扇区的对应关系如下表所示： 表2 N与扇区的对应关系 扇区 Ⅰ Ⅱ Ⅲ Ⅳ Ⅴ Ⅵ N 3 1 5 4 6 2 ②计算各基本矢量的持续时间 定义参数\\(X,Y,Z\\) 计算\\(\\left\\{ {\\begin{array}{*{20}{c}} X=\\frac{\\sqrt 3 T_s}{U_d}U_\\beta \\\\ Y=\\frac{\\sqrt 3 T_s}{U_d}(\\frac{\\sqrt 3}{2}U_\\alpha+\\frac{1}{2}U_\\beta) \\\\ Z=\\frac{\\sqrt 3 T_s}{U_d}(-\\frac{\\sqrt 3}{2}U_\\alpha+\\frac{1}{2}U_\\beta) \\end{array}}\\right.\\) 查表得到\\(T_x,T_y\\)，\\(T_0=T_s-T_x-T_y\\) 表3 基本矢量的持续时间与扇区的对应关系 扇区 Ⅰ Ⅱ Ⅲ Ⅳ Ⅴ Ⅵ N 3 1 5 4 6 2 \\(T_x\\) -Z Z X -X -Y Y \\(T_y\\) X Y -Y Z -Z -X 得到基本矢量构成及各基本矢量的持续时间后，还需要采用合适的方法安排各个基本矢量的“出场顺序”。这里采用的是七段式空间矢量合成法，该方法通过合理的安排零矢量，尽可能减少了开关次数，降低了开关损耗。 这种方法将\\(U_0\\)安排在一个周期的开头与结尾，\\(U_7\\)则安排在周期的中间。 以第Ⅰ扇区(N=3)为例，其基本空间矢量顺序为\\(U_0 \\rightarrow U_4 \\rightarrow U_6 \\rightarrow U_7 \\rightarrow U_6 \\rightarrow U_4 \\rightarrow U_0\\)，形成了一个对称的结构。 图4 第Ⅰ扇区七段式PWM波形 这里定义三路PWM（由三对开关管控制）的由关断到开通的时刻分别为\\(T_{cm1},T_{cm2},T_{cm3}\\)，然后定义三个值\\(T_a,T_b,T_c\\)为： \\(\\left\\{ {\\begin{array}{*{20}{c}} T_a=\\frac{T_s-T_x-T_y}{4} \\\\ T_b=T_a+\\frac{T_x}{2} \\\\ T_c=T_b+\\frac{T_y}{2} \\end{array}}\\right.\\) \\(T_{cm1},T_{cm2},T_{cm3}\\)与\\(T_a,T_b,T_c\\)的对应关系如下表所示： 表4 \\(T_{cm1},T_{cm2},T_{cm3}\\)与\\(T_a,T_b,T_c\\)的对应关系 扇区 Ⅰ Ⅱ Ⅲ Ⅳ Ⅴ Ⅵ N 3 1 5 4 6 2 \\(T_{cm1}\\) \\(T_a\\) \\(T_b\\) \\(T_c\\) \\(T_c\\) \\(T_b\\) \\(T_a\\) \\(T_{cm2}\\) \\(T_b\\) \\(T_a\\) \\(T_a\\) \\(T_b\\) \\(T_c\\) \\(T_c\\) \\(T_{cm3}\\) \\(T_c\\) \\(T_c\\) \\(T_b\\) \\(T_a\\) \\(T_a\\) \\(T_b\\) 注：不同的参考文献对于扇区号有不同的定义，本文选取的定义为以\\(\\alpha-\\beta\\)坐标系第一象限上的，与\\(\\alpha\\)轴夹角为0~60°范围的区域为Ⅰ扇区，然后逆时针方向依次为Ⅱ、Ⅲ、Ⅳ、Ⅴ、Ⅵ扇区，它们的N值分别为3,1,5,4,6,2。 部分参考文献直接使用N值来定义扇区号，二者相等（将N值1-6定义为Ⅰ—Ⅵ扇区），这种定义方法更适合做仿真分析。 永磁同步电动机的控制策略 永磁同步电机的控制策略主要有以下几种：矢量控制(Field Oriented Control，FOC)、恒压频比控制(VVVF)、直接转矩控制(Direct Torque Control，DTC)和基于现代控制理论的自适应控制和滑模控制等。 矢量控制 矢量控制是通过坐标变换(CLARKE变换与PARK变换)的方法将交流电机近似等效为直流电机，从而获得像直流电机的控制量，保证良好的动态特性。本文将采用矢量控制策略对永磁同步电动机进行控制。 图5 永磁同步电机矢量控制系统框图 PMSM矢量控制方法主要有以下几种： (1)\\(i_d=0\\)控制 由前文的论述可知，d轴是永磁体基波磁场的方向，\\(i_d\\)又可称作励磁电流。 q轴以顺时针超前d轴90°电角度，\\(i_q\\)值与可以影响到电磁转矩，因此\\(i_q\\)又可称作转矩电流。 若能控制励磁电流\\(i_d=0\\)，则电磁转矩直接与\\(i_q\\)成正比。此时定子只有交轴分量，其控制特性与直流电机相同。 该控制实际上实现了对PMSM的解耦控制，使定子电流只用于产生电磁转矩，通过调节交轴分量大小即可控制电磁转矩的大小，该方法控制简单、调速范围宽、转矩特性好，而且能有效的降低铜耗，常用于要求较高的控制场合，在PMSM的矢量控制中应用最为广泛。 其缺点是，随着输出转矩的增大，漏感压降增大，功率因数降低；同时由于没有弱磁电流，电机调速范围有限。 本文将采用\\(i_d=0\\)控制策略。 (2)功率因数\\(cos\\varphi=1\\)控制 令电机的功率因数恒为1，逆变器的容量得到了充分的利用，但是这种方式的最大转矩输出比较小，使退磁系数较大，永磁体退磁的风险相对增加很多，因此电机的电磁转矩和效率都会受到该影响而严重下降。 (3)恒磁链控制 该方法是控制的定子电流磁场分量，使电机气隙磁链在运行过程中始终保持恒定，并满足\\(\\Psi_\\delta=\\Psi_f\\)。 在功率因数较高时，这种方法可以使得输出转矩的上限得到提升，但又会受到其限制。 (4)弱磁控制 实现弱磁控制的方法有多种多样，一般用的是纵轴电流负反馈补偿控制，在基速以上进行弱磁调速时，通过对直轴分量&lt;0 的控制，达到去磁作用。但如果电动机在弱磁恒功率区运行时，使用弱磁控制法不能达到良好控制效果，因此该法只能适用于电机短期运行。 (5)最大转矩/电流(MTPA)控制 在凸极永磁同步电机中，通过控制\\(i_d\\)来获得最大转矩，也可称作单位电流输出最大转矩的控制。 由于逆变器需要的输出电流小，适合选用较小的逆变器，能在电机输出转矩满足要求的条件下，使定子电流最小，减小了电机的铜耗，有利于降低系统损耗，降低系统运行成本，提高系统效率。在该方案的基础上，再采用适当的弱磁控制，可以改善电机高速运行时的性能。但是随着输出转矩的增大功率因数下降比较多。 Simulink仿真方法 参考资料 郭庆鼎,孙宜标,王丽梅. 现代永磁电动机交流伺服系统[M]. 北京:中国电力出版社,2006 袁登科,徐延东,李秀涛. 永磁同步电动机变频调速系统及其控制[M]. 北京:机械工业出版社,2015 阮毅,杨影,陈伯时. 电力拖动自动控制系统——运动控制系统(第四版)[M]. 北京:机械工业出版社,2016 龙明贵. 永磁同步电机矢量控制分析[D]. 西南交通大学,2012 张东亮,艾兴,许传俊,张承瑞. 基于DSP的永磁同步电机软件式交流伺服系统[J]. 山东工业大学学报,2001,31(3):222-229 CSDN—沉沙丶—永磁同步电机矢量控制系列教程 CSDN—SpringLtc—FOC电机控制之SVPWM原理与实现","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"鲁棒控制理论与应用01-绪论及数学基础","slug":"课程笔记/鲁棒控制理论与应用/鲁棒控制理论与应用01-绪论及数学基础","date":"2023-11-16T01:26:40.000Z","updated":"2024-01-25T05:20:20.999Z","comments":true,"path":"课程笔记/鲁棒控制理论与应用/鲁棒控制理论与应用01-绪论及数学基础/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A801-%E7%BB%AA%E8%AE%BA%E5%8F%8A%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/","excerpt":"","text":"鲁棒控制理论与应用课程笔记 无PPT，按照板书、教材及网络上的内容整理，若有错误敬请指正。 绪论 不确定性：指系统由于受到外部扰动或者自身性质的影响，所造成的控制系统参数的变化。其来源有外部扰动与模型本身两种，模型本身的不确定性又可分为阶次不确定性与参数不确定性两种。 鲁棒性(Robustness)：又称作稳健性、健壮性。鲁棒性体现的是系统抵抗扰动的能力。控制系统的稳定性的鲁棒性，简称为控制系统的稳定鲁棒性；控制系统的某种性能的鲁棒性，简称为控制系统的性能鲁棒性。 鲁棒性与稳定性(Stability)的区别在于鲁棒性更侧重于系统在面对外界扰动、变化和不确定性时的表现。 \\(H_\\infty\\)控制：鲁棒控制的一种，该控制理论通过对被控对象传递函数求\\(H_\\infty\\)范数，以此来求取鲁棒控制器。 1981年，James提出用传递函数阵的\\(H_\\infty\\)范数来定义优化指标，其公式为：\\(J = \\mathop {\\inf }\\limits_K ||S(s)|{|_\\infty } = \\mathop {\\inf }\\limits_K \\{ \\mathop {\\sup }\\limits_\\omega \\bar \\sigma [s(j\\omega )]\\}\\) 其中\\(\\inf\\)为下确界，表示一个集合内最大的下界（一个集合内最大的小于集合内任意元素的数）。同理\\(\\sup\\)为下确界，表示一个集合内最小的上界（一个集合内最小的大于集合内任意元素的数）。对于有限集而言，下确界等于最小值\\(\\min\\)，上确界等于最大值\\(\\max\\)。 传递函数阵\\(S(s)\\)为\\(s\\)右半平面上解析的有理函数阵，\\(\\bar \\sigma\\)表示最大奇异值。 1988年，Doyle等四人在IEEE上发表论文State-space solutions to standard H2 and H ∞ control problems，证明\\(H_\\infty\\)设计问题的解可以通过解两个适当的代数Riccati方程得到，这标志着\\(H_\\infty\\)控制理论的成熟。 Riccati方程：形如\\(y&#39;=P(x)y^2+Q(x)y+R(x)\\)的方程。 这里指的是形如\\(XA+A^T X+XBB^T X+C^T C=0\\)的矩阵方程。 数学基础 奇异值 设\\(A \\in C^{n \\times n}\\)（A为\\(n \\times n\\)方阵），由线性代数知识可知\\(rankA^*A=rankAA^*=rankA\\)。其中\\(A^* A,AA^ *\\)的秩相等且均为非负定阵，\\(A^* A\\)与\\(AA^*\\)的有\\(r\\)个相同的正特征值，其余特征值均为0。 【定义2.1.1】取\\(\\lambda_i\\)为\\(A^* A\\)的非零特征值。称\\(\\sigma_i=\\sqrt{\\lambda_i}\\quad (i=1,2,\\cdots,r)\\)为A的非零奇异值。 【定理2.1.1】矩阵奇异值分解定理 对于任意矩阵\\(A \\in C^{n\\times m}\\)，设\\(rankA=r\\)，且\\(\\sigma_1,\\sigma_2,\\cdots,\\sigma_r&gt;0\\)为A的奇异值。则存在n阶正交阵U和m阶正交阵V，使得\\(A=UDV\\)。 其中\\(U^*U=I \\quad V^*V=I \\quad D=\\left[ {\\begin{array}{*{20}{c}} \\sum&amp;0 \\\\ 0&amp;0 \\end{array}} \\right] \\quad \\sum=diag(\\sigma_1,\\sigma_2,\\cdots,\\sigma_r)\\) \\(x\\mathop \\to \\limits_{UDV}^A y \\quad x \\in C^m,y=Ax \\in C^n\\) 矩阵\\(A \\in C^{n \\times n}\\)可以视为复向量空间\\(C^m\\)到\\(C^n\\)的映射（算子）。 矩阵的奇异值表示映射过程中向量长度被伸长的倍数。 下图以\\(A \\in C^{2\\times 2}\\)为例进行探讨： 图1 矩阵按奇异值分解 这里将\\(A:x \\to y\\)的映射过程分解为\\(V:x \\to x^1,D:x^1 \\to x^2,U:x^2 \\to y\\) \\(y=Ax=UDVx \\Rightarrow x^1=Vx,x^2=Dx^1,y=Ux^2\\) 使用欧式范数定义向量的长度\\(||x||=\\sqrt{x^*x}\\) 可以发现映射V与U不改变向量长度，只改变向量的相位角。 \\(||x^1||=||Vx||=||x|| \\quad ||y||=||Ux^2||=||x^2||\\) 映射D将\\(x^1\\)沿两个坐标轴方向分别延伸\\(\\sigma_1,\\sigma_2\\)倍。 \\(x_1^2=\\sigma_1 x_1^1,x_2^2=\\sigma_2 x_2^1\\) \\(||Ax||=||y||=||x^2||=[(\\sigma_1 x_1^1)^2+(\\sigma_2 x_2^1)^2]^\\frac{1}{2} \\leqslant \\sigma_1||x^1||=\\sigma_{\\max}(A) \\cdot ||x||\\) （这里取\\(\\sigma_{\\max}(A)=\\sigma_1\\)） 矩阵奇异值的性质（见教材P24） 其中最重要的是第三条： \\(\\sigma_{\\max}(A) \\leqslant 1\\)的充要条件是\\(I-A^*A \\geqslant 0\\)或等价地\\(I-AA^* \\geqslant 0\\) 可以推出\\(||T_{zw}(s)||_{\\infty}&lt;1\\) 范数 设V为实数域R（或复数域C）上的线性空间。如对任意\\(x \\in V\\)，有一个确定的非负实数\\(||x||\\)与之对应，且满足： ①（正定性）对任意\\(x \\in V,||x|| \\geqslant 0\\)；当且仅当\\(x=0\\)时\\(||x||=0\\) ②（齐次性）对任意\\(x \\in V,a \\in R,C\\)，有\\(||ax||=|a|\\cdot||x||\\) ③（三角不等式）\\(x,y \\in V\\)，\\(||x+y|| \\leqslant ||x||+||y||\\) 则称\\(||x||\\)为x的范数，V为线性赋范空间。 内积与内积空间 设V为复数域C上的线性空间。如对任意\\(x,y \\in V\\)，有一个确定的\\(\\langle x,y \\rangle\\)与之对应，且满足： ①（共轭对称性）\\(\\langle x,y \\rangle = \\overline{\\langle y,x \\rangle}\\) ②（正定性）\\(\\langle x,x \\rangle \\geqslant 0\\)；当且仅当\\(x=0\\)时\\(\\langle x,x \\rangle=0\\) ③（线性）\\(\\langle \\alpha x+\\beta y,z \\rangle=\\alpha \\langle x,z \\rangle+\\beta \\langle y,z \\rangle\\) 则称\\(\\langle x,y \\rangle\\)为V中的内积，V为内积空间。 范数在特定空间中的含义 对于一维空间实数集，范数的含义与绝对值相同。 对于二维或三维的欧式空间，范数的含义为空间中向量的模（向量的长度）。 对于内积空间，定义范数\\(||x||=\\sqrt{\\langle x,x \\rangle}\\) 内积公式为\\(\\langle x,y \\rangle = |x| \\cdot |y| cos\\theta\\)，其中\\(\\theta\\)为两向量夹角。 若在内积空间中\\(\\langle x,y \\rangle = 0\\)，则称x与y正交，记作\\(x \\bot y\\)（\\(cos\\theta=\\frac{\\pi}{2}\\)，两向量互相垂直） 若V有两个子集M和N，且对于任意\\(x \\in M,y \\in N\\)，均有\\(x \\bot y\\)，则称M与N正交，记作\\(M \\bot N\\)（两平面互相垂直） \\(L_1\\)范数、\\(L_2\\)范数与\\(L_\\infty\\)范数 \\(L_1\\)范数：\\(||x||_1=\\sum\\limits_{i = 1}^n {|{x_i}|}\\) 表示向量x中非零元素的绝对值之和。又称作曼哈顿范数，其值可以称作曼哈顿距离、绝对误差和等。 \\(L_2\\)范数：\\(||x||_2=\\sqrt{\\sum\\limits_{i = 1}^n {x_i^2}}\\) 向量x中各元素的平方和开根号。又称作欧式范数，其值可表示欧式空间中的距离。 \\(L_\\infty\\)范数：\\(||x||_\\infty=\\max(|x_d|)\\) 又称作最大值范数。向量x中各元素的无穷次方之和开无穷次根号，由数学知识可知其极限值为向量中各元素绝对值的最大值。 \\(L_p\\)范数：\\(||x||_p=\\sqrt[p]{\\sum\\limits_{i = 1}^n {|x_i|^p}}\\) 通用公式，p取不同的值可得到\\(L_1\\)、\\(L_2\\)与\\(L_\\infty\\)范数。 \\(L_0\\)范数：\\(||x||_0=\\sum\\limits_{i = 1}^n {1}(x_i \\ne 0)\\) 表示向量x中非零元素的个数。 Hardy空间与\\(H_p\\)范数 哈代(Hardy)空间是单位圆内一类重要的解析函数空间，是单位圆盘或半平面上的某类全纯（区域内处处可微）函数。 \\(H_p\\)范数被定义为\\(||f||_p=\\mathop {\\sup }\\limits_{0 \\leqslant r &lt; 1}(\\frac{1}{2\\pi} \\int\\limits_0^{2\\pi}|f(re^{i\\theta})|^p d\\theta)^\\frac{1}{p}\\) p取∞时，定义\\(H_\\infty\\)范数为\\(||f||_\\infty=\\mathop {\\sup }\\limits_{0 \\leqslant r &lt; 1} \\mathop {\\sup }\\limits_{0 \\leqslant \\theta \\leqslant &lt; 2\\pi} |f(re^{i\\theta})|\\) 在\\(H_\\infty\\)控制理论中，H被定义为Hardy空间的复右半平面上由解析的复变函数所构成的集合。 稳定（传递函数极点均在复平面左半平面）且具有常态（传递函数多项式分母阶次大于分子阶次）的系统传递函数\\(G(s)\\)为Hardy空间元素。 \\(G(s)\\)的\\(H_\\infty\\)范数被定义为\\(||G(s)||_\\infty=\\mathop {\\sup }\\limits_\\omega|G(j\\omega)|\\) \\(H_\\infty\\)范数指的是在S右半平面上解析的有理函数阵的最大奇异值。 总结：\\(L_2\\)范数与\\(L_\\infty\\)范数针对系统的时域；\\(H_2\\)范数与\\(H_\\infty\\)范数针对系统的频域。 \\(L_2\\)与\\(H_2\\)对应着时域信号与频域信号增益的几何平均值（平方和开根号），体现的是系统稳定工作状态下的情况（稳定性）。 \\(L_\\infty\\)与\\(H_\\infty\\)对应着时域信号与频域信号增益的最大值，体现的是系统在负载扰动状态下的偏差最大的情况（抗扰动能力、鲁棒性）。 也就是说\\(H_\\infty\\)体现了系统系统控制效果最差的情况下的偏差程度（偏差的最大值），通过对其加以控制来尽可能的减小偏差的最大值，以提高系统的抗扰动能力（或鲁棒性）。 系统的I/O描述 任意系统可以看做输入信号空间到输出信号空间的映射。 信号的范数 时域的\\(L_2\\)范数与\\(L_2\\)空间 定义\\(L_2\\)范数\\(||u(t)||_2=\\{\\int_{-\\infty }^{+\\infty} |u(t)|^2 dt\\}^\\frac{1}{2}\\) \\(L_2\\)空间定义为上式定义的\\(L_2\\)范数有界的信号集合。 \\(L_2(-\\infty,+\\infty)=\\{u(t)|\\text{ }||u(t)||_2&lt;\\infty\\}\\) 若\\(u(t)\\)为电流或电压，则\\(L_2(-\\infty,+\\infty)\\)代表能量有限的信号的集合。 \\(L_2(-\\infty,+\\infty)\\)是定义了内积的赋范空间，范数定义由内积导出。 设\\(u,v \\in L_2(-\\infty,+\\infty)\\)，则内积定义为\\(\\langle u,v \\rangle = \\int_{-\\infty }^{+\\infty} v^*(t)u(t)dt\\) \\(L_2(-\\infty,+\\infty)\\)可表示为两个正交子空间的和，\\(L_2(-\\infty,+\\infty)=L_2(-\\infty,0]\\oplus L_2[0,+\\infty)\\) 频域的\\(H_2\\)范数与\\(L_2\\)空间 定义\\(H_2\\)范数\\(||U(j\\omega)||_2=\\{\\frac{1}{2\\pi} \\int_{-\\infty }^{+\\infty} |U(j\\omega)|^2 d\\omega\\}^{1/2}\\) 频域的\\(L_2\\)空间\\(L_2=\\{U(j\\omega)|\\text{ }||U(j\\omega)||_2&lt;\\infty\\}\\) 频域信号的\\(H_2\\)范数定义亦由内积导出。 设\\(U,V \\in L_2\\)，则内积定义为\\(\\langle U,V \\rangle = \\frac{1}{2\\pi} \\int_{-\\infty }^{+\\infty} V^*(j\\omega)U(j\\omega)d\\omega\\) 【定理2.1.1】时域\\(L_2\\)范数=频域\\(H_2\\)范数 设\\(U(j\\omega)\\)为\\(u(t)\\)的傅式变换的象函数，如果\\(u(t) \\in L_2(-\\infty,+\\infty)\\)，则\\(U(j\\omega) \\in L_2\\)，且\\(||u(t)||_2=||U(j\\omega)||_2\\) 证明过程： \\(\\langle u,v \\rangle = \\int_{-\\infty }^{+\\infty} v^*(t)u(t)dt = \\int_{-\\infty }^{+\\infty} v^*(t) \\cdot \\frac{1}{2\\pi}\\int_{-\\infty }^{+\\infty} u(j\\omega)e^{j\\omega t}d\\omega dt\\) \\(=\\frac{1}{2\\pi} \\int_{-\\infty }^{+\\infty} u(j\\omega) \\int_{-\\infty }^{+\\infty} v^*(t) e^{j\\omega t}d\\omega dt\\) \\(=\\frac{1}{2\\pi} \\int_{-\\infty }^{+\\infty} U(j\\omega)V^*(j\\omega)d\\omega = \\langle U,V \\rangle\\) 上式被称作Porseval等式。 令\\(u=v\\)，则有\\(||u(t)||_2^2=\\langle u,u \\rangle=\\langle U,U \\rangle=||U(j\\omega)||_2^2\\) \\(\\Rightarrow ||u(t)||_2=||U(j\\omega)||_2\\)得证。 信号时域、频域空间转换及其等价关系 \\(L_2=H_2 \\oplus H_2^\\bot\\) 其中\\(H_2^\\bot\\)为\\(H_2\\)的正交补，是在s闭左半平面解析的函数集。 \\(H_2\\)在s闭右半平面解析，\\(L_2\\)在虚轴上解析。 图2 信号时域、频域空间转换及其等价关系 系统的范数 \\(H_\\infty\\)空间：频域传递函数矩阵\\(P(s)\\)在s闭右半平面解析，且满足式\\(\\mathop {\\sup }\\limits_{Re \\text{ } s \\geqslant 0}\\sigma_\\max\\{P(s)\\}&lt;\\infty\\)的复变函数阵的集合。 \\(H_\\infty\\)范数：\\(||P(s)||_\\infty=\\mathop {\\sup }\\limits_{Re \\text{ } s \\geqslant 0}\\sigma_\\max\\{P(s)\\}\\) 由复变函数极大模原理知其等价于\\(||P(s)||_\\infty=\\mathop {\\sup }\\limits_\\omega \\sigma_\\max\\{P(jw)\\}\\) 对于标量系统，上式右端等于幅频特性的最大值。 【定理2.2.3】设\\(P \\in H_\\infty\\)，\\(u \\in L_2(-\\infty,+\\infty)\\)。则有 \\(||P||=\\mathop {\\sup}\\limits_{u \\ne 0}\\frac{||y||_2}{||u||_2}=\\mathop {\\sup}\\limits_\\omega \\sigma_\\max [P(j\\omega)]=||P(s)||_\\infty\\) 工程意义：系统传递阵的\\(H_\\infty\\)范数实际上反映输入/输出信号\\(L_2\\)范数的最大增益。 注：可以使用Porseval等式证明。 范数的计算 【定理2.2.4】设\\(U \\in H_2\\)可表示为状态空间实现\\(U(s)=C(sI-A)^{-1}B\\)，其中A为稳定阵。 则有\\(||U(s)||_2=\\sqrt{CL_0 C^T}\\)，其中\\(L_0\\)为Lyapunov方程\\(AL_0+L_0 A^T=-BB^T\\)的正定解。 【定理2.2.5】设\\(P(s)=C(sI-A)^{-1}B \\in H_\\infty\\)。则\\(||P(s)||_\\infty&lt;1\\)的充分必要条件是哈密尔顿(Hamiltonian)矩阵\\(H=\\left[ {\\begin{array}{*{20}{c}}A&amp;BB^T \\\\ -C^T C&amp;-A^T \\end{array}} \\right]\\)的所有特征值的实部不等于零。 \\(H_\\infty\\)范数与Riccati方程、Riccati不等式 哈密尔顿矩阵的性质 【引理2.3.1】令\\(H=\\left[ {\\begin{array}{*{20}{c}}A&amp;BB^T \\\\ -C^T C&amp;-A^T \\end{array}} \\right]\\)，则矩阵\\(H\\)与\\(-H^T\\)相似。 【引理2.3.2】若\\(T_1\\)为可逆阵，则 (1)\\(X=T_2 T_1^{-1}\\)为复对称阵，即\\(X=X^*\\) (2)X满足代数Ricatti方程\\(XA+A^T X+XBB^T X+C^T C=0\\) 由\\([X \\quad -I]H\\left[ {\\begin{array}{*{20}{c}}I \\\\ X \\end{array}} \\right]=XA+A^T X+XBB^T X+C^T C=0\\) 可知H与Riccati方程具有等价性。 \\(H_\\infty\\)范数与Riccati方程 【定理2.3.1】设\\(P(s)=C(sI-A)^{-1}B\\)且A为稳定阵。则\\(||P(s)||_\\infty&lt;1\\)的充分必要条件是Riccati方程\\(XA+A^T X+XBB^T X+C^T C=0\\)有半正定解\\(X \\geqslant 0\\)且\\(A+BB^T X\\)是稳定阵。 注：稳定阵，指所有特征值均具有负实部。 \\(H_\\infty\\)范数与Riccati不等式 【定理2.4.1】A为稳定阵且\\(||P(s)||_\\infty&lt;1\\)的充分必要条件是存在正定阵X满足Riccati不等式\\(XA+A^T X+XBB^T X+C^T C&lt;0\\)。 注：Riccati不等式不等式属于线性矩阵不等式(Linear Matrix Inequality,LMI)。 总结：Hamiltonian矩阵、\\(H_\\infty\\)范数与Riccati方程/不等式在一定条件下存在等价关系，如下图所示。 图3 Hamiltonian矩阵、H∞范数与Riccati方程的等价关系 有理函数阵的分解与稳定性 \\(P(s)\\)满足\\(P(\\infty)=0\\)，则\\(P(s)\\)称为严格真有理函数阵。\\(P(\\infty)\\)是常数阵时，\\(P(s)\\)称为真有理函数阵。 所有在s闭右半平面解析的真有理函数集合称为\\(H_\\infty\\)空间。 设系统的闭环传递阵\\(P(s)\\)的状态空间实现为\\(\\{A,B,C,D\\}\\)，若\\((A,B)\\)可稳定且\\((C,A)\\)可检测，则\\(P(s) \\in H_\\infty\\)的充分必要条件是A的特征值均位于s开左半平面（A为稳定阵）。 \\(P(s) \\in H_\\infty \\Leftrightarrow Re[\\lambda_i(A)]&lt;0\\) 有理函数阵的内外分解 如果传递函数阵\\(U(S) \\in H_\\infty\\)满足\\(U^T (-s)U(s)=I\\)则称\\(U(s)\\)为内矩阵。 【引理2.6.1】设\\(U_i(s)=\\{A,B,C,D\\}\\)，D列满秩，\\((A,C)\\)可检测。 如果存在半正定阵\\(X \\geqslant 0\\)使得\\(\\left\\{ {\\begin{array}{*{20}{c}}XA+A^T X+C^T C=0 \\\\ D^T C+B^T X=0 \\\\ D^T D=I \\end{array}} \\right.\\) 则A为稳定阵且\\(U_i(s)\\)为内矩阵。 线性系统的稳定性、能控性、能观性、可稳定性、可观测性 ①稳定性(Stability) A的特征值均位于s开左半平面，即\\(Re[\\lambda_i(A)]&lt;0\\) ②能控性、可控性(Controllability) 秩判据：\\(rank[B,AB,{A^2}B, \\cdot \\cdot \\cdot ,{A^{n - 1}}B]=n\\) ③能观性、可观测性(Observability) 秩判据：\\(rank\\left[ \\begin{gathered} C \\\\ CA \\\\ \\vdots \\\\ C{A^{n-1}} \\\\ \\end{gathered}\\right]=n\\) 注：关于能控性、能观性的更多介绍，见线性系统理论04-线性系统的能控性和能观测性 ④可稳定性(Stabilizability) 指的是存在状态负反馈使得系统稳定。 判据：\\(\\forall Re(\\lambda_i) \\geqslant 0\\)，有\\(rank[A-\\lambda_i I \\quad B]=n\\)（行满秩） 若单个极点\\(\\lambda_i\\)满足上述判据，则该极点为可控极点，反之该极点为不可控极点。 能控性与可稳定性的关系： 能控的系统一定可稳定，但可稳定系统不一定能控。 如果所有\\(\\lambda_i\\)极点均为可控极点，则称\\((A,B)\\)能控；如果\\((A,B)\\)所有不可控极点满足\\(Re(\\lambda_i)&lt;0\\)则称\\((A,B)\\)可稳定。 ⑤可检测性(Detectablility) 指的是观测器系统是不是可稳定的。 判据：\\(\\forall Re(\\lambda_i) \\geqslant 0\\)，有\\(rank\\left[ \\begin{gathered} A-\\lambda_i I \\\\ C \\end{gathered}\\right]=n\\)（列满秩） 若单个极点\\(\\lambda_i\\)满足上述判据，则该极点为可观测极点，反之该极点为不可观测极点。 能观性与可检测性的关系： 能观的系统一定可检测，但可检测系统不一定能观。 如果所有\\(\\lambda_i\\)极点均为可观测极点，则称\\((C,A)\\)能观；如果\\((C,A)\\)所有不可观测极点满足\\(Re(\\lambda_i)&lt;0\\)则称\\((C,A)\\)可检测。 总结：能控性与能观性、可稳定性与可检测性有对偶关系。关于可稳定性与可检测性具体内容可见教材P284。 Lyapunov方程 李雅普诺夫(Lyapunov)方程的形式为\\(A^T X+XA=-C^T C\\) 【定理2.7.1】设\\((C,A)\\)为可观测对，则Lyapunov方程具有正定解\\(X&gt;0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 【定理2.7.2】设\\((C,A)\\)为可检测对，则Lyapunov方程具有半正定解\\(X \\geqslant 0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 【推论2.7.1】对于给定的正定阵\\(Q&gt;0\\)，Lyapunov方程\\(A^T X+XA=-Q\\)具有正定解\\(X&gt;0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 可以解Lyapunov方程求出X是否正定来判断系统稳定性。 【推论2.7.2】设\\((A,B)\\)为可控制对，Lyapunov方程\\(A^T X+XA=-BB^T\\)具有正定解\\(X&gt;0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 【推论2.7.1】设\\((A,B)\\)为可稳定对，Lyapunov方程\\(A^T X+XA=-Q\\)具有半正定解\\(X \\geqslant 0\\)的充要条件是 \\(Re\\{\\lambda_i(A)&lt;0\\} \\quad i=1,2,\\cdots,n\\) 注：关于Lyapunov方程的更多介绍，见线性系统理论05-系统运动的稳定性 线性分数变换 设传递函数阵\\(\\Theta(s)=\\left[ \\begin{gathered} \\Theta_{11}(s)&amp;\\Theta_{12}(s) \\\\ \\Theta_{21}(s)&amp;\\Theta_{22}(s) \\end{gathered}\\right]\\) 对于给定的\\(\\Theta(s)\\)和传递函数阵\\(K(s)\\)，定义线性分数变换(Linear Fractional Transformation,LFT)如下： \\(LFT(\\Theta,K)=\\Theta_{11}(s)+\\Theta_{12}(s)K(s)[I-\\Theta_{22}(s)K(s)]^{-1}\\Theta_{21}(s)\\) \\(=\\Theta_{11}(s)+\\Theta_{12}(s)[I-K(s)\\Theta_{22}(s)]^{-1}K(s)\\Theta_{21}(s)\\) 图4 线性分数变换 反馈系统如上图(a)所示，\\(\\Theta\\)表示输入信号\\(u_1,u_2\\)至输出信号\\(y_1,y_2\\)的传递函数阵，即 \\(\\left[ \\begin{gathered} y_1 \\\\ y_2 \\end{gathered}\\right]=\\Theta(s)\\left[ \\begin{gathered} u_1 \\\\ u_2 \\end{gathered}\\right]\\) 令\\(u_2=K(s)y_2(s)\\)，则有\\(y_1=LFT(\\Theta(s),K(s))u_1\\) 其中\\(u_1\\)到\\(y_1\\)的闭环传递函数\\(T_{y_1 u_1}=LFT(\\Theta(s),K(s))\\) 同理，对于上图(b)所示的\\(H_\\infty\\)控制器，令\\(u(s)=K(s)y(s)\\)，则有\\(Z(s)=T_{zw}W(s)\\) 其中\\(T_{zw}=LFT(G(s),K(s))\\) 参考资料 申铁龙. H∞控制理论及应用[M]. 北京:清华大学出版社,1996 郭庆鼎,孙宜标,王丽梅. 现代永磁电动机交流伺服系统[M]. 北京:中国电力出版社,2006 知乎 - 怎样理解H2范数和H∞范数的物理意义？ 知乎 - 现代控制理论：速成/不求甚解版(上)","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"鲁棒控制理论与应用","slug":"课程笔记/鲁棒控制理论与应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"鲁棒控制理论与应用","slug":"鲁棒控制理论与应用","permalink":"https://renahah.github.io/tags/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"}]},{"title":"作曲笔记01-使用Fl Studio制作一首Melodic Progressive House","slug":"音乐/作曲/作曲笔记01-使用Fl Studio制作一首Progressive House","date":"2023-11-14T12:21:14.000Z","updated":"2024-01-25T05:20:21.091Z","comments":true,"path":"音乐/作曲/作曲笔记01-使用Fl Studio制作一首Progressive House/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%BD%9C%E6%9B%B2/%E4%BD%9C%E6%9B%B2%E7%AC%94%E8%AE%B001-%E4%BD%BF%E7%94%A8Fl%20Studio%E5%88%B6%E4%BD%9C%E4%B8%80%E9%A6%96Progressive%20House/","excerpt":"参考网络上的各种音乐制作教程，整理了一个入门作曲笔记。 其作用是初步快速了解Fl Studio基本操作方法，以及音乐制作的流程。后续会有更详细具体的笔记。 和理工科类的课程学习笔记不同，该笔记不能替代视频，仅仅是对视频要点的一个总结概括，需要反复观看参考资料列出的视频进行学习。","text":"参考网络上的各种音乐制作教程，整理了一个入门作曲笔记。 其作用是初步快速了解Fl Studio基本操作方法，以及音乐制作的流程。后续会有更详细具体的笔记。 和理工科类的课程学习笔记不同，该笔记不能替代视频，仅仅是对视频要点的一个总结概括，需要反复观看参考资料列出的视频进行学习。 序言 Fl Studio：全称“Fruity Loops Studio”，是一个数字音频工作站(DAW)。Fl tudio是一个功能完备的音乐制作软件，可以实现编曲、剪辑、录音、混音。 Progressive House：一种电子音乐风格，始于1990年代的英国，深受Trance音乐的影响，比较注重旋律和乐曲编排，拍点强弱较不明显，节奏大致在120到134bpm左右，作品对时长没有特定的限制，强调情绪与氛围逐步推进和堆叠。 Melodic Progressive House：Progressive House的分支之一，通常来形容诸如Tobu，Ahxello这样的卧室制作人所制作的Progressive House，表现在更加注重旋律和对Drop的音色设计。倚重亮色琶音pluck来构建旋律主体，乐器倾向性强，适合闲情逸致的生活中品赏。 音乐的构成要素 Drums(鼓) ①Kick(底鼓)：又称bass drum，架子鼓组里面最下面最大的那个鼓。鼓手通过脚踩脚踏板触发连接的踩锤敲击鼓面来发出声音，声音为“咚”。 ②Clap(拍手)：一个或多个人拍击双手的声音，声音为“啪”。 ③Hat(镲)：鼓手左边两片合在一起的镲片，通过脚踏板控制镲片的开闭。开镲(Open Hat)的声音为“擦”，声音较为持续，踩镲(Closed Hat)的声音为“次”，声音较为短促。 ④Snare(军鼓)：离鼓手最近的平放的小鼓，鼓槌敲击制造出短促、响亮的声音，产生出很有特色的“劈裂”声。 旋律中的音 ①Chord(和弦)：音乐旋律的基础，可以整几个大三和弦，再进行适当的转位。 和弦的知识参见乐理笔记07-和弦 ②Lead(和弦内音)：Lead一般泛指主旋律音色，写在和弦音的内部，可以偶尔出现几个和弦外的音。 ③Pluck(弹拨音)：类似原声乐器中的吉他类的音色，有弹拨的感觉，也可以作为主旋律音色，写法与Lead一致。 ④Bass(低音)：音乐中的低音，写在和弦根音上。 ⑤Pad(铺底音)：通常为弦乐，有比较柔和，比较绵延的感觉。一般与Chord音相同，写法与之一致。 其他要素 ①Arp(琶音)：写一个没有节奏的旋律并反复循环。 ②白噪音：在3x Osc中点三个骰子。可加可不加。 ③FX：泛指各种效果音，如上升、下降效果。一般用在build up尾部与drop头部。 ④Sub Bass(次低音)：写法与Bass相同，比Bass音更低。 音频处理 ①Gross Beat(侧链压缩)：随时间控制音量的大小。 ②Fruity Fast Lp(压缩声音)：做出渐强渐弱效果，偶尔出现弦外音。 ③Fruity Reeverb 2(混响)：模仿不同场景下的声场。 ④Fruity parametric EQ2：调整不同频率的声音大小。从左到右为低频到高频，上下为声音大小。 音乐按时间划分的阶段 ①intro(序幕) ②build up(渐强) ③break down(渐弱) ④drop(高潮) ⑤outro(尾声) 音乐不同阶段的要素公式（仅作参考） intro:arp+chord break down:arp+chord build up:chord+pluck+drums drop:chord+lead+bass+drums+FX break down:arp+chord build up:chord+pluck+drums drop:chord+lead+bass+drums+arp+pad+FX break down:arp+chord outro:FX 参考资料 白影shadow——全b站最详细的电音入门教程！人人都能学得会！ Justin Apple——电音教程：如何制作像TOBU风格的电子音乐 Ableton线上作曲教程 Tim2354——电子音乐风格科普","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"作曲","slug":"音乐/作曲","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%BD%9C%E6%9B%B2/"}],"tags":[{"name":"作曲","slug":"作曲","permalink":"https://renahah.github.io/tags/%E4%BD%9C%E6%9B%B2/"}]},{"title":"线性系统理论06-线性反馈系统的时间域综合","slug":"课程笔记/线性系统理论/线性系统理论06-线性反馈系统的时间域综合","date":"2023-10-20T23:03:59.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论06-线性反馈系统的时间域综合/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA06-%E7%BA%BF%E6%80%A7%E5%8F%8D%E9%A6%88%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%97%B6%E9%97%B4%E5%9F%9F%E7%BB%BC%E5%90%88/","excerpt":"","text":"线性系统理论课程笔记 对应教材内容第六章 线性反馈系统的时间域综合的内容 引言 综合问题：系统的综合问题由受控系统，性能指标和控制输入三个要素组成，所谓系统综合，就是对给定受控系统，确定反馈形式的控制，使所导出闭环系统的运动行为达到或优于指定的期望性能指标。 性能指标的类型： \\(\\left\\{ {\\begin{array}{*{20}{c}} 非优化型性能指标\\left\\{ {\\begin{array}{*{20}{c}} 渐近稳定 \\\\ 极点配置 \\\\ 解耦控制 \\\\ 跟踪问题 \\end{array}}\\right. \\\\ 优化型性能指标 \\end{array}}\\right.\\) 状态反馈和输出反馈 状态反馈 图1 状态反馈 连续时间线性时不变系统\\(\\dot x = Ax + Bu,\\quad y = Cx\\)，状态反馈下受控系统的输入为\\(u=-Kx+v\\)。 则有反馈系统状态空间描述为\\(\\dot x = (A - BK)x + Bv,\\quad y = Cx\\) 对连续时间线性时不变系统，状态反馈保持能控性，不保持能观测性。 输出反馈 图2 输出反馈 连续时间线性时不变系统\\(\\dot x = Ax + Bu,\\quad y = Cx\\)，输出反馈下受控系统的输入为\\(u=-Fy+v\\)。 则有反馈系统状态空间描述为\\(\\dot x = (A - BFC)x + Bv,\\quad y = Cx\\) 对连续时间线性时不变系统，输出反馈保持能控性和能观测性。 状态反馈和输出反馈的比较 反馈原理：状态反馈为系统结构信息的完全反馈，输出反馈则是系统结构信息的不完全反馈。 反馈功能：状态反馈在功能上远优于输出反馈。 改善输出反馈的途径：扩展输出反馈（动态输出反馈） 反馈实现上，输出反馈要优越于状态反馈。 解决状态反馈物理实现的途径：引入状态观测器，扩展状态反馈和扩展输出反馈的等价性。 状态反馈的极点配置 极点配置定理：对单输入\\(n\\)维连续时间线性时不变受控系统\\(\\dot x = Ax + Bu\\)，系统全部\\(n\\)个极点可任意配置的充分必要条件为\\((A,b)\\)完全能控。 极点配置算法： ①判别\\((A,b)\\)的能控性。 注：可以构造能控判别矩阵\\({Q_c} = [B,AB,{A^2}B, \\cdot \\cdot \\cdot ,{A^{n - 1}}B]\\) 系统完全能控的充要条件为\\(rank(Q_c)=n\\)（\\(Q_c\\)满秩） ②计算矩阵\\(A\\)特征多项式\\(det(sI-A)=\\alpha(s)=s^n+\\alpha_{n-1}s^{n-1}+\\cdots+\\alpha_1 s+\\alpha_0\\) ③计算由期望闭环特征值\\(\\{ \\lambda_1^*, \\cdots ,\\lambda_n^* \\}\\)决定的特征多项式 \\({\\alpha ^*}(s) = \\mathop \\Pi \\limits_{i = 1}^n (s - \\lambda _i^*) = {s^n} + \\alpha _{n - 1}^*{s^{n - 1}} + \\cdots + \\alpha _1^*s + \\alpha _0^*\\) ④\\(\\bar k = \\left[ {\\alpha _0^* - {\\alpha _0},\\alpha _1^* - {\\alpha _1}, \\cdots ,\\alpha _{n - 1}^* - {\\alpha _{n - 1}}} \\right]\\) ⑤\\(P = \\left[ {A^{n - 1}b, \\cdots ,Ab,b} \\right]\\quad \\left[ \\begin{gathered}1 &amp; &amp; &amp; \\\\ {\\alpha _{n - 1}}&amp;\\ddots&amp; &amp; \\\\ \\vdots &amp; \\ddots &amp; \\ddots &amp; \\\\ {\\alpha _1} &amp; \\cdots &amp; {\\alpha _{n - 1}}&amp;1 \\hfill \\\\ \\end{gathered} \\right]\\) ⑥\\(Q=p^{-1}\\) ⑦\\(k = \\bar kQ\\) 【例1】连续时间线性时不变状态方程为\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}}0&amp;0&amp;0 \\\\ 1&amp;{ - 6}&amp;0 \\\\ 0&amp;1&amp;{ - 12} \\end{array}} \\right]\\;x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 0 \\\\ 0 \\end{array}} \\right]\\;u\\) 期望闭环极点为\\(\\begin{array}{*{20}{c}}{ {\\lambda _1}^* = - 2}&amp;{ {\\lambda _2}^* = - 1 + j}&amp;{ {\\lambda _3}^* = - 1 - j} \\end{array}\\)，求状态反馈阵\\(k\\)。 能控性判定矩阵\\(Q_c = [B,AB,A^2 B] = \\left[ {\\begin{array}{*{20}{c}}1&amp;0&amp;0 \\\\ 0&amp;1&amp;-6 \\\\ 0&amp;0&amp;1 \\end{array}} \\right]\\) \\(r(Q_c)=3=n \\quad\\)⇒系统能控 \\(\\det (sI - A) = \\left[ {\\begin{array}{*{20}{c}}0&amp;0&amp;0 \\\\ { - 1}&amp;{s + 6}&amp;0 \\\\ 0&amp;{ - 1}&amp;{s + 12} \\end{array}} \\right] = {s^3} + 18{s^2} + 72s\\) 期望闭环极点的特征多项式\\({\\alpha ^*}(s) = (s + 2)(s + 1 - j)(s + 1 + j) = {s^3} + 4{s^2} + 6s + 4\\) \\(\\bar k = [\\alpha _0^* - {\\alpha _0},\\alpha _1^* - {\\alpha _1},\\alpha _2^* - {\\alpha _2}] = [4, - 66, - 14]\\) \\(P = [{A^2}b,Ab,b]\\left[ {\\begin{array}{*{20}{c}} 1&amp;{}&amp;{} \\\\ {\\alpha _2}&amp;1&amp;{} \\\\ {\\alpha _1}&amp;{\\alpha _2}&amp;1 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1 \\\\ { - 6}&amp;1&amp;0 \\\\ 1&amp;0&amp;0 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0 \\\\ {18}&amp;1&amp;0 \\\\ {72}&amp;{18}&amp;1 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} {72}&amp;{18}&amp;1 \\\\ {12}&amp;1&amp;0 \\\\ 1&amp;0&amp;0 \\end{array}} \\right]\\) \\(Q = {P^{ - 1}} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1 \\\\ 0&amp;1&amp;{ - 12} \\\\ 1&amp;{ - 18}&amp;{144} \\end{array}} \\right]\\) \\(k = \\bar kQ = \\left[ {\\begin{array}{*{20}{c}} {4,}&amp;{ - 66,}&amp;{ - 14} \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1 \\\\ 0&amp;1&amp;{ - 12} \\\\ 1&amp;{ - 18}&amp;{144} \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} { - 14,}&amp;{186}&amp;{ - 1220} \\end{array}} \\right]\\) 状态反馈镇定 状态镇定问题：对给定时间线性时不变受控系统，找到一个状态反馈型控制律\\(u = - Kx + v\\)，使所导出的状态反馈型闭环系统\\(\\dot x = (A - BK)x + Bv\\)为渐近稳定，即系统闭环特征值均具有负实部。 结论：连续时间线性时不变系统可由状态反馈镇定，当且仅当系统不能控部分为为渐近稳定。 结论：连续时间线性时不变系统可由状态反馈镇定的一个充分条件是系统完全能控。 状态反馈镇定算法： ①判断\\((A, B)\\)能控性，若完全能控，去④。 ②对\\((A, B)\\)按能控性分解 ③对能控部分进行极点配置 ④计算镇定状态反馈矩阵 全维度状态观测器 全维观测器是指重构状态向量的维数与原系统相同。观测器结构如下： 图3 全维观测器 观测器动态方程为：\\(\\dot {\\hat x} = (A - HC)\\hat x + Bu + Hy\\) 【例2】系统动态方程为：\\(\\begin{array}{*{20}{c}} {\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1 \\\\ { - 2}&amp;{ - 3} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 1 \\end{array}} \\right]u}&amp;{y = \\left[ {\\begin{array}{*{20}{c}} 2&amp;0 \\end{array}} \\right]x} \\end{array}\\) 设计一个状态观测器，其中矩阵\\(A-hc\\)的特征值（观测器极点）为\\(-10,-10\\)。 设\\(h = \\left[ {\\begin{array}{*{20}{c}} h_1 \\\\ h_2 \\end{array}} \\right]\\) \\(\\left| {\\lambda I - (A - hc)} \\right| = {\\lambda ^2} + (2{h_1} + 3)\\lambda + 6{h_1} + 2{h_2} + 2\\) 希望的特征多项式\\(\\alpha^*(s)={(\\lambda + 10)^2} = {\\lambda ^2} + 20\\lambda + 100\\) 得到\\(h = \\left[ {\\begin{array}{*{20}{c}}8.5 \\\\ 23.5 \\end{array}} \\right]\\) 由观测器方程\\(\\dot {\\hat x} = (A - hc)\\hat x + bu + hy\\)得到 \\(\\dot {\\hat x} = \\left[ {\\begin{array}{*{20}{c}}{ - 17}&amp;1 \\\\ { - 49}&amp;{ - 3} \\end{array}}\\right]\\hat x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 1 \\end{array}} \\right]u + \\left[ {\\begin{array}{*{20}{c}} {8.5} \\\\ {23.5} \\end{array}} \\right]y\\) 原系统及其状态观测器结构图如下： 图4 状态观测器设计 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"线性系统理论05-系统运动的稳定性","slug":"课程笔记/线性系统理论/线性系统理论05-系统运动的稳定性","date":"2023-10-20T01:32:01.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论05-系统运动的稳定性/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA05-%E7%B3%BB%E7%BB%9F%E8%BF%90%E5%8A%A8%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7/","excerpt":"","text":"线性系统理论课程笔记 对应教材内容第五章 系统运动的稳定性的内容 外部稳定性与内部稳定性 外部稳定性 定义：称一个因果系统为外部稳定，如果对任意一个有界输入\\(u(t)\\)，即满足条件\\(\\left\\| {y(t)} \\right\\| \\leqslant {\\beta_1} &lt; \\infty\\)的一个任意输入\\(u(t)\\)对应的输出\\(y(t)\\)均有界，即\\(\\left\\| {y(t)} \\right\\| \\leqslant {\\beta_2} &lt; \\infty\\) 有界输入、有界输出(Bound Input Bound Output,BIBO) 结论：对零初始条件连续线性时不变系统，令初始时刻\\(t_0=0\\)，则系统BIBO稳定的充要条件为传递函数矩阵\\(G(s)\\)的所有极点均具有负实部。 内部稳定性 定义：称连续线性时不变系统在时刻\\(t_0\\)为内部稳定，是指由时刻\\(t_0\\)任意非零初始状态\\(x(t_0)=x_0\\)引起的状态零输入响应\\(x_{ou}(t)\\)时所有\\(t \\in [t_0,\\infty)\\)为有界并满足渐近属性\\(\\mathop {\\lim }\\limits_{t \\to \\infty } {X_{ou}}(t) = 0\\) \\(\\dot x=Ax \\quad\\)内部稳定是自治系统状态运动的稳定性。 结论：对\\(n\\)维连续线性时不变自治系统\\(\\dot x=Ax+Bu \\quad x(0)=x_0\\)，系统内部稳定即渐近稳定的充分必要条件为\\(e^{At}\\)满足\\(\\mathop {\\lim }\\limits_{t \\to \\infty } {e^{At}} = 0\\) 两者之间的关系 对于连续线性时不变系统，若系统为内部稳定，则系统必为外部稳定。（反之不成立） 李亚普诺夫(Lyapunov)意义下的稳定性 Lyapunov意义下的稳定性 \\(\\left\\| x_0-x_e \\right\\| \\leqslant \\delta (\\varepsilon ,{t_0})\\) \\(\\left\\| \\varphi(t;x_0,t_0) - x_e \\right\\| \\leqslant \\varepsilon\\) 实质：只能保证系统受扰运动相对于平衡状态的有界性，不能保证系统受扰运动相对于平衡状态的渐近性。 定义：称自治系统的孤立平衡状态在\\(x_e=0\\)在时刻\\(t_0\\)为渐近稳定 (1)\\(x_e=0\\)在时刻\\(t_0\\)为Lyapunov意义下的稳定。 (2)对实数\\(\\delta(\\varepsilon,t_0)&gt;0\\)和任给实数\\(\\mu&gt;0\\)，都对应存在实数\\(T(\\mu,\\delta,t_0)&gt;0\\)，使任一初始状态\\(x_0\\)出发的受扰运动\\(\\varphi(t;x_0,t_0)\\)满足\\(\\left\\| \\varphi(t;x_0,t_0) - x_e \\right\\| \\leqslant \\mu\\) Lyapunov第一方法和第二方法 (1)第一方法：将非线性自治方程进行泰勒展开导出近似线性系统，根据线性化系统特征值推断稳定性。 (2)第二方法：引入具有广义能量属性的Lyapunov函数，分析Lyapunov函数导数的定号性，建立判断系统稳定性的相应结论。 Lyapunov第二方法 大范围渐近稳定 对连续非线性时不变自治系统，若可构造对于\\(x\\)具有连续一阶偏导数的一个标量函数\\(v(x),v(0)=0\\)，且对状态空间中所有非零状态点\\(x\\)满足 ①\\(v(x)\\)为正定；②\\(\\dot v(x)\\)为负定；③当\\(\\left\\| x \\right\\| \\to \\infty\\)时有\\(v(x) \\to \\infty\\) 则系统的原点平衡状态\\(x=0\\)为大范围渐近稳定。 【例1】\\(\\left\\{ \\begin{gathered}{ {\\dot x}_1} = {x_2} - {x_1}({x_1}^2 + {x_2}^2) \\hfill \\\\{ {\\dot x}_2} = - {x_1} - {x_2}({x_1}^2 + {x_2}^2) \\hfill \\\\ \\end{gathered} \\right.\\) 构造一正定且满足\\(\\left\\| x \\right\\| \\to \\infty\\)时有\\(v(x) \\to \\infty\\)的标量函数\\(v(x) = {x_1}^2 + {x_2}^2\\) \\(\\Rightarrow {\\dot V}(x) = \\frac{\\partial v(x)}{\\partial x_1} \\frac{dx_1}{dt} + \\frac{\\partial v(x)}{\\partial x_2} \\frac{dx_2}{dt}\\) \\(= \\left[ {\\begin{array}{*{20}{c}} 2x_1&amp;2x_2 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} {x_2} - {x_1}({x_1}^2 + {x_2}^2) \\\\ - {x_1} - {x_2}({x_1}^2 + {x_2}^2) \\end{array}}\\right] =-2({x_1}^2 + {x_2}^2)\\) \\(\\dot v(x)\\)负定⇒系统大范围渐近稳定 小范围渐近稳定 对连续非线性时不变自治系统，若可构造对于\\(x\\)具有连续一阶偏导数的标量函数\\(v(x)\\)以及围绕状态空间原点的一个吸引区\\(\\Omega\\)，使所用非零状态\\(x \\in \\Omega\\)满足 ①\\(v(x)\\)为正定；②\\(\\dot v(x)\\)为负定 则系统的原点平衡状态\\(x=0\\)在\\(\\Omega\\)域内渐近稳定。 不稳定的判别 ①\\(v(x)\\)为正定；②\\(\\dot v(x)\\)为正定 则系统不稳定。 李亚普诺夫判据 对连续线性时不变系统，原点平衡状态\\(x_e=0\\)是渐近稳定的充分必要条件： 对任给一个\\(n \\times n\\)正定对称矩阵\\(Q\\)，Lyapunov方程\\(A^T P+PA=-Q\\)有唯一\\(n \\times n\\)正定对称解阵\\(P\\) 【例2】判断稳定性：\\(\\dot x=\\left[ {\\begin{array}{*{20}{c}} -1&amp;1 \\\\ 2&amp;-3 \\end{array}}\\right]x\\) 取\\(Q=I\\) \\(A^T P+PA=\\left[ {\\begin{array}{*{20}{c}} -1&amp;2 \\\\ 1&amp;-3 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} p_1&amp;p_3 \\\\ p_3&amp;p_2 \\end{array}}\\right]+\\left[ {\\begin{array}{*{20}{c}} p_1&amp;p_3 \\\\ p_3&amp;p_2 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} -1&amp;1 \\\\ 2&amp;-3 \\end{array}}\\right]=-Q=\\left[ {\\begin{array}{*{20}{c}} -1&amp;0 \\\\ 0&amp;-1 \\end{array}}\\right]\\) \\(\\Rightarrow \\left\\{ {\\begin{array}{*{20}{c}} -2p_1+4p_3=-1 \\\\ p_1+2p_2-4p_3=0 \\\\ 2p_3-6p_2=-1 \\end{array}}\\right.\\) 由方程组解得\\(p_1=\\frac{7}{4},p_2=\\frac{3}{8},p_3=\\frac{5}{8}\\) 得到\\(|P|=\\left| {\\begin{array}{*{20}{c}} \\frac{7}{4}&amp;\\frac{5}{8} \\\\ \\frac{5}{8}&amp;\\frac{3}{8} \\end{array}}\\right| &gt; 0\\) \\(P\\)正定，系统渐近稳定。 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"电磁场数值分析与计算06-2D有限元分析","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算06-2D有限元分析","date":"2023-10-19T08:32:28.000Z","updated":"2024-01-25T05:20:20.948Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算06-2D有限元分析/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9706-2D%E6%9C%89%E9%99%90%E5%85%83%E5%88%86%E6%9E%90/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 插值函数 插值函数又称形状函数、权重函数(Interpolation/Shape/Weighting Function)，指的是在离散数据的基础上补插连续函数，使得这条连续曲线通过全部给定的离散数据点。 1D空间的插值 一维一阶插值 给定两个点及其对应的物理量\\((x_1,\\Phi_1)\\quad(x_2,\\Phi_2)\\quad(x_1&lt;x_2)\\)，求\\(\\Phi(x_1&lt;x&lt;x_2)\\) 构造线性插值函数\\(\\tilde \\Phi(x)=ax+b\\) \\(x=x_1 \\quad \\tilde \\Phi(x_1)=\\Phi_1 \\quad \\Rightarrow \\quad ax_1+b=\\Phi_1\\) \\(x=x_2 \\quad \\tilde \\Phi(x_2)=\\Phi_2 \\quad \\Rightarrow \\quad ax_2+b=\\Phi_2\\) 使用克莱姆法则求解方程组： \\(\\left[ {\\begin{array}{*{20}{c}} x_1&amp;1 \\\\ x_2&amp;1 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} a \\\\ b \\end{array}}\\right] = \\left[ {\\begin{array}{*{20}{c}} \\Phi_1 \\\\ \\Phi_2 \\end{array}}\\right]\\) \\(a=\\frac{\\left[ {\\begin{array}{*{20}{c}} \\Phi_1&amp;1 \\\\ \\Phi_2&amp;1 \\end{array}}\\right]}{\\left[ {\\begin{array}{*{20}{c}} x_1&amp;1 \\\\ x_2&amp;1 \\end{array}}\\right]}=\\frac{\\Phi_1-\\Phi_2}{x_1-x_2} \\quad b=\\frac{\\left[ {\\begin{array}{*{20}{c}} x_1&amp;\\Phi_1 \\\\ x_2&amp;\\Phi_2 \\end{array}}\\right]}{\\left[ {\\begin{array}{*{20}{c}} x_1&amp;1 \\\\ x_2&amp;1 \\end{array}}\\right]}=\\frac{\\Phi_2 x_1 - \\Phi_1 x_2}{x_1-x_2}\\) \\(\\Rightarrow \\tilde \\Phi(x) = \\frac{\\Phi_1-\\Phi_2}{x_1-x_2}x+\\frac{\\Phi_2 x_1 - \\Phi_1 x_2}{x_1-x_2}=N_1(x)\\Phi_1+N_2(x)\\Phi_2=\\frac{x-x_2}{x_1-x_2}\\Phi_1+\\frac{x-x_1}{x_2-x_1}\\Phi_2\\) 其中，线性插值函数\\(N_1(x)=\\frac{x-x_2}{x_1-x_2} \\quad N_2(x)=\\frac{x-x_1}{x_2-x_1}\\) \\(N_1(x) \\left\\{ {\\begin{array}{*{20}{c}} N_1(x_1)=1 \\\\ N_1(x_2)=0 \\end{array}}\\right. \\quad N_2(x) \\left\\{ {\\begin{array}{*{20}{c}} N_2(x_1)=0 \\\\ N_2(x_2)=1 \\end{array}}\\right.\\) 图1 一维一阶线性插值函数 一维二阶插值 给定两个点及其对应的物理量\\((x_1,\\Phi_1)\\quad(x_2,\\Phi_2)\\quad(x_3,\\Phi_3)\\) 构造线性插值函数\\(\\tilde \\Phi(x)=ax^2+bx+c=N_1(x)\\Phi_1+N_2(x)\\Phi_2+N_3(x)\\Phi_3\\) \\(x=x_1 \\quad \\tilde \\Phi(x_1)=\\Phi_1 \\quad \\Rightarrow \\quad ax_1^2+bx_1+c=\\Phi_1\\) \\(x=x_2 \\quad \\tilde \\Phi(x_2)=\\Phi_2 \\quad \\Rightarrow \\quad ax_2^2+bx_2+c=\\Phi_1\\) \\(x=x_3 \\quad \\tilde \\Phi(x_3)=\\Phi_3 \\quad \\Rightarrow \\quad ax_3^2+bx_3+c=\\Phi_1\\) 使用克莱姆法则求解方程组： \\(\\left[ {\\begin{array}{*{20}{c}} x_1^2&amp;x_1&amp;1 \\\\ x_2^2&amp;x_2&amp;1 \\\\ x_3^2&amp;x_3&amp;1 \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} a \\\\ b \\\\c \\end{array}}\\right] = \\left[ {\\begin{array}{*{20}{c}} \\Phi_1 \\\\ \\Phi_2 \\\\ \\Phi_3 \\end{array}}\\right]\\) （求解过程及其结果略） 线性插值函数： \\(N_1(x_1)=1 \\quad N_2(x_1)=0 \\quad N_3(x_1)=0\\) \\(N_1(x_2)=0 \\quad N_2(x_2)=1 \\quad N_3(x_2)=0\\) \\(N_1(x_3)=0 \\quad N_2(x_3)=0 \\quad N_3(x_3)=1\\) \\(N_1(x)=\\frac{(x-x_2)(x-x_3)}{(x_1-x_2)(x_1-x_3)} \\quad N_2(x)=\\frac{(x-x_1)(x-x_3)}{(x_2-x_1)(x_2-x_3)} \\quad N_3(x)=\\frac{(x-x_1)(x-x_2)}{(x_3-x_2)(x_1-x_2)} \\quad\\) 一维N阶插值 给定\\(n+1\\)个点及其对应的物理量\\((x_1,\\Phi_1)\\quad(x_2,\\Phi_2)\\cdots(x_{n+1},\\Phi_{n+1})\\) 线性插值函数： \\(N_1(x)=\\frac{(x-x_2)(x-x_3)\\cdots(x-x_n)(x-x_{n+1})}{(x_1-x_2)(x_1-x_3)\\cdots(x_1-x_n)(x_1-x_{n+1})}\\) \\(N_i(x)=\\frac{(x-x_1)(x-x_2)\\cdots(x-x_{i-1})(x-x_{i+1})\\cdots(x-x_n)(x-x_{n+1})}{(x_i-x_1)(x_i-x_2)\\cdots(x_i-x_{i-1})(x_i-x_{i+1})\\cdots(x_i-x_n)(x_i-x_{n+1})}\\) 性质： \\(N_k(x_i)=\\left\\{ {\\begin{array}{*{20}{c}} 1&amp;i=k \\\\ 0&amp;i \\ne k \\end{array}}\\right. \\quad \\sum\\limits_{i = 1}^n N_k(x_i)=1\\) 分母是\\((x-x_k)\\)的连乘（\\(k \\ne i\\)）；分子是\\((x_i-x_k)\\)的连乘（\\(k \\ne i\\)） 2D空间的插值 二维一阶插值 图2 二维一阶插值 使用三角形进行剖分，每个三角形为一个单元(element)，其中包含三个顶点(node)，分别为\\((x_1,y_1,\\Phi_1)\\quad(x_2,y_2,\\Phi_2)\\quad(x_3,y_3,\\Phi_3)\\) \\(ax_1+by_1+c=\\Phi_1\\) \\(ax_2+by_2+c=\\Phi_2\\) \\(ax_3+by_3+c=\\Phi_3\\) 使用克莱姆法则求解方程组，求解过程及其结果略。 其中算式分母项\\(D=\\left[ {\\begin{array}{*{20}{c}} x_1&amp;y_1&amp;c \\\\ x_2&amp;y_2&amp;c \\\\ x_3&amp;y_3&amp;c \\end{array}}\\right]=2\\Delta\\)，其大小为所剖分的三角形面积的2倍。 线性插值函数展开为形状函数：\\(\\tilde \\Phi(x)=\\sum\\limits_1^3 N_k(x,y)\\Phi_k\\) \\(N_1(x,y)=\\frac{1}{2\\Delta}(p_1 x+q_1 y+r_1)\\) \\(N_2(x,y)=\\frac{1}{2\\Delta}(p_2 x+q_2 y+r_2)\\) \\(N_3(x,y)=\\frac{1}{2\\Delta}(p_3 x+q_3 y+r_3)\\) \\(\\left\\{ {\\begin{array}{*{20}{c}} N_1(x_1,y_1)=1 \\\\ N_1(x_2,y_2)=0 \\\\ N_1(x_3,y_3)=0 \\end{array}}\\right. \\quad \\left\\{ {\\begin{array}{*{20}{c}} N_2(x_1,y_1)=0 \\\\ N_2(x_2,y_2)=1 \\\\ N_2(x_3,y_3)=0 \\end{array}}\\right. \\quad \\left\\{ {\\begin{array}{*{20}{c}} N_3(x_1,y_1)=0 \\\\ N_3(x_2,y_2)=0 \\\\ N_3(x_3,y_3)=1 \\end{array}}\\right.\\) \\(p_1=y_2-y_3 \\quad p_2=y_3-y_1 \\quad p_3=y_1-y_2\\) \\(q_1=x_3-x_2 \\quad q_2=x_1-x_3 \\quad q_3=x_2-x_1\\) \\(r_1=x_2 y_3-x_3 y_2 \\quad r_2=x_3 y_1-x_1 y_3 \\quad r_3=x_1 y_2-x_2 y_1\\) 三角形的三点按照逆时针标记序号 p的下标为逆时针；q的下标为顺时针；r的下标为逆时针-顺时针 二维二阶插值 图3 二维二阶插值 在二维一阶插值的基础上，再取三个边的中点\\((x_4,y_4,\\Phi_4)\\quad(x_5,y_5,\\Phi_5)\\quad(x_6,y_6,\\Phi_6)\\) 同样列出方程组并使用克莱姆法则求解之，求解过程及其结果略 形状函数：\\(\\tilde \\Phi(x)=a_1+a_2 x+a_3 y+a_4 x^2+a_5 xy+a_6 y^2=\\sum\\limits_{j=1}^6 N_j(x,y)\\Phi_j\\) 性质：\\(N_j(x_k,y_k)=\\left\\{ {\\begin{array}{*{20}{c}} 1&amp;j=k \\\\ 0&amp;j \\ne k \\end{array}}\\right. \\quad \\sum\\limits_{j = 1}^n N_j(x_k,y_k)=1\\) \\(L_1(x,y)=\\frac{1}{2\\Delta}(p_1 x+q_1 y+r_1 ) \\quad p_1=y_2-y_3 \\quad q_1=x_3-x_2 \\quad r_1=x_2 y_3-x_3 y_2\\) \\(L_2(x,y)=\\frac{1}{2\\Delta}(p_2 x+q_2 y+r_2 ) \\quad p_2=y_3-y_1 \\quad q_2=x_1-x_3 \\quad r_2=x_3 y_1-x_1 y_3\\) \\(L_3(x,y)=\\frac{1}{2\\Delta}(p_3 x+q_3 y+r_3 ) \\quad p_3=y_1-y_2 \\quad q_3=x_2-x_1 \\quad r_3=x_1 y_2-x_2 y_1\\) \\(N_1(x,y)=(2L_1-1)L_1 \\quad N_4(x,y)=4L_1 L_2\\) \\(N_2(x,y)=(2L_2-1)L_2 \\quad N_5(x,y)=4L_2 L_3\\) \\(N_3(x,y)=(2L_3-1)L_3 \\quad N_6(x,y)=4L_3 L_1\\) \\(L(x,y)\\)与二维一阶插值的\\(N(x,y)\\)一致 二维N阶插值 图4 帕斯卡三角形 二维N阶插值的形状函数展开式可以使用帕斯卡三角形（杨辉三角）推算出。 例如二维三阶插值的形状函数为： \\(\\tilde \\Phi(x)=a_1+a_2 x+a_3 y+a_4 x^2+a_5 xy+a_6 y^2+a_7 x^3+a_8 x^2 y+a_9 xy^2+a_{10} y^3=\\sum\\limits_{j=1}^{10} N_j(x,y)\\Phi_j\\) 二维边值问题 由二阶偏微分方程定义的边值问题 \\(-\\frac{\\partial}{\\partial x}(\\alpha_x \\frac{\\partial \\Phi}{\\partial x})-\\frac{\\partial}{\\partial y}(\\alpha_y \\frac{\\partial \\Phi}{\\partial y})+\\beta\\Phi=f \\quad (x,y \\in \\Omega)\\) \\(\\Phi\\)为未知函数，\\(\\alpha_x,\\alpha_y,\\beta\\)为与求解域中材料特性有关的系数，\\(f\\)为激励（已知）。 特例——二维拉普拉斯方程 \\({\\bf{\\nabla}}^2 \\Phi=0\\)，即\\(\\frac{\\partial^2 \\Phi}{\\partial x^2}+\\frac{\\partial^2 \\Phi}{\\partial y^2}=0 \\quad (\\alpha_x=1,\\alpha_y=1,\\beta=0,f=0)\\) 边界条件： 图5 二维边值问题 在\\(\\Gamma_1\\)上，\\(\\Phi=P\\)（常量） 在\\(\\Gamma_2\\)上，\\((\\alpha_x \\frac{\\partial \\Phi}{\\partial x} {\\bf{i}}+\\alpha_y \\frac{\\partial \\Phi}{\\partial y} {\\bf{j}})\\cdot {\\bf{n}}+\\gamma\\Phi=Q\\) 在\\(\\Gamma_d\\)上，\\(\\left\\{ {\\begin{array}{*{20}{c}} \\Phi^+=\\Phi^- \\\\ (\\alpha_x^+ \\frac{\\partial \\Phi^+}{\\partial x} {\\bf{i}}+\\alpha_y^+ \\frac{\\partial \\Phi^+}{\\partial y} {\\bf{j}})\\cdot {\\bf{n}}=(\\alpha_x^- \\frac{\\partial \\Phi^-}{\\partial x} {\\bf{i}}+\\alpha_y^- \\frac{\\partial \\Phi^-}{\\partial y} {\\bf{j}})\\cdot {\\bf{n}} \\end{array}}\\right.\\) （场矢量的法向连续） 区域离散 剖分原则： ①单元之间不能有重叠 ②单元之间通过定点连接 ③避免出现狭长单元 ④单元的数量对存储计算及存储精度均有影响 编号： 这里举的例子将一块区域划分成了四个单元\\((1),(2),(3),(4)\\)，并对六个节点与六条边界进行编号。 图6 区域离散与编号 连接矩阵： 表1 连接矩阵 e n(1,e) n(2,e) n(3,e) (1) 2 4 1 (2) 5 4 2 (3) 3 5 2 (4) 5 6 4 其中\\(e\\)表示单元，\\(n(i,e)\\)中的\\(i\\)表示节点，单元内的节点按照逆时针排序，排序不唯一，如节点\\((1)\\)可排序为241、124、412。 部分提供的数据： (1)各节点坐标：\\((x_1,y_1),\\cdots,(x_i,y_i)\\) (2)材料属性：\\({\\begin{array}{*{20}{c}} e_1 \\Rightarrow \\alpha_{x_1} \\quad \\alpha_{y_1} \\quad \\beta_1 \\quad f_1 \\\\ e_2 \\Rightarrow \\alpha_{x_2} \\quad \\alpha_{y_2} \\quad \\beta_2 \\quad f_2 \\\\ e_3 \\Rightarrow \\alpha_{x_3} \\quad \\alpha_{y_3} \\quad \\beta_3 \\quad f_3 \\\\ e_4 \\Rightarrow \\alpha_{x_4} \\quad \\alpha_{y_4} \\quad \\beta_4 \\quad f_4 \\end{array}}\\) (3)\\(\\Gamma_1\\)上各节点的\\(\\Phi\\)值 (4)\\(\\Gamma_2\\)上每一段上的\\(\\gamma\\)和\\(q\\) 单元的插值 图7 单元的插值 \\(N_k^e(x,y)=\\frac{1}{2\\Delta^e}(p_k^e+q_k^e+r_k^e) \\quad k=1,2,3\\) 构建方程系统（基于伽辽金法） （边值问题、求解区域边界条件、区域的离散及连接矩阵见上文） 余量\\(r=-\\frac{\\partial}{\\partial x}(\\alpha_x \\frac{\\partial \\Phi}{\\partial x})-\\frac{\\partial}{\\partial y}(\\alpha_y \\frac{\\partial \\Phi}{\\partial y})+\\beta\\Phi-f\\) 对于第\\(e\\)个单元的加权余量 \\(R_i^e=\\iint\\limits_{\\Omega ^e} N_i^e rdxdy \\quad i=1,2,3\\cdots\\) \\(R_i^e=\\iint\\limits_{\\Omega ^e} N_i^e [-\\frac{\\partial}{\\partial x}(\\alpha_x \\frac{\\partial \\Phi^e}{\\partial x})-\\frac{\\partial}{\\partial y}(\\alpha_y \\frac{\\partial \\Phi^e}{\\partial y})+\\beta\\Phi^e-f] dxdy\\) \\(=\\iint\\limits_{\\Omega ^e}[\\alpha_x\\frac{\\partial N_i^e}{\\partial x}\\frac{\\partial \\Phi^e}{\\partial x}+\\alpha_y\\frac{\\partial N_i^e}{\\partial y}\\frac{\\partial \\Phi^e}{\\partial y}+\\beta N_i^e\\Phi^e]dxdy-\\iint\\limits_{\\Omega ^e}N_i^e fdxdy-\\oint\\limits_{\\Gamma^e}N_i^e{\\bf{D}}\\cdot{\\bf{n^e}}d\\Gamma\\) （推导过程略，因为不考） \\(\\Gamma^e\\)—\\(\\Omega^e\\)的边界，\\(\\bf{n^e}\\)—\\(\\Gamma^e\\)的单位法向量，\\({\\bf{D}}=(\\alpha_x\\frac{\\partial\\Phi}{\\partial x}{\\bf{i}}+\\alpha_y\\frac{\\partial\\Phi}{\\partial y}{\\bf{i}})\\) 单元中的\\(\\Phi^e\\)用插值函数表示\\(\\Phi^e=N_1^e \\Phi_1^e+N_2^e \\Phi_2^e+N_3^e \\Phi_3^e=\\sum\\limits_{j=1}^{3}N_j^e \\Phi_j^e\\) 又由\\(\\frac{\\partial \\Phi^e}{\\partial x}=\\sum\\limits_{j=1}^{3} \\Phi_j^e\\frac{\\partial N_j^e}{\\partial x} \\quad \\frac{\\partial \\Phi^e}{\\partial y}=\\sum\\limits_{j=1}^{3} \\Phi_j^e\\frac{\\partial N_j^e}{\\partial y} \\quad \\frac{\\partial N_j^e}{\\partial x}=\\frac{1}{2\\Delta^e}p_j^e \\quad \\frac{\\partial N_j^e}{\\partial y}=\\frac{1}{2\\Delta^e}q_j^e\\) \\(\\Rightarrow R_i^e=\\iint\\limits_{\\Omega ^e}\\sum\\limits_{j=1}^{3}\\Phi_j^e(\\alpha_x\\frac{\\partial N_i^e}{\\partial x}\\frac{\\partial N_j^e}{\\partial x}+\\alpha_y\\frac{\\partial N_i^e}{\\partial y}\\frac{\\partial N_j^e}{\\partial y}+\\beta N_i^e N_j^e)dxdy-\\iint\\limits_{\\Omega ^e}N_i^e fdxdy-\\oint\\limits_{\\Gamma^e}N_i^e{\\bf{D}}\\cdot{\\bf{n^e}}d\\Gamma\\) \\(i=1\\)时有\\(R_1^e=\\iint\\limits_{\\Omega ^e}\\Phi_1^e(\\alpha_x\\frac{\\partial N_1^e}{\\partial x}\\frac{\\partial N_1^e}{\\partial x}+\\alpha_y\\frac{\\partial N_1^e}{\\partial y}\\frac{\\partial N_1^e}{\\partial y}+\\beta N_1^e N_1^e)dxdy\\) \\(+\\iint\\limits_{\\Omega ^e}\\Phi_2^e(\\alpha_x\\frac{\\partial N_1^e}{\\partial x}\\frac{\\partial N_2^e}{\\partial x}+\\alpha_y\\frac{\\partial N_1^e}{\\partial y}\\frac{\\partial N_2^e}{\\partial y}+\\beta N_1^e N_2^e)dxdy\\) \\(+\\iint\\limits_{\\Omega ^e}\\Phi_3^e(\\alpha_x\\frac{\\partial N_1^e}{\\partial x}\\frac{\\partial N_3^e}{\\partial x}+\\alpha_y\\frac{\\partial N_1^e}{\\partial y}\\frac{\\partial N_3^e}{\\partial y}+\\beta N_1^e N_3^e)dxdy-\\iint\\limits_{\\Omega ^e}N_1^e fdxdy-\\oint\\limits_{\\Gamma^e}N_1^e{\\bf{D}}\\cdot{\\bf{n^e}}d\\Gamma\\) （\\(R_2^e\\)、\\(R_3^e\\)同理） 写成矩阵形式： \\(\\left\\{ {\\begin{array}{*{20}{c}} R_1^e \\\\ R_2^e \\\\ R_3^e \\end{array}}\\right\\}=\\left[ {\\begin{array}{*{20}{c}} k_{11}^e&amp;k_{12}^e&amp;k_{13}^e \\\\ k_{21}^e&amp;k_{22}^e&amp;k_{23}^e \\\\ k_{31}^e&amp;k_{32}^e&amp;k_{33}^e \\end{array}}\\right]\\left\\{ {\\begin{array}{*{20}{c}} \\Phi_1^e \\\\ \\Phi_2^e \\\\ \\Phi_3^e \\end{array}}\\right\\}-\\left\\{ {\\begin{array}{*{20}{c}} b_1^e \\\\ b_2^e \\\\ b_3^e \\end{array}}\\right\\}-\\left\\{ {\\begin{array}{*{20}{c}} g_1^e \\\\ g_2^e \\\\ g_3^e \\end{array}}\\right\\}\\) 矩阵可简化记为：\\(\\{R^e\\}=[k^e]\\{\\Phi^e\\}-\\{b^e\\}\\{g^e\\}\\) 其中\\(k_{ij}^e=\\iint\\limits_{\\Omega ^e}\\sum\\limits_{j=1}^{3}\\Phi_j^e(\\alpha_x\\frac{\\partial N_i^e}{\\partial x}\\frac{\\partial N_j^e}{\\partial x}+\\alpha_y\\frac{\\partial N_i^e}{\\partial y}\\frac{\\partial N_j^e}{\\partial y}+\\beta N_i^e N_j^e)dxdy \\quad i=1,2,3 \\quad j=1,2,3\\) \\(b_i^e=\\iint\\limits_{\\Omega ^e}N_i^e fdxdy \\quad g_i^e=\\oint\\limits_{\\Gamma^e}N_i^e{\\bf{D}}\\cdot{\\bf{n^e}}d\\Gamma \\quad i=1,2,3\\) 根据公式\\(\\iint\\limits_{\\Omega ^e}(N_1^e)^l(N_2^e)^m(N_3^e)^n dxdy=\\frac{l!m!n!}{(l+m+n+2)!} \\cdot 2\\Delta\\) 可得\\(\\iint\\limits_{\\Omega ^e}N_i dxdy=\\frac{1}{3}\\Delta \\quad \\iint\\limits_{\\Omega ^e}(N_i)^2 dxdy=\\frac{1}{6}\\Delta\\) \\(\\iint\\limits_{\\Omega ^e}N_i N_j dxdy=\\frac{1}{12}\\Delta\\) 进而得到\\(k_{ij}^e=\\)\\(\\frac{1}{4\\Delta^e}(\\alpha_x^e p_i^e p_j^e+\\alpha_y^e q_i^e q_j^e)\\)\\(+\\frac{\\Delta^e}{12}\\beta^e(1+\\delta_{ij})\\quad \\delta_{ij}=\\left\\{ {\\begin{array}{*{20}{c}} 1 \\quad i=j \\\\ 0 \\quad i \\ne j \\end{array}}\\right. \\quad b_i^e=\\frac{\\Delta f}{3}\\) 求图6的\\([k]\\)矩阵： 对单元1的节点进行标号，按照表1的连接矩阵标号，以逆时针顺序，将节点2、4、1依次标为①、②、③ 得到矩阵\\([k^{(1)}]=\\left[ {\\begin{array}{*{20}{c}} k_{11}^{(1)}&amp;k_{12}^{(1)}&amp;k_{13}^{(1)} \\\\ k_{21}^{(1)}&amp;k_{22}^{(1)}&amp;k_{23}^{(1)} \\\\ k_{31}^{(1)}&amp;k_{32}^{(1)}&amp;k_{33}^{(1)} \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} k_{22}&amp;k_{24}&amp;k_{21} \\\\ k_{42}&amp;k_{44}&amp;k_{41} \\\\ k_{12}&amp;k_{14}&amp;k_{11} \\end{array}}\\right]\\) 同理，根据表1得到单元2、单元3、单元4的矩阵为 \\([k^{(2)}]=\\left[ {\\begin{array}{*{20}{c}} k_{55}&amp;k_{54}&amp;k_{52} \\\\ k_{45}&amp;k_{44}&amp;k_{42} \\\\ k_{25}&amp;k_{24}&amp;k_{22} \\end{array}}\\right] \\quad [k^{(3)}]=\\left[ {\\begin{array}{*{20}{c}} k_{33}&amp;k_{35}&amp;k_{32} \\\\ k_{53}&amp;k_{55}&amp;k_{52} \\\\ k_{23}&amp;k_{25}&amp;k_{22} \\end{array}}\\right] \\quad [k^{(4)}]=\\left[ {\\begin{array}{*{20}{c}} k_{55}&amp;k_{56}&amp;k_{54} \\\\ k_{65}&amp;k_{66}&amp;k_{64} \\\\ k_{45}&amp;k_{46}&amp;k_{44} \\end{array}}\\right]\\) 矩阵中\\(k_{ij}^{(e)}\\)表示第\\(e\\)个单元中的第\\(j\\)个节点对第\\(i\\)个节点的影响； \\(k_{ij}\\)表示全局系统中的第\\(j\\)个节点对第\\(i\\)个节点的影响。 根据上述关于各单元的矩阵得到整个系统的\\([k]\\)矩阵，计算方法为\\([k]=\\sum\\limits_{e=1}^M [k^{(e)}]\\)。 如\\([k^{(2)}]\\)与\\([k^{(4)}]\\)上有元素\\(k_{54}\\)，则对应矩阵\\([k]\\)的第5行第4列填\\(k{54}^{(2)+(4)}\\)。 若所有单元对应的矩阵均无\\(k_{ij}\\)，则\\([k]\\)对应位置填\\(0\\)。 矩阵有对称性，即\\(k_{ij}=k_{ji}\\)，因此由矩阵\\([k]\\)的第5行第4列填\\(k_{54}^{(2)+(4)}\\)可知第4行第5列填\\(k_{45}^{(2)+(4)}\\)。 \\([k]=\\left[ {\\begin{array}{*{20}{c}} k_{11}^{(1)}&amp;k_{12}^{(1)}&amp;0&amp;k_{14}^{(1)}&amp;0&amp;0 \\\\ k_{21}^{(1)}&amp;k_{22}^{(1)+(2)+(3)}&amp;k_{23}^{(3)}&amp;k_{24}^{(1)+(2)}&amp;k_{25}^{(2)+(3)}&amp;0 \\\\ 0&amp;k_{32}^{(3)}&amp;k_{33}^{(3)}&amp;0&amp;k_{35}^{(3)}&amp;0 \\\\ k_{41}^{(1)}&amp;k_{42}^{(1)+(2)}&amp;0&amp;k_{44}^{(1)+(2)+(4)}&amp;k_{45}^{(2)+(4)}&amp;k_{46}^{(4)} \\\\ 0&amp;k_{52}^{(2)+(3)}&amp;k_{53}^{(3)}&amp;k_{54}^{(2)+(4)}&amp;k_{55}^{(2)+(3)+(4)}&amp;k_{56}^{(4)} \\\\ 0&amp;0&amp;0&amp;k_{64}^{(4)}&amp;k_{65}^{(4)}&amp;k_{66}^{(4)} \\end{array}}\\right]\\) \\([b]\\)与\\([g]\\)的矩阵中，其元素上标与\\([k]\\)矩阵对角线上元素商标相同，即 \\(\\{b\\}=\\left\\{ {\\begin{array}{*{20}{c}} b_{1}^{(1)} \\\\ b_{2}^{(1)+(2)+(3)} \\\\ b_{3}^{(3)} \\\\ b_{4}^{(1)+(2)+(4)} \\\\ b_{5}^{(2)+(3)+(4)} \\\\ b_{6}^{(4)} \\end{array}} \\right\\} \\quad \\{g\\}=\\left\\{ {\\begin{array}{*{20}{c}} g_{1}^{(1)} \\\\ g_{2}^{(1)+(2)+(3)} \\\\ g_{3}^{(3)} \\\\ g_{4}^{(1)+(2)+(4)} \\\\ g_{5}^{(2)+(3)+(4)} \\\\ g_{6}^{(4)} \\end{array}} \\right\\}\\) 狄利赫莱边界条件的处理 注：这里没听懂。 假设上文矩阵中节点3、5、6的电磁位\\(\\Phi\\)已知，即\\(\\Phi_3=p_3,\\Phi_5=p_5,\\Phi_6=p_6\\)，有两种处理方法。 (1)划0置1法 将已知\\(\\Phi\\)的节点对应\\([k]\\)矩阵中的对角线元素置1，行和列上其他元素置0，得到矩阵 \\([k]=\\left[ {\\begin{array}{*{20}{c}} k_{11}^{(1)}&amp;k_{12}^{(1)}&amp;0&amp;k_{14}^{(1)}&amp;0&amp;0 \\\\ k_{21}^{(1)}&amp;k_{22}^{(1)+(2)+(3)}&amp;0&amp;k_{24}^{(1)+(2)}&amp;0&amp;0 \\\\ 0&amp;0&amp;1&amp;0&amp;0&amp;0 \\\\ k_{41}^{(1)}&amp;k_{42}^{(1)+(2)}&amp;0&amp;0&amp;0&amp;0 \\\\ 0&amp;0&amp;0&amp;0&amp;1&amp;0 \\\\ 0&amp;0&amp;0&amp;0&amp;0&amp;1 \\end{array}}\\right]\\) \\(\\left[ {\\begin{array}{*{20}{c}} k_{11}&amp;k_{12}&amp;k_{14} \\\\ k_{21}&amp;k_{22}&amp;k_{24} \\\\ k_{41}&amp;k_{42}&amp;k_{44} \\end{array}}\\right] \\left[ {\\begin{array}{*{20}{c}} \\Phi_1 \\\\ \\Phi_2 \\\\ \\Phi_3 \\end{array}}\\right]=\\left\\{ {\\begin{array}{*{20}{c}} b_1-k_{13}p_3-k_{15}p_5-k_{16}p_6 \\\\ b_2-k_{23}p_3-k_{25}p_5-k_{26}p_6 \\\\ b_4-k_{43}p_3-k_{45}p_5-k_{46}p_6 \\end{array}}\\right\\}\\) 这样就将原来的\\(6 \\times 6\\)矩阵转化为\\(3 \\times 3\\)矩阵，方便了运算。 (2)置大数法 将已知\\(\\Phi\\)的节点对应\\([k]\\)矩阵中的对角线元素置一个很大的数后带入求解 如取\\(k_{33}=10^{70},b_3=p_3 \\times 10^{70}\\) 区域单元的内边界对\\(g\\)无贡献，只有边界\\(\\Gamma\\)才对\\(g\\)有贡献 若节点\\(i\\)在\\(\\Gamma\\)内部，则对应\\(g_i=0\\)； 若节点\\(i\\)在\\(\\Gamma\\)上，则对应\\(g_i \\ne 0\\)。 2D有限元分析的应用 静电场问题 二维：\\(-\\varepsilon_r {\\bf{\\nabla}}\\Phi=\\frac{\\rho}{\\varepsilon_0}\\) \\(-\\frac{\\partial}{\\partial x}(\\varepsilon_r\\frac{\\partial \\Phi}{\\partial x})-\\frac{\\partial}{\\partial y}(\\varepsilon_r\\frac{\\partial \\Phi}{\\partial y})=\\frac{\\rho}{\\varepsilon_0}\\) 边界：\\(\\left\\{ {\\begin{array}{*{20}{c}} \\Phi=p \\\\ \\frac{\\partial \\Phi}{\\partial n}=0 \\end{array}}\\right.\\) 媒质交界面：\\(\\left\\{ {\\begin{array}{*{20}{c}} \\Phi^+=\\Phi^- \\quad \\varepsilon_r^+\\frac{\\partial \\Phi^+}{\\partial n}=\\varepsilon_r^-\\frac{\\partial \\Phi^-}{\\partial n} \\\\ E_t^+=E_t^- \\quad D_n^+=D_n^- \\end{array}}\\right.\\) 2D磁场 \\({\\bf{J}}=J_z{\\bf{k}} \\quad {\\bf{\\nabla}}\\times{\\bf{H}}={\\bf{J}} \\Rightarrow -\\frac{1}{\\mu_r}{\\bf{\\nabla}}^2 A_z=\\mu_0 J_z{\\bf{k}}\\) \\({\\bf{\\nabla}}\\times\\frac{1}{\\mu_r}{\\bf{\\nabla}}\\times A_z{\\bf{k}}=\\mu_0 J_z{\\bf{k}}\\) \\(-\\frac{\\partial}{\\partial x}(\\frac{1}{\\mu}\\frac{\\partial A_z}{\\partial x})-\\frac{\\partial}{\\partial y}(\\frac{1}{\\mu}\\frac{\\partial A_z}{\\partial y})=\\mu_0 J_z\\) 交界面：\\(\\left\\{ {\\begin{array}{*{20}{c}} A_z^+=A_z^- \\\\ \\frac{1}{\\mu_r^+}\\frac{\\partial A_z^+}{\\partial n}=\\frac{1}{\\mu_r^-}\\frac{\\partial A_z^-}{\\partial n} \\end{array}}\\right.\\) 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"线性系统理论04-线性系统的能控性和能观测性","slug":"课程笔记/线性系统理论/线性系统理论04-线性系统的能控性和能观测性","date":"2023-10-17T08:26:22.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论04-线性系统的能控性和能观测性/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA04-%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%83%BD%E6%8E%A7%E6%80%A7%E5%92%8C%E8%83%BD%E8%A7%82%E6%B5%8B%E6%80%A7/","excerpt":"","text":"线性系统理论课程笔记 对应教材内容第四章 线性系统的能控性和能观测性的内容 能控性与能观测性的定义 系统内部每一个状态变量都可由输入定量影响，则系统状态完全能控； 系统内部每一个状态变量都可由输出完全反映，则系统状态完全能观。 线性时不变系统的能控性判据 格拉姆矩阵判据 线性时不变系统为完全能控的充分必要条件为存在时刻\\(t_1&gt;0\\)使如下定义的格拉姆矩阵为非奇异（不满秩的方阵、行列式为0的方阵） \\({W_c}[0,{t_1}]\\mathop = \\limits^\\Delta \\int_0^{t_1} {e^{ - At}BB^T e^{-{A^T}t}dt}\\) 秩判据 对线性时不变系统，构造能控判别矩阵\\({Q_c} = [B,AB,{A^2}B, \\cdot \\cdot \\cdot ,{A^{n - 1}}B]\\) 则系统完全能控的充要条件为\\(rank(Q_c)=n\\)（\\(Q_c\\)满秩） 【例1】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} 4&amp;0 \\\\ 0&amp;-5 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 2 \\end{array}}\\right]u\\) \\(Q_c=\\left[ {\\begin{array}{*{20}{c}} B&amp;AB \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} 1&amp;4 \\\\ 2&amp;-10 \\end{array}}\\right]\\) \\(rank(Q_c)=2\\)，满秩，系统完全能控 【例2】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} -1&amp;-4&amp;-2 \\\\ 0&amp;6&amp;-1 \\\\ 1&amp;7&amp;-1 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 2&amp;0 \\\\ 0&amp;1 \\\\ 1&amp;1 \\end{array}}\\right]u\\) \\(Q_c=\\left[ {\\begin{array}{*{20}{c}} B&amp;AB&amp;A^2 B \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} 2&amp;0&amp;-4&amp;*&amp;*&amp;* \\\\ 0&amp;1&amp;-1&amp;*&amp;*&amp;* \\\\ 1&amp;1&amp;1&amp;*&amp;*&amp;* \\end{array}}\\right]\\) \\(rank(Q_c)=3\\)，满秩，系统完全能控 注：前三列已经可以判定矩阵满秩，就可以判定整个矩阵满秩。 【例3】 图1 电路系统建模判定能控 \\(\\left\\{ {\\begin{array}{*{20}{c}} i_1(t)=C\\frac{dx_1}{dt} \\\\ i_2(t)=C\\frac{dx_2}{dt} \\\\ x_1+Ri_1=u(t) \\\\ x_2+Ri_2=u(t) \\end{array}} \\right. \\Rightarrow \\left\\{ {\\begin{array}{*{20}{c}} \\dot x_1=-\\frac{1}{RC}x_1+\\frac{1}{RC}u \\\\ \\dot x_2=-\\frac{1}{RC}x_2+\\frac{1}{RC}u \\end{array}} \\right. \\Rightarrow \\dot x=\\left[ {\\begin{array}{*{20}{c}} -\\frac{1}{RC}&amp;0 \\\\ 0&amp;-\\frac{1}{RC} \\end{array}} \\right]x+\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{RC} \\\\ \\frac{1}{RC} \\end{array}}\\right]u\\) \\(Q=\\left[ {\\begin{array}{*{20}{c}} B&amp;AB \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{RC}&amp;-\\frac{1}{(RC)^2} \\\\ \\frac{1}{RC}&amp;-\\frac{1}{(RC)^2} \\end{array}}\\right]\\) \\(rank(Q_c)=1&lt;2\\)，不满秩，系统不能控 PBH判据 \\(n\\)维线性时不变系统完全能控的充分必要条件 \\(rank[sI-A,B]=n\\)或\\(rank[\\lambda_i-A,B]=n\\)（\\(\\lambda_i\\)为特征值） 【例4】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} 4&amp;0 \\\\ 0&amp;-5 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 2 \\end{array}}\\right]u\\) \\([sI-A,B]=\\left[ {\\begin{array}{*{20}{c}} s-4&amp;0&amp;1 \\\\ 0&amp;s-5&amp;2 \\end{array}}\\right] \\quad \\lambda_1=4,\\lambda_2=-5\\) 对\\(\\lambda_1=4\\)有\\(rank[\\lambda_1-A,B]=2=n\\) 对\\(\\lambda_2=-5\\)有\\(rank[\\lambda_2-A,B]=2=n\\) 得到系统完全能控。 约当规范型 ①特征值互异的约当块最后一行对应的B阵中，该行元素不全为零。 ②特征值相同的各约当块最后一行对应的B阵各行向量线性无关。 【例5】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} {\\lambda _1}&amp;1&amp;{}&amp;{}&amp;{}&amp;{}&amp;{} \\\\{}&amp;{\\lambda _1}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{\\lambda _1}&amp;{}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{\\lambda _1}&amp;1&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{\\lambda _1}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{\\lambda _2}&amp;1 \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{\\lambda _2} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;0 \\\\ 1&amp;0&amp;0 \\\\ 0&amp;1&amp;0 \\\\ 1&amp;1&amp;2 \\\\ 0&amp;0&amp;1 \\\\ 1&amp;1&amp;1 \\\\ 0&amp;0&amp;1 \\end{array}} \\right]u\\begin{array}{*{20}{c}}{} \\\\ { \\leftarrow {b_{l11}}} \\\\ { \\leftarrow {b_{l12}}} \\\\ {} \\\\ { \\leftarrow {b_{l13}}} \\\\ {} \\\\ { \\leftarrow {b_{l21}}} \\end{array}\\) 该例子中系统能控的充分必要条件是向量组\\(\\{b_{l11}、b_{l12}、b_{l13}\\}\\)线性无关以及\\(\\{b_{l21}\\}\\)线性无关（即不为零）。 该例子中两矩阵行向量均线性无关⇒系统完全能控。 注：任意一个向量组里只要有零向量，就一定线性相关。另外复习一下约当块相关知识。 总结：找出同一特征值的所有不含元素“1”的行，其对应于C阵的行向量组成一个行向量组，若所有这样的行向量组均线性无关，则系统完全能控。 线性时不变系统的能观性判据 格拉姆矩阵判据 \\({W_0}[0,{t_1}]\\mathop = \\limits^\\Delta \\int_0^{t_1}{e^{ {A^T}t}{C^T}C{e^{At}}dt}\\)是非奇异，则系统完全能观测。 秩判据 对\\(n\\)维连续时间线性时不变系统，系统完全能观测的充分必要条件为能观测性判别矩阵 \\({Q_0} = \\left[ \\begin{gathered} C \\\\ CA \\\\ \\vdots \\\\ C{A^{n-1}} \\\\ \\end{gathered}\\right] \\quad rank(Q_0)=n\\) 【例6】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} -1&amp;-4&amp;-2 \\\\ 0&amp;6&amp;-1 \\\\ 1&amp;7&amp;-1 \\end{array}}\\right]x \\quad y=\\left[ {\\begin{array}{*{20}{c}} 0&amp;2&amp;1 \\\\ 1&amp;1&amp;0 \\end{array}}\\right]x\\) \\({Q_0} = \\left[ \\begin{gathered} C \\\\ CA \\\\ CA^2 \\\\ \\end{gathered}\\right] = \\left[ {\\begin{array}{*{20}{c}} 0&amp;2&amp;1 \\\\ 1&amp;1&amp;0 \\\\ 1&amp;19&amp;-3 \\\\ *&amp;*&amp;* \\\\ *&amp;*&amp;* \\\\ *&amp;*&amp;* \\end{array}}\\right] \\Rightarrow rank(Q_0)=3\\) 满秩，系统完全能观 PBH判据 \\(n\\)维连续时间线性时不变系统完全能观测的充分必要条件为 \\(rank\\left[ \\begin{gathered} SI-A \\\\ C \\\\ \\end{gathered} \\right] = n\\) 或\\(rank\\left[\\begin{gathered}{\\lambda_i}I - A \\hfill \\\\ C \\hfill \\\\ \\end{gathered}\\right] = n\\quad ,\\lambda_1,\\lambda_2, \\ldots \\lambda_n\\)为系统特征值 约当规范型 对\\(n\\)维连续时间线性时不变系统，若\\(A\\)为约当阵，系统完全能观测的充分必要条件是： 特征值互异的约当块第一列对应的\\(C\\)阵中，该列元素不全为零。 特征值相同的约当块第一列对应的\\(C\\)阵中，各列向量线性无关。 【例7】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} -2&amp;1&amp;{}&amp;{}&amp;{}&amp;{}&amp;{} \\\\{}&amp;-2&amp;{}&amp;{}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;-2&amp;{}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;-2&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;3&amp;1&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{}&amp;3&amp;{} \\\\ {}&amp;{}&amp;{}&amp;{}&amp;{}&amp;{}&amp;3 \\end{array}} \\right]x \\quad y=\\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0&amp;0&amp;1&amp;0&amp;0 \\\\ 0&amp;0&amp;4&amp;0&amp;1&amp;0&amp;4 \\\\ 0&amp;0&amp;0&amp;7&amp;0&amp;0&amp;1 \\end{array}} \\right]x\\) 该例子中系统能观的充分必要条件是向量组\\(\\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0 \\\\ 0&amp;4&amp;0 \\\\ 0&amp;0&amp;7 \\end{array}}\\right]\\)与向量组\\(\\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\\\ 1&amp;4 \\\\ 0&amp;1 \\end{array}}\\right]\\)列向量线性无关。 该例子中两矩阵列向量均线性无关⇒系统完全能观。 总结：找出同一特征值的所有不含元素“1”的列，其对应于C阵的列向量组成一个列向量组，若所有这样的列向量组均线性无关，则系统完全能观。 能控规范型和能观测规范型 能控规范型 基于线性非奇异变换\\(\\bar X = {P^{ - 1}}X\\)导出 \\(\\dot {\\bar x} = { {\\bar A}_c} \\bar x + { {\\bar b}_c}u\\) \\(y = { {\\bar c}_c} \\bar x\\) \\({\\bar A_c} = {P^{ - 1}}AP = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;{}&amp;{}&amp;{} \\\\ 0&amp;0&amp;1&amp;{}&amp;{} \\\\ \\vdots &amp;{}&amp;{}&amp; \\ddots &amp;{} \\\\ 0&amp;{}&amp;{}&amp;{}&amp;1 \\\\ { - {\\alpha_0}}&amp;{ - {\\alpha_1}}&amp;{}&amp; \\cdots &amp;{ - {\\alpha_{n - 1}}} \\end{array}} \\right] \\quad {\\bar b_c} = {P^{ - 1}}b = \\left[ \\begin{gathered} 0 \\hfill \\\\ 0 \\hfill \\\\ \\vdots \\hfill \\\\ 1 \\hfill \\\\ \\end{gathered} \\right] \\quad {\\bar c_c} = cP = \\left[ { {\\beta _0},{\\beta _1}, \\cdots {\\beta _{n - 1}}} \\right]\\) \\(\\det (sI - A)\\mathop = \\limits^\\Delta {s^n} + {\\alpha _{n - 1}}{s^{n - 1}} + \\cdots + {\\alpha _1}s + {\\alpha _0}\\) \\(\\left\\{ \\begin{gathered}{\\beta _{n - 1}} = cb \\hfill \\\\{\\beta _{n - 2}} = cAb + {\\alpha_{n - 1}}cb \\hfill \\\\ \\cdots \\hfill \\\\{\\beta _1} = c{A^{n - 2}}b + {\\alpha_{n - 1}}c{A^{n - 3}}b + \\cdots + {\\alpha_2}cb \\hfill \\\\{\\beta _0} = c{A^{n - 1}}b + {\\alpha_{n - 1}}c{A^{n - 2}}b + \\cdots + {\\alpha_1}cb \\hfill \\\\\\end{gathered} \\right.\\) 【例8】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;2 \\\\ 2&amp;1&amp;1 \\\\ 1&amp;0&amp;-2 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 2 \\\\ 1 \\end{array}}\\right]u \\quad y=\\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;1 \\end{array}}\\right]x\\) \\(\\det (sI - A) = s^3-5s+4 \\quad \\Rightarrow \\quad \\alpha_0=4,\\alpha_1=-5,\\alpha_2=0\\) \\(\\beta_2=cb=3\\) \\(\\beta_1=cAb+\\alpha_2 cb=4\\) \\(\\beta_0=cA^2 b+\\alpha_2 cAb+\\alpha_1 cb=0\\) \\(\\Rightarrow \\dot {\\bar x} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ -4&amp;5&amp;0 \\end{array}}\\right]\\bar x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ 1 \\end{array}}\\right]u \\quad y=\\left[ {\\begin{array}{*{20}{c}} 0&amp;4&amp;3 \\end{array}}\\right]\\bar x\\) 能观测规范型 基于线性非奇异变换\\(\\hat X = QX\\)导出 \\(\\dot {\\hat x} = { {\\hat A}_o}\\hat x + { {\\hat b}_o}u\\) \\(y = { {\\hat c}_o}\\hat x\\) \\(\\hat A_o = QA{Q^{ - 1}} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;\\cdots&amp;0&amp;-{\\alpha_0} \\\\ 1&amp;\\cdots&amp;0&amp;-{\\alpha_1} \\\\ \\vdots&amp;\\ddots&amp;\\vdots&amp;\\vdots \\\\ 0&amp;\\cdots&amp;1&amp;-{\\alpha_{n-1}} \\end{array}}\\right] \\quad \\hat b_o = Qb = \\left[ {\\begin{array}{*{20}{c}} {\\beta _0} \\\\ {\\beta _1} \\\\ \\vdots \\\\ {\\beta _{n - 1}} \\end{array}} \\right] \\quad \\hat c_o = cQ^{-1} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;\\cdots&amp;0&amp;1 \\end{array}} \\right]\\) 【例9】求【例8】的能观测规范型： \\(\\dot {\\hat x} = \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;-4 \\\\ 1&amp;0&amp;5 \\\\ 0&amp;1&amp;0 \\end{array}}\\right]\\hat x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 4 \\\\ 3 \\end{array}}\\right]u \\quad y=\\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1 \\end{array}}\\right]\\hat x\\) 连续时间线性时不变系统的结构分解 对于不完全能控或能观的系统，可以将其分解为能控/能观子系统与不能控/不能观子系统。 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"电磁场数值分析与计算05-有限元方法介绍","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算05-有限元方法介绍","date":"2023-10-14T11:02:04.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算05-有限元方法介绍/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9705-%E6%9C%89%E9%99%90%E5%85%83%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 引言 对于实际工程问题，可以根据相关的数学物理定律建立模型，列写PDE偏微分方程求其解析解（精确解），但复杂问题的解析解的求解十分困难。 有限元法是用于获得数学物理模型近似解（数值解）的数值方法。有限元法于二十世纪四十年代首次提出，用于求解飞机涉设计相关问题。 边值问题指有边界条件的定解问题，其形式为\\(\\delta \\Phi = f\\)。 其中\\(\\Phi\\)为未知函数，\\(f\\)为激励，\\(\\delta\\)为微分算子。 对于电磁场实际工程问题，其涉及的方程式为 \\(\\left\\{ {\\begin{array}{*{20}{c}} {\\bf{\\nabla}}^2 \\Phi = -\\frac{\\rho}{\\varepsilon} &amp; 电场 \\\\ {\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = \\mu {\\bf{J}}&amp; 磁场 \\end{array}} \\right.\\) 常见的有限元方法包括里兹(Ritz)变分法与伽辽金(Galerkin)有限元法，本课介绍的是伽辽金有限元法。 伽辽金有限元法 伽辽金法于1915年提出，又被称作加权余量法(Weighted residual method)。 选取有限多项式函数（基函数/形函数）将其叠加，再要求结果在求解域内及边界上的加权积分满足原方程，便可以求得一组易于求解的线性代数方程，且自然边界条件能够自动满足。 假设\\(\\tilde \\Phi\\)为\\(\\delta \\Phi = f\\)的一个近似解，即\\(\\delta \\tilde \\Phi \\approx f\\)，将其代入\\(\\delta \\Phi = f\\)的方程中，必然会产生一个非零的余量(残差,residual error)\\(r=\\delta \\tilde \\Phi - f \\ne 0\\) 对于\\(\\tilde \\Phi\\)的最好近似即为在求解区域的每一个点上使得\\(r\\)为最小值 \\(R_i=\\int_\\Omega{w_i(\\delta \\tilde \\Phi - f)d\\Omega}\\) 其中\\(w_i\\)为选定的权重函数(weighting function)，权重函数的表达形式与近似解一致。 \\(R_i\\)为权重余量的积分。 【举例】求解两个平行板之间的静态电位\\(\\Phi\\) 上极板\\(x=1 \\quad \\Phi=1V\\)；下极板\\(x=0 \\quad \\Phi=0V\\) 图1 平行板电容器 两个平行板电容器之间填充介质，介电常数为\\(\\varepsilon F/m\\)，电荷密度\\(\\rho(x)=-(x+1)\\varepsilon C/m^3\\) 该问题为静电场问题，故列出控制方程\\({\\bf{\\nabla}}^2 \\Phi = -\\frac{\\rho}{\\varepsilon}\\)，该方程为静电场电位的泊松方程。 由于本问题只涉及\\(x\\)轴一个维度，故方程可写为\\(\\frac{\\partial^2 \\Phi}{\\partial x^2}=-\\frac{\\rho}{\\varepsilon}\\) 代入题干条件及边界条件，得到待求解的方程组为 \\[\\left\\{ {\\begin{array}{*{20}{c}} \\frac{\\partial^2 \\Phi}{\\partial x^2} = x+1 \\quad (0&lt;x&lt;1) \\\\ \\Phi |_{x=0}=0 \\\\ \\Phi |_{x=1}=1 \\end{array}} \\right.\\] 【解法1】列方程求其精确解 \\(\\Phi &#39;&#39; (x)=x+1 \\Rightarrow \\Phi &#39; (x)=\\frac{1}{2}x^2+x+C_1 \\Rightarrow \\Phi (x)=\\frac{1}{6}x^3+\\frac{1}{2}x^2+C_1 x+C_2\\) \\(\\Phi (0)=C_2=0 \\quad \\Phi (1)=\\frac{2}{3}+C_1+C_2=1 \\Rightarrow C_1=\\frac{1}{3} \\quad C_2=0\\) 解得\\(\\Phi (x)=\\frac{1}{6}x^3+\\frac{1}{2}x^2+\\frac{1}{3}x\\) 【解法2】伽辽金有限元法 加权余量公式\\(\\int_0^1{w_i(\\frac{d^2 \\Phi}{d x^2} - x-1)dx=0}\\) 注：只有\\(x\\)一个维度，因此可以将\\(\\frac{\\partial^2 \\Phi}{\\partial x^2}\\)写作\\(\\frac{d^2 \\Phi}{d x^2}\\) 设\\(\\tilde \\Phi\\)的展开式为\\(C_1+C_2 x+C_3 x^2+C_4 x^3\\) 由\\(\\Phi(0)=0 \\Rightarrow C_1=0\\) 由\\(\\Phi(1)=1 \\quad C_1=0 \\Rightarrow C_2+C_3+C_4=1 \\Rightarrow C_2=1-C_3-C_4\\) \\(\\Rightarrow \\tilde \\Phi = (1-C_3-C_4)x+C_3 x^2+C_4 x^3=x+C_3(x^2-x)+C_4(x^3-x)\\) \\(\\frac{d^2 \\Phi}{d x^2} - x-1=2C_3+6C_4 x-x-1\\) 假设\\(w_1=x^2-x\\)，\\(\\int_0^1{(x^2-x)(2C_3+6C_4 x-x-1)dx=0} \\Rightarrow \\frac{1}{3}C_3+\\frac{1}{2}C_4-\\frac{1}{4}=0\\) 假设\\(w_2=x^3-x\\)，\\(\\int_0^1{(x^3-x)(2C_3+6C_4 x-x-1)dx=0} \\Rightarrow \\frac{1}{2}C_3+\\frac{4}{3}C_4-\\frac{23}{60}=0\\) \\(\\Rightarrow C_3=\\frac{1}{2} \\quad C_4=\\frac{1}{6} \\quad C_2=1-C_3-C_4=\\frac{1}{3}\\) \\(\\Rightarrow \\tilde \\Phi = \\frac{1}{3}x+\\frac{1}{2}x^2+\\frac{1}{6}x^3\\) 本例子的数值解与精确解一样，是因为假设的多项式形式一致，区域简单。 子区域展开法 对于控制方程复杂，区域复杂的实际工程问题，伽辽金法不能很好的应对，最好将整个区域分成若干个子区域逐一分析求解，即子区域展开法。 将整个区域分成\\(n\\)个子区域，区间端点为\\(x_1,x_2,\\cdots,x_n,x_{n+1}\\)，对应端点上的函数值为\\(\\Phi_1,\\Phi_2,\\cdots,\\Phi_n,\\Phi_{n+1}\\)，其中\\(\\Phi_1\\)与\\(\\Phi_{n+1}\\)值已知。 \\(n\\)个子区域的区间为\\(x_i \\leqslant x_{i+1},\\quad i=1,2,3,\\cdots,n\\) 假设在每一个区域中内物理量\\(\\Phi\\)呈线性变化，那么对第\\(i\\)个区域的两个端点\\((x_i,\\Phi_i)\\)与\\(x_{i+1},\\Phi_{i+1}\\)进行一阶插值，得到该子区域的基函数为 \\(\\tilde \\Phi (x)=\\Phi_i\\frac{x_{i+1}-x}{x_{i+1}-x_i}+\\Phi_{i+1}\\frac{x-x_i}{x_{i+1}-x_i}\\) 其中\\(\\tilde \\Phi (x_i)=\\Phi_i \\quad \\tilde \\Phi (x_{i+1})=\\Phi_{i+1}\\)，两个端点的函数值已知。 该子区域的基函数图像就是两个端点\\((x_i,\\Phi_i)\\)与\\((x_{i+1},\\Phi_{i+1})\\)构成的一条线段。 图2 子区域的基函数 该子区域的权重函数为 \\(w_i=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{x-x_{i-1}}{x_i-x_{i-1}} &amp; x_{i-1}\\leqslant x \\leqslant x_i \\\\ \\frac{x_{i+1}-x}{x_{i+1}-x_i} &amp; x_i\\leqslant x \\leqslant x_{i+1} \\end{array}} \\right.\\) 当\\(x=x_i\\)时，\\(w_i=1,\\Phi=\\Phi_i\\)；当\\(x=x_{i-1}\\)或\\(x=x_{i+1}\\)时，\\(w_i=0\\)。 图3 子区域的权重函数 【解法3】子区域展开法 将原有区域等举例拆分为3部分，得到四个端点\\(x_1=0,x_2=\\frac{1}{3},x_3=\\frac{2}{3},x_4=1\\)，设对应的函数值为\\(\\Phi_1,\\Phi_2,\\Phi_3,\\Phi_4\\)，其中已知\\(\\Phi_0=0,\\Phi_4=1\\) 图4 子区域的拆分 对加权余量公式进行整理： \\(\\int_{x_{i-1}}^{x_{i+1}}{w_i(\\frac{d^2 \\tilde \\Phi}{d x^2} - x-1)dx}=\\int_{x_{i-1}}^{x_{i+1}}{w_i\\frac{d^2 \\tilde \\Phi}{d x^2}dx}-\\int_{x_{i-1}}^{x_{i+1}}{w_i(x+1)dx}=0\\) 其中由分部积分知\\(\\int_{x_{i-1}}^{x_{i+1}}{w_i\\frac{d^2 \\tilde \\Phi}{d x^2}dx}=\\left. w_i\\frac{d\\tilde \\Phi}{dx}\\right|_{x=x_{i-1}}^{x=x_{i+1}}-\\int_{x_{i-1}}^{x_{i+1}}{\\frac{d w_i}{d x}\\frac{d \\tilde \\Phi}{dx}dx}=-\\int_{x_{i-1}}^{x_{i+1}}{\\frac{d w_i}{d x}\\frac{d \\tilde \\Phi}{dx}dx}\\) \\(\\Rightarrow \\int_{x_{i-1}}^{x_{i+1}}{\\frac{d w_i}{d x}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_{x_{i-1}}^{x_{i+1}}{w_i(x+1)dx}=0\\) 权重函数：\\(w_2=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{x-x_1}{x_2-x_1} &amp; x_1\\leqslant x \\leqslant x_2 \\\\ \\frac{x_3-x}{x_3-x_2} &amp; x_2\\leqslant x \\leqslant x_3 \\end{array}} \\right. \\quad w_3=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{x-x_2}{x_3-x_2} &amp; x_2\\leqslant x \\leqslant x_3 \\\\ \\frac{x_4-x}{x_4-x_3} &amp; x_3\\leqslant x \\leqslant x_4 \\end{array}} \\right.\\) \\(\\Rightarrow \\frac{dw_2}{dx}=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{1}{x_2-x_1} &amp; x_1\\leqslant x \\leqslant x_2 \\\\ -\\frac{1}{x_3-x_2} &amp; x_2\\leqslant x \\leqslant x_3 \\end{array}} \\right. \\quad \\frac{dw_3}{dx}=\\left\\{ {\\begin{array}{*{20}{c}} \\frac{1}{x_3-x_2} &amp; x_2\\leqslant x \\leqslant x_3 \\\\ -\\frac{1}{x_4-x_3} &amp; x_3\\leqslant x \\leqslant x_4 \\end{array}} \\right.\\) 基函数： \\(x_1\\leqslant x \\leqslant x_2 \\quad \\tilde \\Phi (x)=\\Phi_1\\frac{x_2-x}{x_2-x_1}+\\Phi_2\\frac{x-x_1}{x_2-x_1} \\quad \\Rightarrow \\quad \\frac{d\\tilde \\Phi}{dx}=-\\frac{\\Phi_1}{x_2-x_1}+\\frac{\\Phi_2}{x_2-x_1}\\) \\(x_2\\leqslant x \\leqslant x_3 \\quad \\tilde \\Phi (x)=\\Phi_2\\frac{x_3-x}{x_3-x_2}+\\Phi_3\\frac{x-x_2}{x_3-x_2} \\quad \\Rightarrow \\quad \\frac{d\\tilde \\Phi}{dx}=-\\frac{\\Phi_2}{x_3-x_2}+\\frac{\\Phi_3}{x_3-x_2}\\) \\(x_3\\leqslant x \\leqslant x_4 \\quad \\tilde \\Phi (x)=\\Phi_3\\frac{x_4-x}{x_4-x_3}+\\Phi_4\\frac{x-x_3}{x_4-x_3} \\quad \\Rightarrow \\quad \\frac{d\\tilde \\Phi}{dx}=-\\frac{\\Phi_3}{x_4-x_3}+\\frac{\\Phi_4}{x_4-x_3}\\) 当\\(x=x_2\\)时，分析\\(w_2\\)： \\(\\int_0^{\\frac{1}{3}}{\\frac{d w_2}{dx}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{\\frac{d w_2}{dx}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_0^{\\frac{1}{3}}{w_2(x+1)dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{w_2(x+1)dx}=0\\) \\(\\Rightarrow \\int_0^{\\frac{1}{3}}{3(-3\\Phi_1+3\\Phi_2)dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{-3(-3\\Phi_2+3\\Phi_3)dx}+\\int_0^{\\frac{1}{3}}{3x(x+1)dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{3(\\frac{2}{3}-x)(x+1)dx}=0\\) \\(\\Rightarrow (-3\\Phi_1+3\\Phi_2)+(3\\Phi_2-3\\Phi_3)+\\left.(x^3+\\frac{3}{2}x^2)\\right|_0^\\frac{1}{3}+\\left.(-x^3-\\frac{1}{2}x^2+2x)\\right|_\\frac{1}{3}^\\frac{2}{3}=0\\) \\(\\Rightarrow 6\\Phi_2-3\\Phi_3+\\frac{4}{9}=0\\)① 当\\(x=x_3\\)时，分析\\(w_3\\)： \\(\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{\\frac{d w_3}{dx}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_{\\frac{2}{3}}^1{\\frac{d w_3}{dx}\\frac{d \\tilde \\Phi}{dx}dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{w_3(x+1)dx}+\\int_{\\frac{2}{3}}^1{w_3(x+1)dx}=0\\) \\(\\Rightarrow \\int_{\\frac{1}{3}}^{\\frac{2}{3}}{3(-3\\Phi_2+3\\Phi_3)dx}+\\int_{\\frac{2}{3}}^1{-3(-3\\Phi_3+3\\Phi_4)dx}+\\int_{\\frac{1}{3}}^{\\frac{2}{3}}{(3x-1)(x+1)dx}+\\int_{\\frac{2}{3}}^1{3(1-x)(x+1)dx}=0\\) \\(\\Rightarrow (-3\\Phi_2+3\\Phi_3)+(3\\Phi_3-3\\Phi_4)+\\left.(x^3+x^2-x)\\right|_\\frac{1}{3}^\\frac{2}{3}+\\left.(3-x^3)\\right|_\\frac{1}{3}^\\frac{2}{3}=0\\) \\(\\Rightarrow 3\\Phi_2-6\\Phi_3+\\frac{22}{9}=0\\)② 由①②\\(\\Rightarrow \\Phi_2=\\frac{14}{81} \\quad \\Phi_3=\\frac{40}{81}\\) 所得函数\\(\\tilde \\Phi\\)的图像为依次过端点\\((0,0),(\\frac{1}{3},\\frac{14}{81}),(\\frac{2}{3},\\frac{40}{81}),(1,1)\\)的线段的集合。 增加子区域的数目和选用高阶权函数可以提高所得函数图像的精确度。 总结 伽辽金法： ①测试函数是基函数\\((1,x,x^2,x^3)\\)的线性组合。 ②可在全域表示，近似真实解，满足边界条件。 子区域展开法： ①测试函数也是基函数的线性组合。 ②仅在子区域中表示，再组合成整个区域。 ③在有限元中，测试函数是定义在子区域中的一系列基函数的线性组合。如果子区域足够小的话，定义在子区域的基函数可以很简单。 商业软件分析过程 ①前处理(preprocess) 模型简化⇒构建模型⇒添加材料⇒施加激励⇒边界条件⇒剖分(meshing) 其中高亮部分是有限元的离散化过程 ②求解设置 ③后处理 有限元法的步骤 区域离散、插值函数的选择、系统方程的组装与求解 插值方法包括线性插值、二次插值、Cubic插值、Spline插值等。 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"线性系统理论03-线性系统的运动分析","slug":"课程笔记/线性系统理论/线性系统理论03-线性系统的运动分析","date":"2023-10-12T07:54:20.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论03-线性系统的运动分析/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA03-%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%BF%90%E5%8A%A8%E5%88%86%E6%9E%90/","excerpt":"线性系统理论课程笔记 对应教材内容第三章 线性系统的运动分析的内容 引言 运动分析的实质","text":"线性系统理论课程笔记 对应教材内容第三章 线性系统的运动分析的内容 引言 运动分析的实质 \\(\\dot x = A(t)x + B(t)u,\\quad x({t_0}) = {x_0}\\) \\(\\dot x = Ax + Bu,\\quad x(0) = {x_0},\\quad t \\geqslant 0\\) 从数学模型出发，定量地和精确地定出系统运动的变化规律，为系统的实际运动过程作出估计。 给定初始状态\\(x_0\\)和外输入作用\\(u\\)，求解出状态方程的解。 解的存在性和唯一性 ①系统矩阵\\(A(t)\\)的各个元\\(a_{ij}(t)\\)在时间区间\\([t_0, t_\\alpha]\\)上为绝对可积，即 \\(\\int_{t_0}^{t_\\alpha}{|{a_{ij}}(t)|dt &lt; \\infty ,\\quad \\quad i,j = 1,2, \\cdots n}\\) ②输入矩阵\\(B(t)\\)的各个元\\(b_{ij}(t)\\)在时间区间\\([t_0, t_\\alpha]\\)上为平方可积，即 \\(\\int_{t_0}^{t_\\alpha }{ { {[{b_{ik}}(t)]}^2}dt &lt; \\infty ,\\quad \\quad i = 1,2, \\cdots n,\\quad \\;k = 1,2 \\cdots p}\\) ③输入\\(u(t)\\)的各个元\\(u_k(t)\\)在时间区间\\([t_0, t_\\alpha]\\)上为平方可积，即 \\(\\int_{t_0}^{t_\\alpha}{ { {[{u_k}(t)]}^2}dt &lt; \\infty ,\\quad \\quad k = 1,2 \\cdots p}\\) 条件②③可一步合并为要求\\(B(t)u(t)\\)的各元在时间区间\\([t_0, t_\\alpha]\\)上绝对可积，即 \\(\\int_{t_0}^{t_\\alpha}{ { {[{b_{ik}}(t){u_k}(t)]}^2}dt &lt; \\infty ,\\quad \\quad k = 1,2 \\cdots p}\\) 零输入响应和零初始状态响应 线性系统满足叠加原理。在初始状态和输入向量作用下的运动，分解为两个单独的分运动。 \\(x(t)=x_{ou}(t)+x_{ox}(t)\\) ①自治系统（零输入响应）\\(\\dot x=Ax \\quad x({t_0}) = {x_0}\\) ②受迫系统（零初始状态响应）\\(\\dot x = Ax + Bu \\quad x(t_0) = x_0\\) 线性定常系统的运动分析 零输入响应 自治系统状态方程\\(\\dot x=Ax \\quad x({t_0}) = {x_0}\\) \\(sx-x_0=Ax \\Rightarrow sx-Ax=x_0 \\Rightarrow (sI-A)x=x_0 \\Rightarrow x=(sI-A)^{-1}x_0=e^{At}x_0\\) 结论：系统自治状态方程的解\\(x_{ou}(t)=e^{At}x_0 \\quad (t \\geqslant 0)\\) 其中\\(e^{At}\\)为矩阵指数函数，可以展开为 \\(e^{At}=I + At + \\frac{1}{2!}{A^2}{t^2} + \\cdots = \\sum\\limits_{k=0}^\\infty{\\frac{1}{k!}{A^k}{t^k}}\\) 渐近稳定的充要条件： 对于线性定常系统，零输入响应最终趋向于系统平衡状态\\(x=0\\) 当且仅当\\(e^{At}\\)最终趋于0，即\\(\\mathop {\\lim }\\limits_{t \\to \\infty } e^{At} = 0\\)。 矩阵指数函数的性质 ①\\(\\mathop {\\lim }\\limits_{t \\to 0} {e^{At}} = I\\) ②\\({e^{A(t + \\tau )}} = {e^{At}} \\cdot {e^{A\\tau }} = {e^{A\\tau }} \\cdot {e^{At}}\\) ③\\(e^{At}\\)总是非奇异的，且其逆为：\\({({e^{At}})^{ - 1}} = {e^{ - At}}\\) ④设\\(A\\)和\\(F\\)为两个同维可交换方阵，即\\(AF = FA\\)，则有\\({e^{(A + F)t}} = {e^{At}}{e^{Ft}} = {e^{Ft}}{e^{At}}\\) ⑤\\(\\frac{d}{dt}{e^{At}} = A{e^{At}} = {e^{At}}A\\) ⑥\\(\\frac{d}{dt}{e^{ - At}} = - A{e^{ - At}} = - {e^{ - At}}A\\) ⑦\\({({e^{At}})^m} = {e^{A(mt)}},\\quad m = 0,1,2, \\cdots\\) 矩阵指数函数的求解 定义法 \\(e^{At}=I + At + \\frac{1}{2!}{A^2}{t^2} + \\cdots = \\sum\\limits_{k=0}^\\infty{\\frac{1}{k!}{A^k}{t^k}}\\) 特征值法 若\\(\\bar A = diag(\\begin{array}{*{20}{c}}{\\lambda _1}&amp;{\\lambda _2}&amp; \\cdots &amp;{ {\\lambda _n})} \\end{array}\\)，则有\\({e^{\\bar At}} = diag(\\begin{array}{*{20}{c}}{e^{\\lambda _1 t}}&amp;{e^{\\lambda _2 t}}&amp; \\cdots &amp;{e^{\\lambda _n t})}\\end{array}\\) 且\\(\\bar A = {P^{ - 1}}AP \\quad A = P\\bar A{P^{ - 1}}\\)，则有\\({e^{At}} = P{e^{\\bar At}}{P^{ - 1}}\\) 【例1】\\(A = \\left[ {\\begin{array}{*{20}{c}}0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ -6&amp;-11&amp;-6 \\end{array}} \\right]\\) 由\\(|\\lambda I-A|=\\lambda^3+6\\lambda^2+11\\lambda+6=(\\lambda+1)(\\lambda+2)(\\lambda+3)=0 \\quad \\Rightarrow \\quad \\lambda_1=1,\\lambda_2=2,\\lambda_3=3\\) 由等式\\(\\lambda_i v_i=Av_i\\)，解方程组\\(|\\lambda_i I-A|v_i=0\\)，得到特征向量 \\[{\\begin{array}{*{20}{c}} {v_1=\\left[ {\\begin{array}{*{20}{c}} 1\\\\-1\\\\1 \\end{array}}\\right]}&amp;{v_2=\\left[ {\\begin{array}{*{20}{c}} 1\\\\-2\\\\4 \\end{array}}\\right]}&amp;{v_3=\\left[ {\\begin{array}{*{20}{c}} 1\\\\-3\\\\9 \\end{array}}\\right]} \\end{array}}\\] 得到\\(P =[v_1,v_2,v_3] = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;1 \\\\ -1&amp;-2&amp;-3 \\\\ 1&amp;4&amp;9\\end{array}} \\right]\\) 该式构成范德蒙德行列式，其行列式值\\(|P|=[(-2)-(-1)][(-3)-(-2)][(-3)-(-1)]=-2\\) 求其逆矩阵\\(P^{-1} = \\frac{P^*}{|P|}=\\frac{1}{2}\\left[ {\\begin{array}{*{20}{c}}6&amp;5&amp;1 \\\\ -6&amp;-8&amp;-2 \\\\ 2&amp;3&amp;1\\end{array}} \\right]\\) 则有\\(\\bar A = {P^{ - 1}}AP = \\left[ {\\begin{array}{*{20}{c}}{ - 1}&amp;0&amp;0 \\\\ 0&amp;{ - 2}&amp;0 \\\\ 0&amp;0&amp;{ - 3} \\end{array}} \\right]\\) 由\\(\\bar A = {P^{ - 1}}AP \\quad \\Rightarrow \\quad A = P\\bar A{P^{ - 1}}\\)计算出 \\({e^{At}} = P{e^{\\bar At}}{P^{ - 1}} = P\\left[ {\\begin{array}{*{20}{c}} e^{-t}&amp;0&amp;0 \\\\ 0&amp;e^{-2t}&amp;0 \\\\ 0&amp;0&amp;e^{-3t} \\end{array}} \\right]{P^{ - 1}}\\) \\(= \\left[ {\\begin{array}{*{20}{c}}{3{e^{ - t}} - 3{e^{ - 2t}} + {e^{ - 3t}}}&amp;{\\frac{5}{2}{e^{ - t}} - 4{e^{ - 2t}} + \\frac{3}{2}{e^{ - 3t}}}&amp;{\\frac{1}{2}{e^{ - t}} - {e^{ - 2t}} + \\frac{1}{2}{e^{ - 3t}}} \\\\ { - 3{e^{ - t}} + 6{e^{ - 2t}} - 3{e^{ - 3t}}}&amp;{ - \\frac{5}{2}{e^{ - t}} + 8{e^{ - 2t}} - \\frac{9}{2}{e^{ - 3t}}}&amp;{ - \\frac{1}{2}{e^{ - t}} + 2{e^{ - 2t}} - \\frac{3}{2}{e^{ - 3t}}} \\\\ {3{e^{ - t}} - 12{e^{ - 2t}} + 9{e^{ - 3t}}}&amp;{\\frac{5}{2}{e^{ - t}} - 16{e^{ - 2t}} + \\frac27{2}{e^{ - 3t}}}&amp;{\\frac{1}{2}{e^{ - t}} - 4{e^{ - 2t}} + \\frac{9}{2}{e^{ - 3t}}} \\end{array}} \\right]\\) 注：其中\\(P^*\\)为\\(P\\)的伴随矩阵 伴随矩阵公式\\(A^*=\\left[ {\\begin{array}{*{20}{c}}A_{11}&amp;A_{21}&amp;A_{31} \\\\ A_{12}&amp;A_{22}&amp;A_{32} \\\\ A_{13}&amp;A_{23}&amp;A_{33}\\end{array}} \\right]\\) 其中\\(A_{ij}=(-1)^{i+j}M_{ij}\\)为元素\\(a_{ij}\\)的代数余子式。 约当阵的情况： 若\\(\\bar A = J = diag(\\begin{array}{*{20}{c}}{J_1}&amp;{J_2}&amp; \\cdots &amp;{J_l}) \\end{array}\\) 其中\\({J_i} = \\left[ {\\begin{array}{*{20}{c}}{\\lambda _i}&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ 0&amp;{\\lambda _i}&amp;1&amp; \\cdots &amp;0 \\\\ 0&amp;0&amp;{\\lambda _i}&amp; \\cdots &amp;0 \\\\ {}&amp;{}&amp; \\cdots &amp;{}&amp;{} \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;{\\lambda _i} \\end{array}} \\right]\\) 则\\({e^{\\bar At}} = diag(\\begin{array}{*{20}{c}}e^{J_1}t&amp;e^{J_2}t&amp; \\cdots &amp;e^{J_l}t) \\end{array}\\) 其中\\({e^{ {J_i}t}} = \\left[ {\\begin{array}{*{20}{c}}{ {e^{ {\\lambda _i}t}}}&amp;{t{e^{ {\\lambda_i}t}}}&amp;{\\frac{1}{2!} {t^2}{e^{ {\\lambda_i}t}}}&amp;\\cdots &amp;{} \\\\ 0&amp;{ {e^{ {\\lambda _i}t}}}&amp;{t{e^{ {\\lambda _i}t}}}&amp; \\cdots &amp;{} \\\\ 0&amp;0&amp;{ {e^{ {\\lambda _i}t}}}&amp; \\cdots &amp;{} \\\\ {}&amp;{}&amp; \\cdots &amp;{}&amp;{} \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;{ {e^{ {\\lambda _i}t}}} \\end{array}} \\right]\\) 有限项展开法 设\\(\\lambda_1,\\lambda_2,\\cdots,\\lambda_n\\)为\\(A\\)的\\(n\\)个互异特征值 \\({e^{At}} = {\\alpha _0}I + {\\alpha _1}A + {\\alpha _2}{A^2} + \\cdots {\\alpha _{n - 1}}{A^{n - 1}}\\) \\(\\left\\{ \\begin{gathered}{e^{ {\\lambda _1}t}} = {\\alpha _0} + {\\alpha _1}{\\lambda _1} + {\\alpha _2}{\\lambda _1}^2 + \\cdots {\\alpha _{n - 1}}{\\lambda _1}^{n - 1} \\hfill \\\\{e^{ {\\lambda _2}t}} = {\\alpha _0} + {\\alpha _1}{\\lambda _2} + {\\alpha _2}{\\lambda _2}^2 + \\cdots {\\alpha _{n - 1}}{\\lambda _2}^{n - 1} \\hfill \\\\ \\cdots \\hfill \\\\{e^{ {\\lambda _n}t}} = {\\alpha _0} + {\\alpha _1}{\\lambda _n} + {\\alpha _2}{\\lambda _n}^2 + \\cdots {\\alpha _{n - 1}}{\\lambda _n}^{n - 1} \\hfill \\\\ \\end{gathered} \\right.\\) 若\\(\\lambda_i\\)为\\(l\\)重特征值，则相应的\\(l\\)个方程为 \\(\\left\\{ \\begin{gathered} {e^{ {\\lambda _i}t}} = {\\alpha _0} + {\\alpha _1}{\\lambda _i} + {\\alpha _2}{\\lambda _i}^2 + \\cdots + {\\alpha _{n - 1}}{\\lambda _i}^{n - 1} \\hfill \\\\ \\frac{ {\\text{d}}}{ { {\\text{d}}{\\lambda _i}}}{e^{ {\\lambda _i}t}} = {\\alpha _1} + 2{\\alpha _2}{\\lambda _i} + \\cdots + (n - 1){\\alpha _{n - 1}}{\\lambda _i}^{n - 2} \\hfill \\\\ \\cdots \\hfill \\\\ \\frac{ { { {\\text{d}}^{(l - 1)}}}}{ { {\\text{d}}{\\lambda _i}^{(l - 1)}}}{e^{ {\\lambda _i}t}} = {\\alpha _{l - 1}}(l - 1)! + {\\alpha _l}l!{\\lambda _i} + \\cdots + {\\alpha _{n - 1}}\\frac{ {(n - 1)!}}{ {(n - l)!}}{\\lambda _i}^{n - l} \\hfill \\\\ \\end{gathered} \\right.\\) 【例2】\\(A = \\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;-2 \\\\ 0&amp;1&amp;0 \\\\ 1&amp;0&amp;3 \\end{array}}\\right]\\) \\(|\\lambda I - A| = 0 \\Rightarrow {(\\lambda - 1)^2}(\\lambda - 2) = 0\\) \\(\\Rightarrow {\\lambda_1,2} = 1,{\\lambda_3} = 2\\) 令\\({e^{At}} = {\\alpha _0}I + {\\alpha _1}A + {\\alpha _2}{A^2}\\) 列出方程组\\(\\left\\{ \\begin{gathered}{e^t} = {\\alpha _0} + {\\alpha _1} + {\\alpha _2} \\hfill \\\\t{e^t} = {\\alpha _1} + 2{\\alpha _2} \\hfill \\\\{e^{2t}} = {\\alpha _0} + 2{\\alpha _1} + 4{\\alpha _2} \\hfill \\\\ \\end{gathered} \\right.\\) 解得\\(\\left\\{ \\begin{gathered}{\\alpha _0} = - 2t{e^t} + {e^{2t}} \\hfill \\\\{\\alpha _1} = 3t{e^t} + 2{e^t} - 2{e^{2t}} \\hfill \\\\{\\alpha _2} = - t{e^t} - {e^t} + {e^{2t}} \\hfill \\\\ \\end{gathered} \\right.\\) 进而得到\\({e^{At}} = {\\alpha _0}I + {\\alpha _1}A + {\\alpha _2}{A^2}\\) \\(= ( - 2t{e^t} + {e^{2t}})I + (3t{e^t} + 2{e^t} - 2{e^{2t}})A + ( - t{e^t} - {e^t} + {e^{2t}}){A^2}\\) \\(= \\left[ {\\begin{array}{*{20}{c}}{2{e^t} - {e^{2t}}}&amp;0&amp;{2{e^t} - 2{e^{2t}}} \\\\ 0&amp;{ {e^t}}&amp;0 \\\\ { - {e^t} + {e^{2t}}}&amp;0&amp;{ - {e^t} + 2{e^{2t}}} \\end{array}} \\right]\\) 预解矩阵法 \\({e^{At}} = {L^{ - 1}}[{\\left( {sI - A} \\right)^{ - 1}}]\\) 【例3】\\(A = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1 \\\\ -2&amp;-3 \\end{array}}\\right]\\) \\((sI-A)^{-1}=\\left[ {\\begin{array}{*{20}{c}} s&amp;-1 \\\\ 2&amp;s+3 \\end{array}}\\right]^{-1}=\\left[ {\\begin{array}{*{20}{c}} \\frac{s+3}{(s+1)(s+2)}&amp;\\frac{1}{(s+1)(s+2)} \\\\ \\frac{-2}{(s+1)(s+2)}&amp;\\frac{s}{(s+1)(s+2)} \\end{array}}\\right]=\\left[ {\\begin{array}{*{20}{c}} \\frac{2}{s+1}-\\frac{1}{s+2}&amp;\\frac{1}{s+1}-\\frac{1}{s+2} \\\\ -\\frac{2}{s+1}+\\frac{2}{s+2}&amp;-\\frac{1}{s+1}+\\frac{2}{s+2} \\end{array}}\\right]\\) \\(L^{-1}[(sI-A)^{-1}]=\\left[ {\\begin{array}{*{20}{c}} 2e^{-t}-e^{-2t}&amp;e^{-t}-e^{-2t} \\\\ -2e^{-t}+2e^{-2t}&amp;-e^{-t}+2e^{-2t} \\end{array}}\\right]\\) 零初始状态响应 线性定常系统的零初始状态响应\\(x_{ox}(t)\\)具有以下表达式： \\(x_{ox}(t)=\\int_0^t { {e^{A(t - \\tau )}}Bu(\\tau ){\\text{d}}\\tau}\\) 【例4】\\(\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1 \\\\ -2&amp;-3 \\end{array}}\\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 1 \\end{array}}\\right]u,\\quad t\\geqslant 0\\) 其中，初始状态\\(x_1(0)=x_2(0)=0\\)，输入\\(u(t)=I(t)\\) 由【例3】知\\(e^{A(t-\\tau)}=\\left[ {\\begin{array}{*{20}{c}} 2e^{-(t-\\tau)}-e^{-2(t-\\tau)}&amp;e^{-(t-\\tau)}-e^{-2(t-\\tau)} \\\\ -2e^{-(t-\\tau)}+2e^{-2(t-\\tau)}&amp;-e^{-(t-\\tau)}+2e^{-2(t-\\tau)} \\end{array}}\\right]\\) \\(\\Rightarrow x_{ox}(t)=\\int_0^t { {e^{A(t - \\tau )}}Bu(\\tau ){\\text{d}}\\tau}=\\int_0^t {\\left[ {\\begin{array}{*{20}{c}} e^{-(t-\\tau)}-e^{-2(t-\\tau)} \\\\ -e^{-(t-\\tau)}+2e^{-2(t-\\tau)} \\end{array}}\\right]{\\text{d}}\\tau}=\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{2}-e^{-t}+\\frac{1}{2}e^{-2t} \\\\ e^{-t}-e^{-2t} \\end{array}}\\right]\\) 系统状态运动规律的基本表达式 同时作用初始状态和输入的状态方程的解 对初始时刻\\(t_0=0\\)，有表达式\\(x(t) = {e^{At}}{x_0} + \\int_0^t {e^{A(t - \\tau )}Bu(\\tau ){\\text{d}}\\tau }, \\quad t \\geqslant 0\\) 对初始时刻\\(t_0 \\ne 0\\)，有表达式\\(x(t) = {e^{A(t - {t_0})}}{x_0} + \\int_{t_0}^t {e^{A(t - \\tau )}Bu(\\tau ){\\text{d}}\\tau ,\\quad t \\geqslant {t_0}}\\) 连续时间线性时不变系统的状态转移矩阵 定义：矩阵方程\\(\\dot \\Phi (t - {t_0})=A\\Phi (t - {t_0}),\\quad \\Phi (0)=I\\)的解\\(\\Phi (t - {t_0})\\)称为状态转移矩阵。 \\(t_0=0\\)时，\\(\\Phi (t) = {e^{At}}\\quad \\quad t \\geqslant 0\\) \\(t_0 \\ne 0\\)时，\\(\\Phi (t - {t_0}) = {e^{A(t - {t_0})}},\\quad t \\geqslant {t_0}\\) 基于状态转移矩阵的系统响应表达式： \\({x_{ou}}(t) = \\Phi (t - {t_0}){x_0}\\) \\({x_{ox}}(t) = \\int_{t_0}^t {\\Phi (t - \\tau )Bu(\\tau ){\\text{d}}\\tau } \\quad t \\geqslant {t_0}\\) \\(x(t) = \\Phi (t - {t_0}){x_0} + \\int_{t_0}^t {\\Phi (t - \\tau )Bu(\\tau ){\\text{d}}\\tau }\\) 状态转移矩阵的特性： ①\\(\\Phi (0) = I\\) ②\\({\\Phi ^{ - 1}}(t) = \\Phi ( - t) \\quad {\\Phi ^{ - 1}}(t - {t_0}) = \\Phi ({t_0} - t)\\) ③\\(\\Phi ({t_2} - {t_1})\\Phi ({t_1} - {t_0}) = \\Phi ({t_2} - {t_0})\\) ④\\(\\Phi ({t_2} + {t_1}) = \\Phi ({t_2})\\Phi ({t_1}) = \\Phi ({t_1})\\Phi ({t_2})\\) ⑤\\(\\Phi (mt) = {\\left[ {\\Phi (t)} \\right]^m}\\) ⑥\\(\\frac{\\text{d}}{ {\\text{d}}t}\\Phi (t - {t_0}) = A\\Phi (t - {t_0}) = \\Phi (t - {t_0})A\\) ⑦\\(\\frac{\\text{d}}{ {\\text{d}t}}{\\Phi ^{ - 1}}(t - {t_0}) = - A\\Phi ({t_0} - t) = - \\Phi ({t_0} - t)A\\) 连续时间线性时不变系统的脉冲响应矩阵 注：自学内容，仅供参考。 定义：对于输入维数为\\(p\\)，输出维数为\\(q\\)的连续时间线性时不变系统，脉冲响应矩阵定义为零初始状态下以脉冲响应\\(h_{ij}(t-\\tau)\\)为元构成的一个\\(q \\times p\\)输出响应矩阵。 其中\\(h_{ij}(t-\\tau)\\)为第\\(j\\)个输入端在时刻\\(\\tau\\)加以单位脉冲\\(\\delta(t-\\tau)\\)而所有其他输入为零时，在第\\(i\\)个输出端的脉冲响应 \\[H(t - \\tau ) = \\left[ {\\begin{array}{*{20}{c}}{h_{11}(t - \\tau )}&amp;{h_{12}(t - \\tau )}&amp; \\cdots &amp;{h_{1p}(t - \\tau )} \\\\ {h_{21}(t - \\tau )}&amp;{h_{22}(t - \\tau )}&amp; \\cdots &amp;{h_{2p}(t - \\tau )} \\\\ \\cdots &amp; \\cdots &amp; \\cdots &amp; \\cdots \\\\ {h_{q1}(t - \\tau )}&amp;{h_{q2}(t - \\tau )}&amp; \\cdots &amp;{h_{qp}(t - \\tau )} \\end{array}} \\right]\\] 且\\(H(t - \\tau ) = 0\\)，\\(\\forall \\tau\\)和\\(\\forall t \\prec \\tau\\) 输出响应： 对\\(p\\)维输入，\\(q\\)维输出连续时间线性时不变系统，假设初始状态为零，则系统在任意输入\\(u\\)作用下基于脉冲响应矩阵的输出响应\\(y(t)\\)为 \\(y(t) = \\int_{t_0}^t {H(t - \\tau )u(\\tau ){\\text{d}}\\tau } = \\int_{t_0}^t {H(\\tau )u(t - \\tau ){\\text{d}}\\tau \\quad t \\geqslant {t_0}}\\) 脉冲响应矩阵\\(H(t)\\)和传递函数矩阵\\(G(s)\\)之间的关系： \\(G(s) = L\\left[ {H(t)} \\right],H(t) = {L^{ - 1}}\\left[ {G(s)} \\right]\\) \\(G(s) = C{(sI - A)^{ - 1}}B + D\\) 对连续时间线性时不变系统\\((A, B, C, D)\\)，设初始状态为零，则系统的脉冲响应矩阵为 \\(H(t - \\tau ) = C{e^{A(t - \\tau )}}B + D\\delta (t - \\tau )\\) \\(= C\\Phi (t - \\tau )B + D\\delta (t - \\tau )\\) ①两个代数等价的连续时间线性时不变系统具有相同的脉冲响应矩阵。 ②两个代数等价的连续时间线性时不变系统具有相同的“输出零状态响应”和“输出零输入响应”。 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"电磁场数值分析与计算04-边界条件","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算04-边界条件","date":"2023-10-08T03:11:08.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算04-边界条件/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9704-%E8%BE%B9%E7%95%8C%E6%9D%A1%E4%BB%B6/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 初始条件(Initial Condition) 说明整个系统的初始状态 初始条件给出物理量\\(u\\)于初始瞬间在系统中各处的值\\({\\left. u \\right|_{t = 0}} = {f_1}(x,y,z)\\) \\(u\\)对时间的变化率于初始瞬间在系统各处的值\\(\\left. \\frac{\\partial u}{\\partial t} \\right|_{t = 0} = {f_2}(x,y,z)\\) 边界条件(Boundry Condition) 第一类边界条件（狄里赫利问题）：规定物理量\\(u\\)在边界上的值\\(\\left. u \\right|_s = f_1(s)\\)。\\(\\left. u \\right|_s = 0\\)时是齐次边界条件。 第二类边界条件（聂依曼问题）：规定物理量\\(u\\)的法向微商在边界\\(s\\)上的值\\(\\left. \\frac{\\partial u}{\\partial n} \\right|_s = f_2(s)\\)。 第三类边界条件（洛平问题）：规定物理量\\(u\\)及其法向微商\\(\\frac{\\partial u}{\\partial n}\\)在边界上的某一线性关系\\(\\left.(\\eta u+\\beta\\frac{\\partial u}{\\partial n})\\right|_s =f_3(s)\\)，其中\\(\\eta\\)、\\(\\beta\\)为常数。 用这三类边界条件求解拉普拉斯方程\\({\\bf{\\nabla}}^2 \\Phi=0\\)的问题，分别被称作狄里赫利问题、聂依曼问题、洛平问题。 不同媒质交界面条件 分界面两侧，场量突变⇒推导两侧场量的法向分量或切向分量的关系式。 两种媒质分界面上的电场（\\(\\bf{E}\\)、\\(\\bf{D}\\)） (1)分量面的两侧电场强度的切向分量连续，即\\(E_{1t}=E_{2t}\\) 证明：沿着分界面取一闭合路径，长度为\\(l\\)，宽为\\(\\Delta h\\)。 \\(\\oint_l { {\\bf{E}}d{\\bf{l}}} = -\\int_s {\\frac{\\partial {\\bf{B}}}{\\partial t}d{\\bf{l}}}\\) 当\\(\\Delta h \\to 0\\)时表示为分界面，则闭合路径面积趋近于0，上式右侧趋近于0，即\\(\\oint_l { {\\bf{E}}d{\\bf{l}}} =0\\) 则\\(E_{1t} \\cdot l - E_{2t} \\cdot l=0\\)，即\\(E_{1t}=E_{2t}\\)。 图1 分界面的两侧电场强度的切向量分量连续 (2)两种电介质分界面上无自由电荷场两侧电位移法向分量连续 即\\(\\rho=0\\)时，\\(D_{1n}=D_{2n}\\)；\\(\\rho \\ne 0\\)时，\\(D_{2n}-D_{1n}=\\rho_s\\)（分界面上自由电荷面密度）。 证明：沿着分界面做一封闭的圆柱体，高度为\\(\\Delta h\\)，上下底面为\\(\\Delta S\\)。 则有\\(\\oint_S { {\\bf{D}}d{\\bf{S}}} = q\\) 当\\(\\Delta h \\to 0\\)时，侧面积趋近于0 \\(-D_{1n} \\cdot \\Delta S + D_{2n} \\cdot \\Delta S = \\rho_s \\cdot \\Delta S\\)⇒\\(D_{2n}-D_{1n}=\\rho_s\\) 如果媒质1为导体，\\(D_{1n}=0\\)，\\(D_{2n}=\\rho_s\\)，且\\(E_{1t}=E_{2t}=0\\) 则导体为等电位体\\({\\bf{\\nabla}}\\Phi=0\\)，\\(E=-{\\bf{\\nabla}}\\Phi=0\\)，\\(D=\\varepsilon{\\bf{E}}=0\\) 图2 两种电介质分界面上无自由电荷场两侧电位移法向分量连续 (3)\\(\\bf{D}\\)线与\\(\\bf{E}\\)线穿过导电介质时，在分界面上要改变方向 当分界面上无自由电荷时，静电场折射定律：\\(\\frac{tan \\alpha_1}{tan \\alpha_2}=\\frac{\\varepsilon_1}{\\varepsilon_2}\\) 证明：由\\(tan \\alpha_1=\\frac{E_{1t}}{E_{1n}}\\)、\\(tan \\alpha_2=\\frac{E_{2t}}{E_{2n}}\\)、\\(E_{1t}=E_{2t}\\)、\\(D_{1n}=D_{2n}\\)与\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\) 得到\\(\\frac{tan \\alpha_1}{tan \\alpha_2}=\\frac{E_{1t}}{E_{1n}} \\frac{E_{2n}}{E_{2t}}=\\frac{E_{2n}}{E_{1n}}=\\frac{D_{2n}/\\varepsilon_2}{D_{1n}/\\varepsilon_1}=\\frac{\\varepsilon_1}{\\varepsilon_2}\\) 图3 静电场折射定律 两种导电媒质分界面上的稳定电流场 (1)两侧电流密度的法向分量连续\\(J_{1n}=J_{2n}\\) (2)两侧电场强度的切向分量连续\\(E_{1t}=E_{2t}\\) (3)电流密度线的折射定律\\(\\frac{tan \\alpha_1}{tan \\alpha_2}=\\frac{\\sigma_1}{\\sigma_2}\\) 两种媒质分界面上的磁场（稳定） (1)两侧磁通密度的法向分量连续\\(B_{1n}=B_{2n}\\) 证明：沿着分界面做一封闭的圆柱体，高度为\\(\\Delta h\\)，上下底面为\\(\\Delta S\\)。 由高斯定理\\(\\oint_S { {\\bf{B}}d{\\bf{S}}} = \\int_V { ({\\bf{\\nabla}}\\cdot{\\bf{B}})d{\\bf{V}}} = 0\\) 当\\(\\Delta h \\to 0\\)时，侧面积趋近于0 则有\\(\\oint_S { {\\bf{B}}d{\\bf{S}}} = {B_{2n}}{\\bf{n_2}}\\cdot{\\Delta S} + {B_{1n}}{\\bf{n_1}}\\cdot{\\Delta S}=0\\) ⇒\\(({B_{2n}}-{B_{1n}}){\\Delta S}=0\\) 得到\\(B_{1n}=B_{2n}\\) 图4 两侧磁通密度的法向分量连续 (2)在分界面上无电流时，磁场强度的切向分量连续\\(H_{1t}=H_{2t}\\)⇒\\(\\frac{tan \\alpha_1}{tan \\alpha_2}=\\frac{\\mu_1}{\\mu_2}\\) 当分界面上有电流时\\(H_{1t}-H_{2t}=J_s\\) 当媒质2为未饱和的铁磁质（\\(\\mu_r \\to \\infty\\)） 当\\(\\bf{B}\\)为有限值时，\\(H_{2t}=0\\)，\\(H_{1t}=J_s\\) 图5 媒质2为未饱和的铁磁质 总结：切向分量连续（\\({\\bf{E}}\\)、\\({\\bf{H}}\\)）；法向分量连续（\\({\\bf{D}}\\)、\\({\\bf{J}}\\)、\\({\\bf{B}}\\)）。 用电磁位表示的边界条件 用电位\\(\\Phi\\)表示的边界条件 \\({\\bf{E}}=-{\\bf{\\nabla}}\\Phi\\)⇒\\(E_x{\\bf{i}}+E_y{\\bf{j}}+E_z{\\bf{k}}=-\\frac{\\partial \\Phi}{\\partial x}{\\bf{i}}-\\frac{\\partial \\Phi}{\\partial y}{\\bf{j}}-\\frac{\\partial \\Phi}{\\partial z}{\\bf{k}}\\) \\(E_n{\\bf{n}}+E_{\\tau}{\\bf{\\tau}}+E_t{\\bf{t}}=-\\frac{\\partial \\Phi}{\\partial n}{\\bf{n}}-\\frac{\\partial \\Phi}{\\partial \\tau}{\\bf{\\tau}}-\\frac{\\partial \\Phi}{\\partial t}{\\bf{t}}\\) 由两侧电场强度的切向分量连续\\(E_{1t}=E_{2t}\\)，可知\\(-\\frac{\\partial \\Phi_1}{\\partial t}=-\\frac{\\partial \\Phi_2}{\\partial t}\\) 得到\\(\\Phi_1=\\Phi_2\\)，即在介质分界面上电位连续 \\({\\bf{D_{2n}}}-{\\bf{D_{1n}}}=\\rho_s\\) \\({\\bf{D_{1n}}}=\\varepsilon_1{\\bf{E_{1n}}}=-\\varepsilon_1\\frac{\\partial \\Phi_1}{\\partial n}\\) \\({\\bf{D_{2n}}}=\\varepsilon_2{\\bf{E_{2n}}}=-\\varepsilon_2\\frac{\\partial \\Phi_2}{\\partial n}\\) ⇒\\(\\varepsilon_1\\frac{\\partial \\Phi_1}{\\partial n}-\\varepsilon_2\\frac{\\partial \\Phi_2}{\\partial n}=\\rho_s\\) 在介质的分界面上电位导数不连续 用磁位\\(\\bf{A}\\)表示的边界条件 由两侧磁通密度的法向分量连续\\(B_{1n}=B_{2n}\\) 且\\({\\bf{A}}=A_z{\\bf{k}}\\)，\\({\\bf{J}}=J_z{\\bf{k}}\\) ⇒\\({\\bf{B} } = {\\bf{\\nabla} } \\times {\\bf{A} } = \\left| {\\begin{array}{*{20}{c}}{\\bf{t}}&amp;{\\bf{n}}&amp;{\\bf{k}} \\\\ {\\frac{\\partial }{ {\\partial t}}}&amp;{\\frac{\\partial }{ {\\partial n}}}&amp;{\\frac{\\partial}{ {\\partial k}}} \\\\ {0}&amp;{0}&amp;{A_z} \\end{array}} \\right| = \\frac{\\partial A_z}{\\partial n}{\\bf{t}} - \\frac{\\partial A_z}{\\partial t}{\\bf{n}} = B_t{\\bf{t}} + B_n{\\bf{n}}\\) 即\\(B_n=-\\frac{\\partial A_z}{\\partial t}\\)，\\(B_t=\\frac{\\partial A_z}{\\partial n}\\) 可知\\(B_{1n}=-\\frac{\\partial A_{1z}}{\\partial t}\\)，\\(B_{2n}=-\\frac{\\partial A_{2z}}{\\partial t}\\) ⇒\\(\\frac{\\partial A_{1z}}{\\partial t}=\\frac{\\partial A_{2z}}{\\partial t}\\)⇒\\(A_{1t}=A_{2t}\\) 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"线性系统理论02-线性系统的状态空间描述","slug":"课程笔记/线性系统理论/线性系统理论02-线性系统的状态空间描述","date":"2023-09-23T00:57:37.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论02-线性系统的状态空间描述/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA02-%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%8A%B6%E6%80%81%E7%A9%BA%E9%97%B4%E6%8F%8F%E8%BF%B0/","excerpt":"线性系统理论课程笔记 对应教材内容第二章 线性系统的状态空间描述的内容 状态和状态空间 状态是一个列向量，由各个状态变量构成。","text":"线性系统理论课程笔记 对应教材内容第二章 线性系统的状态空间描述的内容 状态和状态空间 状态是一个列向量，由各个状态变量构成。 \\[X(t) = \\left[ {\\begin{array}{*{20}{c}} { {x_1}(t)} \\\\ \\vdots \\\\ { {x_n}(t)} \\end{array}} \\right]t \\geqslant {t_0}\\] 状态空间是状态向量的集合，状态空间的维数等于状态的维数。 线性系统的状态空间描述 图1 动力学系统结构示意图 输入变量组：\\({u_1},{u_2}, \\cdots ,{u_p}\\)（环境对系统的作用） 输出变量组：\\({y_1},{y_2}, \\cdots ,{y_q}\\)（系统对环境的作用） 状态变量组：\\({x_1},{x_2}, \\cdots ,{x_n}\\)（能完全表征其时间域行为的一个最小内部变量组，刻画系统在每个时刻所处状况的变量，体现了系统的行为） 系统的外部描述：又称作输入—输出描述。外部描述是不完全的描述，不表征系统的内部结构和内部变量，只反映外部变量间的因果关系，即输出和输入间的因果关系。 线性定常、单输入—单输出系统，外部描述为线性常系数微分方程。 \\[{y^{(n)}} + {a_{n - 1}}{y^{(n - 1)}} + \\cdots + {a_1}{y^{(1)}} + {a_0}y = {b_{n - 1}}{u^{(n - 1)}} + {b_{n - 2}}{u^{(n - 2)}} + \\cdots + {b_1}{u^{(1)}} + {b_0}u\\] 假定初始条件为零，取拉氏变换。得到其复频率域描述，即传递函数。 \\[G(s) = \\frac{ { {b_{n - 1}}{s^{n - 1}} + \\cdots + {b_1}s + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] 系统的内部描述：这里指状态空间描述。内部描述是完全的描述，能够完全反映系统的所有动力学特性。内部描述需要由两个数学方程表征（状态方程和输出方程，统称为状态空间表达式）。 状态方程：微分方程或差分方程（状态变量组和输入变量组间的因果关系）。 一般的情况下，为一阶非线性时变微分方程组。 \\[\\left\\{ {\\begin{array}{*{20}{c}} { { {\\dot x}_1} = {f_1}({x_1}, \\cdots ,{x_n};{u_1}, \\cdots ,{u_p},t)} \\\\ \\cdots \\\\ { { {\\dot x}_n} = {f_n}({x_1}, \\cdots ,{x_n};{u_1}, \\cdots ,{u_p},t)} \\end{array}} \\right.t \\geqslant {t_0}\\] 向量方程形式为\\(\\dot X = f(x,u,t),t \\geqslant {t_0}\\) 输出方程：代数方程（状态变量组、输入变量组和输出变量组间的转换关系）。 一般的情况下，输出方程为 \\[\\left\\{ {\\begin{array}{*{20}{c}}{ {y_1} = {g_1}({x_1}, \\cdots ,{x_n};{u_1}, \\cdots ,{u_p},t)} \\\\ \\cdots \\\\ { {y_q} = {g_q}({x_1}, \\cdots ,{x_n};{u_1}, \\cdots ,{u_p},t)} \\end{array}} \\right.t \\geqslant {t_0}\\] 向量方程形式为\\(Y = g(x,u,t),t \\geqslant {t_0}\\) 连续时间系统的线性系统状态空间描述为： \\[\\left\\{ {\\begin{array}{*{20}{c}}{\\dot x = A(t)x + B(t)u} \\\\ {y = C(t)x + D(t)u} \\end{array}} \\right.t \\geqslant {t_0}\\] 图2 连续时间线性系统结构图 离散时间系统的线性系统状态空间描述为： \\[\\left\\{ {\\begin{array}{*{20}{c}}{x(k+1) = G(k)x(k) + H(k)u(k)} \\\\ {y(k) = C(k)x(k) + D(k)u(k)} \\end{array}} \\right.k=1,2,\\cdots\\] 图3 离散时间线性系统结构图 系统状态空间描述的列写举例（RLC电路网络）： 图4 RLC电路网络结构图 选取电感电流\\(i_L\\)与电容电压\\(u_C\\)作为状态变量，列写回路方程： \\[\\left\\{ {\\begin{array}{*{20}{c}} {i_L=(u-L\\frac{di_L}{dt})\\frac{1}{R_1}}+C\\frac{du_C}{dt} \\\\ {L\\frac{di_L}{dt}+u_C+C\\frac{du_C}{dt}R_2=u} \\end{array}}\\right.\\] 整理得 \\[\\left\\{ {\\begin{array}{*{20}{c}} {\\frac{di_L}{dt}=\\frac{u}{L}-\\frac{i_L}{L}(\\frac{R_1R_2}{R_1+R_2})-\\frac{u_C}{L}(\\frac{R_1}{R_1+R_2})} \\\\ {\\frac{du_C}{dt}=\\frac{R_1}{C(R_1+R_2)}i_L-\\frac{1}{C(R_1+R_2)}u_C} \\end{array}}\\right.\\] 取状态变量\\(x_1=i_L\\)、\\(x_2=u_C\\)，进一步整理得到状态方程 \\[\\left\\{ {\\begin{array}{*{20}{c}} {\\dot x_1=-\\frac{1}{L}(\\frac{R_1R_2}{R_1+R_2})x_1-\\frac{1}{L}(\\frac{R_1}{R_1+R_2})x_2+\\frac{1}{L}u} \\\\ {\\dot x_2=\\frac{R_1}{C(R_1+R_2)}x_1-\\frac{1}{C(R_1+R_2)}x_2} \\end{array}}\\right.\\] 该状态方程可简化为\\(\\dot x = A(t)x + B(t)u\\)，其中\\(A = \\left[ {\\begin{array}{*{20}{c}} -\\frac{1}{L}(\\frac{R_1R_2}{R_1+R_2})&amp;-\\frac{1}{L}(\\frac{R_1}{R_1+R_2}) \\\\ \\frac{R_1}{C(R_1+R_2)}&amp;-\\frac{1}{C(R_1+R_2)} \\end{array}} \\right]\\)，\\(B=\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{L} \\\\ 0 \\end{array}} \\right]\\) 选取\\(u_{R2}\\)作为输出变量\\(y\\)，则有： \\[u_{R2}=R_2 i_C=R_2 C\\frac{dU_c}{dt}=\\frac{R_1 R_2}{R_1+R_2}i_L-\\frac{R_2}{R_1+R_2}u_C\\] \\[y=\\frac{R_1 R_2}{R_1+R_2}x_1-\\frac{R_2}{R_1+R_2}x_2\\] 该输出方程可简化为\\(y = C(t)x + D(t)u\\)，其中\\(C=\\left[ {\\begin{array}{*{20}{c}} \\frac{R_1 R_2}{R_1+R_2} &amp; -\\frac{R_2}{R_1+R_2} \\end{array}} \\right]\\)，\\(D=[0]\\) 系统按其状态空间描述的分类 线性系统和非线性系统 时变系统和时不变系统 连续时间系统和离散时间系统 确定性系统和不确定性系统 化输入—输出描述为状态空间描述 结论1——由输入输出描述导出状态空间描述 给定单输入，单输出线性时不变系统的输入输出描述： \\[{y^{(n)}} + {a_{n - 1}}{y^{(n - 1)}} + \\cdots + {a_1}{y^{(1)}} + {a_0}y = {b_m}{u^{(m)}} + {b_{m - 1}}{u^{(m - 1)}} + \\cdots + {b_1}{u^{(1)}} + {b_0}u\\] \\[G(s) = \\frac{Y(s)}{U(s)} = \\frac{ { {b_m}{s^m} + {b_{m - 1}}{s^{m - 1}} + \\cdots + {b_1}{s^1} + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] \\(m &lt; n\\)时，有 \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}0&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ \\vdots &amp;{}&amp; \\ddots &amp;{}&amp; \\vdots \\\\ 0&amp;{}&amp;{}&amp; \\ddots &amp;0 \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;1 \\\\ { - {a_0}}&amp;{ - {a_1}}&amp;{ - {a_2}}&amp; \\cdots &amp;{ - {a_{n - 1}}} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ \\vdots \\\\ 0 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}}{b_0}&amp;{b_1}&amp; \\cdots &amp;{b_m}&amp;0&amp; \\cdots &amp;0 \\end{array}} \\right]x \\hfill \\\\ \\end{gathered}\\] 【例1】：\\({y^{(3)}} + 16{y^{(2)}} + 194{y^{(1)}} + 640y = 160{u^{(1)}} + 720u\\) \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ { - 640}&amp;{ - 194}&amp;{ - 16} \\end{array}} \\right] x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} {720}&amp;{160}&amp;0 \\end{array}} \\right] x \\hfill \\\\ \\end{gathered}\\] \\(m = n\\)时，有 \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}0&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ \\vdots &amp;{}&amp; \\ddots &amp;{}&amp; \\vdots \\\\ 0&amp;{}&amp;{}&amp; \\ddots &amp;0 \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;1 \\\\ { - {a_0}}&amp;{ - {a_1}}&amp;{ - {a_2}}&amp; \\cdots &amp;{ - {a_{n - 1}}} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ \\vdots \\\\ 0 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} {({b_0} - {b_n}{a_0}),}&amp;{({b_1} - {b_n}{a_1}),}&amp;{ \\cdots ,}&amp;{({b_{n - 1}} - {b_n}{a_{n- 1}})} \\end{array}} \\right]x + {b_n}u \\hfill \\\\ \\end{gathered}\\] 【例2】：\\({y^{(3)}} + 16{y^{(2)}} + 194{y^{(1)}} + 640y = 4{u^{(3)}} + 160{u^{(1)}} + 720u\\) \\(b_0 - b_3 a_0 = 720 - 4 \\times 640 = -1840\\) \\(b_1 - b_3 a_1 = 160 - 4 \\times 194 = -616\\) \\(b_0 - b_3 a_0 = 0 - 4 \\times 16 = -64\\) \\[\\begin{gathered} \\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ { - 640}&amp;{ - 194}&amp;{ - 16} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 0 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}}{-1840}&amp;{-616}&amp;{-64} \\end{array}} \\right]x + 4u \\hfill \\\\ \\end{gathered}\\] 结论2——由输入输出描述导出状态空间描述 给定单输入，单输出线性时不变系统的输入输出描述： \\(m = 0\\)时，输入输出描述为： \\[{y^{(n)}} + {a_{n - 1}}{y^{(n - 1)}} + \\cdots + {a_1}{y^{(1)}} + {a_0}y = {b_0}u\\] \\[G(s) = \\frac{b_0}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] 其对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ \\vdots &amp;{}&amp; \\ddots &amp;{}&amp; \\vdots \\\\ 0&amp;{}&amp;{}&amp; \\ddots &amp;0 \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;1 \\\\ { - {a_0}}&amp;{ - {a_1}}&amp;{ - {a_2}}&amp; \\cdots &amp;{ - {a_{n - 1}}} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}0 \\\\ 0 \\\\ \\vdots \\\\ 0 \\\\ {b_0} \\end{array}} \\right]u \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}}{1,}&amp;{0,}&amp;{ \\cdots ,}&amp;0 \\end{array}} \\right]x \\hfill \\\\ \\end{gathered}\\] \\(m \\ne 0\\)时，输入输出描述为： \\[{y^{(n)}} + {a_{n - 1}}{y^{(n - 1)}} + \\cdots + {a_1}{y^{(1)}} + {a_0}y = {b_n}{u^{(n)}} + {b_{n - 1}}{u^{(n - 1)}} + \\cdots + {b_1}{u^{(1)}} + {b_0}u\\] \\[G(s) = \\frac{ { {b_n}{s^n} + {b_{n - 1}}{s^{n - 1}} + \\cdots + {b_1}{s^1} + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] 其对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}0&amp;1&amp;0&amp; \\cdots &amp;0 \\\\ \\vdots &amp;{}&amp; \\ddots &amp;{}&amp; \\vdots \\\\ 0&amp;{}&amp;{}&amp; \\ddots &amp;0 \\\\ 0&amp;0&amp;0&amp; \\cdots &amp;1 \\\\ { - {a_0}}&amp;{ - {a_1}}&amp;{ - {a_2}}&amp; \\cdots &amp;{ - {a_{n - 1}}}\\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}{\\beta _1} \\\\ {\\beta _2} \\\\ \\vdots \\\\ {\\beta _{n - 1}} \\\\ {\\beta _n} \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ \\begin{array}{*{20}{c}} {}&amp;{} \\end{array}y = \\left[ {\\begin{array}{*{20}{c}}{1,}&amp;{0,}&amp;{ \\cdots ,}&amp;0 \\end{array}} \\right]x + b_n u \\hfill \\\\ \\end{gathered}\\] 其中\\({\\beta _0} = {b_n}\\) \\({\\beta _1} = {b_{n - 1}} - {a_{n - 1}}{\\beta _0}\\) \\({\\beta _2} = {b_{n - 2}} - {a_{n - 1}}{\\beta _1} - {a_{n - 2}}{\\beta _0}\\) \\(\\vdots\\) \\({\\beta _n} = {b_0} - {a_{n - 1}}{\\beta _{n - 1}} - {a_{n - 2}}{\\beta _{n - 2}} - \\cdots - {a_1}{\\beta _1} - {a_0}{\\beta _0}\\) 【例3】：\\({y^{(3)}} + 16{y^{(2)}} + 194{y^{(1)}} + 640y = 160{u^{(1)}} + 720u\\) \\({\\beta _0} = {b_3} = 0\\) \\({\\beta _1} = {b_2} - {a_2}{\\beta _0} = 0-16 \\times 0=0\\) \\({\\beta _2} = {b_1} - {a_2}{\\beta _1} - {a_1}{\\beta _0}=160-16 \\times 0-194 \\times 0=160\\) \\({\\beta _3} = {b_0} - {a_2}{\\beta _2} - {a_1}{\\beta _1} - {a_0}{\\beta _0}=720-16 \\times 160-194 \\times 0-640 \\times 0=-1840\\) \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} 0&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ { - 640}&amp;{ - 194}&amp;{ - 16} \\end{array}} \\right] x + \\left[ {\\begin{array}{*{20}{c}} 0 \\\\ 160 \\\\ -1840 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0 \\end{array}} \\right] x \\hfill \\\\ \\end{gathered}\\] 注：与例1相比，相同的输入输出描述得到的状态空间描述不同，说明同一个输入输出描述可以对应多个状态空间描述。 结论3——由传递函数描述导出状态空间描述 给定单输入、单输出线性时不变系统的传递函数描述为： \\[G(s) = \\frac{ { {b_m}{s^m} + {b_{m - 1}}{s^{m - 1}} + \\cdots + {b_1}{s^1} + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}}\\] 当分母方程的根\\({\\lambda_1},{\\lambda_2},\\cdots,{\\lambda_n}\\)两两相异 \\(m &lt; n\\)时，有 \\(\\begin{gathered}G(s) = \\frac{k_1}{s - {\\lambda_1}} + \\frac{k_2}{s - {\\lambda_2}} + \\cdots + \\frac{k_n}{s - {\\lambda_n}} \\hfill \\\\{k_i} = \\mathop {\\lim }\\limits_{s \\to \\infty } G(s)(s - {\\lambda_i}),\\begin{array}{*{20}{c}}{}&amp;{} \\end{array}i = 1,2, \\cdots ,n \\hfill \\\\ \\end{gathered}\\) 对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}{\\lambda _1}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{\\lambda _2}&amp;{}&amp;{} \\\\ {}&amp;{}&amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp;{}&amp;{\\lambda _n} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}{k_1} \\\\ {k_2} \\\\ \\vdots \\\\ {k_n} \\end{array}} \\right]u \\hfill \\\\y = \\left[ {\\begin{array}{*{20}{c}}{1,}&amp;{1,}&amp;{ \\cdots ,}&amp;1 \\end{array}} \\right]x \\hfill \\\\ \\end{gathered}\\] \\(m = n\\)时，有 \\(\\begin{gathered}G(s) = \\frac{ { {b_n}{s^n} + {b_{n - 1}}{s^{n - 1}} + \\cdots + {b_1}s + {b_0}}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}} = {b_n} + \\bar G(s) \\hfill \\\\ \\bar G(s) = \\frac{ {\\left( { {b_{n - 1}} - {b_n}{a_{n - 1}}} \\right){s^{n - 1}} + \\cdots + \\left( { {b_0} - {b_n}{a_0}} \\right)}}{ { {s^n} + {a_{n - 1}}{s^{n - 1}} + \\cdots + {a_1}s + {a_0}}} \\hfill \\\\{ {\\bar k}_i} = \\mathop {\\lim }\\limits_{s \\to {\\lambda _i}} \\bar G(s)(s - {\\lambda_i}),\\begin{array}{*{20}{c}}{}&amp;{} \\end{array}i = 1,2, \\cdots ,n \\hfill \\\\ \\end{gathered}\\) 对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}}{\\lambda_1}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{\\lambda_2}&amp;{}&amp;{} \\\\ {}&amp;{}&amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp;{}&amp;{\\lambda_n} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}{ {\\bar k}_1} \\\\ { {\\bar k}_2} \\\\ \\vdots \\\\ { {\\bar k}_n} \\end{array}} \\right]u \\hfill \\\\y = \\left[ {\\begin{array}{*{20}{c}}{1,}&amp;{1,}&amp;{\\cdots ,}&amp;1 \\end{array}} \\right]x + {b_n}u \\hfill \\\\\\end{gathered}\\] 【例4】：\\(G(s)=\\frac{7s^2+2s+1}{s^3+6s^2+11s+6}\\) \\(D(s)=s^3+6s^2+11s+6=(s+1)(s+2)(s+3)\\) \\(k_1=\\mathop {\\lim }\\limits_{s \\to -1 } \\frac{7s^2+2s+1}{(s+2)(s+3)}\\)，同理\\(k_2=-25\\)、\\(k_3=29\\)。 对应的状态空间描述为： \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} -1&amp;0&amp;0 \\\\ 0&amp;-2&amp;0 \\\\ 0&amp;0&amp;-3 \\end{array}} \\right] x + \\left[ {\\begin{array}{*{20}{c}} 3 \\\\ -25 \\\\ 29 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} 1&amp;1&amp;1 \\end{array}} \\right] x \\hfill \\\\ \\end{gathered}\\] 由方块图描述导出状态空间描述 【例5】 图5 系统方块图 由\\(\\frac{7s+13}{s^2+5s+4}=\\frac{2}{s+1}+\\frac{5}{s+4}\\)，该方块图可等效为： 图6 等效方块图 可以得到变量间的关系： \\(\\left\\{ \\begin{gathered}x_1 = \\frac{5}{s+4}(u-x_3) \\hfill \\\\x_2 = \\frac{2}{s+1}(u-x_3) \\hfill \\\\x_3 = \\frac{1}{s+2}(x_1+x_2) \\hfill \\\\y = x_1 + x_2 \\hfill \\\\ \\end{gathered} \\right. \\Rightarrow \\left\\{ \\begin{gathered}{ {\\dot x}_1} = - 4{x_1} + 5(u - {x_3}) \\hfill \\\\{ {\\dot x}_2} = - {x_2} + 2(u - {x_3}) \\hfill \\\\{ {\\dot x}_3} = - 2{x_3} + y \\hfill \\\\y = {x_1} + {x_2} \\hfill \\\\ \\end{gathered} \\right.\\) 得到状态空间描述为： \\[\\begin{gathered}{\\dot x} = \\left[ {\\begin{array}{*{20}{c}}{ - 4}&amp;0&amp;{ - 5} \\\\ 0&amp;{ - 1}&amp;{ - 2} \\\\ 1&amp;1&amp;{ - 2} \\end{array}} \\right]x + \\left[ {\\begin{array}{*{20}{c}}5 \\\\ 2 \\\\ 0 \\end{array}} \\right]u \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} 1&amp;1&amp;0 \\end{array}} \\right]x \\hfill \\\\ \\end{gathered}\\] 注：这里有\\(sx_1={\\dot x_1}\\)、\\(sx_2={\\dot x_2}\\)、\\(sx_3={\\dot x_3}\\) 线性时不变系统的特征结构 对于连续线性时不变系统\\(\\dot x = Ax + Bu\\)，其特征矩阵定义为\\((sI-A)\\)。 特征多项式\\(\\alpha (s) = \\det (sI - A) = {s^n} + {\\alpha _{n - 1}}{s^{n - 1}} + \\cdots + {\\alpha _1}s + {\\alpha _0}\\) Caley-Hamilton定理：\\(\\alpha (A) = {A^n} + {\\alpha _{n - 1}}{A^{n - 1}} + \\cdots + {\\alpha _1}A + {\\alpha _0}I = 0\\) 矩阵的迹：\\(trH=(h_{11}+h_{22}+\\cdots+h_{nn})=\\sum\\limits_{i=1}^n{h_{ii}}\\) 基于迹计算的特征多项式的迭代算法： \\[\\begin{array}{*{20}{c}} { {R_{n - 1}} = I}&amp;{ {\\alpha _{n - 1}} = - \\frac{ {tr{R_{n - 1}}A}}{1}} \\\\ { {R_{n - 2}} = {R_{n - 1}}A+{\\alpha _{n - 1}}I}&amp;{ {\\alpha _{n - 2}} = - \\frac{ {tr{R_{n - 2}}A}}{2}} \\\\ { {R_{n - 3}} = {R_{n - 2}}A+{\\alpha _{n - 2}}I}&amp;{ {\\alpha _{n - 3}} = - \\frac{ {tr{R_{n - 3}}A}}{3}} \\\\ {\\vdots}&amp;{\\vdots} \\\\ { {R_1} = {R_2}A+{\\alpha _2}I}&amp;{ {\\alpha _1} = - \\frac{ {tr{R_1}A}}{n-1}} \\\\ { {R_0} = {R_1}A+{\\alpha _1}I}&amp;{ {\\alpha _0} = - \\frac{ {tr{R_0}A}}{n}} \\end{array}\\] 特征值：特征方程\\(\\alpha (s) = \\det (sI - A) = {s^n} + {\\alpha_{n - 1}}{s^{n - 1}} + \\cdots + {\\alpha_1}s + {\\alpha_0} = 0\\)的根。 特征向量：设\\(\\lambda_i\\)为系统矩阵A的特征值，则右特征向量为满足\\({\\lambda_i}{v_i} = A{v_i}\\)的\\(n\\times 1\\)非零向量\\(v_i\\)，则左特征向量为满足\\(\\bar v_i^T{\\lambda_i} = \\bar v_i^TA\\)的\\(1\\times n\\)非零向量\\(\\bar v_i^T\\)。 【例6】\\(A=\\left[ {\\begin{array}{*{20}{c}} -2&amp;0&amp;1&amp;1 \\\\ 1&amp;-1&amp;1&amp;2 \\\\ 1&amp;2&amp;-1&amp;2 \\\\ 1&amp;1&amp;1&amp;2 \\end{array}} \\right]\\) \\[\\begin{array}{*{20}{c}} {R_3=I=\\left[ {\\begin{array}{*{20}{c}} 1&amp;0&amp;0&amp;0 \\\\ 0&amp;1&amp;0&amp;0 \\\\ 0&amp;0&amp;1&amp;0 \\\\ 0&amp;0&amp;0&amp;1 \\end{array}} \\right]}&amp;{R_3 A=R_3=\\left[ {\\begin{array}{*{20}{c}} -2&amp;0&amp;1&amp;1 \\\\ 1&amp;-1&amp;1&amp;2 \\\\ 1&amp;2&amp;-1&amp;2 \\\\ 1&amp;1&amp;1&amp;2 \\end{array}} \\right]}&amp;{\\alpha_3=-\\frac{trR_3 A}{1}}=2 \\\\ {R_2=R_3 A+\\alpha_3 I=\\left[ {\\begin{array}{*{20}{c}} 0&amp;0&amp;1&amp;1 \\\\ 1&amp;1&amp;1&amp;2 \\\\ 1&amp;2&amp;1&amp;1 \\\\ 1&amp;1&amp;1&amp;4 \\end{array}} \\right]}&amp;{R_2 A=\\left[ {\\begin{array}{*{20}{c}} 2&amp;3&amp;0&amp;3 \\\\ 2&amp;3&amp;3&amp;8 \\\\ 2&amp;1&amp;3&amp;8 \\\\ 4&amp;5&amp;5&amp;12 \\end{array}} \\right]}&amp;{\\alpha_2=-\\frac{trR_2 A}{2}=-10} \\\\ {R_1=R_2 A+\\alpha_2 I=\\left[ {\\begin{array}{*{20}{c}} -8&amp;3&amp;0&amp;3 \\\\ 2&amp;-7&amp;3&amp;8 \\\\ 2&amp;1&amp;-7&amp;8 \\\\ 4&amp;5&amp;5&amp;2 \\end{array}} \\right]}&amp;{R_1 A=\\left[ {\\begin{array}{*{20}{c}} 22&amp;0&amp;-2&amp;4 \\\\ 0&amp;21&amp;0&amp;7 \\\\ -2&amp;-7&amp;18&amp;13 \\\\ 4&amp;7&amp;6&amp;23 \\end{array}} \\right]}&amp;{\\alpha_1=-\\frac{trR_1 A}{3}=-28} \\\\ {R_0=R_1 A+\\alpha_1 I=\\left[ {\\begin{array}{*{20}{c}} -6&amp;0&amp;-2&amp;4 \\\\ 0&amp;-7&amp;0&amp;7 \\\\ -2&amp;-7&amp;-10&amp;13 \\\\ 4&amp;7&amp;6&amp;-5 \\end{array}} \\right]}&amp;{R_0 A=\\left[ {\\begin{array}{*{20}{c}} 14&amp;0&amp;0&amp;0 \\\\ 0&amp;14&amp;0&amp;0 \\\\ 0&amp;0&amp;14&amp;0 \\\\ 0&amp;0&amp;0&amp;14 \\end{array}} \\right]}&amp;{\\alpha_0=-\\frac{trR_0 A}{4}=-14} \\end{array}\\] \\(\\alpha (s)= s^4+2s^3-10s^2-28s-14\\) 状态方程的对角线规范形和约当规范形 对角线规范性 对于连续线性时不变系统\\(\\dot x = Ax + Bu\\)，其特征值\\({\\lambda_1},{\\lambda_2},\\cdots,{\\lambda_n}\\)两两相异，构造变换阵\\(P=[v_1,v_2,\\cdots,v_n]\\)，则状态方程可通过线性非奇异变换\\(\\bar X = {P^{ - 1}}X\\)化为对角线规范性。 \\[\\dot {\\bar X} = \\left[ {\\begin{array}{*{20}{c}} {\\lambda _1}&amp;{}&amp;{}&amp;{} \\\\ {}&amp;{\\lambda _2}&amp;{}&amp;{} \\\\ {}&amp;{}&amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp;{}&amp;{\\lambda _n} \\end{array}} \\right]\\bar X + \\bar Bu\\] 其中\\(\\bar X = {P^{ - 1}}X\\)，\\(\\bar B = {P^{ - 1}}B\\)。 【例7】\\(\\dot X = \\left[ {\\begin{array}{*{20}{c}}2&amp;{-1}&amp;{-1} \\\\ 0&amp;{-1}&amp;0 \\\\ 0&amp;2&amp;1 \\end{array}} \\right]X + \\left[ {\\begin{array}{*{20}{c}} 7 \\\\ 2 \\\\ 3 \\end{array}} \\right]u\\) 由\\(|\\lambda I-A|=0\\)⇒\\((\\lambda-2)(\\lambda+1)(\\lambda-1)=0\\)，特征值为\\(\\lambda_1 = 2,\\lambda _2 = -1,\\lambda _3 = 1\\)。 由等式\\(\\lambda_i v_i=Av_i\\)，解方程组\\(|\\lambda_i I-A|v_i=0\\)，得到特征向量 \\[{\\begin{array}{*{20}{c}} {v_1=\\left[ {\\begin{array}{*{20}{c}} 1\\\\0\\\\0 \\end{array}}\\right]}&amp;{v_2=\\left[ {\\begin{array}{*{20}{c}} 1\\\\0\\\\1 \\end{array}}\\right]}&amp;{v_3=\\left[ {\\begin{array}{*{20}{c}} 0\\\\1\\\\-1 \\end{array}}\\right]} \\end{array}}\\] 得到\\(P =[v_1,v_2,v_3] = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;0 \\\\ 0&amp;0&amp;1 \\\\ 0&amp;1&amp;-1\\end{array}} \\right]\\)，求其逆矩阵\\(P^{-1} = \\left[ {\\begin{array}{*{20}{c}}1&amp;-1&amp;-1 \\\\ 0&amp;1&amp;1 \\\\ 0&amp;1&amp;0 \\end{array}} \\right]\\) \\(\\bar A = P^{-1}AP = \\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;-1&amp;0 \\\\ 0&amp;0&amp;1 \\end{array}} \\right]\\)，\\(\\bar B=P^{-1}B = \\left[ {\\begin{array}{*{20}{c}}2\\\\5\\\\2\\end{array}} \\right]\\) \\(\\dot{\\bar X} = \\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;-1&amp;0 \\\\ 0&amp;0&amp;1 \\end{array}} \\right]\\bar X + \\left[ {\\begin{array}{*{20}{c}}2\\\\5\\\\2 \\end{array}} \\right]u\\) 约当规范形 系统的特征值为并非两两相异时，状态方程可变换为约当规范形。 设系统特征值\\({\\lambda_1},{\\lambda_2},\\cdots,{\\lambda_l}\\)分别为\\({\\sigma_1},{\\sigma_2},\\cdots,{\\sigma_l}\\)重特征值，则状态方程可通过变换\\(\\bar X = {Q^{ - 1}}X\\)（\\(Q\\)为可逆矩阵）化为约当规范型： \\[\\dot {\\bar X}=\\left[ {\\begin{array}{*{20}{c}}{J_1}&amp;{}&amp;{} \\\\ {}&amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp;{J_l} \\end{array}} \\right]\\bar X + \\bar Bu\\] 其中\\(\\bar X = {Q^{ - 1}}X\\)，\\(\\bar B = {Q^{ - 1}}B\\)，\\(J_1,\\cdots,J_l\\)为对应特征值\\({\\lambda_1},\\cdots,{\\lambda_l}\\)的约当块，其形式为： \\[{J_{i}} = \\left[ {\\begin{array}{*{20}{c}}{\\lambda_i}&amp;1&amp;{}&amp;{} \\\\ {}&amp; \\ddots &amp; \\ddots &amp;{} \\\\ {}&amp;{}&amp; \\ddots &amp;1 \\\\ {}&amp;{}&amp;{}&amp; \\end{array}} \\right]\\] 约当块的行数（列数）与所对应特征值的重数相等。在约当规范形中，每一个状态变量的方程和下一序号的状态变量构成耦合。 【例8】求\\(A=\\left[{\\begin{array}{*{20}{c}}0&amp;1&amp;0\\\\0&amp;0&amp;1\\\\2&amp;3&amp;0\\end{array}}\\right]\\) 的约当阵。 由\\(|\\lambda I-A|=0\\)⇒\\(\\lambda^3-3\\lambda-2=0\\)，特征值为\\(\\lambda_1 = \\lambda_2 = -1,\\lambda_3 = 2\\)。 对于\\(\\lambda_1=-1\\)，有\\(\\lambda_1 Q_1 - AQ_1 = 0\\)，解得\\(Q_1=\\left[{\\begin{array}{*{20}{c}}1\\\\-1\\\\1\\end{array}}\\right]\\) 对于\\(\\lambda_2=-1\\)，有\\(\\lambda_2 Q_2 - AQ_2 = -Q_1\\)，解得\\(Q_2=\\left[{\\begin{array}{*{20}{c}}1\\\\0\\\\1\\end{array}}\\right]\\) 对于\\(\\lambda_3=2\\)，有\\(\\lambda_3 Q_3 - AQ_3 = 0\\)，解得\\(Q_3=\\left[{\\begin{array}{*{20}{c}}1\\\\2\\\\4\\end{array}}\\right]\\) 得到\\(Q =[Q_1,Q_2,Q_3] = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;1 \\\\ -1&amp;0&amp;2 \\\\ 1&amp;1&amp;4\\end{array}} \\right]\\)，求其逆矩阵\\(P^{-1} = \\frac{1}{3}\\left[ {\\begin{array}{*{20}{c}}-2&amp;-3&amp;2 \\\\ 6&amp;3&amp;-3 \\\\ -1&amp;0&amp;1 \\end{array}} \\right]\\) 得到约当阵\\(\\bar A = P^{-1}AP = \\left[ {\\begin{array}{*{20}{c}}-1&amp;1&amp;0 \\\\ 0&amp;-1&amp;0 \\\\ 0&amp;0&amp;2 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} J_1&amp;0 \\\\ 0&amp;J_2 \\end{array}} \\right]\\)。 其中\\(J_1=\\left[ {\\begin{array}{*{20}{c}} -1&amp;1 \\\\ 0&amp;-1 \\end{array}} \\right]\\)，\\(J_2=[2]\\)。 由状态空间描述导出传递函数矩阵 对于连续时间线性时不变系统\\(\\dot x = Ax + Bu\\)，\\(y = Cx + Du\\) 其传递函数矩阵\\(G(s) = C{(sI - A)^{ - 1}}B + D\\) 【例9】 \\[\\begin{gathered}\\dot x = \\left[ {\\begin{array}{*{20}{c}} -1&amp;0 \\\\ 0&amp;1 \\end{array}} \\right] x + \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 1 \\end{array}} \\right]u \\hfill \\\\ \\hfill \\\\ y = \\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\end{array}} \\right] x \\hfill \\\\ \\end{gathered}\\] \\(sI-A=\\left[ {\\begin{array}{*{20}{c}} s+1&amp;0 \\\\ 0&amp;s-1 \\end{array}} \\right]\\) \\((sI-A)^{-1}=\\left[ {\\begin{array}{*{20}{c}} \\frac{1}{s+1}&amp;0 \\\\ 0&amp;\\frac{1}{s-1} \\end{array}} \\right]\\) \\(G(s)=\\frac{Y(s)}{R(s)}=C{(sI-A)^{-1}}B+D=\\left[ {\\begin{array}{*{20}{c}} 1&amp;0 \\end{array}} \\right] \\left[ {\\begin{array}{*{20}{c}} \\frac{1}{s+1}&amp;0 \\\\ 0&amp;\\frac{1}{s-1} \\end{array}} \\right] \\left[ {\\begin{array}{*{20}{c}} 1 \\\\ 1 \\end{array}} \\right]=\\frac{1}{s+1}\\) 对于多输入多输出系统，计算特征多项式\\(\\alpha (s) \\equiv \\det (sI - A) = {s^n} + {\\alpha _{n - 1}}{s^{n - 1}} + \\cdots + {\\alpha _1}s + {\\alpha _0}\\) \\[\\left\\{ {\\begin{array}{*{20}{l}} {E_{n - 1} = CB} \\\\ {E_{n - 2} = CAB + {\\alpha _{n - 1}}CB} \\\\ { \\cdots \\cdots } \\\\ {E_1} = C{A^{n - 2}B + {\\alpha _{n - 1}}C{A^{n - 3}}B + \\cdots + {\\alpha _2}CB} \\\\ {E_0} = C{A^{n - 1}B + {\\alpha _{n - 1}}C{A^{n - 2}}B + \\cdots + {\\alpha _1}CB} \\end{array}} \\right.\\] 则有\\(G(s) = \\frac{1}{\\alpha (s)}[{E_{n - 1}}{s^{n - 1}} + {E_{n - 2}}{s^{n - 2}} + \\cdots + {E_1}s + {E_0}] + D\\) 【例10】 \\[\\begin{gathered}\\dot X = \\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;2&amp;0 \\\\ 0&amp;3&amp;1 \\end{array}} \\right]X + \\left[ {\\begin{array}{*{20}{c}}1&amp;2 \\\\ 1&amp;0 \\\\ 3&amp;1 \\end{array}} \\right]u \\hfill \\\\y = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;2 \\end{array}} \\right]X \\hfill \\\\ \\end{gathered}\\] 特征多项式\\(\\alpha (s) = \\det (sI - A) = {(s - 2)^2}(s - 1) = {s^3} - 5{s^2} + 8s - 4\\) \\(\\alpha_2=-5,\\alpha_1=8\\) \\({E_2} = CB = \\left[ {\\begin{array}{*{20}{c}} 1&amp;1&amp;2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}} 1&amp;2 \\\\ 1&amp;0 \\\\ 3&amp;1 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}8&amp;4 \\end{array}} \\right]\\) \\({E_1} = CAB + {\\alpha _2}CB = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;2&amp;0 \\\\ 0&amp;3&amp;1 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}1&amp;2 \\\\ 1&amp;0 \\\\ 3&amp;1 \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}{ - 40}&amp;{ - 20} \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}{ - 24}&amp;{ - 14} \\end{array}} \\right]\\) \\({E_0} = C{A^2}B + {\\alpha _2}CAB + {\\alpha _1}CB = \\left[ {\\begin{array}{*{20}{c}}1&amp;1&amp;2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}2&amp;0&amp;0 \\\\ 0&amp;2&amp;0 \\\\ 0&amp;3&amp;1 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}2&amp;4 \\\\ 2&amp;0 \\\\ 6&amp;1 \\end{array}} \\right]\\) \\(+\\left[ {\\begin{array}{*{20}{c}}{ - 80}&amp;{ - 30} \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}{64}&amp;{32} \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}{16}&amp;{12} \\end{array}} \\right]\\) \\(G(s) = \\frac{1}{\\alpha (s)}[{E_2}{s^2} + {E_1}s + {E_0}]=\\left[ {\\begin{array}{*{20}{c}}{\\frac{8{s^2} - 24s + 16}{s^3 - 5s^2 + 8s-4}}&amp;{\\frac{4{s^2} - 14s + 12}{s^3 - 5s^2 + 8s - 4}} \\end{array}}\\right]\\) 线性系统的坐标变化 注：自学内容，仅供参考。 设状态在基底\\(\\{e_1,e_2,\\cdots,e_n\\}\\)上的表征为\\(X=[x_1,x_2,\\cdots,x_n]^T\\) 而在另一个基底\\(\\{ {\\bar e_1},{\\bar e_2},\\cdots,{\\bar e_n}\\}\\)上的表征为\\(X=[{\\bar x_1},{\\bar x_2},\\cdots,{\\bar x_n}]^T\\) \\(n\\)维状态空间中有且仅有\\(n\\)个线性无关的向量，而\\(\\{e_1,e_2,\\cdots,e_n\\}\\)必是线性无关的，因此\\(\\{e_1,e_2,\\cdots,e_n\\}\\)可表示为\\(\\{ {\\bar e_1},{\\bar e_2},\\cdots,{\\bar e_n}\\}\\)的线性组合，且表示法唯一。 结论1：给定线性定常系统的状态空间描述为\\(\\dot X = AX + Bu\\)，\\(y = CX + Du\\) 引入变换\\({\\bar X}=PX\\)(\\(detP \\ne 0\\))得到\\(\\dot {\\bar X} = {\\bar A}{\\bar X} + {\\bar B}u\\)，\\(y = {\\bar C}{\\bar X} + {\\bar D}u\\) 则有\\(\\bar A = PA{P^{-1}},\\bar B = PB,\\bar C = C{P^{-1}},\\bar D = D\\) 结论2：变换前后特征值不变。即\\({\\lambda _i}(A)={\\lambda _i}(\\bar A),i=1,2,\\cdots,n\\) 两个状态空间描述存在变换关系，称为代数等价。 同一系统采用不同的状态变量组，所导出的两个状态空间描述，必然是代数等价的。 两个代数等价的状态空间描述，可化为相同的对角线规范形或约当规范形。 结论：线性定常系统的传递函数矩阵在坐标变换下保持不变。 物理含义：当系统的输入和输出变量确定后，不管如何选取状态变量组，系统的输出—输入特性将总是一样的。 组合系统的状态空间描述 子系统并联 图7 子系统并联 子系统并联的条件：\\(dim(u_1)=dim(u_2),dim(y_1)=dim(y_2)\\) 其中dim表示向量的维数。 并联后：\\(u_1=u_2=u,y_1+y_2=y\\) \\(\\dot x_1=A_1 x_1+B_1 u_1\\) \\(\\dot x_2=A_2 x_2+B_2 u_2\\) \\(y=y_1+y_2=C_1 x_1+C_2 x_2+D_1 u_1+D_2 u_2\\) \\[\\left[ {\\begin{array}{*{20}{c}}\\dot x_1 \\\\ \\dot x_2 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}} A_1&amp;0 \\\\ 0&amp;A_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}} x_1 \\\\ x_2 \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}} B_1 \\\\ B_2 \\end{array}} \\right]u\\] \\[y = \\left[ {\\begin{array}{*{20}{c}}C_1&amp;C_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right] + (D_1+D_2)u\\] 子系统串联 图8 子系统串联 子系统串联的条件：\\(dim(y_1)=dim(u_2)\\) 串联后：\\(u = u_1, u_2 = y_1, y_2 = u\\) \\(\\dot x_1=A_1 x_1+B_1 u\\)① \\(\\dot x_2=A_2 x_2+B_2 u_2\\)② \\(y_1=C_1 x_1+D_1 u\\)③ \\(y_1=u_2\\)④ \\(y_2=C_2 x_2+D_2 u_2\\)⑤ \\(y_2=y\\)⑥ 由②③④知\\(\\dot x_2 = A_2 x_2 + B_2 C_1 x_1 + B_2 D_1 u\\) 由③④⑤⑥知\\(y = C_2 x_2 + D_2 C_1 x_1 + D_2 D_1 u\\) \\[\\left[ {\\begin{array}{*{20}{c}}\\dot x_1 \\\\ \\dot x_2 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}A_1&amp;0 \\\\ B_2 C_1&amp;A_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}B_1 \\\\ B_2 D_1 \\end{array}} \\right]u\\] \\[y = \\left[ {\\begin{array}{*{20}{c}}D_2 C_1&amp;C_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right] + (D_1 D_2)u\\] 子系统的反馈 图9 子系统的反馈 子系统的反馈的条件：\\(dim(u_1)=dim(y_2),dim(u_2)=dim(y_1)\\) 这里取\\(D_i=0\\)的情况 反馈后：\\(u_1=u-y_2,y_1=y=u_2\\)① \\(\\dot x_1=A_1 x_1+B_1 u_1\\)② \\(y_1=C_1 x_1\\)③ \\(\\dot x_2=A_2 x_2+B_2 u_2\\)④ \\(y_2=C_2 x_2\\)⑤ 由①②⑤知\\(\\dot x_1 = A_1 x_1 + B_1 u - B_1 C_2 x_2\\) 由①③④知\\(\\dot x _2 = A_2 x_2 + B_2 C_1 x_1\\) \\[\\left[ {\\begin{array}{*{20}{c}}\\dot x_1 \\\\ \\dot x_2 \\end{array}} \\right] = \\left[ {\\begin{array}{*{20}{c}}A_1&amp; -B_1 C_2 \\\\ B_2 C_1&amp;A_2 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right] + \\left[ {\\begin{array}{*{20}{c}}B_1 \\\\ 0 \\end{array}} \\right]u\\] \\[y = \\left[ {\\begin{array}{*{20}{c}}C_1&amp;0 \\end{array}} \\right]\\left[ {\\begin{array}{*{20}{c}}x_1 \\\\ x_2 \\end{array}} \\right]\\] 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"电磁场数值分析与计算03-电磁场数值分析的定解问题","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算03-电磁场数值分析的定解问题","date":"2023-09-20T06:31:31.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算03-电磁场数值分析的定解问题/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9703-%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E7%9A%84%E5%AE%9A%E8%A7%A3%E9%97%AE%E9%A2%98/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 上一课的公式总结 \\[Maxwell方程组\\left\\{ {\\begin{array}{*{20}{c}} { {\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho} \\\\ { {\\bf{\\nabla}} \\cdot {\\bf{B}} = 0} \\\\ { {\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}} \\\\ {\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t} \\end{array}} \\right.\\] 电磁性能关系式：\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，\\({\\bf{B}}=\\mu{\\bf{H}}\\)，\\({\\bf{J}}=\\sigma{\\bf{E}}\\) 电磁场控制方程的描述 电磁场数值分析的任务：求解一个与特定问题相联系的定解问题。 定解问题：在某一个确定区域内成立的微分方程+定解条件。 定解条件： 对于静态场而言，定解条件指的是微分方程中的未知函数在求解区域边界上满足的条件，又被称作边界条件。 对于时变场而言，定解条件指的是边界条件+初始条件。初始条件指的是整个区域未知函数在初始时刻的值。 工程电磁场问题（写出定解问题表达式）： ①选择什么物理量作为控制方程的未知函数，建立什么样的微分方程。 ②四个方程，五个未知数，直接求解困难⇒引入位函数（电位、磁位） 电磁场中的位函数 矢量磁位 由描述磁的方程\\({ {\\bf{\\nabla}} \\cdot {\\bf{B}} = 0}\\)与矢量微分算子的“旋度场无源”这一性质，可以将矢量\\(\\bf{B}\\)替换为一个矢量的旋度。 定义矢量磁位\\({\\bf{B}} = {\\bf{\\nabla}} \\times {\\bf{A}}\\)。 标量电位 由磁生电的方程\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\) 移项得\\({\\bf{\\nabla}} \\times {\\bf{E}} + \\frac{\\partial {\\bf{B}}}{\\partial t} = 0\\) 将\\(\\bf{B}\\)表示为矢量磁位得\\({\\bf{\\nabla}} \\times {\\bf{E}} + \\frac{\\partial}{\\partial t} ({\\bf{\\nabla}} \\times {\\bf{A}}) = 0\\) 交换偏微分与矢量微分运算次序，得\\({\\bf{\\nabla}} \\times {\\bf{E}} + {\\bf{\\nabla}} \\times \\frac{\\partial {\\bf{A}}}{\\partial t} = 0\\) 合并同类项得\\({\\bf{\\nabla}} \\times ({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t}) = 0\\) 由矢量微分算子的性质“梯度场无旋”，可以将\\({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t}\\)替换为一个标量的梯度\\({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t} = -{\\bf{\\nabla}}\\Phi\\)。 整理得标量电位\\({\\bf{E}} = -{\\bf{\\nabla}}\\Phi -\\frac{\\partial {\\bf{A}}}{\\partial t}\\) 注：所替换的标量的梯度前有负号，是因为沿电场线方向，电势逐渐降低。电场增加的方向与电势增加的方向相反，所以电场强度为电势梯度的负数。 场矢量的微分方程 三个假设 ①所研究区域内媒质是线性、各向同性的（\\(\\varepsilon\\)、\\(\\mu\\)、\\(\\sigma\\)为常量） ②不包含电源区（\\({\\bf{J_s}}=0\\)，电流密度\\(\\bf{J}\\)包括源电流密度\\(\\bf{J_s}\\)与涡电流密度\\(\\bf{J_e}\\)） ③自由电荷体密度为0（\\(\\rho=0\\)，\\({\\bf{\\nabla}} \\cdot {\\bf{D}} = 0\\)） \\(\\bf{B}\\)的方程推导 从电生磁的方程出发\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\)① 两端同时取旋度\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{\\nabla}} \\times {\\bf{J}} + {\\bf{\\nabla}} \\times \\frac{\\partial {\\bf{D}}}{\\partial t}\\)② 交换运算次序\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{\\nabla}} \\times {\\bf{J}} + \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times {\\bf{D}})\\)③ 代入关系式\\({\\bf{B}}=\\mu{\\bf{H}}\\)，\\({\\bf{J}}=\\sigma{\\bf{E}}\\)，\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，得\\({\\bf{\\nabla}} \\times \\frac{1}{\\mu}{\\bf{\\nabla}} \\times {\\bf{B}} = {\\bf{\\nabla}} \\times \\sigma{\\bf{E}} + \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times \\varepsilon{\\bf{E}})\\)④ \\(\\varepsilon\\)、\\(\\mu\\)、\\(\\sigma\\)为常量，可以整理为\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{B}} = \\mu\\sigma{\\bf{\\nabla}} \\times {\\bf{E}} + \\mu\\varepsilon\\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times {\\bf{E}})\\)⑤ 代入磁生电的方程\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\)，得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{B}} = -\\mu\\sigma\\frac{\\partial {\\bf{B}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{B}}}{\\partial t^2}\\)⑥ 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{B}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{B}}) - {\\bf{\\nabla}}^2 {\\bf{B}}\\)与描述磁的方程\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\) 得\\(\\bf{B}\\)的方程式\\({\\bf{\\nabla}}^2 {\\bf{B}} -\\mu\\sigma\\frac{\\partial {\\bf{B}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{B}}}{\\partial t^2} =0\\)⑦ \\(\\bf{E}\\)的方程推导 从磁生电的方程出发\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\)① 两端同时取旋度\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = - {\\bf{\\nabla}} \\times \\frac{\\partial {\\bf{B}}}{\\partial t}\\)② 交换运算次序\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times {\\bf{B}})\\)③ 代入关系式\\({\\bf{B}}=\\mu{\\bf{H}}\\)与电生磁的方程\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\) 得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial}{\\partial t}[\\mu({\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t})] = -\\mu(\\frac{\\partial {\\bf{J}}}{\\partial t} + \\frac{\\partial^2 {\\bf{D}}}{\\partial t^2})\\)④ 代入关系式\\({\\bf{J}}=\\sigma{\\bf{E}}\\)与\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\) 得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = -\\mu\\sigma\\frac{\\partial {\\bf{E}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{E}}}{\\partial t^2}\\)⑤ 由描述电的方程与假设\\(\\rho=0\\)知\\({\\bf{\\nabla}} \\cdot {\\bf{D}} = 0\\)，又由关系式\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)知\\({\\bf{\\nabla}} \\cdot {\\bf{E}} = 0\\)⑥ 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{E}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{E}}) - {\\bf{\\nabla}}^2 {\\bf{E}}\\)与\\({\\bf{\\nabla}} \\cdot {\\bf{E}} = 0\\) 得\\(\\bf{E}\\)的方程式\\({\\bf{\\nabla}}^2 {\\bf{E}} -\\mu\\sigma\\frac{\\partial {\\bf{E}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{E}}}{\\partial t^2} =0\\)⑦ 在\\(\\bf{B}\\)的方程基础下代入关系式\\({\\bf{B}}=\\mu{\\bf{H}}\\)，可以得到\\(\\bf{H}\\)的方程： \\({\\bf{\\nabla}}^2 {\\bf{H}} -\\mu\\sigma\\frac{\\partial {\\bf{H}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{H}}}{\\partial t^2} =0\\) 在\\(\\bf{E}\\)的方程基础下代入关系式\\({\\bf{J}}=\\sigma{\\bf{E}}\\)，可以得到\\(\\bf{J}\\)的方程： \\({\\bf{\\nabla}}^2 {\\bf{D}} -\\mu\\sigma\\frac{\\partial {\\bf{D}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{D}}}{\\partial t^2} =0\\) 在\\(\\bf{E}\\)的方程基础下代入关系式\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，可以得到\\(\\bf{D}\\)的方程： \\({\\bf{\\nabla}}^2 {\\bf{J}} -\\mu\\sigma\\frac{\\partial {\\bf{J}}}{\\partial t} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{J}}}{\\partial t^2} =0\\) 可以观察到五个方程在形式上完全相同，是齐次波动方程、单一矢量满足的微分方程（矢量方程）。 方程中电场和磁场解耦，但是求解困难，需要引入电磁位以便求解。 在没有电流与电荷的空间，\\(\\bf{B}\\)方程可简化为\\({\\bf{\\nabla}}^2 {\\bf{B}} = \\mu_0\\varepsilon_0\\frac{\\partial^2 {\\bf{B}}}{\\partial t^2}\\) \\(\\bf{E}\\)、\\(\\bf{H}\\)、\\(\\bf{D}\\)的方程同理，替换调方程中的\\(\\bf{B}\\)即可。 若取真空磁导率\\(\\mu_0=4\\pi\\times 10^{-7}H/m\\)，真空电容率\\(\\varepsilon_0=8.85\\times 10^{-12}F/m\\)则可计算出\\(v=\\frac{1}{\\sqrt{\\mu_0\\varepsilon_0}}=3 \\times 10^8 m/s\\)，为真空中的光速，Maxwell方程组预言了光是一种电磁波。 静态场中电磁位的引入及对应的微分方程 静电场 静态场不随时间变化，静电场中有\\({\\bf{\\nabla}} \\times {\\bf{E}} = 0\\) 令\\({\\bf{E}} = -{\\bf{\\nabla}}\\Phi\\)（标量电位） 由\\({\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho\\)与\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)得\\({\\bf{\\nabla}} \\cdot \\varepsilon{\\bf{E}} = {\\bf{\\nabla}} \\cdot \\varepsilon(-{\\bf{\\nabla}}\\Phi) = \\rho\\) 进而得\\({\\bf{\\nabla}}^2 \\Phi = -\\frac{\\rho}{\\varepsilon}\\)，该式被称作静电场电位的泊松方程。 在体电荷为零的区域，有\\({\\bf{\\nabla}}^2 \\Phi = 0\\)，该式被称作静电场电位的拉普拉斯方程。 静磁场 在电流密度为0的区域（\\({\\bf{J_s}}=0\\)），有\\({\\bf{\\nabla}} \\times {\\bf{H}} = 0\\) 引入标量磁位\\({\\bf{H}} = -{\\bf{\\nabla}}\\Phi_m\\) 由\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\)与\\({\\bf{B}} = \\mu{\\bf{H}}\\)得\\({\\bf{\\nabla}}^2 \\Phi_m = 0\\)，该式被称作静磁场中标量磁位的拉普拉斯方程。 当有电流存在时，\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J_s}}\\) 由\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\)引入矢量磁位\\({\\bf{B}} = {\\bf{\\nabla}} \\times {\\bf{A}}\\) 又由\\({\\bf{B}}=\\mu{\\bf{H}}\\)得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = \\mu{\\bf{J_s}}\\) 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}}\\)与库伦规范\\({\\bf{\\nabla}} \\cdot {\\bf{A}} = 0\\) 得\\({\\bf{\\nabla}}^2 {\\bf{A}} = -\\mu{\\bf{J_s}}\\)，该式被称作静磁场中矢量磁位的泊松方程。 涡流场中电磁位的引入及对应的微分方程 时变电磁场中存在导电媒质⇒涡流 处理工程问题，时变场频率较低（\\(f&lt;10^{10}Hz\\)），可以忽略电生磁方程中的\\(\\frac{\\partial {\\bf{D}}}{\\partial t}\\)，即\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}}\\)① 注：这里的电流密度\\(\\bf{J}=\\bf{J_s}+\\bf{J_e}\\)，其中涡电流密度\\(\\bf{J_e}\\)满足公式\\({\\bf{J_e}}=\\sigma{\\bf{E}}\\) 由描述磁的公式\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\)引入矢量磁位\\({\\bf{B}} = {\\bf{\\nabla}} \\times {\\bf{A}}\\)② 将②代入磁生电公式\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\)，得\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\times {\\bf{A}})\\) 交换微分运算次序并整理得到\\({\\bf{\\nabla}} \\times ({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t}) = 0\\)③ 引入标量电位\\(\\Phi\\)，得\\({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t} = -{\\bf{\\nabla}}\\Phi\\)，即\\({\\bf{E}} = -\\frac{\\partial {\\bf{A}}}{\\partial t} -{\\bf{\\nabla}}\\Phi\\)④ 则涡电流密度可表示为\\({\\bf{J_e}}=\\sigma{\\bf{E}}=-\\sigma{\\bf{\\nabla}}\\Phi-\\sigma\\frac{\\partial {\\bf{A}}}{\\partial t}\\)⑤ 由②与\\({\\bf{B}}=\\mu{\\bf{H}}\\)得\\({\\bf{H}} = \\frac{1}{\\mu}{\\bf{\\nabla}} \\times {\\bf{A}}\\)⑥ 将③⑤⑥代入①，得\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = \\mu\\bf{J_s} -\\mu\\sigma{\\bf{\\nabla}}\\Phi - \\mu\\sigma\\frac{\\partial {\\bf{A}}}{\\partial t}\\)⑦ 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}}\\)得\\({\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}} + \\mu\\sigma{\\bf{\\nabla}}\\Phi + \\mu\\sigma\\frac{\\partial {\\bf{A}}}{\\partial t} = \\mu\\bf{J_s}\\)⑧ 由描述电的公式\\({\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho\\)与\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，得\\({\\bf{\\nabla}} \\cdot {\\bf{E}} = \\frac{\\rho}{\\varepsilon}\\) 代入④可得\\({\\bf{\\nabla}} \\cdot (-\\frac{\\partial {\\bf{A}}}{\\partial t} -{\\bf{\\nabla}}\\Phi) = \\frac{\\rho}{\\varepsilon}\\) 交换微分运算次序并整理得到\\({\\bf{\\nabla}}^2 \\Phi + \\frac{\\partial}{\\partial t} ({\\bf{\\nabla}} \\cdot {\\bf{A}}) = -\\frac{\\rho}{\\varepsilon}\\)⑨ 为了保证\\({\\bf{A}}\\)的唯一性，使⑧和⑨解耦，定义\\({\\bf{\\nabla}} \\cdot {\\bf{A}} = -\\mu\\sigma\\Phi\\)（电导率规范） 得到涡流场中电磁位满足的非齐次微分方程： \\({\\bf{\\nabla}}^2 {\\bf{A}} - \\mu\\sigma\\frac{\\partial {\\bf{A}}}{\\partial t} = -\\mu\\bf{J_s}\\)⑩ \\({\\bf{\\nabla}}^2 \\Phi - \\mu\\sigma\\frac{\\partial\\Phi}{\\partial t} = -\\frac{\\rho}{\\varepsilon}\\)⑪ 高频电磁场中电磁位的引入及微分方程 假设研究区域为线性，各向同性，无导电媒质。 由电生磁的方程\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\)① 考虑高斯磁场方程\\({\\bf{\\nabla}} \\cdot {\\bf{B}} = 0\\)② 引入矢量磁位\\({\\bf{B}} = {\\bf{\\nabla}} \\times {\\bf{A}}\\)③ 代入磁生电方程\\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}\\)④ \\({\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t} = - \\frac{\\partial ({\\bf{\\nabla}} \\times {\\bf{A}})}{\\partial t} = - {\\bf{\\nabla}} \\times \\frac{\\partial {\\bf{A}}}{\\partial t}\\)⇒\\({\\bf{\\nabla}} \\times ({\\bf{E}} + \\frac{\\partial {\\bf{A}}}{\\partial t})=0\\)⑤ 引入标量电位\\({\\bf{E}} = - \\frac{\\partial{\\bf{A}}}{\\partial t} - {\\bf{\\nabla}}\\Phi\\)⑥ 将关系式\\({\\bf{B}}=\\mu{\\bf{H}}\\)，\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)以及③与⑥代入① 得到\\({\\bf{\\nabla}} \\times ({\\bf{\\nabla}} \\times {\\bf{A}}) + \\mu\\varepsilon\\frac{\\partial}{\\partial t}({\\bf{\\nabla}}\\Phi) + \\mu\\varepsilon\\frac{\\partial^2 {\\bf{A}}}{\\partial t^2} = \\mu {\\bf{J_s}}\\)⑦ 由矢量恒等式\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}}\\) 得到\\({\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}} + \\mu\\varepsilon\\frac{\\partial}{\\partial t}({\\bf{\\nabla}}\\Phi) + \\mu\\varepsilon\\frac{\\partial^2 {\\bf{A}}}{\\partial t^2} = \\mu {\\bf{J_s}}\\)⑧ 将关系式\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)以及③与⑥代入高斯电场定律 \\({\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho\\)⇒\\({\\bf{\\nabla}} \\cdot \\varepsilon{\\bf{E}} = \\rho\\)⇒\\({\\bf{\\nabla}} \\cdot (-\\frac{\\partial{\\bf{A}}}{\\partial t} - {\\bf{\\nabla}}\\Phi) = \\frac{\\rho}{\\varepsilon}\\)⇒\\({\\bf{\\nabla}}^2 \\Phi + \\frac{\\partial}{\\partial t}({\\bf{\\nabla}} \\cdot {\\bf{A}}) = -\\frac{\\rho}{\\varepsilon}\\)⑨ 定义\\({\\bf{A}}\\)的散度\\({\\bf{\\nabla}} \\cdot {\\bf{A}} = -\\mu\\varepsilon\\frac{\\partial \\Phi}{\\partial t}\\)（洛伦兹规范） 由⑧得到\\({\\bf{\\nabla}}^2 {\\bf{A}} - \\mu\\varepsilon\\frac{\\partial^2 {\\bf{A}}}{\\partial t^2} = -\\mu {\\bf{J_s}}\\)⑩ 由⑨得到\\({\\bf{\\nabla}}^2 \\Phi - \\mu\\varepsilon\\frac{\\partial^2 \\Phi}{\\partial t^2} = -\\frac{\\rho}{\\varepsilon}\\)⑪ 通过引入洛伦兹规范，电场与磁场实现了解耦，解耦后的方程被称作达朗贝尔方程。 矢量磁位的物理意义 计算磁通\\(\\Phi\\) 由斯托克斯定理\\(\\Phi=\\int_S{ {\\bf{B}}d{\\bf{s}}}=\\int_S{({\\bf{\\nabla}}\\times{\\bf{A}})d{\\bf{s}}}=\\oint_l{ {\\bf{A}}d{\\bf{l}}}\\) 对于二维场\\(\\bf{A}\\)只有\\(A_z\\)分量，有\\(\\Phi=\\oint_l{ {\\bf{A}}d{\\bf{l}}}=(A_{1z}-A_{2z})L\\) 使用\\(\\bf{A}\\)而非\\(\\bf{B}\\)计算磁通，可以确保计算的准确性。 计算感生电动势 \\(e=-\\frac{\\partial \\Phi}{\\partial t}=-\\frac{\\partial}{\\partial t}\\oint_l{ {\\bf{A}}d{\\bf{l}}}=-\\oint_l{\\frac{\\partial {\\bf{A}}}{\\partial t}d{\\bf{l}}}\\) 画二维磁场（证明磁力线是等A线） 二维磁场如下图所示，其拥有\\(B_x\\)、\\(B_y\\)、\\(A_z\\)分量。 \\({\\bf{B}}\\times d{\\bf{l}}=0\\) \\({\\bf{B} } = {\\bf{\\nabla} } \\times {\\bf{A} } = \\left| {\\begin{array}{*{20}{c}}{\\bf{i}}&amp;{\\bf{j}}&amp;{\\bf{k}} \\\\ {\\frac{\\partial }{ {\\partial x}}}&amp;{\\frac{\\partial }{ {\\partial y}}}&amp;{\\frac{\\partial}{ {\\partial z}}} \\\\ {0}&amp;{0}&amp;{A_z} \\end{array}} \\right| = \\frac{\\partial A_z}{\\partial y}{\\bf{i}} - \\frac{\\partial A_z}{\\partial x}{\\bf{j}} = B_x{\\bf{i}} + B_y{\\bf{j}}\\) \\(d{\\bf{l}}=dx{\\bf{i}}+dy{\\bf{j}}\\) \\({\\bf{B}}\\times d{\\bf{l}} = \\left| {\\begin{array}{*{20}{c}}{\\bf{i}}&amp;{\\bf{j}}&amp;{\\bf{k}} \\\\ {\\frac{\\partial A_z}{ {\\partial y}}}&amp;{\\frac{\\partial A_z}{ {\\partial x}}}&amp;{0} \\\\ {dx}&amp;{dy}&amp;{0} \\end{array}} \\right| = 0{\\bf{i}} + 0{\\bf{j}} + (\\frac{\\partial A_z}{ {\\partial y}}dy+\\frac{\\partial A_z}{ {\\partial x}}dx){\\bf{k}} =0\\) 由\\(\\bf{A}\\)只有\\(A_z\\)分量，可知\\(d{\\bf{A}}=\\frac{\\partial A}{ {\\partial x}}dx+\\frac{\\partial A}{ {\\partial y}}dy=0\\) 即A是常量，得证二维磁场的磁力线是等A线。 图1 证明磁力线是等A线 计算磁场能量 磁场能量密度\\(\\omega_m=\\frac{1}{2}{\\bf{H}}{\\bf{B}}\\) 由\\({\\bf{B} } = {\\bf{\\nabla} } \\times {\\bf{A} }\\)与\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}}\\)可知 \\(\\omega_m=\\frac{1}{2}{\\bf{H}}{\\bf{B}}=\\frac{1}{2}{\\bf{H}}\\cdot({\\bf{\\nabla}}\\times{\\bf{A}})=\\frac{1}{2}{\\bf{\\nabla}}\\cdot({\\bf{A}}\\times{\\bf{H}})+\\frac{1}{2}{\\bf{A}}\\cdot({\\bf{\\nabla}}\\times{\\bf{H}})=\\frac{1}{2}{\\bf{\\nabla}}\\cdot({\\bf{A}}\\times{\\bf{H}})+\\frac{1}{2}{\\bf{A}}\\cdot{\\bf{J}}\\) 注：使用了运算公式\\({\\bf{\\nabla}} \\cdot ({\\bf{A}} \\times {\\bf{B}}) = {\\bf{B}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{A}}) - {\\bf{A}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{B}})\\) 对整个空间积分，得到磁场总能量\\(W_m=\\int_V{\\omega_mdV}=\\frac{1}{2}\\int_V{ {\\bf{\\nabla}}\\cdot({\\bf{A}}\\times{\\bf{H}})dV}+\\frac{1}{2}\\int_V{ {\\bf{A}}\\cdot{\\bf{J}}dV}\\) 由散度定理，得等式右侧第一项\\(\\frac{1}{2}\\int_V{ {\\bf{\\nabla}}\\cdot({\\bf{A}}\\times{\\bf{H}})dV}=\\frac{1}{2}\\oint_S{({\\bf{A}}\\times{\\bf{H}})dS}\\) 当\\(R \\to \\infty\\)时，\\(A \\propto \\frac{1}{R}\\)，\\(H \\propto \\frac{1}{R^2}\\)，\\(S \\propto R^2\\) 可知\\({\\bf{A}}\\times{\\bf{H}}dS \\propto \\frac{1}{R}\\)，\\(\\frac{1}{2}\\oint_S{({\\bf{A}}\\times{\\bf{H}})dS} \\to 0\\) 得\\(W_m=\\frac{1}{2}\\int_V{ {\\bf{A}}\\cdot{\\bf{J}}dV}\\) 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"电磁场数值分析与计算02-Maxwell方程组","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算02-Maxwell方程组","date":"2023-09-18T00:14:46.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算02-Maxwell方程组/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9702-Maxwell%E6%96%B9%E7%A8%8B%E7%BB%84/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 描述电的方程 库伦定律：真空中两个静止的点电荷之间的相互作用力，与它们的电荷量的乘积成正比，与它们的距离的二次方成反比，作用力的方向在它们的连线上，同名电荷相斥，异名电荷相吸。 \\[{\\bf{F}}=\\frac{q_1 q_2}{(4\\pi\\varepsilon_0 r)^2} {\\bf{e_r}}\\] 电通量：电场线通过一个曲面的数量。 高斯电场定律：电荷产生电场，场通过任意闭合曲面的通量正比于曲面所包围的电荷总量。 积分形式：\\(\\oint\\limits_S { {\\bf{E}}d{\\bf{s}}} = \\frac{Q}{\\varepsilon_0}\\) 微分形式：\\({ {\\bf{\\nabla}} \\cdot {\\bf{D}} = \\rho}\\)或\\({ {\\bf{\\nabla}} \\cdot {\\bf{E}} = \\frac{Q}{\\varepsilon_0}}\\) 注：处理的是空间中某一点处电场的散度与电荷密度的关系。 注：散度值不为零，说明电场是有源场。 注：\\({\\bf{D}} = \\varepsilon_0{\\bf{E}}\\) 注：高斯电场定律由库仑定律导出。 描述磁的方程 磁通量：磁感线通过一个曲面的数量。 高斯磁场定律：通过一个闭合曲面的磁通量与这个曲面包含的磁荷量成正比。 积分形式：\\(\\oint\\limits_S { {\\bf{B}}d{\\bf{s}}} = 0\\) 注：场穿过闭合曲面的通量是零。 微分形式：\\({ {\\bf{\\nabla}} \\cdot {\\bf{B}} = 0}\\) 注：磁场的散度处处为零，说明磁场是无源场。 注：磁感线是一条闭合的曲线，闭合曲面包含的磁通量恒为零。 描述磁生电的方程 法拉第发现电磁感应现象：闭合回路中导体切割磁感线运动或改变磁场强度时，回路中产生电流。 结论：只要曲面的磁通量发生变化，回路中就会产生电流。 磁通量变化⇒曲面的边量感生电场⇒导体中的自由电荷定向移动⇒产生电流 楞次定律：感应电流磁场总是阻碍引起感应电流磁通的变化。 电场环流：电场沿闭合路径的积分\\(\\oint\\limits_C { {\\bf{E}}d{\\bf{l}}}\\)。 电场环流的意义：电场对沿着这条路径的单位电荷所作的功（电动势）。 法拉第电磁感应定律：曲面的磁通量变化率等于感生电场的环流。 物理意义：变化的磁通量如何产生电场。 积分形式：\\(\\oint\\limits_C { {\\bf{E}}d{\\bf{l}}} = - \\frac{d}{dt}\\int\\limits_S { {\\bf{B}}d{\\bf{s}}}\\) 微分形式：\\({ {\\bf{\\nabla}} \\times {\\bf{E}} = - \\frac{\\partial {\\bf{B}}}{\\partial t}}\\) 注：随时间变化的磁场产生环绕的电场。 描述电生磁的方程 磁效应：电流也能像磁铁一样影响周围的小磁针。电流周围存在磁场。 描述电流在空间中的磁场分布，电流微元在空间某个位置产生的磁场大小： 【解1】比奥—萨伐尔定律(Biot-Savart Law)： 电流元\\(Id{\\bf{l}}\\)在空间一点P产生的磁感应强度\\(d{\\bf{B}}=\\frac{\\mu_0}{4\\pi} \\frac{Id{\\bf{l}}\\times {\\bf{e_r}}}{r^2}\\) 整个载流导线在P处的磁感强度\\({\\bf{B}}=\\frac{\\mu_0}{4\\pi} \\int\\limits_L \\frac{Id{\\bf{l}}\\times {\\bf{e_r}}}{r^2}\\) 图1 比奥—萨伐尔定律 电流元\\(Id{\\bf{l}}\\)在空间某点P处产生的磁感应强度\\(d{\\bf{B}}\\)的大小与电流元\\(Id{\\bf{l}}\\)的大小成正比，与电流元\\(Id{\\bf{l}}\\)所在处到P点的位置矢量和电流元\\(Id{\\bf{l}}\\)之间的夹角的正弦成正比（叉乘），与电流元\\(Id{\\bf{l}}\\)到P点的距离的平方成反比。 缺点：过于繁琐，不好计算。 【解2】安培环路定理： 磁场强度\\(H\\)沿任何闭合路径的线积分，等于这闭合路径所包围的各个电流的代数和。 \\(Hl=NI\\)，\\(\\int\\limits_l { {\\bf{H}}d{\\bf{l}}} = \\sum I\\) 适合处理电流周围的磁场，但未能体现变化的电流所产生的磁场。 【解3】安培—麦克斯韦定律：穿过曲面的电通量的变化率和曲面包含的变化率等于感生电场的环流。 \\[\\oint\\limits_C { {\\bf{B}}d{\\bf{l}}} = {\\mu _0}({I_{enc}} + {\\varepsilon _0}\\frac{d}{dt}\\int\\limits_s { {\\bf{E}}d{\\bf{s}}} )\\] \\[\\oint\\limits_C { {\\bf{H}}d{\\bf{l}}} = {I_{enc}} + {\\varepsilon _0}\\frac{d}{dt}\\int\\limits_s { {\\bf{E}}d{\\bf{s}}}\\] 该定律阐明磁场可以用两种方法生成。一种是靠传导电流，另一种是靠时变电场，或称位移电流。 其中\\(I_{enc}\\)为包含(enclosed)在闭合路径里的总电流（传导电流），也是安培环路定理中的\\(\\sum I\\)。 \\({\\varepsilon _0}\\frac{d}{dt}\\int\\limits_s{ {\\bf{E}}d{\\bf{s}}}\\)是电场的变化率（位移电流），\\(\\varepsilon _0\\)为静电常数，\\(\\frac{d}{dt}\\int\\limits_s{ {\\bf{E}}d{\\bf{s}}}\\)是电通量的变化率（描述变化的电场）。 微分形式：\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\) 注：电流及变化的电场能产生环绕的磁场。 电磁性能关系式 媒质的本构关系式： \\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)，\\({\\bf{B}}=\\mu{\\bf{H}}\\)，\\({\\bf{J}}=\\sigma{\\bf{E}}\\) 其中\\(\\varepsilon\\)为电容率（介电常数），单位F/m。 常见绝缘材料有油、绝缘纸。 真空电容率\\(\\varepsilon_0=8.85\\times 10^{-12}F/m\\)，相对电容率（相对于真空电容率的倍数）\\(\\varepsilon_{r空气}=1.005\\)，\\(\\varepsilon_{r水}=81.5\\)。 其中\\(\\mu\\)为磁导率，单位H/m。 常见导磁材料有硅钢片、永磁体。 真空磁导率\\(\\mu_0=4\\pi\\times 10^{-7}H/m\\)，相对磁导率\\(\\mu_{r空气}=1\\)，\\(\\mu_{r硅钢片}=7000 \\sim 10000\\)。 其中\\(\\sigma\\)为电导率，单位S/m，反映电荷流动的难易程度。其倒数为电阻率\\(\\rho\\)，单位为\\(\\Omega \\cdot m\\)。 常见导电材料有铜和铝。其电导率\\(\\sigma_{Cu}=5.96 \\times 10^7 S/m\\)，\\(\\sigma_{Al}=2.2 \\times 10^7 S/m\\)。 电流连续性方程 积分形式：描述一定区域中场的规律，便于说明方程的物理意义。 \\[\\oint\\limits_S { {\\bf{J}}d{\\bf{s}}} = \\int\\limits_V { {\\bf{\\nabla}} \\times {\\bf{J}}}dV = -\\frac{\\partial Q}{\\partial t}\\] 微分形式：描述场域中某一点的特性，便于计算机运算。 \\[{\\bf{\\nabla}} \\times {\\bf{J}} = -\\frac{\\partial \\rho}{\\partial t}\\] 洛伦兹力方程 \\[{\\bf{F}}=q({\\bf{E}}+{\\bf{v}} \\times {\\bf{B}})\\] 其中前半部分\\({\\bf{F}}=q{\\bf{E}}\\)为电场力公式，即电荷置于电场中所受到的作用力。 后半部分\\({\\bf{F}}=q{\\bf{v}} \\times {\\bf{B}}\\)为磁场力，是磁场对运动电荷的作用力。 矢量场的分类 按照场变量随时间的变化速度，可以分为静态场、似稳场（缓变场）、高频电磁场。 似稳场指的是频率较低（如50Hz）的电场。似稳场只考虑磁场变化产生的电场（传导电流），不考虑电场变化产生的磁场（位移电流）。 电生磁方程式\\({\\bf{\\nabla}} \\times {\\bf{H}} = {\\bf{J}} + \\frac{\\partial {\\bf{D}}}{\\partial t}\\)的右边第二项\\(\\frac{\\partial {\\bf{D}}}{\\partial t}\\)对应位移电流（记作\\(\\bf{J_D}\\)），其可以用向量表示为\\(j\\omega \\dot D\\)，结合电磁性能关系式\\({\\bf{D}}=\\varepsilon{\\bf{E}}\\)与\\({\\bf{J}}=\\sigma{\\bf{E}}\\)可以得到下面的式子： \\[\\frac{J_D}{J}=\\frac{\\omega D}{\\sigma E}=\\frac{\\omega\\varepsilon E}{\\sigma E}=2\\pi f\\frac{\\varepsilon}{\\sigma}\\] 这里取\\(f=50Hz\\)、\\(\\varepsilon=8.85\\times 10^{-12}F/m\\)、\\(\\sigma=10^7 S/m\\)，得到的比值\\(\\frac{J_D}{J}&lt;10^{-7}\\)，这说明\\(J_D \\ll J\\)。说明在低频电磁场（电工装备工程问题）中，位移电流\\(J_D\\)可以忽略。 静态场(Magnetostatic Field)指的是各场量不随时间变化的矢量场。 \\[静电场\\left\\{ {\\begin{array}{*{20}{c}} 电荷在空间的位置固定不变 \\\\ 所有电荷密度不随时间变化 \\\\ 电荷是电场的源 \\end{array}} \\right.\\xrightarrow{求解后}\\left\\{ {\\begin{array}{*{20}{c}} 所研究区域中任意一点的电场强度 \\\\ 所研究区域中电位的分布 \\\\ 电荷在电场中收到的力 \\\\ 所研究区域中的能量W_e=\\frac{1}{2}{\\bf{D}}{\\bf{E}} \\end{array}} \\right.\\] \\[电荷 \\to 电流\\left\\{ {\\begin{array}{*{20}{c}}{恒定电流 \\Rightarrow 恒定磁场\\left\\{ {\\begin{array}{*{20}{c}}研究区域内任意一点的磁场强度 \\\\ 研究区域内任意一点的磁感应强度 \\\\ 磁通量\\Phi \\\\ 研究区域内的能量分布W_m=\\frac{1}{2}{\\bf{B}}{\\bf{H}} \\end{array}} \\right.} \\\\ 时变电流 \\Rightarrow 时变磁场 \\end{array}} \\right.\\] 时变场(Time Varying Field)指的是激励(Excitation)随时间变化的磁场。 磁场分析： 含有导电材料的时变场⇒涡流场(Eddy Current Field) 激励电流随时间按正弦变化⇒正弦稳态涡流场 激励电流随时间按任意波形变化⇒瞬态场(Transient Field) 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"电磁场数值分析与计算01-场论","slug":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算01-场论","date":"2023-09-15T07:05:41.000Z","updated":"2024-01-25T05:20:20.938Z","comments":true,"path":"课程笔记/电磁场数值分析与计算/电磁场数值分析与计算01-场论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%9701-%E5%9C%BA%E8%AE%BA/","excerpt":"","text":"电磁场数值分析与计算课程笔记 无PPT，按照板书整理，若有错误敬请指正。 目录 1.电磁场数值分析与计算01-场论 2.电磁场数值分析与计算02-Maxwell方程组 3.电磁场数值分析与计算03-电磁场数值分析的定解问题 4.电磁场数值分析与计算04-边界条件 5.电磁场数值分析与计算05-有限元方法介绍 6.电磁场数值分析与计算06-2D有限元分析 基础概念 标量(Scalar)：只有大小，没有方向的量。如质量、温度、电流等。 矢量(Vector)：既有大小又有方向的量。如力、速度、电场强度、电流密度等。 单位矢量\\(\\bf{e}\\)：模为1的矢量。 矢量的加减：遵循平行四边形法则。 矢量的数乘：矢量的模乘以对应的倍数，乘以正数时方向不变，乘以负数时方向相反。 矢量的点积：\\(\\bf{A} \\cdot \\bf{B} = |\\bf{A}||\\bf{B}|\\cos \\theta\\)（所得结果是一个数） 图1 矢量的点积 矢量的叉积：\\(\\bf{A} \\times \\bf{B} = \\left| {\\begin{array}{*{20}{c}} \\bf{i}&amp;\\bf{j}&amp;\\bf{k} \\\\ A_x&amp;A_y&amp;A_z \\\\ B_x&amp;B_y&amp;B_z \\end{array}} \\right|=|\\bf{A}||\\bf{B}|\\sin \\theta \\bf{e}\\) 其中\\({\\bf{A} }=(A_x,A_y,A_z)\\)、\\({\\bf{B} }=(B_x,B_y,B_z)\\)。矢量\\(\\bf{e}\\)的方向与矢量\\(\\bf{A}\\)和\\(\\bf{B}\\)所在的平面垂直，\\(\\bf{A}\\)、\\(\\bf{B}\\)、\\(\\bf{e}\\)成右手系。 图2 矢量的叉积 场的定义： (1)物理定义：在一个被界定的或无限扩展的空间内，处处存在着某种必须予以重视，研究的效应。 (2)数学定义：场是一个函数，描述在空间特定区域内每一个点上的某一物理量。 场的分类： 标量场(Scalar Field)：用标量函数表示的场，如温度场\\(T(x,y,z,t)\\)，注意这里的\\(t\\)是温度场的一个变量——时间，不是温度。 矢量场(Vector Field)：用矢量函数表示的场，如力场可表示为： \\[{\\bf{F} }(x,y,z,t)=F_x(x,y,z,t){\\bf{x} }+F_y(x,y,z,t){\\bf{y} }+F_z(x,y,z,t){\\bf{z} }\\] 其中\\(F_x\\)、\\(F_y\\)、\\(F_z\\)为坐标轴方向的投影分量，\\(\\bf{x}\\)、\\(\\bf{y}\\)、\\(\\bf{z}\\)为坐标轴方向单位矢量。 按照场函数值是否随时间变化而变化，即场函数中是否含有时间变量，可以将场分为稳定场(Steady Field)与时变场(Time Varying Field)。 梯度 梯度用于描述标量场的空间变化率，只有标量场有梯度，矢量场没有梯度。 图3 梯度 推导过程：令\\(f(x,y,z)\\)为\\(x\\)、\\(y\\)、\\(z\\)的可微函数 \\(\\begin{gathered} {df} = \\frac{\\partial f}{\\partial x}dx + \\frac{\\partial f}{\\partial y}dy + \\frac{\\partial f}{\\partial z}dz \\hfill \\\\ = (\\frac{\\partial f}{\\partial x}{\\bf{i} },\\frac{\\partial f}{\\partial y}{\\bf{j} },\\frac{\\partial f}{\\partial z}{\\bf{k} }) \\cdot (dx{\\bf{i} },dy{\\bf{j} },dz{\\bf{k} }) \\hfill \\\\ = (\\frac{\\partial f}{\\partial x}{\\bf{i} },\\frac{\\partial f}{\\partial y}{\\bf{j} },\\frac{\\partial f}{\\partial z}{\\bf{k} }) \\cdot d{\\bf{l} } = {\\bf{N} } \\cdot d{\\bf{l} } \\hfill \\\\ \\end{gathered}\\) 方向导数\\(\\frac{df}{dl}={\\bf{N} } \\cdot \\frac{d{\\bf{l} } }{dl} = {\\bf{N} } \\cdot {\\bf{a_l} } = N{\\bf{a_n} } \\cdot {\\bf{a_l} } \\Rightarrow {\\left. {\\frac{df}{dl} } \\right|_{\\max} } = N\\) 其中\\(d{\\bf{l} }=(dx{\\bf{i} },dy{\\bf{j} },dz{\\bf{k} })\\)为长度微元，\\(\\bf{a_l}\\)为沿\\(d{\\bf{l} }\\)方向的单位矢量。 矢量\\(\\bf{N}\\)为标量函数的梯度，\\(\\bf{a_n}\\)为沿梯度方向的单位矢量。当\\(\\bf{a_n}\\)与\\(\\bf{a_l}\\)的夹角为0（重叠时），方向导数\\(\\frac{df}{dl}\\)取得最大值\\(N\\)，这个最大值\\(N\\)就是函数\\(f\\)在所研究点的最大变化率，即梯度的大小（梯度的模）。梯度的方向是发生最大变化率的方向（\\(\\bf{a_n}\\)的方向）。 梯度公式\\(grad{\\bf{f} } = {\\bf{\\nabla} } f = \\frac{\\partial f}{\\partial x}{\\bf{i} }+\\frac{\\partial f}{\\partial y}{\\bf{j} }+\\frac{\\partial f}{\\partial z}{\\bf{k} }\\) 梯度的模\\(|{\\bf{\\nabla} } f|=\\sqrt{(\\frac{\\partial f}{\\partial x})^2+(\\frac{\\partial f}{\\partial y})^2+(\\frac{\\partial f}{\\partial z})^2}\\) 注：方向导数是标量，梯度是矢量。 散度 场线（矢量线）：曲线上每一点的切线方向代表了该点矢量场的方向。曲线的疏密程度反映矢量的大小变化趋势。 图4 场线 通量的物理意义：反映某一空间内场源点的特性。 若为开放曲面，则有通量\\(\\Phi = \\iint\\limits_S { {\\bf{B} }(x,y,z){\\bf{n} } }\\cdot ds\\) 若为闭合曲面，则有通量\\(\\Phi = \\oint\\limits_S { {\\bf{B} }(x,y,z){\\bf{n} } }\\cdot ds\\) 若\\(\\Phi&gt;0\\)，穿出多于穿入，说明S内有发出矢量线的正源； 若\\(\\Phi&lt;0\\)，穿出少于穿入，说明S内有汇集矢量线的负源； 若\\(\\Phi=0\\)，穿出等于穿入，说明S内无源或源的正负代数和为0； 散度用于描述矢量场中某一点处单位体积内所发出的流通量（流通量是标量函数，也就是说散度是标量）。 散度公式：\\(div{\\bf B} = \\mathop {\\lim }\\limits_{\\Delta V \\to 0} \\frac{ {\\oint\\limits_{\\Delta S} { {\\bf B} \\cdot d{\\bf S} } } }{\\Delta V}\\) 推导过程： 图5 散度数学推导 取中心点\\(M(x,y,z)\\)。 对于平面\\(S_1\\)(▱ABCD)有\\(\\iint\\limits_{S_1} { {\\bf{B} } \\cdot {\\bf{n} } }ds =\\iint\\limits_{S_1} { {\\bf{B} } \\cdot {\\bf{i} } }ds = \\iint\\limits_{S_1} {B_x}ds\\) \\(\\approx \\iint\\limits_{S_1} {B_x}(x + \\frac{\\Delta x}{2},y,z)ds = B_x(x + \\frac{\\Delta x}{2},y,z)\\Delta y\\Delta z\\)① 这里使用▱ABCD中心点\\((x + \\frac{\\Delta x}{2},y,z)\\)的函数值来近似代表平面上各点的函数值。 同理，对于平面\\(S_2\\)(▱EFGH)有\\(\\iint\\limits_{S_2} { {\\bf{B} } \\cdot {\\bf{n} } }ds = -\\iint\\limits_{S_2} {B_x}ds = -B_x(x - \\frac{\\Delta x}{2},y,z)\\Delta y\\Delta z\\)② 由式①②得\\(\\iint\\limits_{S_1 + S_2} { {\\bf{B} } \\cdot {\\bf{n} } }ds = {B_x}(x + \\frac{ {\\Delta x} }{2},y,z)\\Delta y\\Delta z - {B_x}(x - \\frac{ {\\Delta x} }{2},y,z)\\Delta y\\Delta z = \\frac{ {[{B_x}(x + \\frac{ {\\Delta x} }{2},y,z) - {B_x}(x - \\frac{ {\\Delta x} }{2},y,z)]\\Delta x\\Delta y\\Delta z} }{ {\\Delta x} }\\) 取\\(\\Delta V=\\Delta x\\Delta y\\Delta z\\)，得\\(\\frac{\\iint\\limits_{ {S_1} + {S_2} } { {\\bf{B} } \\cdot {\\mathbf{n} } }ds}{\\Delta V} \\approx \\frac{ { {B_x}(x + \\frac{\\Delta x}{2},y,z) - {B_x}(x - \\frac{\\Delta x}{2},y,z)} }{\\Delta x}\\) \\(\\mathop {\\lim }\\limits_{V \\to 0} \\frac{ {\\iint\\limits_{ {S_1} + {S_2} } { {\\bf{B} } \\cdot {\\bf{n} } }ds} }{\\Delta V} = \\frac{\\partial {B_x} }{\\partial x}\\) 同理，对于平面\\(S_3\\)(▱BCFE)与平面\\(S_4\\)(▱ADGH)，有\\(\\mathop {\\lim }\\limits_{V \\to 0} \\frac{ {\\iint\\limits_{ {S_3} + {S_4} } { {\\bf{B} } \\cdot {\\bf{n} } }ds} }{\\Delta V} = \\frac{\\partial {B_y} }{\\partial y}\\) 对于平面\\(S_5\\)(▱CDGF)与平面\\(S_6\\)(▱ABEH)，有\\(\\mathop {\\lim }\\limits_{V \\to 0} \\frac{ {\\iint\\limits_{ {S_5} + {S_6} } { {\\bf{B} } \\cdot {\\bf{n} } }ds} }{\\Delta V} = \\frac{\\partial {B_z} }{\\partial z}\\) 综上可得\\(\\mathop {\\lim }\\limits_{\\Delta V \\to 0} \\frac{ {\\oint\\limits_{\\Delta S} { {\\bf B} \\cdot d{\\bf S} } } }{\\Delta V} = \\frac{\\partial {B_x} }{\\partial x} + \\frac{\\partial {B_y} }{\\partial y} + \\frac{\\partial {B_z} }{\\partial z} = div{\\bf B} = \\bf{\\nabla} \\cdot \\bf{B}\\) 注：\\({\\bf n}\\cdot ds=d{\\bf S}\\) \\[div{\\bf{B} } = \\bf{\\nabla} \\cdot {\\bf{B} }\\left\\{ {\\begin{array}{*{20}{c} } { &gt; 0 } \\\\ { &lt; 0 } \\\\ { = 0 } \\end{array} } \\right. \\begin{array}{*{20}{c} } 正源 \\\\ 负源 \\\\ 无源或抵消 \\end{array}\\] 散度的物理意义： (1)表征矢量场的通量源的分布特性； (2)空间中通量源的密度。 注：通量密度是矢量，通量（散度）是标量。 散度定理：一个矢量场从封闭表面向外的净通量等于该矢量的散度在该表面所包围区域中的体积分。 \\[\\int\\limits_V {\\bf{\\nabla} \\cdot {\\bf{B} } } dV = \\oint\\limits_S { {\\bf{B} }d{\\bf{S} } }\\] 旋度 矢量场的环量：矢量\\(\\bf{A}\\)沿空间有向闭合曲线\\(L\\)的线积分。环量可以用于描述矢量线的形状，描述较大区域内矢量场的涡旋性质。 \\[\\Gamma = \\oint\\limits_c { {\\bf{A} }d{\\bf{l} } }\\] 若\\(\\Gamma \\ne 0\\)，则闭合曲线内必有旋涡源，若\\(\\Gamma = 0\\)，则闭合曲线内无旋涡源。 矢量场的环量面密度：在矢量场的一点M取单位矢量\\(\\bf{n}\\)，并在M点周围取小闭合回路\\(\\Delta l\\)，令\\(\\Delta l\\)环绕方向与\\(\\bf{n}\\)构成右手螺旋关系，作一个过M点且以\\(\\Delta l\\)为边界，\\(\\bf{n}\\)为法线方向的小曲面\\(\\Delta S\\)。若极限\\(\\mathop {\\lim }\\limits_{\\Delta S \\to 0} \\frac{ {\\oint\\limits_{\\Delta l} { {\\bf{A} }d{\\bf{l} } } } }{\\Delta S}\\)存在，则该极限值为矢量场\\(\\bf{A}\\)在M点沿方向\\(\\bf{n}\\)的环量面密度。 矢量场的旋度：若有一矢量，其大小等于某点最大环量面密度，方向为该环的法线方向，那么该矢量称为该点矢量场的旋度。 \\[rot {\\bf{A} } = {\\bf{n} } \\mathop {\\lim }\\limits_{\\Delta S \\to 0} \\frac{ {\\oint\\limits_{\\Delta l} { {\\bf{A} }d{\\bf{l} } } } }{\\Delta S}\\] 推导过程： 图6 旋度数学推导 取▱ABCD的中心点坐标为\\(M(x,y,z)\\)。 对于▱ABCD上的路径\\(C_B\\)：\\(\\int\\limits_{C_B} { {\\bf{A}} \\cdot {\\bf{t} } } dl = \\int\\limits_{C_B} {A_x} dx \\approx {A_x}(x,y - \\frac{\\Delta y}{2},z)\\Delta x\\)① 对于▱ABCD上的路径\\(C_T\\)：\\(\\int\\limits_{C_T} { {\\bf{A}} \\cdot {\\bf{t} } } dl = -\\int\\limits_{C_T} {A_x} dx \\approx - {A_x}(x,y + \\frac{\\Delta y}{2},z)\\Delta x\\)② 取\\(\\Delta S=\\Delta x\\Delta y\\)，由式①②得\\(\\int\\limits_{C_B + C_T} { {\\bf{A}} \\cdot {\\bf{t} } } dl\\) \\(= {A_x}(x,y - \\frac{\\Delta y}{2},z)\\Delta x - {A_x}(x,y + \\frac{\\Delta y}{2},z)\\Delta x\\) \\(= -[{A_x}(x,y + \\frac{\\Delta y}{2},z) - {A_x}(x,y - \\frac{\\Delta y}{2},z)]\\Delta x\\) \\(= - \\frac{ {A_x}(x,y + \\frac{\\Delta y}{2},z) - {A_x}(x,y - \\frac{\\Delta y}{2},z)}{\\Delta y} \\Delta S\\) 进而得\\(\\mathop {\\lim }\\limits_{\\Delta S \\to 0} \\frac{ {\\int\\limits_{ {C_B} + {C_T}} { {\\bf{A}} \\cdot {\\mathbf{t}}} dl}}{\\Delta S} = - \\frac{ {A_x}(x,y + \\frac{\\Delta y}{2},z) - {A_x}(x,y - \\frac{\\Delta y}{2},z)}{\\Delta y} \\approx - \\frac{\\partial A_x}{\\partial y}\\)③ 同理，对▱ABCD上的路径\\(C_L\\)与\\(C_R\\)进行计算，得到\\(\\mathop {\\lim }\\limits_{\\Delta S \\to 0} \\frac{ {\\int\\limits_{ {C_L} + {C_R}} { {\\bf{A}} \\cdot {\\mathbf{t}}} dl}}{\\Delta S} \\approx \\frac{\\partial A_y}{\\partial x}\\)④ 由③④可知，以向量\\(\\bf{k}\\)（z轴正方向）为法线方向时，有\\(\\oint\\limits_{ {C_L} + {C_R} + {C_B} + {C_T}} { {\\bf{A}} \\cdot {\\bf{t}}} dl = \\frac{\\partial A_y}{\\partial x} - \\frac{\\partial A_x}{\\partial y}\\)⑤ 同理，对法线向量为\\(\\bf{i}\\)（x轴正方向）的平面▱AEFB上的路径进行计算，得到对应的值为\\(\\frac{\\partial A_z}{\\partial y} - \\frac{\\partial A_y}{\\partial z}\\)⑥ 对法线向量为\\(\\bf{j}\\)（y轴正方向）的平面▱AEHD上的路径进行计算，得到对应的值为\\(\\frac{\\partial A_x}{\\partial z} - \\frac{\\partial A_z}{\\partial x}\\)⑦ 由⑤⑥⑦可得旋度公式 \\[rot {\\bf{A} } = {\\bf{\\nabla} } \\times {\\bf{A} } = \\left| {\\begin{array}{*{20}{c}} {\\bf{i} }&amp;{\\bf{j} }&amp;{\\bf{k} } \\\\ {\\frac{\\partial }{ {\\partial x}}}&amp;{\\frac{\\partial }{ {\\partial y}}}&amp;{\\frac{\\partial }{ {\\partial z}}} \\\\ {A_x}&amp;{A_y}&amp;{A_z} \\end{array}} \\right| ={\\bf{i} }(\\frac{\\partial A_z}{\\partial y} - \\frac{\\partial A_y}{\\partial z}) + {\\bf{j} }(\\frac{\\partial A_x}{\\partial z} - \\frac{\\partial A_z}{\\partial x}) + {\\bf{k} }(\\frac{\\partial A_y}{\\partial x} - \\frac{\\partial A_x}{\\partial y})\\] 注：环量面密度虽然与方向有关，但它是标量，旋度是矢量。这里与方向导数和梯度比较类似，可以对照记忆。 斯托克斯定理：\\(\\int\\limits_S {({\\bf{\\nabla}} \\times {\\bf{F}})d{\\bf{S}} = \\oint\\limits_L { {\\bf{F}} \\cdot d{\\bf{l}}} }\\) 矢量微分算子的运算 Nabla算子符号为\\(\\bf{\\nabla}\\)，是一种矢量形式的一阶微分算子。它是一种运算符，用于简化计算公式。 定义：\\(\\bf{\\nabla} = \\frac{\\partial}{\\partial x}{\\bf{i}} + \\frac{\\partial}{\\partial y}{\\bf{j}} + \\frac{\\partial}{\\partial z}{\\bf{k}}\\) 基本运算： ①梯度（直接作用于标量函数）： \\[gradu = {\\bf{\\nabla} } u = \\frac{\\partial u}{\\partial x}{\\bf{i} }+\\frac{\\partial u}{\\partial y}{\\bf{j} }+\\frac{\\partial u}{\\partial z}{\\bf{k} }\\] ②散度（与矢量函数点积）： \\[div{\\bf B} = \\bf{\\nabla} \\cdot \\bf{B} = \\frac{\\partial {B_x} }{\\partial x} + \\frac{\\partial {B_y} }{\\partial y} + \\frac{\\partial {B_z} }{\\partial z}\\] ③旋度（与矢量函数叉积）： \\[rot {\\bf{A} } = {\\bf{\\nabla} } \\times {\\bf{A} } = \\left| {\\begin{array}{*{20}{c}} {\\bf{i} }&amp;{\\bf{j} }&amp;{\\bf{k} } \\\\ {\\frac{\\partial }{ {\\partial x}}}&amp;{\\frac{\\partial }{ {\\partial y}}}&amp;{\\frac{\\partial }{ {\\partial z}}} \\\\ {A_x}&amp;{A_y}&amp;{A_z} \\end{array}} \\right| ={\\bf{i} }(\\frac{\\partial A_z}{\\partial y} - \\frac{\\partial A_y}{\\partial z}) + {\\bf{j} }(\\frac{\\partial A_x}{\\partial z} - \\frac{\\partial A_z}{\\partial x}) + {\\bf{k} }(\\frac{\\partial A_y}{\\partial x} - \\frac{\\partial A_x}{\\partial y})\\] 性质： ①\\({\\bf{\\nabla}} \\cdot {\\bf{\\nabla}} = {\\bf{\\nabla}}^2 = \\frac{\\partial^2}{\\partial x} + \\frac{\\partial^2}{\\partial y} + \\frac{\\partial^2}{\\partial z}\\)（\\({\\bf{\\nabla}}^2\\)是Laplace算子，它是一个二阶微分算子） ②\\({\\bf{\\nabla}} \\cdot {\\bf{\\nabla}}u = {\\bf{\\nabla}}^2 u = \\frac{\\partial^2 u}{\\partial x^2} + \\frac{\\partial^2 u}{\\partial y^2} + \\frac{\\partial^2 u}{\\partial z^2}\\)（梯度场的散度） ③\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} = 0\\) ④\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} u = 0\\)（梯度场无旋） ⑤\\({\\bf{\\nabla}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{A}}) = 0\\)（旋度场无散、旋度场无源） ⑥\\({\\bf{\\nabla}}(uv) = v{\\bf{\\nabla}}u + u{\\bf{\\nabla}}v\\) ⑦\\({\\bf{\\nabla}} \\cdot (u{\\bf{A}}) = u{\\bf{\\nabla}} \\cdot {\\bf{A}} + {\\bf{\\nabla}}u \\cdot {\\bf{A}}\\) ⑧\\({\\bf{\\nabla}} \\times (u{\\bf{A}}) = u{\\bf{\\nabla}} \\times {\\bf{A}} + ({\\bf{\\nabla}}u) \\times {\\bf{A}}\\) ⑨\\({\\bf{\\nabla}} \\cdot ({\\bf{A}} \\times {\\bf{B}}) = {\\bf{B}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{A}}) - {\\bf{A}} \\cdot ({\\bf{\\nabla}} \\times {\\bf{B}})\\) ⑩\\({\\bf{\\nabla}} ({\\bf{A}} \\cdot {\\bf{B}}) = {\\bf{A}} \\times ({\\bf{\\nabla}} \\times {\\bf{B}}) + {\\bf{A}} ({\\bf{\\nabla}} \\cdot {\\bf{B}}) + {\\bf{B}} \\times ({\\bf{\\nabla}} \\times {\\bf{A}}) + {\\bf{B}} ({\\bf{\\nabla}} \\cdot {\\bf{A}})\\) ⑪\\({\\bf{\\nabla}} \\times {\\bf{\\nabla}} \\times {\\bf{A}} = {\\bf{\\nabla}}({\\bf{\\nabla}} \\cdot {\\bf{A}}) - {\\bf{\\nabla}}^2 {\\bf{A}}\\) 常见的几种场 按照旋度与散度值分类： ①无旋无源场（平行板电容器） \\({\\bf{\\nabla}} \\cdot {\\bf{F}} = 0,{\\bf{\\nabla}} \\times {\\bf{F}} = 0\\) ②无旋有源场（点电荷） \\({\\bf{\\nabla}} \\cdot {\\bf{F}} \\ne 0,{\\bf{\\nabla}} \\times {\\bf{F}} = 0\\) ③有旋有源场（通常情况下的电场） \\({\\bf{\\nabla}} \\cdot {\\bf{F}} \\ne 0,{\\bf{\\nabla}} \\times {\\bf{F}} \\ne 0\\) ④有旋无源场（载流导线内部磁场） \\({\\bf{\\nabla}} \\cdot {\\bf{F}} = 0,{\\bf{\\nabla}} \\times {\\bf{F}} \\ne 0\\) 图7 常见的几种场(a)无旋无源场 (b)无旋有源场 (c)有旋有源场 常用的场变量 符号 中文 English 单位 \\(\\bf{A}\\) 矢量磁位 Magnetic vector pontential Wb/m \\(\\bf{B}\\) 磁感应强度磁通密度 Magnetic flux density Wb/㎡(T) \\(\\bf{H}\\) 磁场强度 Magnetic field intensity A/m \\(\\bf{D}\\) 电位移 Electric flux density C/㎡ \\(\\bf{E}\\) 电场强度 Electric field intensity V/m \\(\\bf{J}\\) 电流密度 Electric current density A/㎡ \\(\\bf{F}\\) 洛伦兹力 Lorentz force N \\(q\\) 电荷 Charge C \\(\\rho\\) 体电荷密度 Electric charge density C/m³ \\(\\phi\\) 电位 Electric potential V 矢量场唯一性定理 一个矢量场被它的散度、旋度和边界条件唯一性确定。 证明：设有两个矢量场\\(F_1\\)、\\(F_2\\)，在体积\\(V\\)及其边界表面\\(S\\)上有定义，且有以下关系成立。 \\({\\bf{\\nabla}} \\times {\\bf{F_1}} = {\\bf{\\nabla}} \\times {\\bf{F_2}}\\)（在\\(V\\)内）① \\({\\bf{\\nabla}} \\cdot {\\bf{F_1}} = {\\bf{\\nabla}} \\cdot {\\bf{F_2}}\\)（在\\(V\\)内）② \\(F_{1n}=F_{2n}\\)或\\(F_{1t}=F_{2t}\\)（在\\(S\\)上）③ 下标t和n分别表示矢量的切向和法向分量。 现证明\\({\\bf{F_1}}={\\bf{F_2}}\\)，即两个矢量场是同一个场。 令\\({\\bf{F}}={\\bf{F_1}}-{\\bf{F_2}}\\)，由①得\\({\\bf{\\nabla}} \\times {\\bf{F}} = {\\bf{\\nabla}} \\times {\\bf{F_1}} - {\\bf{\\nabla}} \\times {\\bf{F_2}} = {\\bf{0}}\\)（\\(\\bf{F}\\)为无旋场）④ 故\\(\\bf{F}\\)可表示成某一标量函数\\(\\varphi\\)的梯度，即\\(\\bf{F}=\\bf{\\nabla}\\varphi\\)⑤ 注：这里使用了“梯度场无旋”这一性质，可以将无旋度的\\(\\bf{F}\\)替换为一个标量函数的梯度。 利用第一格林公式\\(\\oint\\limits_S {u\\frac{dv}{dn}} dS = \\int\\limits_V {(u{ {\\bf{\\nabla}} ^2}v + {\\bf{\\nabla}} v \\cdot {\\bf{\\nabla}} u)}dV\\)⑥ 将\\(u=v=\\varphi\\)代入⑥，得\\(\\oint\\limits_S {\\varphi\\frac{d\\varphi}{dn}} dS = \\int\\limits_V {(\\varphi{ {\\bf{\\nabla}} ^2}\\varphi + {\\bf{\\nabla}} \\varphi \\cdot {\\bf{\\nabla}} \\varphi)}dV\\)⑦ 考虑到\\({\\bf{\\nabla}}^2\\varphi = {\\bf{\\nabla}} \\cdot ({\\bf{\\nabla}}\\varphi) = {\\bf{\\nabla}} \\cdot {\\bf{F}} = {\\bf{\\nabla}} \\cdot {\\bf{F_1}} - {\\bf{\\nabla}} \\cdot {\\bf{F_2}} = 0\\)⑧ 因此⑦右边第一项为零 若边界条件为\\(F_{1n}=F_{2n}\\)，则\\(\\frac{\\partial \\varphi}{\\partial n}=F_{1n}-F_{2n}=0\\)⑨ 因此⑦左边为零 若边界条件为\\(F_{1t}=F_{2t}\\)，则\\(({\\bf{\\nabla}}\\varphi)_t=0\\)，即\\(S\\)面为\\(\\varphi\\)的等量面，同时由于\\(\\varphi\\)为调和函数，可以利用第三格林公式\\(\\oint\\limits_S {\\frac{\\partial \\varphi }{\\partial n}ds = 0}\\)⑩ 因此⑦的左边项\\(\\oint\\limits_S {\\varphi\\frac{\\partial \\varphi }{\\partial n}ds} = \\varphi \\oint\\limits_S {\\frac{\\partial \\varphi }{\\partial n}ds} = 0\\)⑪ 因此无论是哪一种边界条件，⑦的左边项均为零。因此\\(\\int\\limits_V {({\\bf{\\nabla}} \\varphi \\cdot {\\bf{\\nabla}} \\varphi)}dV = 0 \\Rightarrow \\int\\limits_V { ({ {\\bf{\\nabla}}\\varphi})^2}dV = 0\\)⑫ 由于\\(({ {\\bf{\\nabla}}\\varphi})^2 \\geqslant 0\\)，因此使⑫成立的唯一可能性为\\({\\bf{\\nabla}}\\varphi\\)处处为零，即\\({\\bf{F}}={\\bf{F_1}}-{\\bf{F_2}}=0\\)，\\({\\bf{F_1}}={\\bf{F_2}}\\)，证毕。 参考资料 汤蕴缪，梁艳萍. 电机电磁场的分析与计算[M]. 北京:机械工业出版社,2010 冯慈璋，马西奎. 工程电磁场导论[M]. 北京:高等教育出版社,2000 谢德馨，杨仕友. 工程电磁场数值分析与综合[M]. 北京:机械工业出版社,2008 王泽忠，全玉生. 工程电磁场(第3版)[M]. 北京:清华大学出版社,2021","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"}]},{"title":"线性系统理论01-绪论","slug":"课程笔记/线性系统理论/线性系统理论01-绪论","date":"2023-09-14T12:02:44.000Z","updated":"2024-01-25T05:20:20.948Z","comments":true,"path":"课程笔记/线性系统理论/线性系统理论01-绪论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA01-%E7%BB%AA%E8%AE%BA/","excerpt":"","text":"线性系统理论课程笔记 对应教材内容第一章 绪论的内容 目录 线性系统理论01-绪论 线性系统理论02-线性系统的状态空间描述 线性系统理论03-线性系统的运动分析 线性系统理论04-线性系统的能控性和能观测性 线性系统理论05-系统运动的稳定性 线性系统理论06-线性反馈系统的时间域综合 系统控制理论的研究对象 系统 系统控制理论的研究对象是系统。 系统是由相互关联和相互制约的若干“部分”所组成的具有特定功能的一个“整体” 。 系统有以下三个基本特征： (1)整体性 一是强调系统在结构上的整体性，即系统由“部分”组成。 二是突出系统行为和功能由整体所决定。 (2)抽象性 常常抽去具体系统的物理、自然和社会含义，而把它抽象为一个一般意义下的系统而加以研究。 (3)相对性 某个系统的部分可以是一个由更小的部分组成的一个系统，某个系统也可以是一个更大的系统的一个组成部分。 动态系统 动态系统是运动状态按确定规律或确定统计规律随时间演化的一类系统，又称动力学系统。 动态系统的行为可以由其各类变量间的关系来表征。系统的变量可分为三类： (1)输入变量组：反映外部对系统的影响或作用，如控制、投入、扰动等。 (2)内部状态变量组：表征系统状态行为。 (3)输出变量组：反映系统对外部作用或影响，如响应、产出等。 系统动态过程的数学描述具有两类基本形式： (1)系统的内部描述——白箱描述：系统内部机理已知，由状态方程和输出方程组成。 (2)系统的外部描述——黑箱描述：系统内部机理未知，描述输入与输出变量组的关系。 动态系统的分类： (1)按其机制可分为连续变量动态系统(Continuous Variable Dynamic Systems,CVDS)与离散事件动态系统(Discrete Event Dynamic Systems,DEDS)。本课程研究的是连续变量动态系统。 (2)从特性的角度，连续变量动态系统按其模型的关系属性可分为线性系统(Linear Systems)和非线性系统(Non-Linear Systems)，连续变量动态系统按其参数的空间分布可分为集中参数系统(Lumped Parameter Systems)和分布参数系统(Distributed Parameter Systems)。集中参数系统是有穷维系统，系统中的参量要么是定常的，要么是时间的函数，可以用常微分方程来描述；分布参数系统是无穷维系统，需要考虑参数在空间中的分布，需要用偏微分方程描述，如电磁场、引力场、温度场等物理场，环境系统、生态系统、社会系统等。本课程研究的是线性系统和集中参数系统。 (3)从作用时间类型角度，动态系统可分为连续时间系统(Continuous Time Systems)和离散时间系统(Discrete Time Systems)。连续时间系统的动态过程模型描述为微分方程的形式，离散时间系统的动态过程模型描述为差分方程的形式。本课程主要研究连续时间系统，也涉及离散时间系统。 线性系统 线性系统拥有叠加性和齐次性，换句话说，可以通过是否具备叠加性与齐次性来判断系统是否为线性系统。 若某系统的数学描述为\\(L\\)，任意两个输入变量\\(u_1\\)和\\(u_2\\)以及任意两个有限常数\\(c_1\\)和\\(c_2\\) ，则有： (1)叠加性 \\(L(u_1 + u_2) = L(u_1) + L(u_2)\\) (2)齐次性 \\(L({c_1}{u_1}) = {c_1}L({u_1})\\) (3)叠加原理（综合考虑叠加性与齐次性可以得到叠加原理） \\(L({c_1}{u_1} + {c_2}{u_2}) = {c_1}L({u_1}) + {c_2}L({u_2})\\) 线性系统可分为线性时不变系统(Linear Time-invariant Systems)和线性时变系统(Linear Time-varying Systems)，其中线性时不变系统指的是描述系统动态过程的线性微分方程或差分方程中的每个系数都不会随时间变化而变化。本课程主要研究线性时不变系统。 系统模型 系统模型是对系统或其部分属性的一个简化描述。 线性系统理论的基本概貌 控制理论发展史 1784年，James Watt发明蒸汽机调速装置——反馈的应用。 1877年，E.J. Routh稳定性分析稳定性分析——代数判据。 1868年，J.C. Maxwell稳定判据——系数代数判据。 1895年，A. Hurwitz稳定性分析稳定性分析—— 代数判据。 1945年，H.W. Bode频率法。 1948年，W.R. Evans根轨迹法。 至此，古典控制理论（传递函数法）体系确定。 1950年代，是个控制理论的“混乱时期”。 1960年代，产生了“现代控制理论”（状态空间法） Bellman动态规划法 Pontryagin极大值原理 Kallman可控、可观性理论 极点配置、观测器、内模原理...... 至1970年代前半期，为状态空间法的全盛时期。 1970年代后期，状态空间法的应用遇到了困难，进入了反省时期。 1980年代，在计算机技术的支持下，多变量系统的频域设计法出现了。 既约分解表示法、最优控制、自适应控制、鲁棒控制、H∞控制、模糊控制...... 古典控制理论与现代控制理论（采用状态空间法）的对比分析 古典控制理论的局限性： (1)局限于线性定常系统，难以解决非线性、时变系统等问题。 (2)采用输入/输出描述（传函），忽视了系统结构的内在特性，难以解决多输入/多输出系统（耦合）。 (3)处理方法上，只提供分析方法，而不是综合方法。设计方法为“试错法”，无法得到最好的设计。 状态空间法的特点： (1)在把握控制系统的动力学本质（内在特性）的基础上，进行合理的设计。 (2)控制性能指标是明确的，可以得到最佳设计（系统化的设计方法）。 (3)需要知道描述控制系统全体的数学模型（缺一不可）。 (4)难以利用人们的经验，直观性差。 古典控制理论 现代控制理论 研究对象 单输入单输出（SISO）的线性、连续、时不变系统 线性和非线性、定常和时变、单变量和多变量(MIMO)、连续和离散的系统 数学基础 处理单变量的线性定常系统数学问题：传递函数数学工具：拉氏变换 处理多变量的问题数学基础：矩阵和向量空间理论 计算手段 手工计算 计算机 研究方法 频域上的伯德图和相轨迹法以系统的输入输出特性作为研究的依据 时域方法建立在状态空间描述法的基础上 研究观点 就事论事; 针对给定的输入，分析输出的特性，给定某种指标，构成校正网络；主要着眼于系统的外部联系。 着眼于系统的内在规律性。分析：揭示系统对控制函数及初始状态的依赖关系，指出其可能影响的程度及性质。综合：揭示系统在某种指标下和其它限制条件下所能达到的最佳效果，即最优控制。 线性系统理论发展史 1950年代中期：经典线性系统理论 数学基础：拉普拉斯变换 数学模型：传递函数 分析和综合方法：频率响应法 适用于：单输入—单输出线性定常系统（多输入多输入—多输出系统难于处理） 1960年代：现代线性系统理论 采用状态空间描述这种系统内部描述来取代经典线性系统理论中传递函数形式的外部输入输出描述。 适用于单输入—单输出系统与多输入—多输出系统，线性时不变与线性时变系统。 引入能控性和能观测性这两个表征系统结构特性的概念。 1960年代后期及1970年代： 几何理论：从几何方法角度来研究线性系统的结构和特征 代数理论：以抽象代数为工具 多变量频域理论：推广经典频率法 线性系统理论的主要学派 (1)线性系统的状态空间法 描述系统动态过程的数学模型是反映输入变量、状态变量和输出变量间关系的向量方程，称作状态方程和输出方程。 状态空间法是一种时间域方法，其数学基础为线性代数和矩阵理论。 系统分析和综合涉及的计算主要为矩阵运算和矩阵变换。 (2)线性系统的几何理论 把对线性系统的研究转化为状态空间中的几何问题。 数学工具：几何形式的线性代数。 基本思想：把能控性和能观测性表述为不同的状态子空间的几何属性。 新概念：(A,B)不变子空间和(A,B)能控子空间。 特点：简捷明了，不用矩阵运算，结果比较容易化为相应的矩阵运算。比较抽象，需要一定数学基础。 (3)线性系统的代数理论 用抽象代数工具研究线性系统。 把系统的各组变量间关系看作为某些代数结构之间的映射关系。 实现对线性系统的描述和分析的形式化和抽象化，变为纯粹的代数问题。 (4)线性系统的多变量频域方法 以状态空间法为基础，采用频率域的系统描述和计算方法，以分析线性时不变系统。 其分析综合方法有两种，一是频率域方法，二是多项式矩阵方法。 相对于状态空间法，多变量频域方法物理直观性强，便于综合和调整。 本课程的研究范围 研究对象 线性系统：实际系统理想化了的模型，可用线性微分方程或差分方程来描述。 动态系统，动力学系统：用一组微分方程或差分方程来描述。对系统的运动和各种性质给出严格和定量的数学描述。 数学工具：数学变换（傅里叶变换，拉普拉斯变换）、线性代数。 实际系统是非线性的，在一定条件下将其近似处理可以得到线性系统。 本课程主要研究定常、时不变的线性系统。 主要任务 研究线性系统状态的运动规律和改变这个运动规律的可能性和方法。建立系统结构、参数、行为和性能间的确定的和定量的关系。 分析问题：研究系统运动规律，认识系统。 综合问题：研究改变运动规律的可能性和方法，改造系统。 建立系统的数学模型 变量：状态变量、输入变量、输出变量、扰动变量。 参量：系统的参数或表征系统性能的参数。 常量：不随时间改变的参数。 时间域模型：微分方程组或差分方程组。 频率域模型：传递函数和频率响应。 建模方法：实验法、解析法。 定量分析：系统对于某个输入信号的响应和性能。 定性分析：稳定性、能控性、能观测性等。 书中将线性系统理论分为“时间域理论”与“复频率域理论”。本课程研究的是时间域理论，对应书中前六章。 系统描述 线性系统时间域理论中，主要采用系统的内部描述，即状态空间描述，其数学模型为： \\[\\eqalign{&amp; {\\bf{\\dot x} }(t) = {\\bf{Ax} }(t) + {\\bf{Bu} }(t) \\cr &amp; {\\bf{y} }(t) = {\\bf{Cx} }(t) + {\\bf{Du} }(t) \\cr}\\] 上式是向量方程形式表示的一阶微分方程组和变换方程组，前者为状态方程，后者为输出方程。 参考资料 郑大钟. 线性系统理论(第2版)[M]. 北京:清华大学出版社,2002","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"}]},{"title":"直流电机","slug":"课题笔记/电机/直流电机","date":"2023-09-01T13:19:25.000Z","updated":"2024-01-25T05:20:21.019Z","comments":true,"path":"课题笔记/电机/直流电机/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/%E7%9B%B4%E6%B5%81%E7%94%B5%E6%9C%BA/","excerpt":"","text":"为初步了解直流电机的基本结构与工作原理所整理的学习笔记。 个人知识、能力水平有限，部分内容尚未完全吃透理解，这类内容会有下划线标记。 序言 直流电机指能实现直流电能和机械能互相转换的电机。当它作电动机运行时是直流电动机(Direct Current Motor)，将电能转换为机械能；作发电机运行时是直流发电机(Direct Current Generator)，将机械能转换为电能。 直流电机按照其有无电刷可分为有刷直流与无刷直流两种，其中无刷直流电机在某些场合下可视作交流电机，本篇文章介绍的是有刷直流电机。 有刷直流电动机可分为永磁直流电动机和电磁直流电动机两种。 永磁直流电动机的主磁极为永磁体，通过改变所通入直流电的供电极性来改变旋转方向。按照永磁体材料的不同可分为稀土永磁、铁氧体永磁、铝镍钴永磁等若干种。 电磁直流电动机的主磁极由铁芯和励磁绕组构成。按照励磁绕组与转子绕组连接方式的不同，可分为串励、并励、他励、复励四种励磁方式。本篇文章将以他励直流电动机为例，简要分析直流电机的数学模型。 图1 直流电机的四种励磁方式(a)他励 (b)并励 (c)串励 (d)复励 注：励磁指的是向电动机或者发电机提供工作磁场的装置。 直流电机结构及工作原理 有刷直流电机由定子与转子组成。定子是固定的，其中包括主磁极、换向极、电刷、机座；转子又可称为电枢，其中包括电枢铁芯、电枢绕组、换向器等。 图2 直流电机模型 一个简单的直流电机模型如上图所示，图中N与S为固定的主磁极，其间有一个绕固定轴旋转的铁质圆柱体（电枢铁芯，图中未画出），铁芯与磁极间的空隙被称作气隙，铁芯表面有导体abcd，导体abcd构成一个单匝线圈。线圈首尾与一对弧形铜片（换向片）相连，换向片与电枢铁芯一同旋转，换向片与铁芯绝缘，两个换向片相互绝缘。图中A与B是电刷，电刷的空间位置是固定的，电刷使电枢与外电路相通。 拖动电枢以恒定速度\\(n\\)旋转时，上述模型构成发电机，其导体内感应电动势为\\(e = {B_\\delta}lv \\propto {B_\\delta}\\)。其方向由右手定则确定。 其中\\(B_\\delta\\)为导体所处位置气隙磁通密度，单位\\(Wb/m^2\\)；\\(l\\)为导体有效长度（切割磁力线的长度，单位为m）；\\(v\\)为导体切割磁力线线速度，\\(v=\\frac{2\\pi Rn}{60}\\)。 电机\\(l\\)值不变，转速\\(n\\)恒定时，可以认为导体电动势与气隙磁密成正比，也就时说导体内感应电动势随时间变化规律与气隙磁场沿气隙的分布规律相同。 有刷直流电机中线圈导体中的感应电动势是交变的，通过换向器机械整流方式将交流调整为直流。换向片跟随线圈旋转，电刷是固定的，这使得线圈每旋转180°，与电刷接触的换向片就变化一次，而线圈导体也是每旋转180°改变电动势方向。这使得两个电刷的极性保持不变，输出到负载的电流方向不会变化，电动势为脉动的直流电动势。 实际电机上电枢会均匀分布多个线圈，按照一定规律组成电枢绕组，这样可以大大减小电动势的脉动，使输出电动势接近于恒定值。 图3 气隙磁场分布与电动势波形(a)气隙磁场分布曲线与导体电动势波形 (b)换向后单线圈电动势波形 (c)多线圈绕组电动势波形 直流电动机工作原理与直流发电机类似。区别在于将电刷A与B接入直流电源，使得线圈导体上产生交变的电流\\(i\\)，进而产生电磁力\\(f=B_\\delta li\\)。受力方向由左手定则确定。 与直流发电机类似，所产生的电磁转矩使单方向的，增加线圈导体数量可以减小转矩脉动。 直流电机的额定值 直流电机的额定值有额定电压\\(U_N\\)、额定电流\\(I_N\\)、额定励磁电压\\(U_{fN}\\)、额定励磁电流\\(I_{fN}\\)、额定转速\\(n\\)(r/min)、额定转矩\\(T_N\\)(N·m)和额定功率\\(P_N\\)。 发电机额定功率\\(P_N=U_N I_N\\)（输出电功率），电动机额定功率\\(P_N=U_N I_N \\eta_N\\)（转轴上输出机械功率，\\(\\eta_N\\)为额定效率）。 直流电机的电枢绕组 电枢绕组按连接方式可分为叠绕组与波绕组。简单的例子如下图所示： 图4 直流电机电枢绕组元件(a)单匝叠绕组 (b)两匝叠绕组 (c)单匝波绕组 (d)两匝波绕组 元件边：每个元件的两个切割磁力线，产生感应电动势的有效边。分为上元件边（槽上层）与下元件边（槽下层）。 端接：元件边在电枢铁芯两端的部分，起到连接作用，分为前端接（与换向片相连）与后端接。 虚槽：某个实槽的上层或下层所放的元件数\\(u\\)为这个槽对应的虚槽数，电枢绕组虚槽数\\(Z_i=uZ\\)。分析电枢绕组空间分布是看的是虚槽，按虚槽编号。 图5 电枢绕组元件在槽内的放置 左图为电枢绕组元件在槽内的放置，右图是以\\(u=2\\)为例的槽内元件布置图，可以观察到元件数(S)=换向片数(K)=虚槽数(\\(Z_i\\))。 图6 单叠与单波绕组元件的连接情况 第一节距\\(y_1\\)：同一元件两个元件边的距离。图中单叠绕组第一节距为4。 第二节距\\(y_2\\)：连至同一换向片的两个元件边的距离。即某个元件下元件边经换向器到下一个元件上元件边的距离。 合成节距\\(y\\)：两个相串联元件对应边的距离。有\\(y=y_1+y_2\\)。 换向器节距\\(y_k\\)：元件两个边所连接的换向器的距离。其值与合成节距相等，有\\(y=y_k\\)。 极对数\\(p\\)：主磁极的对数（N极或S极的数量），级数（N极与S极的数量）为\\(2p\\)。 极距\\(\\tau\\)：每个主磁极在电枢表面占据的距离（相邻两主极间的距离）。\\(\\tau=\\frac{Z_i}{2p}=\\frac{\\pi D_i}{2p}\\)，\\(D_a\\)为电枢外径。 整距：为使元件感应电动势最大，\\(y_1\\)应尽可能凑为整数（接近或等于极距）。有\\(y_1=\\frac{Z_i}{2p} \\mp \\varepsilon = N\\)。这里\\(\\varepsilon\\)为小于1的分数，使\\(y_1\\)凑为整数。\\(y_1=\\tau\\)为整距元件，\\(y_1&lt;\\tau\\)为短距元件，\\(y_1&gt;\\tau\\)为长距元件。其中短距元件应用更广泛，其绕组端连线较短，节约材料。 并联支路对数\\(a\\)：绕组电路图中与负载正极（或负极）连接的支路的对数，并联支路数为\\(2a\\)。 单叠绕组 叠绕组：任意两个串联元件后一个叠在前一个上面的绕组。规定\\(y_k&gt;0\\)为右行绕组，\\(y_k&lt;0\\)为左行绕组。 单叠右行绕组有\\(y=y_k=1\\)，单叠左行绕组有\\(y=y_k=-1\\)。 注：复叠绕组（m叠绕组）有\\(y=y_k=m\\)。 以级数\\(2p=4\\)，虚槽数\\(Z_i=16\\)的单叠右行整距绕组为例： 第一节距\\(y_1=\\frac{Z_i}{2p}=4\\)，合成节距\\(y=y_k=1\\)，第二节距\\(y_2=y-y_1=-3\\)。 画出绕组连接关系如下图： 图7 单叠绕组连接关系 图8 单叠绕组展开图与电路连接图 由图可知单叠绕组的并联支路数2a=2p。（m叠绕组的并联支路数为2mp） 单波绕组 波绕组：从某一换向片出发，连接完p个元件后回到出发换向片的相邻换向片上（绕行一周），以此类推继续连接直至回到第一个换向片形成闭合回路。连接后的形状如同波浪。 换向器节距\\(y_k\\)应满足关系\\(y=y_k=\\frac{K\\mp 1}{p}=\\frac{Z_i \\mp 1}{p}=y_1+y_2=N\\)。其中正负号取负号时绕行一周后回到出发点左侧，称为左行绕组，同理取正号时为右行绕组。 以级数\\(2p=4\\)，虚槽数\\(Z_i=15\\)的单波左行短距绕组为例： 第一节距\\(y_1=\\frac{Z_i}{2p} - \\varepsilon =\\frac{15}{4} - \\frac{3}{4}=3\\)，合成节距\\(y=y_k=\\frac{K-1}{p}=7\\)，第二节距\\(y_2=y-y_1=4\\)。 画出绕组连接关系如下图： 图9 单波绕组连接关系 图10 单波绕组展开图与电路连接图 由图可知单波绕组把所有处于相同极性下的元件都串联起来构成一条支路，其并联支路数2a=2。（m波绕组的并联支路数为2m） 综上可知，直流电机电枢绕组是无头无尾的闭合绕组，直流电机电枢绕组至少有2条并联支路。 电刷放置的一般原则是确保空载时通过正、负电刷引出的电动势最大，或者说，被电刷短路的元件中的电动势为零。对于端接对称的元件，电刷也就放置在主极轴线下的换向片上。 直流电机的磁场 直流电机的数学模型 To Be Countinued未完待续...... 参考资料 [1] 辜承林，陈乔夫，熊永前．电机学（第四版）[M]．武汉：华中科技大学出版社，2018． [2] 李发海，王岩．电机与拖动基础（第4版）[M]．北京：清华大学出版社，2012． [3] 阮毅,杨影,陈伯时. 电力拖动自动控制系统——运动控制系统(第四版)[M]. 北京:机械工业出版社,2016","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"电机概述及分类","slug":"课题笔记/电机/电机概述及分类","date":"2023-09-01T13:19:24.000Z","updated":"2024-01-25T05:20:21.019Z","comments":true,"path":"课题笔记/电机/电机概述及分类/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/%E7%94%B5%E6%9C%BA%E6%A6%82%E8%BF%B0%E5%8F%8A%E5%88%86%E7%B1%BB/","excerpt":"","text":"为初步了解市面上的各类电机所整理的学习笔记。电机按照电能与机械能的转换方向可分为电动机与发电机，这里侧重于介绍电动机的分类。 本篇文章是对网上及书上内容的归纳整合，将对各类电机进行简要分类介绍。后续文章将对每一种电机在电机结构、工作原理、电机控制等方面进行详细深入的介绍。 序言 电机是工业领域中的重要电气设备之一，它可以通过电磁场这一媒介，拖动机械结构及其负载做直线方向或旋转方向的运动（电动机），或者反过来，通过拖动机械结构及其负载运动的方式产生电能（发电机）。电机可以实现电能与机械能的相互转换。 1820年，奥斯特发现电流的磁效应，揭示了电与磁的联系。 1821年，法拉第发现载流导体在磁场中受力的现象，这便是电动机的作用原理。安培以此现象建立了载流导体在磁场中受力的安培定律。 安培公式为\\(d{\\bf f} = Id {\\bf l} \\times {\\bf B}\\)，其中\\(d{\\bf f}\\)为电流元\\(Id {\\bf l}\\)在磁感应强度\\(\\bf B\\)的外磁场中受到的电磁力。 1831年，法拉第建立了揭示“变磁生电”的电磁感应定律。 该定律指出，导体回路中感应电动势\\(E\\)与穿过回路的磁通量\\(\\Phi\\)对时间的变化率成正比，即\\(E=- \\frac{d\\Phi}{dt}\\)。 图1 电机分类 电机分类思维导图，制作者为嵌入式艺术。 按工作电源种类分 电机按工作电源可以分为直流电机与交流电机。 直流电动机 直流电动机指通入直流电流而产生机械运动的电动机。直流电动机可分为有刷直流与无刷直流两种。 有刷直流电机内部含有电刷，采用机械换向，磁极不动，线圈旋转。电机工作时，线圈和换向器旋转，主磁极和电刷不转，线圈电流方向的交替变化靠随电机转动的换相器和电刷来完成。 有刷直流电机由定子与转子组成。定子是固定的，其中包括主磁极、换向极、电刷、机座；转子又可称为电枢，其中包括电枢铁芯、电枢绕组、换向器。 有刷直流电动机可分为永磁直流电动机和电磁直流电动机两种。 永磁直流电动机的主磁极为永磁体，通过改变所通入直流电的供电极性来改变旋转方向。按照永磁体材料的不同可分为稀土永磁、铁氧体永磁、铝镍钴永磁等若干种。 电磁直流电动机的主磁极由铁芯和励磁绕组构成。按照励磁绕组与转子绕组连接方式的不同，可分为串励、并励、他励、复励四种励磁方式。 图2 直流电机的四种励磁方式(a)他励 (b)并励 (c)串励 (d)复励 注：励磁指的是向电动机或者发电机提供工作磁场的装置。 无刷直流电机(Brushless Direct Current Motor,BLDC)采取电子换向，线圈不动，磁极旋转。无刷电机使用一套电子设备，通过霍尔元件，感知永磁体磁极的位置，使用电子线路，适时切换线圈中电流的方向，保证产生正确方向的磁力来驱动电机。 由上可知，无刷直流电机的线圈是定子的一部分，主磁极是转子的一部分。 相较于有刷电机，无刷电机采用电子换向，这使得无刷电机需要使用电子控制器件进行驱动，使得其成本更高，而有刷电机使用可控硅等传统模拟电路就可以控制。 注：在某些场合下，可以将无刷直流电机视作交流电机。这是因为无刷直流电机的驱动电流为交流电，无刷直流电机的驱动电流有两种，一种是梯形波（或方波），这种电机可称为直流无刷电机（可以算直流，也可以算交流）；另一种是正弦波，这种电机是交流伺服电机中的一种（算作交流电机）。 交流电动机 直流电动机指通入交流电流而产生机械运动的电动机。 按照交流电流相数可分为单相电机与三相电机。 单相电机的转矩是脉动的，噪声比较大，但所需的电源比较简单。其性能指标较差，功率较低，常应用于生产、生活等小型设备中。 三相交流电机与单相电机相比有明显的优越性。同样功率的三相电机比单相电机体积小，重量轻，价格低。因此交流电机以三相电机为主。 也可以按照结构和工作原理分类，将交流电机分为异步电机与同步电机。 按结构和工作原理分 电机按结构和工作原理可以分为直流电机、异步电机与同步电机。其中异步电机与同步电机均属于交流电机。 二者的定子绕组的结构形式相同，在励磁方式与运行特性上有较大差别。 异步电动机 异步电机指的是电机转速达不到定子磁场的同步转速的交流电机。 异步电机的定子由定子铁芯、定子绕组和机座组成。转子由转子铁芯、转子绕组和转轴组成。转子绕组按其结构可分为鼠笼型和绕线式两种。单相异步电机转子均是鼠笼型，三相异步电机转子可以为鼠笼型或绕线式。 异步电机按照有无换向器，可分为感应电动机与交流换向器电动机。 感应电机指的是没有换向器的异步电机，异步电机以感应电机为主。在定子绕组上接三相电源，定子绕组流过三相对称电流，气隙中将建立基波旋转磁动势，进而产生基波旋转磁场（定子磁场），它在短路的转子绕组中产生感应电流及感应电动势，感应电流与气隙旋转磁场相互作用产生电磁转矩使电机转动。 感应电动机可分为三相异步(三相380V)、单相异步(单相220V)、罩极异步(单相220V，副绕组为罩极环)三种。感应电动机通常指的是三相异步感应电动机。 交流换向器电动机是转子上带有换向器的异步电动机。 交流换向器电动机可分为单相串励、交直流两用、推斥电动机(单相、转向与电刷偏离方向相反)三种。 同步电动机 同步电机指的是电机转速与定子磁场的同步转速始终保持相同的交流电机。与异步电机的区别在于其转子侧安装有磁极并通入直流电流励磁，具有确定的极性。 同步电机有旋转电枢和旋转磁极两种结构，同步电机一般使用旋转磁极结构，旋转电枢结构多用于小容量电机。 旋转磁极结构电机按照磁极形状有可分为隐极和凸极两种形式。隐极同步电机气隙均匀，转子机械强度高，适合高速旋转，常用于汽轮发电机。凸极同步电机气隙不均匀，旋转时空气阻力大，适合中低速场合，常用于水轮发电机。 隐极同步电机由定子（铁芯、绕组、机座、紧固件）、转子（铁芯、励磁绕组、护环、中心环、滑环等）、端盖、轴承组成。 凸极同步电机定子组成与隐极相同，转子由磁极、励磁线圈、磁扼、阻尼绕组等部分构成。 旋转磁极结构电机按支撑方式可分为卧式与立式两种，隐极同步电机只能采用卧式结构，凸极同步电机可采用卧式或立式结构。 同步电机按照产生转矩的方式，可分为永磁同步电机(Permanent Magnet Synchronous Motor，PMSM，永磁体提供励磁)、磁阻同步电机(Synchronous Reluctance Motors，SynRM，转子交轴和直轴磁阻不等而产生磁阻转矩)、磁滞同步电机（磁滞材料产生磁滞转矩）。 按用途划分 电机按用途划分，可分为驱动用电动机与控制用电动机。 驱动用电动机顾名思义，可以用于驱动各类机器设备运转。相较于驱动用电动机，控制用电动机能实现更为精确的控制。控制用电动机包括伺服电机、步进电机等。 伺服电机 伺服系统是使物体的位置、方位、状态等输出被控量能够跟随输入目标（或给定值）任意变化的自动控制系统。 伺服电机(Servo Motor)可以通过接受到的脉冲信号按照一定的规则来实现相应的动作。一般地，伺服电机的转速受所加电压信号的控制，转速能够随着所加电压信号的变化而连续变化。 伺服电机可按工作电源种类分为直流和交流两种，其中直流伺服电机适合在低电压、低功率、控制精度不高的情况下使用。为实现更精确的控制，目前绝大部分的伺服电机是采用的是交流永磁同步伺服电机或者直流无刷电机。 步进电机 步进电机(Stepping Motor)是一种电脉冲信号转换成角位移或者线位移的电动机。每输入一个脉冲信号，转子就转动一个角度或前进一步，其输出的角位移或线位移与输入的脉冲数成正比，转速与脉冲频率成正比。因此，步进电动机又称脉冲电动机。 按机械能运动方式划分 旋转电机 旋转电机指将电能转换为旋转运动的机械能，拖动负载做旋转运动的电机。常见电机大多是旋转电机。 直线电机 直线电机(Linear Motor)，也称为线性电机，指的是把电能转换成直线运动的机械能，不需要任何中间传动转换装置的电机。直线电机可以直接做直线运动，比旋转电机经过转换装置形成的直线运动效率更高。 直线电机相当于旋转电机径向剖开。直线电机的初级等同于旋转电机的定子；直线电机的次级等同于旋转电机的转子。既可以初级固定、次级移动，也可以次级固定、初级移动。 直线电机按工作原理可分为直流、异步、同步、步进等，其类型又分为U型电机，平板电机,圆柱型直线电机等。 特种电机 力矩电机 力矩电机(Torque Motor)又称转矩电机，直驱电机，力矩电动机的轴不是以恒功率输出动力而是以恒力矩输出动力。这使得力矩电机可以在堵转时持续运行，不会造成电机损坏。 力矩电机包括直流力矩电机，交流力矩电机，无刷直流力矩电机。 To Be Countinued未完待续...... 参考资料 [1] 辜承林，陈乔夫，熊永前．电机学（第四版）[M]．武汉：华中科技大学出版社，2018． [2] 李发海，王岩．电机与拖动基础（第4版）[M]．北京：清华大学出版社，2012． 不看后悔！最全的电机分类，看这一篇就够了！","categories":[{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"}],"tags":[{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"}]},{"title":"Maxwell教程04-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻","slug":"工业软件/ANSYS/Maxwell教程04-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻","date":"2023-08-21T23:40:18.000Z","updated":"2024-01-25T05:20:20.908Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程04-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B04-2D%E6%B6%A1%E6%B5%81%E5%9C%BA%E4%BB%BF%E7%9C%9F-%E5%AE%9E%E5%BF%83%E5%AF%BC%E4%BD%93%E7%9A%84%E9%9B%86%E8%82%A4%E6%95%88%E5%BA%94%E6%AC%A7%E5%A7%86%E6%8D%9F%E8%80%97%E5%92%8C%E4%BA%A4%E6%B5%81%E7%94%B5%E9%98%BB/","excerpt":"","text":"基于B站视频手把手教你Maxwell-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻整理的学习笔记，视频原作者为搞仿真的晴博。 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 我使用的软件版本为2023R1，与原视频软件版本2022R1不同，也有个人操作问题，会使实验结果与原视频不同，一切以原视频为准。 背景介绍 当导体置于交变磁场中时，与磁场正交的曲面上产生闭合的感应电流，被称为涡流(Ebby Current)。 这会导体内部电流分布不均匀，使电流集中在导体的表面，越靠近导体表面电流密度越大，越深入导体内部电流密度越小。这使得导体的电阻增加，这种现象被称为集肤效应(Skin Effect)。 透入深度(Skin Depth)指导体中的电流密度下降到表面电流密度的\\(\\frac{1}{e}\\)（即0.368倍）时的厚度，其大小反映电磁场衰减的快慢。 \\[d=\\frac{1}{\\alpha}=\\sqrt{\\frac{2}{\\mu \\gamma \\omega} }\\] 由公式可见透入深度\\(d\\)与电流角频率\\(\\omega\\)、导体电导率\\(\\gamma\\)与磁导率\\(\\mu\\)成反比。 图1 集肤效应 集肤效应是电子电气产品中最常见的现象，有危害也有优点。它的应用也很广泛，例如应用在深槽笼型异步电动机中，通过其窄而深的电动机转子槽，可以提高电机起动时的转子电阻，进而提高起动转矩。 本次实验将对一个简单的实心导体进行2D涡流场仿真，并计算其透入深度、涡流损耗与交流电阻。 建模 Ansys Electronics Desktop，启动！！！ Maxwell 2D，启动！！！ 首先画一个实心导体横截面，点击Draw菜单栏中的圆形图标画一个圆，Radius设为5mm。 再画一个空气域，点击Draw菜单栏中的Create Region（红色边框空心正方体）图标，设置Percentage Offset值为200，表示在已经画出来的几何模型基础上扩大200%的区域内建立空气域。 材料 在实心导体横截面的属性界面中，将其名字修改为“Conductor”，材料设置为“steel_1008”。 也可以自己创建材料，修改材料的磁化曲线。将材料属性中Relative Permeability（相对磁导率）的类型设置为Nonlinear（非线性），点B-H Curve即可一一输入数据修改其磁化曲线。 激励 再加一个电流，选取导体右键Assign Excitation-&gt;Current，选择电流为14.14A（电流峰值为14.14A，相当于电流有效值为10A）。Phase（相位）0度，Type选择Solid（实心），Ref.Direction（参考方向）默认为正方向。 （2D仿真时没有Phase与Type，3D仿真时没有Phase与Ref.Direction，原因不明） 边界 再建一个气球边，用于模拟无限远处。右键仿真区域Selection Mode-&gt;Edge将选取模式改为边界，选中空气域的四个边。右键Assign Boundary-&gt;Balloon，确认后就可在Project Manager窗口Boundries-&gt;Balloon1看到这个气球边。 网格 仍然是边界选取模式，选中实心导体的边，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Skin Depth Layers Based，弹出的窗口点击Calculate Skin Depth计算透入深度，Relative Permeability相对磁导率设置为1200，Conductivity导体电导率已经导入，为2000000mhos/m不用改变，Frequency频率设置为Hz。确认后计算出的透入深度为1.45287918553816mm。 Number of Layers修改为3。（这里要求每层对应的厚度，即透入深度除以层数要小于0.5mm） 求解 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面，收敛误差Percent Error修改为0.1%。 Solver选项卡下Adaptive Frequency设置为50Hz。（这一项在我的界面没有，原因不明。） 点击菜单栏Maxwell 2D-&gt;Analyze All开始求解。 后处理 再看一下磁场分布，选中截面后右键Fields-&gt;B-&gt;Mag_B。 图2 磁通密度 接下来看从导体圆心到导体边缘路径的磁通密度大小变化。点击菜单栏Draw-&gt;Draw Line（直线）绘制一条圆心出发到导体边缘的线段。点击CreateLine可以修改点的坐标Point1为0,0,0，Point2为5,0,0。 在Project Manager窗口Create Fields Report-&gt;Rectangular Plot。弹出的窗口Context-&gt;Geometry选择Polyline1，X轴坐标保持默认Distance（距离），Y轴坐标选择Mag_B（磁通密度）。点击New Report就可生成随线段路径上的点的位置变化的磁通密度曲线，如下图所示（与原视频有出入，但总体趋势正确，越靠近边缘磁场越强）。 图3 磁通密度曲线 再看一下电流密度曲线，与上面的操作相同，Y轴坐标选择JAtPhase，点击New Report即可。 （选项里没有JAtPhase，取而代之的是Jz，图像也完全不对，原因不明，这里就不放图像了。） 再看一下集肤效应欧姆损耗，可以右键Project Manager窗口Results-&gt;Solution Data选择Loss选项卡，Solid Loss一栏即为所求欧姆损耗。 （原视频结果为1.5175w，我这里是0，原因不明） 也可以用菜单栏Maxwell 2D-&gt;Fields-&gt;Caculator进入计算界面，单击Input栏的Quantity选择Ohm Loss（欧姆损耗），Geometry（域）选择Conductor，点击Scalar栏下的积分符号，对欧姆损耗在导体范围内做积分。单击Eval即可得到导体欧姆损耗累计值为1.27362968169993w。 （原视频结果为1.5175w） 最后计算交流电阻，可以通过公式\\(P_{AC}=I^2 * R_{AC}\\)求得，其中欧姆损耗\\(P_{AC}=1.27W\\)，电流\\(I=10A\\)，求出交流电阻\\(R_{AC}=0.0127\\Omega\\)。 参考资料 手把手教你Maxwell-2D涡流场仿真-实心导体的集肤效应欧姆损耗和交流电阻","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"Maxwell教程03-永磁体电磁力仿真","slug":"工业软件/ANSYS/Maxwell教程03-永磁体电磁力仿真","date":"2023-08-19T05:08:03.000Z","updated":"2024-01-25T05:20:20.898Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程03-永磁体电磁力仿真/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B03-%E6%B0%B8%E7%A3%81%E4%BD%93%E7%94%B5%E7%A3%81%E5%8A%9B%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"基于B站视频手把手教你Maxwell-【案例B203】永磁体电磁力仿真（上）与手把手教你Maxwell-【案例B203】永磁体电磁力仿真（下）整理的学习笔记，视频原作者为搞仿真的晴博。 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 我使用的软件版本为2023R1，与原视频软件版本2022R1不同，也有个人操作问题，会使实验结果与原视频不同，一切以原视频为准。 背景介绍 图1 模型 本次实验对Comsol官方案例-永磁体进行复现，其三维模型由永磁体和铁棒两个部分组成，如上图所示。本次实验将建模永磁体周围的磁场，并计算磁铁对铁棒施加的作用力大小，验证其大小是否符合理论值的预计。 建模 图2 模型尺寸 本次实验所设计模型尺寸如上图所示。 打开软件，打开Maxwell 3D。先绘制永磁体，永磁体可以看作由yOz平面上的正方形截面(边长20mm)，在xOy平面上沿马蹄形路径环绕而成。 Grid切换为YZ平面，创建一个矩形。属性Position设为0,20,0，YSize设为20，ZSize设为20。 Grid切换回XY平面，绘制截面经过的路径。先画一个线段，其Point1为0,20,0，Point2为-60,20,0。再点击右键Set Edge Type-&gt;Center Point Arc绘制一个半圆弧，先点击以下确定圆心，再点击确定圆弧终点，需要注意圆弧的方向。Start为-60,20,0，Center为-60,0,0，Angle为180。 最后从圆弧终点画一个线段，其Point1为-60,-20,0，Point2为0,-20,0。右键Done结束绘制。 （可以先画一个大概，然后在属性界面逐一修改坐标。若发现Lines目录消失，则在Unassigned目录可以找到） 选中截面与路径。右键Edit-&gt;Sweep-&gt;Along Path，弹出窗口直接点OK，便成功创建了马蹄形磁铁。 由图2可知马蹄形磁铁由永磁体和铁两部分构成，需要对其进行拆分。 Draw窗口Offset Origin（Measure坐标的三个箭头图标）下拉菜单选择Offset，点击马蹄形磁铁原截面的一个位置，建立一个相对坐标系。点击Coordinate Systems-&gt;RelativeCS1进入相对坐标系属性界面，修改Origin（坐标系原点）为-40,0,0。 选中马蹄形磁铁，右键Edit-&gt;Boolean-&gt;Split，弹出窗口的Split using plane（待切割平面）修改为YZ，Keep result选择Both（不删掉被切开两边的任意一边）。OK后便将磁铁切分为两个长方体（永磁体）与弧形（铁）两个部分。 两个长方体还需要进一步切分为两部分（N极与S极），右键Edit-&gt;Boolean-&gt;Separate Bodies便可将其一分为二。 接下来画铁棒。再建一个相对坐标系，RelativeCS2的Origin设为30,0,10。 在相对坐标系RelativeCS2基础上画一个圆柱，Grid切换回XZ平面，创建完毕后，Center Position修改为0,-40,0，Radius为10，Height为80。（也可以不建，使用原坐标系确定坐标） 画铁棒两端的半球，可以继续建立坐标系，坐标系原点作为球心，也可以用原坐标系确定球心坐标。球的Radius（半径）设为10。 选中构成铁棒的一个圆柱与两个球体，Edit-&gt;Boolean-&gt;Unite将其合为一体。 可以修改一下各个部件的名字，这里将铁棒命名为Iron_Stick，马蹄形磁铁的永磁体N级与S级分别命名为pm1与pm2，马蹄形磁铁的弧形部分命名为Iron_Arc。 接下来在原坐标系基础上建立空气域，先选择Global坐标系（原坐标系），点击Draw窗口Create Region，Padding Type修改为Absolute Offset（绝对偏移量），Value设为20mm。建好后双击CreateRegion对其大小进行调整（为了与Comsol官方案例保持一致，方便对比），这里将 -X Padding Data设为150mm，其余5项皆设为100mm。 材料 首先定义永磁体的材料，永磁体的材料在材料库中没有，需要自己创建。 双击pm1（N极），Material下拉菜单选择Edit（或者pm1右键Assign Material），点击Add Material。Material Name设为pm_1，Relative Permeability（相对磁导率）保持为1不变，Magnitude（矫顽力）设为-750000A/m。输入矫顽力后，其下方会多出X/Y/Z Component三栏，这表示充磁方向的单位矢量，pm1是N极，在这里它的充磁方向沿X轴正方向，所以充磁方向单位矢量是(1,0,0)，这里X Component填1，Y Component与Z Component填0。 pm2（S极）同理，创建材料命名为pm_2。唯一的区别是其充磁方向沿X轴负方向，故X Component填-1，其余与pm_1一致。 将Iron_Stick与Iron_Arc的材料设置为iron。铁的相对磁导率为4000。 网格 选中铁棒与马蹄形磁铁，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Length Based，弹出窗口设定尺寸为4mm。 求解 永磁体本身就是激励的一种，不需要再外加激励。 边界条件不需要去设置，静磁场中使用默认边界条件。 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面，使用默认设置即可，直接确认。 选中铁棒，右键Assign Parameters-&gt;Force，弹出的窗口点击确认。 自此所有设置工作全部结束，点击菜单栏Maxwell 3D-&gt;Analyze All开始求解。 后处理 Project Manager窗口右键Results-&gt;Solution Data可以看到铁棒上所受合力计算结果，本次实验测得大小为6.0057N，与Comsol文档中提供的数据6.1N接近，验证了本次实验的正确性。 再看一下磁场分布，在XY平面上建立一个截面。选中截面后右键Fields-&gt;B-&gt;B_Vector。 图3 磁通矢量 如果要看磁通密度云图，可以选中截面后右键Fields-&gt;B-&gt;Mag_B。 图4 磁通密度 不知道为什么，图像与原视频的不同，数值不对。不过铁棒上所受合力与原视频是接近的。 参考资料 手把手教你Maxwell-【案例B203】永磁体电磁力仿真（上） 手把手教你Maxwell-【案例B203】永磁体电磁力仿真（下） Comsol官方案例-永磁体-中文文档","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"Maxwell教程02-螺线管3D静磁场仿真","slug":"工业软件/ANSYS/Maxwell教程02-螺线管3D静磁场仿真","date":"2023-08-16T06:36:18.000Z","updated":"2024-01-25T05:20:20.898Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程02-螺线管3D静磁场仿真/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B02-%E8%9E%BA%E7%BA%BF%E7%AE%A13D%E9%9D%99%E7%A3%81%E5%9C%BA%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"基于B站视频手把手教你Maxwell-【案例B202】螺线管3D静磁场仿真整理的学习笔记，视频原作者为搞仿真的晴博。 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 我使用的软件版本为2023R1，与原视频软件版本2022R1不同，也有个人操作问题，会使实验结果与原视频不同，一切以原视频为准。 建模 直接建三维模型 在上期视频的工程基础上，Project Manager窗口工程文件右键Insert-&gt;Insert Maxwell 3D Design新建一个三维模型。 点击Draw菜单栏中的圆柱体图标，画一个线圈的内径（线圈内径10mm，外径12mm，高20mm），第一次点击点击确定圆心，第二次点击确定半径，第三次点击确定圆柱高。双击CreateCylinder进入属性界面，Radius设置为10，Height设置为20。 Number of Segments指的是多边形边数，这里设置为36，也就是将圆柱体近似为正三十六棱柱体。使用棱柱是为了保持模型的对称性，计算电场不要将圆柱近似为棱柱，计算磁场等物理量建议将圆柱近似为棱柱。 再以相同方法画一个圆柱（线圈外径），Radius设置为12，Number of Segments也设置为36。 选中两个圆柱体，做减法操作。右键Edit-&gt;Boolean-&gt;Subtract，弹出窗口界面中左侧Blank Parts是减数（大的），右侧Tool Parts是被减数（小的）。这里需要调换一下，让Cylinder2做Blank Parts，Cylinder1做Tool Parts。 接下来画电枢铁芯（半径8mm，长度30mm），点击Draw菜单栏中的圆柱体图标下面的棱柱体，画出一个棱柱，弹出的Number of Segments设置为24。属性Center Position设置为“0 ,0 ,-5”，Start Position设置为“8 ,0 ,-5”，Height设置为30。 画一个空气域，点击Draw菜单栏中的Create Region（红色边框空心正方体）图标，这次设置Percentage Offset值为200，表示在已经画出来的几何模型基础上扩大200%的区域内建立空气域。 在二维模型基础上建三维模型 Project Manager窗口右键上期视频建立的二维工程“Maxwell2DDesign1”点击Create 3D Design。弹出“Sweep Around Z Axis”窗口，旋转角度Angle of Sweep保持为360度，Number of Segments设置为36，就能得到相同的三维模型。 需要修改一下空气域，100改成200。 同理，三维模型取一个截面后也可以转化为二维模型。 材料 和上期视频操作一致。线圈命名为Coil，材料为Copper；铁芯命名为Core，材料为steel_1008。 激励 给线圈加一个电流。可以做一个截面，在截面上给电流。点击线圈，右键Edit-&gt;Surface-&gt;Section，弹出窗口选择YZ或XZ平面。（视频中选择了YZ平面） 这里产生了两个截面，需要去掉一个，选中截面右键Edit-&gt;Boolean-&gt;Separate Bodies将其一分为二，然后删掉两个截面中的一个。（视频中删除了Y轴负半轴上的截面） 选取Coil右键Assign Excitation-&gt;Current，选择电流为1000A，Type选择Standard（绞线圈）。这里点击Swap Direction可以调换电流方向。 可以在Project Manager窗口Excitation-&gt;Current1看到这个电流。 边界 空气域最外侧使用默认的纽曼条件，使用默认的H平行边界，不需要去设置。 网格 为使仿真结果更为准确，需要自己设置网格。 选中线圈，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Length Based，弹出窗口设定尺寸为2mm。 再选中铁芯，右键Assign Mesh Operation-&gt;Inside Selection-&gt;Length Based，弹出窗口设定尺寸为5mm，再右键Assign Mesh Operation-&gt;On Selection-&gt;Length Based，弹出窗口设定尺寸为2mm。 求解 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面，使用默认设置即可，直接确认。 收敛误差Percent Error默认为1%，如果要做精细计算，可以修改为0.1%。 点击菜单栏Maxwell 2D-&gt;Analyze All开始求解。 后处理 和上期视频一样，按照“先源量后场量、先定性再定量”的原则观察实验数据。 先看线圈电流，选中线圈后右键Fields-&gt;J-&gt;J_Vector查看电流矢量。如下图所示： 图1 线圈电流 观察到其电流方向正确，大小正常，说明线圈电流没有问题。 嵌入一个截面，点击Draw菜单栏中的Draw Rectangle（矩形）图标，弹出的窗口点Yes。将Draw菜单栏中Grid（网格）下面的下拉菜单选为YZ，这样就能在YOZ平面上画矩形，画好矩形后修改其属性使截面的位置更合适。（这里设置Position为0,30,-20，YSize为-60，XSize为60） 接下来看截面上的磁通密度，选中截面后右键Fields-&gt;B-&gt;Mag_B。 接下来看截面上的磁通矢量，选中截面后右键Fields-&gt;B-&gt;B_Vector。 图2 磁通密度 图3 磁通矢量 接下来看穿过螺线管的某个路径的磁力大小变化。点击菜单栏Draw-&gt;Draw Line（直线）绘制一条z轴上的线段。点击CreateLine可以修改点的坐标。（这里设置Point1为0,0,30，Point2为0,0,-10） 在Project Manager窗口Create Fields Report-&gt;Rectangular Plot。弹出的窗口Context-&gt;Geometry选择Polyline1，X轴坐标保持默认Distance（距离），Y轴坐标选择Mag_B（磁通密度）。点击New Report就可生成随线段路径上的点的位置变化的磁通密度曲线，如下图所示。 图4 磁通密度曲线 曲线图可以导出，右键Export即可，可以保存为图片，也可以保存为图表(csv)格式。 参考资料 手把手教你Maxwell-【案例B202】螺线管3D静磁场仿真","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"Maxwell教程01-螺线管2D静磁场仿真","slug":"工业软件/ANSYS/Maxwell教程01-螺线管2D静磁场仿真","date":"2023-08-13T13:56:52.000Z","updated":"2024-01-25T05:20:20.888Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程01-螺线管2D静磁场仿真/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B01-%E8%9E%BA%E7%BA%BF%E7%AE%A12D%E9%9D%99%E7%A3%81%E5%9C%BA%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"基于B站视频手把手教你Maxwell-【案例B201】螺线管静磁场仿真整理的学习笔记，视频原作者为搞仿真的晴博。 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 我使用的软件版本为2023R1，与原视频软件版本2021R2不同，也有个人操作问题，会使实验结果与原视频不同，一切以原视频为准。 背景介绍 图1 通电螺线管 通电螺线管由中间的铁芯与周围的线圈组成，在线圈中通入电压或电流后，线圈周围就会产生磁场。产生的磁场方向可以通过右手螺旋定则（安培定则）确定。 本次仿真在二维平面中进行，对螺线管的结构进行了二维简化，将其简化为经过螺线管在经过其对称轴的平面上的截面的右半部分。该截面沿对称轴旋转一周(360°)，就能得到原来的三维螺线管。 图2 螺线管简化 本次仿真实验将建立螺线管静磁场二维模型，分析所得磁场分布与磁通密度数据，验证其是否符合理论预期。 建模 打开软件，点击Desktop菜单里的Maxwell图标，点击Maxwell 2D。点完之后才会出现仿真界面。 点击菜单栏Maxwell 2D-&gt;Solution Type，改变求解模式，将Geometry Mode由Cartesian,XY改为Cylindrical about Z（关于Z轴的圆柱体），Magnetic（磁场类型）保持为Magnetostatic（静磁场）不变。 （也就是说画的是XoZ平面上的二维图像，然后绕Z轴形成一个圆柱体） 点击Draw菜单栏中的矩形图标，画一个线圈，点击CreateRectangle修改矩形尺寸与位置（单位mm）。 这里设置Position为10,0,0，表示线圈内径10mm；XSize设为2，ZSize设为20，表示线圈厚度2mm（外径12mm），高20mm。 可以在Properties（属性）窗口中修改Rectangle1的颜色，便于其与螺线管区分。 再画一个矩形（螺线管）。设置CreateRectangle的Position为0,0,25，XSize设为8，ZSize设为-30。这样就得到了一个半径8mm，长度30mm的螺线管。 （不难发现这里的Position是基础坐标，确定了矩形的一个顶点，XSize与YSize是矩形从顶点延伸出去的两个边长） 画一个空气域，点击Draw菜单栏中的Create Region（红色边框空心正方体）图标，设置Percentage Offset值为100，表示在已经画出来的几何模型基础上扩大100%的区域内建立空气域。 材料 双击Rectangle1进入属性界面，可以修改它的名称，这里修改为Coil（线圈）。Material（材料）修改为Copper（铜）。 Rectangle2同理，名字修改为Core（铁芯），材料为电工纯铁，这个材料库里没有，需要自己建立，包括自己确定磁化曲线，具体看原视频，这里不自己建了，选择材料steel_1008。 激励 给线圈加一个电流，选取Coil右键Assign Excitation-&gt;Current，选择电流为100A，方向保持为Positive（正方向）。可以在Project Manager窗口Excitation-&gt;Current1看到这个电流。 边界 右键仿真区域Selection Mode-&gt;Edge将选取模式改为边界，选中空气域的三个边（Z轴是对称轴，可以不给边界）。右键Assign Boundary-&gt;Balloon，确认后就可在Project Manager窗口Boundries-&gt;Balloon1看到这个气球边。 网格 网格使用默认的自适应网格，不需要去设置。 求解 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面。 General选项卡中Maximum Number of Passes为最大迭代次数，Percent Error为允许结束迭代的误差百分比（收敛误差，默认为1%）。 Convergance选项卡通常不改。其中Refinement Per Pass表示每次迭代前后，网格数量能增加的百分比（默认为30%）。Minimum Number of Passes表示无论是否达到收敛标准，必须在完成此处所设定的最小迭代次数之后才能停止网格剖分细化（默认值2）。Minimum Converged Passes表示在达到收敛标准后，还需要继续进行的迭代次数（默认值1）。 Solver选项卡Smooth BH Curve默认关闭，如果是自建材料使用了自己设置的磁化曲线时建议开启。 确认后就可在Project Manager窗口Analysis-&gt;Setup1看到这个求解设置。 正式求解前的最后一步，点击菜单栏Maxwell 2D-&gt;Validation Check，检查以下求解准备工作是否完成。 点击菜单栏Maxwell 2D-&gt;Analyze All开始求解。 计算完成后，可在Message Manager窗口中看到信息“Normal completion of simulation on server: Local Machine.” 在Project Manager窗口Results-&gt;Solution Data可以看到每次迭代的数据，还可以将View模式改为Plot观看其中任意两项数据关系的折线图。 图3 迭代结果 某一次的迭代结果如上图所示，其中Delta Energy项表示收敛误差百分比，可以看到在第三次迭代时数量降到了1以下，符合收敛标准。由于Minimum Converged Passes值设置为1，这使得迭代需要再此基础上再进行一次。 观察实验结果 顺序为“先源量后场量、先定性再定量”。 这里先看线圈电流，选中线圈后右键Fields-&gt;J-&gt;J_Vector查看电流矢量（结果为朝里的平行直线）。 再看磁场分布，将线圈、螺线管、空气域都选中，右键Fields-&gt;A-&gt;Flux_lines便可查看磁场，如果只想看一半（X轴正方向），可以将Full Model关闭。 接下来看磁通密度，选中线圈、螺线管、空气域后右键Fields-&gt;B-&gt;Mag_B。 接下来看磁通矢量，选中线圈、螺线管、空气域后右键Fields-&gt;B-&gt;B_Vector。 图4 磁场分布 图5 磁通密度 图6 磁通密度（矢量） 实验结果图像的显示效果可以在Project Manager窗口Field Overlays-&gt;J(或A，或B)-&gt;右键Modify Attributes进行修改。 观察特定点的数值，可以右键仿真区域Fields-&gt;Marker-&gt;Add Marker，弹出Measure Data窗口。菜单栏Draw-&gt;Measure（褐色正方体）下拉菜单选择为Position。 这样就可以选择几个点观察仿真数据了，Measure Data窗口会显示坐标信息，也可以在这个窗口里修改坐标。右上角会显示一个表格，包含所选点位的坐标与物理量数值。 图7 磁通密度（特定点数值） 观察某条线上的数值，点击菜单栏Draw-&gt;Draw Line（直线）绘制一条直线，弹出的窗口点Yes。画好线段后，可以双击CreateLine修改端点坐标。 在Project Manager窗口Create Fields Report-&gt;Rectangular Plot。弹出的窗口Context-&gt;Geometry选择Polyline1，X轴坐标保持默认Distance（距离），Y轴坐标选择Mag_B（磁通密度）。点击New Report就可生成随线段路径上的点的位置变化的磁通密度曲线，如下图所示。 图8 磁通密度曲线 待扩展的内容 线圈电感计算、线圈受力计算、螺线管磁场均匀度计算、参数化设计。 后面的视频会加以补充。 参考资料 手把手教你Maxwell-【案例B201】螺线管静磁场仿真 大物学习笔记（十八）——自感、互感与磁场的能量","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"运动控制系统10-转速、电流双闭环控制直流调速系统的设计","slug":"课程笔记/运动控制系统/运动控制系统10-转速、电流双闭环控制直流调速系统的设计","date":"2023-08-10T00:22:49.000Z","updated":"2024-01-25T05:20:20.999Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统10-转速、电流双闭环控制直流调速系统的设计/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F10-%E8%BD%AC%E9%80%9F%E3%80%81%E7%94%B5%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%AE%BE%E8%AE%A1/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第四章 转速、电流双闭环控制的直流调速系统 第三节 转速、电流双闭环控制直流调速系统的设计；对应页码p61-p91 控制系统的动态性能指标 在控制系统中设置调节器是为了改善系统的静、动态性能。 控制系统的动态性能指标包括对给定输入信号的跟随性能指标和对扰动输入信号的抗扰性能指标。 跟随性能指标 通常以输出量的初始值为零，给定信号阶跃变化下的过渡过程作为典型的跟随过程。此跟随过程的输出量动态响应称作阶跃响应。 图1 跟随性能指标 常用的阶跃响应跟随性能指标有上升时间\\(t_r\\)、超调量\\(\\sigma\\)、峰值时间\\(t_p\\)和调节时间\\(t_s\\)，如上图所示。 抗扰随性能指标 在调速系统中主要扰动来源于负载扰动和电网电压波动。 当调速系统在稳定运行中，突加一个使输出量降低（或上升）的扰动量\\(F\\)之后，输出量由降低（或上升）到恢复到稳态值的过渡过程就是一个抗扰过程。 图2 抗扰性能指标 常用的抗扰性能指标有动态降落\\(\\Delta C_{max}\\)和恢复时间\\(t_v\\)，如上图所示。 动态降落\\(\\Delta C_{max}\\)一般用它所占输出量原稳态值\\(C_{\\infty 1}\\)的百分数(\\(\\Delta C_{max}/C_{\\infty 1} \\times 100\\%\\))来表示。\\(C_{\\infty 2}\\)为扰动后的新稳态值，(\\(C_{\\infty 1} - C_{\\infty 2}\\))为扰动作用的稳态误差（静差），\\(C_b\\)为输出量基准值，视情况决定。 频域性能指标和伯德图 图3 典型控制系统伯德图 典型控制系统伯德图如上图所示，反映系统性能的伯德图特征有下列四个方面： 中频段以‐20dB/dec的斜率穿越零分贝线，而且这一斜率占有足够的频带宽度，则系统的稳定性好。 截止频率（或称剪切频率）\\(\\omega _c\\)越高，则系统的快速性越好。 低频段的斜率陡、增益高，表示系统的稳态精度好（即静差率小、调速范围宽）。 高频段衰减得越快，即高频特性负分贝值越低，说明系统抗高频噪声干扰的能力越强。 调节器的工程设计方法 典型系统 控制系统开环传递函数可表示为： \\[W(s) = \\frac{ {K\\prod\\limits_{i = 1}^m {({\\tau _i}s + 1)} } }{ { {s^r}\\prod\\limits_{j = 1}^n {({T_j}s + 1)} } }\\] 分母中的\\(s^r\\)项表示该系统在\\(s=0\\)处有\\(r\\)重极点，或者说系统有\\(r\\)个积分环节，称作\\(r\\)型系统。 为了使系统对阶跃给定无稳态误差，不能使用0型系统(r=0)，至少是Ⅰ型系统(r=1)；当给定是斜坡输入时，则要求是Ⅱ型系统(r=2)才能实现稳态无差。 由于Ⅲ型(r=3)和Ⅲ型以上的系统很难稳定，而0型系统的稳态精度低。因此常把Ⅰ型和Ⅱ型系统作为系统设计的目标。 典型Ⅰ型系统 典型Ⅰ型系统的开环传递函数为\\(W(s)=\\frac{K}{s(Ts+1)}\\)，其中\\(T\\)为系统的惯性时间常数，\\(K\\)为系统的开环增益。典型Ⅰ型系统的闭环系统结构图与开环对数频率特性如下图所示： 图4 典型Ⅰ型系统(a)闭环系统结构图 (b)开环对数频率特性 对数幅频特性的中频段以-20dB/dec的斜率穿越零分贝线，只要参数的选择能保证足够的中频带宽度，系统就一定是稳定的。 只包含开环增益\\(K\\)和时间常数\\(T\\)两个参数，时间常数\\(T\\)往往是控制对象本身固有的，唯一可变的只有开环增益\\(K\\) 。设计时，需要按照性能指标选择参数\\(K\\)的大小。 为使对数幅频特性的中频段以-20dB/dec的斜率穿越零分贝线，满足稳定裕度的要求。选择参数时需保证\\(\\omega _c &lt; \\frac{1}{T}\\)。进而使得\\(\\omega _c T&lt; 1\\)，\\(arctan\\omega _c T&lt;45^\\circ\\) 相角稳定裕度\\(\\gamma = 180^\\circ -90^\\circ -arctan\\omega _c T=90^\\circ -arctan\\omega _c T&gt;45^\\circ\\) 由对数坐标函数关系\\(20lgK=20(lg \\omega _c -lg1)=20lg \\omega _c\\)可知\\(K=\\omega _c (\\omega _c &lt;\\frac {1}{T})\\)，\\(KT&lt;1\\) \\(K\\)值越大，截止频率\\(\\omega _c\\)也越大，系统响应越快，但相角稳定裕度会越小。也就是说快速性与稳定性间存在矛盾。在选择参数\\(K\\)时，须在快速性与稳定性之间取折中。 动态跟随性能指标 典型Ⅰ型系统的闭环传递函数： \\[W_{cl}(s) = \\frac{W(s)}{1 + W(s)} = \\frac{ {\\frac{K}{ {s(Ts + 1)} } } }{ {1 + \\frac{K}{ {s(Ts + 1)} } } } = \\frac{ {\\frac{K}{T} } }{ { {s^2} + \\frac{1}{T}s + \\frac{K}{T} } } = \\frac{ {\\omega _n^2} }{ { {s^2} + 2\\xi {\\omega _n}s + \\omega _n^2} }\\] 其中自然震荡角频率\\({\\omega _n} = \\sqrt {\\frac{K}{T} }\\)，阻尼比\\(\\xi=\\frac{1}{2}\\sqrt {\\frac{1}{KT} }\\) \\(0&lt;\\xi&lt;1\\)时，欠阻尼，系统震荡；\\(\\xi&gt;1\\)时，过阻尼，系统单调；\\(\\xi=1\\)时为临界阻尼。 通常把系统设计成欠阻尼状态，又由\\(KT&lt;1\\)得\\(\\xi&gt;0.5\\)，因此通常取\\(0.5&lt;\\xi&lt;1\\)。 超调量\\(\\sigma = {e^{ - (\\xi \\pi /\\sqrt {1 - {\\xi ^2} } )} } \\times 100\\%\\) 上升时间\\(t_r = \\frac{2\\xi T}{\\sqrt {1 - {\\xi ^2} } }(\\pi - \\arccos \\xi )\\) 峰值时间\\(t_p = \\frac{\\pi }{ {\\omega _n}\\sqrt {1 - {\\xi ^2} } }\\) 调节时间\\(t_s \\approx \\frac{3}{ {\\xi {\\omega _n} } } = 6T\\)（\\(\\xi&lt;0.9\\)、误差带\\(\\pm 5\\%\\)的情况下近似估算） 截止频率\\(\\omega _c = {\\omega _n}{[\\sqrt {4{\\xi ^4} + 1} - 2{\\xi ^2}]^{\\frac{1}{2} } }\\)（精确计算，不使用伯德图近似估算） 相角稳定裕度\\(\\gamma = \\arctan \\frac{2\\xi}{ { {[\\sqrt {4{\\xi ^4} + 1} - 2{\\xi ^2}]}^{\\frac{1}{2} } } }\\) 根据上列各式，求出\\(0.5&lt;\\xi&lt;1\\)时典型Ⅰ型系统各项动态跟随指标和频域指标与参数\\(KT\\)的关系如下表所示： 表1 典型Ⅰ型系统各项动态跟随指标和频域指标与参数\\(KT\\)的关系 参数关系\\(KT\\) 阻尼比\\(\\xi\\) 超调量\\(\\sigma\\) 上升时间\\(t_r\\) 峰值时间\\(t_p\\) 相角稳定裕度\\(\\gamma\\) 截止频率\\(\\omega _c\\) 0.25 1.0 0% 76.3° 0.243/T 0.39 0.8 1.5% 6.6T 8.3T 69.9° 0.367/T 0.50 0.707 4.3% 4.7T 6.2T 65.5° 0.455/T 0.69 0.6 9.5% 3.3T 4.7T 59.2° 0.596/T 1.0 0.5 16.3% 2.4T 3.6T 51.8° 0.786/T 可以观察到系统的时间常数T已知时，随着K的增大，系统的快速性提高，但稳定性变差。 要求动态响应快时可取\\(\\xi = 0.5 \\sim 0.6\\)，并选较大的K；要求超调小时可取\\(\\xi = 0.8 \\sim 1.0\\)，并选较小的K；要求无超调时可取\\(\\xi = 1.0\\)。 无特殊要求时，取\\(\\xi = 0.707\\)，\\(KT=0.5\\)，这一参数又称为“二阶最佳整定参数”，它兼顾了快速性与稳定性。 动态抗扰性能指标 影响到参数K的选择的第二个因素是它和抗扰性能指标之间的关系，典型Ⅰ型系统已经规定了系统的结构，分析它的抗扰性能指标的关键因素是扰动作用点，某种定量的抗扰性能指标只适用于一种特定的扰动作用点。 这里以电流环扰动作用为例分析典型Ⅰ型系统的抗电网电压波动性能。 图5 电流环典型Ⅰ型系统电压扰动下动态结构(a)动态结构图 (b)等效结构图 其中\\(T_1=T_s\\)，\\(T_2=T_l\\)，\\(K_2=\\beta /R\\)，再取\\(K_1=K_pK_s/\\tau\\)，\\(\\tau=T_2\\)（\\(T_2&gt;T_1\\)） 讨论抗扰性能时，令输入变量\\(R(s)=0\\)，输出变量写成\\(\\Delta C\\)。 令\\(m=\\frac{T_1}{T_2}&lt;1\\)为小时间常数与大时间常数的比值，分别分析\\(m=\\frac{1}{5},\\frac{1}{10},\\frac{1}{20},\\frac{1}{30}\\)时的最大动态降落\\(\\Delta C_{max}\\)、最大动态降落对应时间\\(t_m\\)与恢复时间\\(t_v\\)。 具体分析过程参见教材p68-p69，这里不再赘述，下面放出结论 表2 典型Ⅰ型系统动态抗扰指标和频域指标与参数\\(m\\)的关系 \\(m\\) 最大动态降落\\(\\frac{\\Delta C_{max} }{C_b} \\times 100\\%\\) 最大动态降落时间\\(\\frac{t_m}{T_2}\\) 恢复时间\\(\\frac{t_v}{T_2}\\) \\(\\frac{1}{5}\\) 27.78% 0.566 2.209 \\(\\frac{1}{10}\\) 16.58% 0.336 1.478 \\(\\frac{1}{20}\\) 9.27% 0.19 0.741 \\(\\frac{1}{30}\\) 6.45% 0.134 1.104 当控制对象的两个时间常数相距越大（m值越小），动态降落越小。 恢复时间的变化不是单调的，\\(m=\\frac{1}{20}\\)时恢复时间最短。 典型Ⅱ型系统 典型Ⅱ型系统的开环传递函数为\\(W(s) = \\frac{K(\\tau s + 1)}{ {s^2}(Ts + 1)}\\)。 其中\\(T\\) 为系统的惯性时间常数，分子上的比例微分环节\\((\\tau s + 1)\\)用以保证系统稳定，待定参数为\\(K\\)和\\(\\tau\\)。 图6 典型Ⅱ型系统(a)闭环系统结构图 (b)开环对数频率特性 典型Ⅱ型系统的闭环系统结构图与开环对数频率特性如上图所示。与典型Ⅰ型系统一样，中频段以-20dB/dec的斜率穿越零分贝线。要求\\(\\frac{1}{\\tau}&lt;\\omega _c&lt;\\frac{1}{T}\\)，或者\\(\\tau&gt;T\\)。 相角稳定裕度\\(\\gamma = 180^\\circ - 180^\\circ + arctan\\omega _c\\tau - arctan\\omega _c T = arctan\\omega _c\\tau - arctan\\omega _c T\\) 由相角稳定裕度可知\\(\\tau\\)比\\(T\\)大得越多，系统的稳定裕度越大。 由对数坐标函数关系\\(20lgK=40(lg\\omega _1 - lg1) + 20(lg\\omega _c - lg1)=20lg\\omega _1 \\omega _c\\)可知\\(K=\\omega _1 \\omega _c\\)。 改变\\(K\\)相当于使开环对数幅频特性上下平移，从而改变截止频率\\(\\omega _c\\)，此特性与闭环系统的快速性有关。 定义中频宽（斜率为-20dB/dec的中频段宽度）\\(h=\\frac{\\tau}{T}=\\frac{\\omega _2}{\\omega _1}\\)，中频宽的状况对控制系统的动态品质起着决定性的作用。 由于\\(T\\)值一定，改变\\(\\tau\\)就相当于改变了中频宽\\(h\\)，在此基础上改变\\(K\\)相当于改变\\(\\omega _c\\)。因此选择频域参数\\(h\\)和\\(\\omega _c\\)，相当于选择参数\\(\\tau\\)和\\(K\\)。 采用“振荡指标法”中的闭环幅频特性峰值最小准则，可以找到\\(h\\)和\\(\\omega _c\\)两个参数之间的一种最佳配合。 这一准则表明对于一定的\\(h\\)值，只有一个确定的\\(\\omega _c\\)或\\(K\\)可以得到最小的闭环幅频特性峰值\\(M_{rmin}\\)。 取\\(\\omega _c=\\frac{\\omega _1+\\omega _2}{2}\\)时，有\\(M_{rmin}=\\frac{h+1}{h-1}\\)。 \\(h\\)值越大，\\(M_{rmin}\\)越小，超调量便会随之减小，但是\\(\\omega _c\\)也会减小，这会使系统的快速性变弱。 \\(h\\)通常在3~10间选择。确定\\(h\\)值后，可以推算出\\(\\tau = hT\\)，\\(K=\\frac{h+1}{2h^2 T^2}\\)。 具体推算过程见教材p70-p71 动态跟随性能指标 以\\(T\\)为时间基准，当\\(h\\)取3~10的不同值时，求其对应单位阶跃响应函数，计算出\\(\\tau\\)、\\(t_r/T\\)、\\(t_s/T\\)和震荡次数\\(k\\)。 具体计算过程与计算结果见教材p71-p72，这里不再赘述，下面放出结论 动态跟随性能分析结论： 调节时间\\(t_s\\)随\\(h\\)的变化不单调，当\\(h=5\\)时，调节时间最短。 \\(h\\)值越小，上升时间\\(t_s\\)越快；\\(h\\)值越大，超调量\\(\\tau\\)越小。 综合考虑，可以取\\(h=5\\)，其动态跟随性能比较适中。 动态抗扰性能指标 这里以转速环扰动作用为例分析典型Ⅱ型系统的抗负载波动性能。 图6 转速环典型Ⅱ型系统负载扰动下动态结构(a)动态结构图 (b)等效结构图 取\\(K_1=K_p K_d/\\tau _1\\)，\\(\\tau _1=hT\\)，\\(K_2=\\frac{R\\alpha}{T_m C_e}\\)，\\(K=K_1 K_2\\)，按照闭环幅频特性峰值最小准则确定参数关系。 令输入变量\\(R(s)=0\\)，输出变量写成\\(\\Delta C\\)，阶跃扰动\\(F(s)=\\frac{F}{s}\\)，输出变量写成\\(\\Delta C\\)。 计算出不同\\(h\\)值对应的动态抗扰过程曲线\\(\\Delta C(t)\\)，进而求最大动态降落\\(\\Delta C_{max}\\)、最大动态降落对应时间\\(t_m\\)与恢复时间\\(t_v\\)。 具体分析过程与计算结果参见教材p72-p73，这里不再赘述，下面放出结论 动态抗扰性能分析结论： \\(h\\)值越小，最大动态降落\\(\\Delta C_{max}\\)越小，最大动态降落对应时间\\(t_m\\)越短，说明抗扰性能越好。 恢复时间\\(t_v\\)随\\(h\\)的变化不单调，当\\(h&lt;5\\)时，由于震荡次数增加，恢复时间\\(t_v\\)变长。 综合考虑，可以取\\(h=5\\)，其动态抗扰性能比较适中。 控制对象的工程近似处理方法 高频段小惯性环节的近似处理 当高频段有多个小时间常数\\(T_1,T_2,T_3,\\ldots\\)的小惯性环节时，可以等效地用一个小时间常数\\(T\\)的惯性环节来代替。 其等效时间常数为\\(T=T_1+T_2+T_3+\\ldots\\)。 图7 高频段小惯性环节的近似处理 两个高频小惯性环节的近似条件：\\({\\omega _c} \\leqslant \\frac{1}{ {3\\sqrt { {T_1}{T_2} } } }\\) 三个高频小惯性环节的近似条件：\\({\\omega _c} \\leqslant \\frac{1}{3}\\frac{1}{ {\\sqrt { {T_1}{T_2} + {T_2}{T_3} + {T_3}{T_1} } } }\\) 高阶系统的降阶近似处理 如三阶稳定系统\\(W(s)=\\frac{K}{as^3+bs^2+cs+1}\\)（\\(a,b,c\\)均为正数且\\(bc&gt;a\\)） 在一定条件下可以忽略高次项近似为\\(W(s)\\approx \\frac{K}{cs+1}\\) 近似条件：\\(\\omega _c \\leqslant \\frac{1}{3} min(\\sqrt{\\frac{1}{b} },\\sqrt{\\frac{c}{a} })\\) 低频段大惯性环节的近似处理 当系统中存在一个时间常数特别大的惯性环节时\\(\\frac{1}{Ts+1}\\)，可以近似地将它看成是积分环节\\(\\frac{1}{Ts}\\) 近似条件：\\(\\omega _c \\geqslant \\frac{3}{T}\\) 图8 低频段大惯性环节的近似处理 这种近似处理仅适用于分析动态性能，考虑稳态精度时仍要使用原来的传递函数\\(W(s)\\)。 按工程设计方法设计转速、电流反馈控制直流调速系统的调节器 设计原则为“先内环后外环”。 先从电流环开始，进行必要的变换与近似处理，根据电流环控制要求确定矫正成Ⅰ型系统还是Ⅱ型系统，根据控制对象确定电流调节器类型，按动态性能指标确定电流调节器的参数。电流环设计完成后，将电流环等效为转速环的一个环节，再用同样的方法设计转速环。 电流调节器的设计 图9 双闭环调速系统动态结构图 确定时间常数 Ⅰ型系统与Ⅱ型系统所需要确定的时间常数相同。 ①电力电子变换器滞后时间常数\\(T_s\\)：对于PWM变换器，其滞后时间常数为其开关频率的倒数，如开关频率为8kHz的PWM变换器的\\(T_s=0.000125s\\)；对于晶闸管整流器，其滞后时间常数为其最大失控时间的一半。 ②电流滤波时间常数\\(T_{oi}\\)：为消除纹波应有\\(\\frac{1}{T_{oi}} = (\\frac{1}{5}\\sim\\frac{1}{10}) \\frac{1}{T_{s}}\\)。 ③电流环小时间常数之和\\(T_{\\sum i}=T_s+T_{oi}\\)（按小时间常数近似处理）。 选择电流调节器结构 首先根据实际控制需求确定使用Ⅰ型系统还是Ⅱ型系统。 如果要选用Ⅰ型系统，需检查对电源电压的抗扰性能，求\\(\\frac{T_l}{T_{\\sum i} }\\)的值。这里\\(\\frac{T_l}{T_{\\sum i} }=\\frac{T_2}{T_1}=\\frac{1}{m}\\)可以求出\\(m\\)值，查看表2判断动态抗扰性能是否符合要求。 典型Ⅰ型系统把双惯性环节的电流环控制对象近似等效成只有较小时间常数\\(2T_{\\sum i}\\)的一阶惯性环节，加快了电流的跟随作用。使用典型Ⅰ型系统的前提是超前环节恰好对消掉了控制对象的大惯性环节，如果电动机参数测量不准，大惯性环节未被准确对消，就会影响电流环的动态性能。 具体分析过程与计算结果参见教材p78-p80，这里不再赘述 如果要选用Ⅱ型系统，典型Ⅱ型系统超调量大，不能很好满足电流环对跟随性能指标的要求。可以在电流给定后加入低通滤波能有效降低超调量，解决这一问题。但响应速度会变慢，调节时间与上升时间变长。 低通滤波是一个惯性环节，其时间常数为\\(T_{in}\\)。经过实验分析，可知当\\(T_{in}=4T_{\\sum i}\\)时，超调量得到了有效的降低且调节时间最短。因此一般选择低通滤波时间常数\\(T_{in}=4T_{\\sum i}\\)，再判断在此条件下是否符合要求。 具体分析过程与计算结果参见教材p81-p84，这里不再赘述 计算电流调节器参数 对于Ⅰ型系统： 电流调节器设计为PI调节器，其传递函数\\(W_{ACR}(s)=\\frac{K_i(\\tau _i s+1)}{\\tau _i s}\\) 校正为Ⅰ型系统传递函数\\(W_{opi}(s)=\\frac{K_i \\beta K_s /R}{\\tau_i s(T_{\\sum i}s+1)}=\\frac{K_I}{s(T_{\\sum i}s+1)}\\) 电流调节器超前时间常数\\(\\tau_i=T_l\\) （这里\\(T_l \\gg T_{\\sum i}\\)，用调节器的零点对消掉控制对象的大时间常数极点，以便矫正成Ⅰ型系统） 电流环开环增益\\(K_I=\\frac{0.5}{T_{\\sum i} }\\)（取\\(K_I T_{\\sum i}=0.5\\)时） 电流调节器比例系数\\(K_i=\\frac{K_I \\tau_i R}{K_s \\beta}\\) 对于Ⅱ型系统： 电流调节器设计为PI调节器，传递函数同上。 校正为Ⅱ型系统传递函数\\(W_{opi}(s)=\\frac{K_i \\beta K_s(\\tau_i s+1)}{\\tau_i R T_l s^2(T_{\\sum i}s+1)}=\\frac{K_I(\\tau_i s+1)}{s^2(T_{\\sum i}s+1)}\\) （这里的大惯性环节\\(\\frac{1}{T_l s+1}\\)满足近似条件\\(\\omega_{cli} \\geqslant \\frac{3}{T_l}\\)被近似为积分环节） 电流调节器超前时间常数\\(\\tau_i=hT_{\\sum i}\\) 电流调节器比例系数\\(K_i=\\frac{h+1}{2h}\\frac{RT_l}{K_s \\beta T_{\\sum i}}\\) 校验近似条件 Ⅰ型系统取电流环截止频率\\(\\omega_{ci}=K_I\\) Ⅱ型系统取电流环截止频率\\(\\omega_{ci} \\approx \\frac{1}{4T_{\\sum i} }\\) Ⅰ型系统与Ⅱ型系统都要校验的近似条件： ①PWM变换器传递函数近似条件\\(\\frac{1}{3T_s}&gt;\\omega_{ci}\\) ②忽略反电动势变化对电流环动态影响条件\\(3\\sqrt{\\frac{1}{T_m T_l} }&lt;\\omega_{ci}\\) ③电流环小时间常数近似处理条件\\(\\frac{1}{3}\\sqrt{\\frac{1}{T_s T_{oi} } }&gt;\\omega_{ci}\\) Ⅱ型系统还需要校验的近似条件： ④大惯性环节近似处理条件\\(\\frac{3}{T_l} \\leqslant \\omega_{cli}\\) 计算调节器电阻与电容 Ⅰ型系统电路参数： 图10 含配合滤波与反馈滤波的PI电流调节器 含配合滤波与反馈滤波的PI电流调节器如上图所示，\\(U_i^*\\)为电流给定电压，\\(-\\beta I_d\\)为电流负反馈电压，调节器输出量\\(U_c\\)为电力电子变换器控制电压。 \\(R_0\\)需要按照运算放大器实际情况自己给定。 \\(R_i=K_i R_0\\) \\(C_i=\\frac{\\tau_i}{R_i}\\) \\(C_{oi}=\\frac{4T_{oi} }{R_0}\\) Ⅱ型系统电路参数： 图11 输入滤波与含配合滤波与反馈滤波的PI电流调节器串联 Ⅱ型系统需要在原PI调节器前加入输入滤波，如上图所示。 \\(R_0\\)与\\(R_{i\\_i}\\)需要根据实际情况自己给定。 \\(R_i\\)、\\(C_i\\)、\\(C_{oi}\\)运算公式与Ⅰ型系统电路相同。 \\(C_{i\\_i}=\\frac{4T_{\\sum i} }{R_{i\\_i} }\\) 转速调节器的设计 确定时间常数 分析转速环时，电流环被等效为一阶惯性环节，其时间常数为\\(2T_{\\sum i}\\)。 转速滤波时间常数\\(T_{on}\\)根据测速发电机纹波情况选取，可以取\\(T_{on}=0.01s\\)。 转速环小时间常数\\(T_{\\sum n}\\)按小时间常数近似处理，取\\(T_{\\sum n}=2T_{\\sum i}+T_{on}\\)。 选择转速调节器结构 为了实现转速无静差，在负载扰动作用点前需有一个积分环节，包含在转速调节器中，由于在扰动作用点后已经有了一个积分环节，因此转速环开环传递函数应有两个积分环节。转速调节器需设计为典型Ⅱ型系统，这样的系统同时也能满足动态抗扰性能好的要求。 转速调节器也设计为PI调节器，其传递函数为\\(W_{ASR}(s)=\\frac{K_n(\\tau_n s+1)}{\\tau_n s}\\)。 调速系统开环传递函数\\(W_n(s)=\\frac{K_n \\alpha R(\\tau_n s+1)}{\\tau_n \\beta C_e T_m s^2(T_{\\sum n}s+1)}=\\frac{K_N(\\tau_n s+1)}{s^2(T_{\\sum n}s+1)}\\) 计算转速调节器参数 转速调节器超前时间常数\\(\\tau_n=hT_{\\sum n}\\) 转速环开环增益\\(K_N=\\frac{h+1}{2h^2 T_{\\sum n}^2}\\) 转速调节器比例系数\\(K_n=\\frac{(h+1)\\beta C_e T_m}{2h\\alpha R T_{\\sum n} }\\) 校验近似条件 转速环截止频率\\(\\omega_{cn}=\\frac{K_N}{\\omega_1}\\) 电流环传递函数简化条件\\(\\frac{1}{3}\\sqrt{\\frac{K_I}{T_{\\sum i} } }&gt;\\omega_{cn}\\) 转速换小时间常数近似处理条件\\(\\frac{1}{3}\\sqrt{\\frac{K_I}{T_{on} } }&gt;\\omega_{cn}\\) 计算调节器电阻与电容 图12 含配合滤波与反馈滤波的PI转速调节器 含配合滤波与反馈滤波的PI转速调节器如上图所示，\\(U_n^*\\)为转速给定电压，\\(-\\alpha n\\)为转速负反馈电压，调节器输出量\\(U_i^*\\)为电流调节器给定电压。 \\(R_0\\)需要按照运算放大器实际情况自己给定。 \\(R_n=K_n R_0\\) \\(C_n=\\frac{\\tau_n}{R_n}\\) \\(C_{on}=\\frac{4T_{on} }{R_0}\\) 校核转速超调量 突加阶跃给定时，ASR饱和，不符合线性系统的前提，在饱和限幅的非线性控制作用下，超调量会大大降低，需要按照ASR退饱和的情况重新计算超调量。 图13 ASR饱和时转速换按Ⅱ型系统设计的调速系统起动过程 上图\\(t_2\\)时刻，当转速超过给定值之后，转速调节器ASR由饱和限幅状态进入线性调节状态，此时的转速环由开环进入闭环控制，迫使电流由最大值\\(I_{dm}\\)降到负载电流\\(I_{dl}\\)。ASR开始退饱和时，由于电动机电流\\(I_d\\)仍大于负载电流\\(I_{dl}\\)，电动机继续加速，直到\\(I_d &lt; I_{dl}\\)时转速才降低。这不是按线性系统规律的超调，而是经历了饱和非线性区域之后的超调，因此称作“退饱和超调”。 ASR退饱和超调量计算公式为： \\[\\sigma_n = (\\frac{\\Delta {C_{max} } }{C_b})\\frac{\\Delta n_b}{n^*}=2(\\frac{\\Delta{C_{max} } }{C_b})(\\lambda-z)\\frac{\\Delta{n_N} }{n^*}\\frac{T_{\\sum n} }{T_m}\\] 具体公式推导参见教材p87-p90，这里不再赘述 式中\\(\\frac{\\Delta {C_{max} } }{C_b}\\)为动态降落，可以根据\\(h\\)值查教材P73表4-5得知，\\(h=5\\)时\\(\\frac{\\Delta {C_{max} } }{C_b}=81.2\\%\\)。 \\(\\lambda\\)为电动机允许的过载倍数，有\\(I_{dm}=\\lambda I_{dN}\\)。 \\(z\\)为负载系数，有\\(I_{dL}=z I_{dN}\\)。 \\(\\Delta{n_N}\\)为调速系统开环机械特性的额定稳态速降，\\(\\Delta{n_N}=\\frac{I_{dN} R}{C_e}\\)。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统09-转速、电流双闭环控制直流调速系统的数学模型与动态过程分析","slug":"课程笔记/运动控制系统/运动控制系统09-转速、电流双闭环控制直流调速系统的数学模型与动态过程分析","date":"2023-08-09T00:01:00.000Z","updated":"2024-01-25T05:20:20.989Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统09-转速、电流双闭环控制直流调速系统的数学模型与动态过程分析/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F09-%E8%BD%AC%E9%80%9F%E3%80%81%E7%94%B5%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%95%B0%E5%AD%A6%E6%A8%A1%E5%9E%8B%E4%B8%8E%E5%8A%A8%E6%80%81%E8%BF%87%E7%A8%8B%E5%88%86%E6%9E%90/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第四章 转速、电流双闭环控制的直流调速系统 第二节 转速、电流双闭环控制直流调速系统的数学模型与动态过程分析；对应页码p57-p61 动态数学模型 图1 双闭环控制直流调速系统动态结构图 转速、电流双闭环控制直流调速系统的动态结构图如上图所示。图中\\(W_{ASR}(s)\\)与\\(W_{ACR}(s)\\)分别表示转速调节器和电流调节器的传递函数，红框内为电机部分。 动态过程分析 起动过程 图2 起动过程 双闭环直流调速系统起动过程的转速和电流波形如上图所示。由图可知电流\\(I_d\\)先从零增长到\\(I_{dm}\\)，然后在一段时间内维持在\\(I_{dm}\\)不变，之后又下降并经调节到达稳态值\\(I_{dL}\\)。转速\\(n\\)先缓慢升速，然后以恒加速上升，产生超调后，最终回到给定值\\(n^*\\)。 起动过程分为电流上升、恒流升速和转速调节三个阶段，转速调节器在此三个阶段中经历了不饱和、饱和以及退饱和三种情况。 电流上升阶段 第I阶段\\((0 \\sim t_1)\\)是电流上升阶段。 \\(t=0\\)时，系统突加阶跃给定信号\\(U_n^*\\)，在ASR与ACR调节器作用下，\\(U_c\\)、\\(U_{d0}\\)、\\(I_d\\)均上升。 \\(I_d \\geqslant I_{dL}\\)后，电机起动，由于机电惯性作用，转速不会很快增长。转速调节器ASR的输入偏差电压仍较大，这使得其比例部分输出值较大，输出电压保持在限幅值\\(U_{im}^*\\)，强迫电枢电流\\(I_d\\)迅速上升。在这一阶段，ASR很快进入饱和状态，而ACR一般不饱和。直到\\(I_d= I_{dm}\\)，\\(U_i=U_{im}^*\\)，此时电流调节器ACR压制了\\(I_d\\)的增长，第I阶段结束。 恒流升速阶段 第II阶段\\((t_1 \\sim t_2)\\)是恒流升速阶段。 ASR调节器始终保持在饱和状态，转速环相当于开环工作。系统表现为使用PI调节器的电流闭环控制，ACR的给定值就是ASR的饱和值\\(U_{im}^*\\)，基本上保持电流\\(I_d=I_{dm}\\)不变，因此系统的加速度恒定，转速呈线性增长。 电流闭环调节的扰动是电动机的反电动势\\(E\\)，其值随着转速\\(n\\)线性增长，电枢电压\\(U_{d0}\\)和控制电压\\(U_c\\)也线性增加。反电动势\\(E\\)是一个线性渐增的斜坡扰动量，因此系统做不到无静差，而是使\\(I_d\\)略低于\\(I_{dm}\\)。 转速调节阶段 第III阶段(\\(t_2\\)以后)是转速调节阶段。 转速上升至给定值\\(n^*\\)时，ASR的输入偏差为0，但输出由于控制器积分环节作用仍维持在\\(U_{im}^*\\)，这使得转速超调。 转速超调后\\(\\Delta n &lt; 0\\)，ASR退出饱和状态，\\(U_i\\)和\\(I_d\\)很快下降。由于此时\\(I_d\\)仍大于负载电流\\(I_{dL}\\)，转速仍继续上升。直到\\(t_3\\)时刻，\\(I_d=I_{dL}\\)，转矩\\(T_e=T_L\\)，\\(\\frac{dn}{dt}=0\\)，转速达到峰值。 \\(t_3 \\sim t_4\\)时间内，\\(I_d &lt; I_{dL}\\)，转速开始减速，直到转速稳定。如果调节器参数整定得不够好，则会有一段振荡的过程。 在第III阶段中，ASR和ACR都不饱和，ASR起主导转速调节作用，ACR是一个电流跟随子系统，力图使\\(I_d\\)尽快跟随其给定值\\(U_i^*\\)。 起动过程的三个特点 饱和非线性控制——随着ASR的饱和与不饱和，系统处于完全不同的两个状态，因此需要分段分析，不能用线性系统理论分析整个起动过程。 转速超调——ASR采用PI调节器必有超调。 准时间最优控制——“时间最优控制”指在设备物理条件允许下实现最短时间的控制。起动过程I、II两个阶段电流不能突变，使得实际起动过程与理想起动过程有一定差距，因此这里的起动过程可称为“准时间最优控制”。 制动过程 图3 制动过程 双闭环直流调速系统制动过程的控制电压、电枢电流与转速波形如上图所示。这里采用电动机拖动位能性恒转矩负载进行举例。 \\(t_0\\)时刻收到停车指令后，电流先从\\(I_{dL}\\)衰减至0，随后建立反向电枢电流\\(-I_d\\)，直到其反向最大值\\(-I_{dm}\\)，并在一段时间内近似维持在\\(-I_{dm}\\)不变。最后负值电流降低，回到稳态值\\(I_{dL}\\)。 转速波形先缓慢下降，再恒速下降，产生反向超调后，经过调节达到给定值0（停转）。 制动过程分为正向电流衰减、反向电流建立、恒流制动和转速调节四个阶段。转速调节器在此四个阶段中经历了不饱和、饱和以及退饱和三种情况。 正向电流衰减阶段 第I阶段\\((t_0 \\sim t_1)\\)是正向电流衰减阶段。 \\(t_0\\)时刻收到停车指令，转速调节器的输入偏差为较大负值，其输出电压很快下降到反向限幅值\\(-U_{im}^*\\)，电流环强迫电枢电流迅速下降到0，标志着这一阶段结束。 电流调节器输入偏差\\(\\Delta U_i=-U_{im}^*-U_i\\)，调节器输出控制电压快速下降，电枢电压也随之快速下降。 转速调节器很快进入并保持饱和状态。 反向电流建立阶段 第II阶段\\((t_1 \\sim t_2)\\)是反向电流建立阶段。 转速调节器输入偏差仍为较大负值，始终处在反向饱和状态，转速环相当于开环，系统为在恒值给定\\(-U_{im}^*\\)控制下的电流单环系统，强迫电流在\\(t_2\\)时刻反向增加至\\(-I_{dm}\\)。 电流调节器输入仍为负值，电枢电流快速下降，电流调节器中比例输出在快速增加，待电枢电流下降到一定值后，输出控制电压和电枢电压开始上升，但只要\\(U_d&lt;E\\), 电流将继续下降。 第II阶段电机处于反接制动状态，和第I阶段一样，所占时间很短，转速来不及产生明显下降。 恒流制动阶段 第III阶段\\((t_2 \\sim t_3)\\)是恒流制动阶段（又称“回馈制动阶段”）。 转速环仍为开环，系统仍为在恒值给定\\(-U_{im}^*\\)控制下的电流单环系统，除短暂的电流调节阶段外，在恒流制动阶段中反电动势\\(E\\)线性下降，为维持\\(I_d \\approx -I_{dm}\\)，控制电压线性降低，电枢电压也随之线性下降。 由于电流调节系统的扰动量是电动机的反电动势，它是一个线性渐减的扰动量，而扰动作用点之前只有一个积分环节，所以系统做不到无静差，而是接近于\\(-I_{dm}\\)。 电动机在恒减速条件下回馈制动，把机械动能转换为电能存在直流母线的电容中，直到\\(t_3\\)时刻电动机转速下降到0。恒流制动阶段所占的时间最长，是制动过程的主要阶段。 转速调节阶段 第IV阶段(\\(t_3\\)以后)是转速调节阶段。 转速下降到0后，转速调节器输入偏差减小到0，但其输出却由于积分作用还维持在限幅值\\(-U_{im}^*\\)，电动机开始反转，转速调节器输出反向退饱和，\\(-U_i^*\\)反向快速下降，电枢电流\\(I_d\\)在电流环的作用下跟随给定，反向快速下降到0后建立正向电枢电流。此时仍有\\(I_d&lt;I_{dL}\\)，转速继续下降，直至\\(t_4\\)时刻，\\(I_d=I_{dL}\\)，转速达到反向最大值。此后电动机反向减速，直至停转。 转速调节阶段电机反电动势很小，电枢电压主要用来改变电枢电流，控制电压变化趋势与电流波形相似，但相位超前。 与起动过程转速调节阶段类似，如果调节器参数整定得不够好，最后还会有一段振荡过程。 与起动过程转速调节阶段类似，ASR和ACR都不饱和，ASR起主导转速调节作用，ACR是一个电流跟随子系统，力图使\\(I_d\\)尽快跟随其给定值\\(U_i^*\\)。 与起动过程类似，制动过程也有饱和非线性控制、转速超调、准时间最优控制这三个特点。 动态抗扰性能分析 调速系统，最主要的抗扰性能有抗负载扰动性能和抗电网电压扰动性能。调速系统抗扰能力与其作用点的位置有关。 观察双闭环控制直流调速系统动态结构图（图1），负载扰动影响的是\\(I_{dL}\\)，其作用点在电流环之后，只能靠转速调节器ASR来产生抗负载扰动的作用。因此在设计ASR时，要求有较好的抗扰性能指标。电网电压扰动(\\(\\pm \\Delta {U_d}\\))影响的是\\(U_{d0}\\)，扰动作用点在电流环之前，可以通过电流反馈得到比较及时的调节，使抗扰性能得到改善。在双闭环系统中，由电网电压波动引起的转速变化会比单闭环系统小得多。 转速、电流调节器在双闭环系统中的作用 转速调节器的作用 转速调节器是调速系统的主导调节器，它使转速很快地跟随给定电压变化, 稳态时可减小转速误差，如果采用PI调节器，则可实现无静差。 对负载变化起抗扰作用。 其输出限幅值决定电动机允许的最大电流。 电流调节器的作用 作为内环的调节器，在转速外环的调节过程中，使电流紧紧跟随其给定电压（即外环调节器的输出量）变化。 对电网电压的波动起及时抗扰的作用。 在转速动态过程中，保证获得电机允许的最大电流，从而加快动态过程。 当电动机过载甚至堵转时，限制电枢电流的最大值，起快速的自动保护作用。一旦故障消失，系统自动恢复正常。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统08-转速、电流双闭环控制直流调速系统的组成及其静特性","slug":"课程笔记/运动控制系统/运动控制系统08-转速、电流双闭环控制直流调速系统的组成及其静特性","date":"2023-08-07T23:51:22.000Z","updated":"2024-01-25T05:20:20.989Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统08-转速、电流双闭环控制直流调速系统的组成及其静特性/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F08-%E8%BD%AC%E9%80%9F%E3%80%81%E7%94%B5%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90%E5%8F%8A%E5%85%B6%E9%9D%99%E7%89%B9%E6%80%A7/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第四章 转速、电流双闭环控制的直流调速系统 第一节 转速、电流双闭环控制直流调速系统的组成及其静特性；对应页码p53-p56 转速单闭环控制的直流调速系统存在的问题 转速单闭环控制的直流调速系统使用PI调节器后可以实现转速稳态无静差，消除负载转矩对稳态转速的影响，并使用电流截止负反馈限制电枢电流的冲击，避免出现过电流现象。但转速单闭环系统不能充分控制电流（或电磁转矩）的动态过程，电流截止负反馈不能很好地控制电流的动态波形。 对于经常正、反转运行的调速系统，缩短起、制动过程的时间是提高生产率的重要因素。 图1 时间最优的理想过渡过程 时间最优的理想过渡过程如上图所示，在起动（或制动）过渡过程中，希望始终保持电流（电磁转矩）为允许的最大值，使调速系统以最大的加（减）速度运行。当达到稳态转速时，最好使电流立即降下来，使电磁转矩与负载转矩相平衡，从而迅速转入稳态运行。 转速、电流双闭环控制直流调速系统的组成 为了实现在允许条件下的最快起动，关键是要获得一段使电流保持为最大值\\(I_{dm}\\)的恒流过程，采用电流负反馈可以得到近似的恒流过程。 需要在起动过程中只有电流负反馈，没有转速负反馈。达到稳态转速后，使转速负反馈发挥主要作用，使转速跟随给定，而电流负反馈不起阻碍作用。 为了实现上述要求，需要在系统中设置两个调节器，分别引入转速负反馈和电流负反馈以调节转速和电流，且两者需要在系统中以特定的方式连接。 图2 双闭环直流调速系统原理图 图3 双闭环直流调速系统电路图ASR—转速调节器 ACR—电流调节器 TG—测速发电机 TA—电流互感器 UPE—电力电子变换器\\(U_n^*\\)—转速给定电压 \\(U_n\\)—转速反馈电压 \\(U_i^*\\)—电流给定电压 \\(U_i\\)—电流反馈电压 转速、电流双闭环直流调速系统原理图如图2所示，其电路图如图3所示。可见转速调节器(ASR)与电流调节器(ACR)两者实行串级连接。转速调节器的输出作为电流调节器的输入，再用电流调节器输出作为电力电子变换器(UPE)的输入。 从闭环结构上看，电流环在里面，称作内环；转速环在外边，称作外环。形成了转速、电流双闭环控制直流调速系统。 稳态结构图与参数计算 图4 双闭环直流调速系统稳态结构图\\(\\alpha\\)—转速反馈系数 \\(\\beta\\)—电流反馈系数 双闭环直流调速系统的稳态结构图如上图所示。可见转速与电流调节器均采用带限幅作用的PI控制。转速调节器的输出限幅电压决定了电流给定的最大值，电流调节器的输出限幅电压限制了电力电 子变换器的最大输出电压。 当调节器不饱和时，PI调节器工作在线性调节状态，其作用是使输入偏差电压在稳态时为零；当调节器饱和时，输出达到限幅值，输入量的变化不再影响输出，除非有反向的输入信号使调节器退出饱和。 对于静特性来说，只有转速调节器饱和与不饱和两种情况，设计合理的电流调节器不进入饱和状态。 双闭环直流调速系统的静特性 图5 双闭环直流调速系统静特性 转速调节器不饱和 两个调节器都不饱和，输入偏差电压都为零，即转速、电流均无静差。 对应图上静特性AB段，此时负载电流\\(I_d &lt; I_{dm}\\)，转速\\(n = \\frac{U_n^*}{\\alpha} = n_0\\)。此时转速调节器起主要调节作用。 \\[U_n^*=U_n=\\alpha n=\\alpha n_0\\] \\[U_i^*=U_i=\\beta I_d\\] 转速调节器饱和 ASR输出输出达到限幅值时，转速外环呈开环状态，转速的变化对转速环不再产生影响。 对应图上静特性BC段，此时负载电流\\(I_d = \\frac{U_{im}^*}{\\beta} = I_{dm}\\)，转速\\(n &lt; n_0\\)。此时电流调节器起主要调节作用，双闭环系统变成一个电流无静差的单电流闭环调节系统。 当ASR处于饱和状态时，\\(I_d=I_{dm}\\)，若负载电流减小，\\(I_d&lt;I_{dm}\\)，使转速上升，\\(n&gt;n_0\\)，\\(\\Delta n&lt;0\\)，ASR反向积分，使ASR调节器退出饱和。 各变量的稳态工作点和稳态参数计算 双闭环调速系统在稳态工作中，当两个调节器都不饱和时，各变量关系为： \\[U_n^*=U_n=\\alpha n=\\alpha n^*\\] \\[U_i^*=U_i=\\beta I_d=\\beta I_{dL}\\] \\[U_c=\\frac{U_{d0} }{K_s}=\\frac{C_en+I_dR}{K_s}=\\frac{C_eU_n^*/\\alpha+I_{dL}R}{K_s}\\] 上述关系表明，在稳态工作点上，转速\\(n\\)由给定电压\\(U_n^*\\)决定，ASR的输出量\\(U_i^*\\)由负载电流\\(I_{dL}\\)决定，ACR的输出量由即控制电压\\(U_c\\)的大小同时取决于\\(n\\)和\\(I_d\\)（或\\(U_n^*\\)和\\(I_{dL}\\)） 当转速给定和电枢电流分别为\\(U_{nm}^*\\)和\\(I_{dm}\\)，调节器输出对应最大控制电压\\(U_{cm}\\)。 根据各调节器的给定与反馈值计算有关的反馈系数： 转速反馈系数\\(\\alpha=\\frac{U_{nm}^*}{n_{max} }\\)，电流反馈系数\\(\\beta=\\frac{U_{im}^*}{I_{dm} }\\)。 两个给定电压的最大值\\(U_{nm}^*\\)和\\(U_{im}^*\\)由设计者选定。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统07-转速闭环直流调速系统的限流保护","slug":"课程笔记/运动控制系统/运动控制系统07-转速闭环直流调速系统的限流保护","date":"2023-08-07T00:58:52.000Z","updated":"2024-01-25T05:20:20.989Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统07-转速闭环直流调速系统的限流保护/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F07-%E8%BD%AC%E9%80%9F%E9%97%AD%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E9%99%90%E6%B5%81%E4%BF%9D%E6%8A%A4/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第三章 转速闭环控制的直流调速系统 第三节 转速闭环直流调速系统的限流保护；对应页码p42-p44 转速闭环直流调速系统的限流问题 转速反馈控制直流调速系统有效解决了调速范围与静差率的矛盾，有效抑制了扰动对转速的影响，采用比例积分调节器后便可实现无静差调速。然而转速反馈控制直流调速系统并没有实现对电流的控制，在电动机的起动、制动过程与堵转状态下，必须限制电枢电流。 起动：突加给定电压时，电枢电压\\(U_d\\)立即立即达到它的最高值，对电动机来说，相当于全压起动，会造成电动机过流。 堵转：根据系统静特性，堵转时电流将远远超过允许值。如果只依靠过流继电器或熔断器来保护，过载时就跳闸。 因此系统中必须有自动限制电枢电流的环节，需要引入电流负反馈，使它不超过允许值。但这种作用只应在起动和堵转时存在，在正常的稳速运行时又得取消。因为正常运行时需要电流随着负载的增减而变化，电流负反馈会抑制电动机的带载能力。 这种电流大到一定程度时才出现的电流负反馈，称为电流截止负反馈。 带电流截止负反馈环节的直流调速系统 图1 带电流截止负反馈环节的模拟实现(a)利用独立直流电源作为比较电压 (b)利用稳压管产生比较电压 用模拟电路实现带电流截止负反馈环节如上图所示，电流反馈信号取自串入电动机电枢回路的小阻值电阻\\(R_s\\)，\\(I_dR_s\\)正比于电流。设\\(I_{dcr}\\)为临界截止电流，当电流大于\\(I_{dcr}\\)时，将电流负反馈信号加到放大器输入端；当电流小于\\(I_{dcr}\\)时，将电流反馈切断。 图(a)中使用独立的直流电流源作为比较电压\\(U_{com}\\)，图(b)使用稳压管的击穿电压\\(U_{br}\\)作为比较电压\\(U_{com}\\)。 图2 电流截止负反馈环节输入输出特性 电流截止负反馈环节输入输出特性如上图所示： 当\\(I_dR_s &gt; U_{com}\\)时，二极管导通，电流负反馈信号加到\\(U_i\\)上，\\(U_i=I_dR_s-U_{com}\\)； 当\\(I_dR_s \\leqslant U_{com}\\)时，二极管截止，输出\\(U_i=0\\)，可知截止电流\\(I_{dcr}=\\frac{U_{com} }{R_s}\\)。 带电流截止负反馈比例控制闭环直流调速系统的稳态结构框图与静特性 图3 带电流截止负反馈比例控制闭环直流调速系统的稳态结构框图 带电流截止负反馈的比例控制闭环直流调速系统的稳态结构框图如上图所示，其静特性如下图所示。 \\(I_d \\leqslant I_{dcr}\\)时，电流负反馈被截止，其静特性与转速负反馈调速系统的静特性相同,对应下图CA段。 \\[n = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} (1 + K) } } - \\frac{ {R{I_d} } } { { {C_e} (1 + K) } }\\] \\(I_d &gt; I_{dcr}\\)时，引入电流负反馈，静特性发生改变，对应下图AB段。 \\[n = \\frac{ { {K_p}{K_s}U_n^*} }{ { {C_e}(1 + K)} } - \\frac{ { {K_p}{K_s} } }{ { {C_e}(1 + K)} }({R_s}{I_d} - {U_{com} }) - \\frac{ {R{I_d} } }{ { {C_e}(1 + K)} }\\] \\[= \\frac{ { {K_p}{K_s}(U_n^* + {U_{com} })} }{ { {C_e}(1 + K)} } - \\frac{ {(R + {K_p}{K_s}{R_s}){I_d} } }{ { {C_e}(1 + K)} }\\] 图4 带电流截止负反馈比例控制闭环直流调速系统的静特性 电流负反馈的作用相当于在主电路中串入一个大电阻\\({K_p}{K_s}{R_s}\\)因此稳态速降极大，特性急剧下垂。 比较电压\\(U_{com}\\)作用与给定电压\\(U_n^*\\)一致，相当于将给定电压提高至\\(U_n^*+U_{com}\\)，AB段的理想空载转速被提高为\\(n_0&#39; = \\frac{ { {K_p}{K_s}(U_n^* + {U_{com} })} }{ { {C_e}(1 + K)} }\\)。 这样的两段式静特性常被称作下垂式特性或挖土机特性。 令\\(n=0\\)，可得到堵转电流\\(I_{dbl}\\)（一般\\({K_p}{K_s}{R_s} \\gg R\\)）： \\[{I_{dbl} } = \\frac{ { {K_p}{K_s}(U_n^* + {U_{com} })} }{ {R + {K_p}{K_s}{R_s} } } \\approx \\frac{ {U_n^* + {U_{com} } } }{ { {R_s} } }\\] 堵转电流\\(I_{dbl}\\)应小于电动机允许的最大电流，一般取\\(I_{dbl}=(1.5 \\sim 2)I_N\\)。 截止电流\\(I_{dcr}\\)应大于电动机的额定电流，一般取\\(I_{dcr}=(1.1 \\sim 1.2)I_N\\)。 带电流截止负反馈的无静差直流调速系统 图5 带电流截止负反馈的无静差直流调速系统 带电流截止负反馈的无静差直流调速系统如上图所示，采用PI调节器实现无静差，采用带电流截止负反馈环节限制电枢电流。 TA为检测电流的交流互感器，经整流后得到电流反馈信号\\(U_i\\)。 当电流达到截止电流\\(I_{dcr}\\)时，\\(U_i\\)高于稳压管VS的击穿电压，使晶体三极管VT导通。 忽略晶体管VT的导通压降，则PI调节器的输出电压\\(U_c=0\\)，电力电子变换器的输出电压\\(U_d=0\\)，达到限制电流的目的。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统06-无静差的转速闭环直流调速系统","slug":"课程笔记/运动控制系统/运动控制系统06-无静差的转速闭环直流调速系统","date":"2023-08-05T23:14:51.000Z","updated":"2024-01-25T05:20:20.979Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统06-无静差的转速闭环直流调速系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F06-%E6%97%A0%E9%9D%99%E5%B7%AE%E7%9A%84%E8%BD%AC%E9%80%9F%E9%97%AD%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第三章 转速闭环控制的直流调速系统 第二节 无静差的转速闭环直流调速系统；对应页码p38-p42 比例控制规律 在比例控制的调速系统中调节器输出为电力电子变换器控制电压\\(U_c\\)，输入输出关系为\\({U_c} = {K_p}\\Delta {U_n}\\)。这使得电动机运行时\\(\\Delta {U_n}\\)会一直存在，即静差无法消除。比例控制调速系统突加负载（负载转矩由\\(T_{L1}\\)增加到\\(T_{L2}\\)）时调速系统转速\\(n\\)、偏差电压\\(\\Delta {U_n}\\)、控制电压\\(U_c\\)的动态变化过程如下图所示。 图1 有静差调速系统突加负载时的动态过程 积分控制规律 积分调节器中输出量为输入量的积分，输入量为转速误差信号\\(\\Delta {U_n}\\)时，积分调节器的输入输出关系为： \\[{U_c} = \\frac{1}{\\tau }\\int\\limits_0^t {\\Delta {U_n}dt}\\] 其传递函数为： \\[{W_I}(s) = \\frac{1}{\\tau s}\\] 其中\\(\\tau\\)为积分时间常数，积分调节器的输入输出动态过程如下图所示。 图2 积分调节器的输入输出动态过程 可以观察到当\\(\\Delta {U_n}\\)为阶跃函数时，\\(U_c\\)按线性规律增长。其大小与\\(\\Delta {U_n}\\)与横轴包围的区域面积成正比。（体现了积分控制的延缓作用与积累作用）直到达到输出限幅值\\(U_{cm}\\)不再增长。 当\\(\\Delta {U_n}\\)为零时，\\(U_c\\)并不为零，而是一个终值\\(U_{cf}\\)。若\\(\\Delta {U_n}\\)一直为零，则\\(U_c\\)将始终保持为终值不再变化（体现了积分控制的记忆作用）。正因为如此，积分控制可以使系统在无静差的情况下保持恒速运行，实现无静差调速。 图3 积分控制调速系统突加突加负载时的动态过程 积分控制调速系统突加突加负载时的动态过程如上图所示。可见突加负载时\\(I_{dL}\\)增加使转速\\(n\\)下降，产生正的\\(\\Delta {U_n}\\)，从而使\\(U_c\\)增长。值得注意的是，在积分控制中\\(U_c\\)的增长量与\\(\\Delta {U_n}\\)曲线形成的阴影面积成正比，而不是像比例控制那样与\\(\\Delta {U_n}\\)本身成正比。当\\(\\Delta {U_n}\\)值降为零时，\\(U_c\\)的增长量不再变化，即\\(U_c\\)不再变化，这样实现了无静差的调速。 换句话说，\\(U_c\\)的改变依靠的是\\(\\Delta {U_n}\\)在一段时间内的积累。 比例积分控制器及其控制规律 积分控制可以实现无静差调速，但是在快速性上却不如比例控制。为兼顾快速性与稳态精度上的优势，可以采用比例积分(PI)控制。 PI调节器的输入输出关系为： \\[{U_{ex} } = {K_p}{U_{in} } + \\frac{1}{\\tau}\\int\\limits_0^t { {U_{in} }dt}\\] PI调节器的传递函数为： \\[{W_{PI} }(s) = K_p + \\frac{1}{\\tau s} = {K_p}\\frac{ {\\tau_1}s + 1}{ {\\tau_1}s}\\] 其中\\(K_p\\)为比例放大系数，\\(\\tau\\)为积分时间常数，\\(\\tau_1={K_p}\\tau\\)为微分项中的超前时间常数。 图4 比例积分(PI)调节器 采用模拟控制时，比例积分调节器可以用运算放大器实现，其电路图如上图所示（运算放大器原理参见《模拟电子技术》教材）。 输入\\(U_{in}\\)的极性和输出\\(U_{ex}\\)的极性时反向的。\\(R_{bal}\\)为运算放大器同相输入端平衡电阻，一般取反向输入端各路电阻的并联值。 输入输出关系为： \\[{U_{ex} } = \\frac{R_1}{R_0}{U_{in} } + \\frac{1}{ { {R_0}{C_1} } }\\int { {U_{in} }dt} = {K_p}{U_{in} } + \\frac{1}{\\tau }\\int { {U_{in} }dt}\\] 其中比例放大系数\\(K_p=\\frac{R_1}{R_0}\\)、积分时间常数\\(\\tau={R_0}{C_1}\\) 图5 比例积分控制调速系统突加突加负载时的动态过程 比例积分控制调速系统突加突加负载时的动态过程如上图所示，突加负载后负载电流增大，转速\\(n\\)下降同时产生\\(\\Delta {U_n}\\)。这里\\(U_c\\)的响应曲线由比例部分与积分部分叠加而成。其中①与\\(\\Delta {U_n}\\)成正比，是比例部分的响应曲线；其中②与从\\(t=0\\)到此时刻对\\(\\Delta {U_n}(t)\\)的积分值（\\(\\Delta {U_n}\\)曲线与横轴由\\(t=0\\)到此时刻间的阴影面积）成正比，是积分部分的响应曲线。从时间上看，前期比例部分起主要作用，实现了迅速响应，增强了系统的的快速性；后期积分部分起主要作用，最终消除稳态误差。\\(\\Delta {U_n}\\)归零后比例部分不再起作用，积分部分也始终保持为终值不再变化，这样就实现了无静差的调速。 在起动及抗负载扰动过程中，比例作用由强变弱，起强烈作用，加速系统响应；积分作用由弱变强，最后消除静差。比例积分控制综合了比例控制和积分控制的优点。比例部分能迅速响应控制作用，积分部分则最终消除稳态误差。 无静差的转速单闭环直流调速系统稳态参数设计 图6 无静差直流调速系统稳态结构图 无静差的转速单闭环直流调速系统稳态结构图如上图所示。图中转速调节器（Automatic Speed Regulator,ASR）采用比例积分调节器，用象征性的比例积分特性来表示。 系统稳态工作时，各变量间有以下关系： \\[U_n^* = {U_n} = \\alpha n = \\alpha {n^*}\\] \\[{U_c} = \\frac{U_{d0} }{K_s} = \\frac{ { {C_e}{n^*} + {I_d}R} }{ { {K_s} } } = \\frac{ { {C_e}U_n^*/\\alpha + {I_{dL} }R} }{K_s}\\] 由此可知，在稳态工作点上，转速\\(n\\)由给定电压\\(U_n^*\\)决定，ASR的输出量控制电压\\(U_c\\)的大小由\\(n\\)和\\(I_d\\)决定（或由\\(U_n^*\\)和\\(I_{dL}\\)决定）。 这体现了PI调节器与P调节器的不同之处。P调节器的输出量总是正比于其输入量，而 PI调节器的输出量在动态过程中取决于输入量的积分，而到达稳态时，输入为零，输出的稳态值与输入无关，而是由它后面环节为了保证输入为零的需要决定的。 无静差直流调速系统的稳态参数计算： 稳态时\\(\\Delta {U_n}=0\\)，\\(U_n=U_n^*\\) 转速反馈系数\\(\\alpha=\\frac {U_{nmax}^*}{n_{max} }\\) 其中\\(n_{max}\\)为电动机调压时的最高转速，\\(U_{nmax}^*\\)为相应的最高给定电压。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统05-有静差的转速闭环直流调速系统","slug":"课程笔记/运动控制系统/运动控制系统05-有静差的转速闭环直流调速系统","date":"2023-08-03T03:34:10.000Z","updated":"2024-01-25T05:20:20.969Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统05-有静差的转速闭环直流调速系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F05-%E6%9C%89%E9%9D%99%E5%B7%AE%E7%9A%84%E8%BD%AC%E9%80%9F%E9%97%AD%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第三章 转速闭环控制的直流调速系统 第一节 有静差的转速闭环直流调速系统；对应页码p28-p38 比例控制转速闭环直流调速系统的结构与静特性 转速开环控制系统对负载扰动没有任何抑制作用。因此要引入负反馈，构成转速闭环的控制系统。 图1 比例控制转速闭环直流调速系统原理框图 比例控制的转速闭环直流调速系统原理框图如上图所示。相较于开环系统，闭环系统增加了比例放大器A与测速发电机TG。 图中\\(U_n^*\\)为给定电压，\\(U_n\\)为反馈电压，其大小与被测转速成正比。给定电压与反馈电压做差得到转速偏差电压\\(\\Delta {U_n}\\)。转速偏差电压经过比例放大器A放大后得到控制电压\\(U_c\\)，控制电压是实际加到电力电子变换器UPE（相控整流器或PWM变换器）的电压值。系统其余部分与开环系统相同。 比例控制转速闭环直流调速系统各个环节关系式（忽略非线性因素、忽略控制器电源与电位器内阻）： 电压比较环节：\\(\\Delta {U_n} = U_n^* - {U_n}\\) 比例放大器：\\({U_c} = {K_p}\\Delta {U_n}\\)（\\(K_p\\)为比例系数） 测速反馈环节：\\({U_n} = \\alpha n\\)（\\(\\alpha\\)为转速反馈系数，单位V·min/r） 电力电子变换器：\\({U_{d0}} = {K_s}{U_c}\\) 直流电动机：\\(n = \\frac{ { {U_{d0} } - {I_d}R} } {C_e}\\) 根据上述关系式，可以得到系统稳态结构框图如下所示： 图2 比例控制转速闭环直流调速系统稳态结构框图 将给定量\\(U_n^*\\)与扰动量\\(-{I_d}R\\)看作两个独立的输入量，求其单独作用时的输入输出关系式，再将二者结果叠加得到闭环调速系统静特性方程式： \\[n = \\frac{ { {K_p} {K_s}U_n^* - {I_d}R} } { { {C_e} (1 + {K_p} {K_s}\\alpha /{C_e} ) } } = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} (1 + K) } } - \\frac{ {R{I_d} } } { { {C_e} (1 + K) } }\\] 这里取闭环系统的开环放大系数\\(K = \\frac{ { {K_p} {K_s}\\alpha } } {C_e}\\)。 开环系统机械特性和比例闭环系统静特性的对比分析 开环系统机械特性： \\(n = \\frac{ { {U_{d0} } - {I_d}R} } { { {C_e} } } = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} } } - \\frac{ {R{I_d} } } { { {C_e} } } = {n_{0op} } - \\Delta {n_{op} }\\) 其中\\(n_{0op}\\)为开环系统的理想空载转速，\\(\\Delta n_{op}\\)为开环系统的稳态速降。 比例闭环系统静特性： \\(n = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} (1 + K) } } - \\frac{ {R{I_d} } } { { {C_e} (1 + K) } } = {n_{0cl} } - \\Delta {n_{cl} }\\) 其中\\(n_{0cl}\\)为闭环系统理想空载转速，\\(\\Delta n_{cl}\\)为闭环系统的稳态速降。 当\\(K\\)值较大时，\\(\\Delta n_{cl}\\)比\\(\\Delta n_{op}\\)小得多，二者关系为：\\(\\Delta {n_{cl} } = \\frac{ {\\Delta {n_{op} } } } { {1 + K} }\\)。 由此可知，闭环系统静特性比开环系统机械特性要硬的多。 闭环系统静差率\\({s_{cl} } = \\frac{ {\\Delta {n_{cl} } } } { { {n_{0cl} } } }\\)；开环系统静差率\\({s_{op} } = \\frac{ {\\Delta {n_{op} } } } { { {n_{0op} } } }\\)。 当\\({n_{0op} } = {n_{0cl} }\\)时，有\\({s_{cl} } = \\frac{ { {s_{op} } } } {1 + K}\\)。 由此可知，理想空载转速一致时，闭环系统静差率比开环系统小得多。 闭环系统调速范围\\({D_{cl} } = \\frac{ { {n_N}s} } { {\\Delta {n_{cl} } (1 - s) } }\\)；开环系统调速范围\\({D_{op} } = \\frac{ { {n_N}s} } { {\\Delta {n_{op} } (1 - s) } }\\)。 若两者最高转速都为\\(n_N\\)，最低速静差率都为\\(s\\)，则有\\({D_{cl} } = (1 + K){D_{op} }\\)。 由此可知，系统要求静差率一定时，闭环系统可以有更大的调速范围。 图3 闭环系统静特性和开环系统机械特性的关系 闭环系统静特性和开环系统机械特性如上图所示。 在开环状态下，提高负载，负载电流\\(I_d\\)增大，转速会有明显的下降，如图中从A点到A'点。 转速闭环状态下，转速下降时，测速反馈电压\\(U_n\\)会相应的减小，使得给定电压与反馈电压差值\\(\\Delta U_n\\)变大，进而使控制电压\\(U_c\\)与整流器输出电压\\(U_{d0}\\)成比例变大，最终使转速\\(n\\)有所回升，显著降低稳态速降，如图中从A点到B点。 也就是说，在闭环系统中，每增加（或减少）一点负载，就相应地提高（或降低）一点电枢电压，使电动机在新的机械特性下工作。比例控制直流调速系统能够减少稳态速降的实质在于它的自动调节作用，在于它能随着负载的变化而相应地改变电枢电压，以补偿电枢回路电阻压降的变化。 闭环直流调速系统的反馈控制规律 只有比例放大器的反馈控制系统，其被调量仍是有静差的。静差率\\(\\Delta {n_{cl} } = \\frac{ {R{I_d} } } { { {C_e}(1 + K)} }\\)，无论K为多少，静差率都不为零，过大的K值会使系统不稳定。 反馈控制系统的作用是：抵抗扰动，服从给定 。它能够有效地抑制一切被包含在负反馈环内前向通道上的扰动作用，但对给定信号的任何变化都是唯命是从。 系统的精度依赖于给定和反馈检测的精度。反馈控制系统无法鉴别是给定信号的正常调节还是外界的电压波动。反馈通道上有一个测速反馈系数，它同样存在着因扰动而发生的波动，由于它不是在被反馈环包围的前向通道上，因此也不能被抑制。 比例控制转速闭环系统的稳定性 转速反馈控制直流调速系统的动态数学模型 比例放大器传递函数：\\({W_a}(s) = \\frac{ { {U_c} (s) } } { {\\Delta {U_n}(s)} } = {K_p}\\) 电力电子变换器传递函数：\\({W_s}(s) \\approx \\frac{ { {K_s} } } { { {T_s}s + 1} }\\) 注：参考运动控制系统02-晶闸管整流器——直流电动机系统与运动控制系统03-PWM变换器——电动机系统，相控整流器或PWM变换器的近似传递函数相同，只是不同场合下\\(K_s\\)与\\(T_s\\)的数值不同。 测速反馈环节传递函数：\\({W_{fn} }(s) = \\frac {U_n(s)} {n(s)} = \\alpha\\) 直流电动机动态数学模型： 注：参考运动控制系统01-绪论与运动控制系统02-晶闸管整流器——直流电动机系统 图4 他励直流电动机在额定励磁下的等效电路 (1)电压方程（假设主电路电流连续） \\[{U_{d0} } = R{I_d} + L\\frac{ {d{I_d} } } { {dt} } + E\\] (2)转矩方程 额定励磁下的电磁转矩：\\({T_e} = {C_m} {I_d}\\) 额定励磁下的感应电动势：\\(E = {C_e}n\\) 电动机轴上的动力学方程（忽略粘性摩擦及弹性转矩）：\\({T_e} - {T_L} = \\frac{ {G{D^2} } } { {375} }\\frac{ {dn} } { {dt} }\\) 其中， \\(T_L\\)——包括电动机空载转矩在内的负载转矩(N·m) \\({GD}^2\\)——电力拖动装置折算到电动机轴上的飞轮惯量(N·㎡) \\({C_m} = \\frac{ {30} } {\\pi } {C_e}\\)——电动机额定励磁下的转矩系数(N·m/A) 上述式子可整理为： \\[{U_{d0} } - E = R({I_d} + {T_l}\\frac{ {d{I_d} } } {dt})\\] \\[{I_d} - {I_{dL} } = \\frac{ { {T_m} } } {R}\\frac{ {dE} } { {dt} }\\] 其中， \\({T_l} = \\frac{L}{R}\\)——电枢回路电磁时间常数(s) \\({T_m} = \\frac{ {G{D^2}R} }{ {375{C_e}{C_m} } }\\)——电力拖动系统机电时间常数(s) \\({I_{dL} } = \\frac{T_L}{C_m}\\)——负载电流(A) 在零初始条件下，取拉氏变换，得电压与电流间的传递函数为 \\[\\frac{ { {I_d}(s)} }{ { {U_{d0} }(s) - E(s)} } = \\frac{ {\\frac{1}{R} } }{ { {T_1}s + 1} }\\] 电流与电动势间的传递函数为 \\[\\frac{ {E(s)} }{ { {I_d}(s) - {I_{dL} }(s)} } = \\frac{R}{ { {T_m}s} }\\] 通过上述两个式子与公式\\(E = {C_e}n\\)，可得额定励磁下直流电动机的动态结构框图如下图所示： 图5 额定励磁下直流电动机的动态结构框图 由上图可知，直流电动机有两个输入量，一个是施加在电枢上的理想空载电压\\(U_{d0}\\)（控制输入量），另一个是负载电流\\(I_{dL}\\)（扰动输入量）。如果不需要在结构图中显现出电流，可将扰动量的综合点移前，再进行等效变换，如下图所示： 图6 直流电动机动态结构框图的变换 由上图可知，额定励磁直流电动机可以等效为一个二阶线性环节。\\(T_m\\)和\\(T_l\\)时间常数分别表示机电惯性和电磁惯性。完整的转速反馈控制直流调速系统如下图所示： 图7 转速反馈控制直流调速系统的动态结构框图 比例控制闭环直流调速系统的动态稳定性 转速反馈控制的直流调速系统的开环传递函数： \\[W(s) = \\frac{ { {U_n}(s)} }{ {\\Delta {U_n}(s)} } = \\frac{K}{ {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1)} }\\] 其中\\(K = {K_p}{K_s}\\alpha /{C_e}\\) 转速反馈控制的直流调速系统的闭环传递函数： \\[{W_{cl} }(s) = \\frac{ {n(s)} }{ {U_n^*(s)} } = \\frac{ {\\frac{ { {K_p}{K_s}/{C_e} } } { {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1)} } } }{ {1 + \\frac{ { {K_p}{K_s}\\alpha /{C_e} } }{ {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1)} } } } = \\frac{ { {K_p}{K_s}/{C_e} } }{ {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1) + K} }\\] \\[= \\frac{ {\\frac{ { {K_p}{K_s} } }{ { {C_e}(1 + K)} } } }{ {\\frac{ { {T_m}{T_l}{T_s} } }{ {1 + K} }{s^3} + \\frac{ { {T_m}({T_l} + {T_s})} }{ {1 + K} }{s^2} + \\frac{ { {T_m} + {T_s} } }{ {1 + K} }s + 1} }\\] 由上式可知，比例控制闭环系统的特征方程为\\(\\frac{ { {T_m}{T_l}{T_s} } }{ {1 + K} }{s^3} + \\frac{ { {T_m}({T_l} + {T_s})} }{ {1 + K} }{s^2} + \\frac{ { {T_m} + {T_s} } }{ {1 + K} }s + 1 = 0\\) 对于三阶系统\\({a_0}{s^3} + {a_1}{s^2} + {a_2}s + {a_3} = 0\\)，其劳斯判据判断系统稳定的充分必要条件是\\(a_0&gt;0\\),\\(a_1&gt;0\\),\\(a_2&gt;0\\),\\(a_3&gt;0\\),\\({a_1}{a_2}-{a_0}{a_3}&gt;0\\) 这里特征方程各项系数均大于0符合要求，故其系统稳定条件为\\(\\frac{ { {T_m}({T_l} + {T_s})} }{ {1 + K} } \\cdot \\frac{ { {T_m} + {T_s} } }{ {1 + K} } - \\frac{ { {T_m}{T_l}{T_s} } }{ {1 + K} } &gt; 0\\) 整理后得\\(K &lt; \\frac{T_m}{T_s} + \\frac{T_m}{T_l} + \\frac{T_s}{T_l}\\) 取系统的临界放大系数\\(K_{cr} = \\frac{T_m}{T_s} + \\frac{T_m}{T_l} + \\frac{T_s}{T_l}\\)，则当\\(K \\geqslant K_{cr}\\)时，系统将不稳定。 通常情况下，K值越大意味着系统的稳态误差越小，稳态性能越好，而上述计算却说明K值增大会降低系统的动态性能，K值过大甚至会使系统不稳定。由此可见，比例控制闭环系统的动态稳定性和稳态性能的要求是矛盾的。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"乐理笔记07-和弦","slug":"音乐/乐理/乐理笔记07-和弦","date":"2023-07-23T23:02:57.000Z","updated":"2024-01-25T05:20:21.081Z","comments":true,"path":"音乐/乐理/乐理笔记07-和弦/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B007-%E5%92%8C%E5%BC%A6/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 143-161节 和弦 和弦 三个音或者三个以上的音构成的集体称为和弦。在特定风格或条件下，有些和弦会规律性地省略自己内部的一些音，导致这些和弦看上去只有1或2个音。 和声 和声指不同的和弦组合、连接、运用方式、细节处理等。强调不同和弦连接而形成的整体。 三和弦 三个音，按照三度叠置的关系形成的和弦称为三和弦。三个音由低到高分别为根音、三音与五音。根音到三音，三音到五音的音程皆为三度。 大三和弦与小三和弦 根音到三音是大三度，三音到五音是小三度，称为大三和弦（大+小）。听起来通常感觉明亮、温馨。 根音到三音是小三度，三音到五音是大三度，称为小三和弦（小+大）。听起来通常感觉暗淡、忧伤。 大三和弦与小三和弦的根音到五音是纯五度，是协和音程，听起来顺耳。 增三和弦与减三和弦 根音到三音是大三度，三音到五音是大三度，称为增三和弦（大+大）。 根音到三音是小三度，三音到五音是小三度，称为减三和弦（小+小）。 增三和弦与减三和弦的根音到五音是增五度/减五度，是不协和音程，听起来紧张、压抑。 增三和弦是需要扩张的紧张、压抑，后面通常接大六度；减三和弦是需要收缩的紧张、压抑，后面通常接纯四度或大三度； 三和弦的转位 三和弦的第一转位，指将原位的根音提高八度，三音与五音保持不变。所得和弦低音（三音）与根音的距离是六度，故又称为六和弦。 三和弦的第二转位，指将原位的根音与三音提高八度，五音保持不变。所得和弦低音（五音）与根音的距离是四度，低音（五音）与三音的距离是六度，故又称为四六和弦。 注意转位后音高最低的音（低音）不是根音。 如图为大三和弦的转位，小三和弦、增三和弦、减三和弦同理，其转位后的名称前缀与原位三和弦的前缀相同。 七和弦 四个音，按照三度叠置的关系形成的和弦称为七和弦。四个音由低到高分别为根音、三音、五音、七音。根音到三音，三音到五音，五音到七音的音程皆为三度。 七和弦的命名规则 七和弦名字前有两个前缀，第一个前缀与其根音、三音、五音形成的三和弦前缀相同，第二个前缀与其根音与七音形成的音程前缀相同。 如C4、E4、G4、B4构成的七和弦，其根三五音为CEG，是大三和弦；根音与七音是大七度。分别取两者的前缀，得到七和弦的名称为“大大七和弦”（有两个“大”的情况通常会省略一个，称其为“大七和弦”）。 如B4、D5、F5、A5构成的七和弦，其根三五音是减三和弦；根音与七音是小七度。分别取两者的前缀，得到七和弦的名称为“减小七和弦”。 常用七和弦及其简称 常用的七和弦一共有7种，如下表所示： 表1 常用七和弦及其简称 全称 简称/别称 举例 大大七和弦 大七和弦 C4、E4、G4、B4 大小七和弦 属七和弦 G4、B4、D5、F5 小大七和弦 D4、F4、A4、C5♯ 小小七和弦 小七和弦 E4、G4、B4、D5 减小七和弦 半减七和弦小七降五和弦 B3、D4、F4、A4 减减七和弦 减七和弦 B3、D4、F4、A4♭ 增大七和弦 半增七和弦大七升五和弦 F4、A4、C5♯、E5 这里减小七和弦又称“半减七和弦”，指的是相较于“减减七和弦”，减小七和弦只有一个减。半增七和弦同理。 这里减小七和弦又称“小七降五和弦”，是指将小七和弦的五音降低一个半音，就可以得到减小七和弦。增大七和弦同理，可以将大七和弦的五音升一个半音来得到，故可称为“大七升五和弦”。 七和弦的转位 七和弦的转位根据低音与七音、根音的度数来命名。 七和弦的第一转位，指将原位的根音提高八度，三音、五音、七音保持不变。所得和弦低音（三音）与七音的距离是五度，低音与根音的距离是六度，故又称为五六和弦。 七和弦的第二转位，指将原位的根音与三音提高八度，五音、七音保持不变。所得和弦低音（五音）与七音的距离是三度，低音与根音的距离是四度，故又称为三四和弦。 七和弦的第三转位，指将原位的根音、三音、五音提高八度，七音保持不变。所得和弦低音（七音）与根音的距离是二度，故又称为二和弦。 如图为大七和弦的转位，与三和弦类似，七和弦的转位后的名称前缀与原位七和弦的前缀相同。 广义的和弦原位与转位、转位的意义 判断和弦的两条标准：①和弦的构成音；②低音。 如大三和弦的构成音为CEG，低音为C。只要满足这两个条件构成的和弦就是大三和弦。与构成音的数量、所处的组无关。C3E4G5、C4E4G4E5G5等都是大三和弦。 只要和弦的根音不是低音，转位构成音仍是原位的构成音，则都是（广义的）该和弦的转位。不局限于提高或降低八度。如大三和弦原位C4E4G4，可以转位为E4G4C6(C/E)、G3C4E5(C/G)等。 转位的意义：①使声部进行流畅；②构建低音线条。 和弦的织体 织体(texture)是一个抽象的概念，用于描述乐曲的状态、形态、造型、形式、神态、质感等，可以用来形容声部关系、节奏、和声、附调、配器等的相互关系。 和弦的织体表示和弦在纵横两个方向上的具体形态。常见的和弦织体有柱式织体、分解织体、混合织体等。 柱式织体： 分解织体： 混合织体： 和弦固定标记法 三和弦的标记 表2 常用三和弦及其标记 全称 标记 大三和弦 XMajor(Xmajor)XMaj(Xmaj)XMX 小三和弦 XminorXminXmX- 增三和弦 XaugmentedXaugX+ 减三和弦 XdiminishedXdimX° 七和弦的标记 表3 常用七和弦及其标记 全称 简称/别称 标记 大大七和弦 大七和弦 XMajor7(Xmajor7)XMaj7(Xmaj7)XM7XΔ7 大小七和弦 属七和弦 Xdominant7Xdom7X7 小大七和弦 XminorMajor7XminMaj7XmMaj7XmM7X-M7X-Δ7 小小七和弦 小七和弦 Xminor7Xmin7Xm7X-7 减小七和弦 半减七和弦小七降五和弦 Xdim(m7)X°(m7)Xhalf-dim7XØ7Xm7(♭5)Xm7-5 减减七和弦 减七和弦 Xdiminished7Xdim7X°7 增大七和弦 半增七和弦大七升五和弦 Xaug(maj7)X+(maj7)X+Δ7XM7+5XM7♯5XΔ7+5XΔ7♯5 注意这里“减”前缀的标记不是“-”，而是“°”，“小”前缀的标记是“-”，这里容易产生混淆。 斜杠和弦 斜杠和弦（又称slash和弦、分数和弦、分割和弦）可以用于表示含有转位的和弦。其表示方法为“X/Y”，其中X为原位和弦标记，Y为低音。 如“C/G”表示的就是低音为G的C大三和弦（四六和弦），是三和弦的第二转位，根音与三音皆提高八度。 再如“F♯Δ7/C♯”表示低音为C♯的F♯大七和弦（大三四和弦），是大七和弦的第二转位，根音与三音皆提高八度。 再如“Bm7-5/A”表示低音为A的B减小七和弦（减小二和弦），是减小七和弦的第三转位，根音、三音、五音皆提高八度。 斜杠和弦亦可用于再原和弦基础上加一个不在此和弦内的音。 如“Fm/G”中Fm为F小三和弦（构成音F、A♭、C），G表示以G为低音。该斜杠和弦表示同时奏G、F、A♭、C四个音（如G3、F4、A4♭、C5）。 九音、十一音、十三音 九和弦有五个音，在七和弦的基础上增加一个九音；十一和弦有六个音，在九和弦的基础上增加一个十一音；十三和弦有七个音，在九和弦的基础上增加一个十三音。九和弦、十一和弦、十三和弦举例如下图所示： 九和弦、十一和弦、十三和弦的标记遵循以下规则： ①若标记中的9（或11、13）没有升降号，则该和弦根音与九音（或十一音、十三音）的音程为大九度（或纯十一度、大十三度）。 如Fm7(11)表示的小七和弦由F、A♭、C、E♭构成，要求根音与十一音的音程为纯十一度，则十一音应为B♭。 ②在实际乐谱中，并不要求根音与九音（或十一音、十三音）的音程必须为大九度（或纯十一度、大十三度）。只要求和弦构成音正确。 如D7(11)表示大小七和弦加一个与根音距离为纯十一度的十一音，其构成音为“D、F♯、A、C、G”。在实际乐谱中，这五个音可以是D4、F4♯、A4、C5、G5，也可以是D4、G4、F4♯、A4、C5（将G5移动到G4），虽然此时根音与十一音的音程是四度，但是其构成音仍是D7(11)的构成音，因此仍可用D7(11)表示。依据为“判断和弦的两条标准”。 ③标记直接后接9、11、13时，需要包含其下方所有三度叠加音。 如CM11的构成音为“C、E、G、B、D、F”，这里既有十一音，也有九音和七音。 如果想表示七和弦加十一音，则应记为CM7(11)，11要外加一个括号，其构成音为“C、E、G、B、F”。 如果想表示七和弦加九音与十三音，则应记为CM7(9,13)，9与13外加一个括号，其构成音为“C、E、G、B、D、A”。 如果想表示三和弦加一个十一音，则应记为Cadd11，其构成音为“C、E、G、F”。 ④和弦构成音过多时，一般优先省略五音。（去掉五音对听觉的影响最小） ⑤标记中的9、11、13可以加升降号。如Fm7(♯11)表示小七和弦加音程为增十一度的十一音，即构成音为“F、A♭、C、E♭、B”。 “♭5 ♯5 ♭9 9 ♯9 11 ♯11 ♭13 13”统称为延伸音(Tension音)，这些音的加入，会增加和弦的不稳定性，增加和弦的张力。 注意这里没有♭11与♯13，因为大小七和弦（属七和弦）的♭11音等同于其3音，♯13音等同于其7音，这使得♭11与♯13变得没有意义。 ⑥大小七和弦可以使用⑤中的所有Tension音，其他结构的七和弦只能使用其中的一部分。 加音和弦 加音和弦格式为XaddY，表示在原X和弦基础上加上一个Y音。在这里Y可以为9、11、13，此时加音与根音距离为大九度、纯十一度、大十三度。 如Cadd9表示在C大三和弦基础上加一个大九度音，其构成音有“C、E、G、D”。 在实际乐谱中，并不要求根音与九音的音程必为九度。如上图所示，Cadd9可以为“C4、D4、E4、G4”，此时根音与九音的音程是二度。因此Xadd9也可记作Xadd2（不常用记法）。 同理Xadd11亦可记作Xadd4。由于其所加的纯十一度音容易产生不协和的冲突而导致三音模糊，因此该加音和弦很少使用。 Xadd13亦可记作Xadd6（常用记法），指在X和弦基础上加大十三度音（大六度音）。Xadd6又可进一步简记为X6，称为六和弦，。而三和弦的第一转位也称为六和弦，因此六和弦又两种意义，需要结合具体的构成音加以区分。 Xadd6add9指在X和弦基础上加大六度与大九度音，可进一步简记为X69，称为六九和弦。 同样的构成音及低音可能有不同的和弦名字，如Fadd6的构成音为F、A、C、D，低音为F，而这也是Dm7/F的构成音及低音。但两者的侧重点不一样，在不同的音乐语境下有不同的含义。Fadd6侧重于F大三和弦，在此基础上加入大六度音；Dm7/F侧重于D小七和弦，在此基础上进行第一转位得到低音为F的五六和弦。 挂留和弦 挂留和弦(Suspended和弦、sus和弦)来源于“延留音”或“延留音和弦”。即前一个和弦的某个音X的时值被延长，继续保持在下一个和弦中，导致下一个和弦的音Y被挤掉，推迟了音Y开始发音的时间（也有可能音Y不再发音）。 挂留和弦的举例如上图所示，这里C大三和弦中原本的E4音（三音）被前面的G属七和弦的F4（纯四度音）代替，而E4则推迟半拍才发出。纯四度音挤压掉三音，因此该和弦亦可称为Csus4。 “挂留和弦”最常见的有两种形式，纯四度音挤压掉三音称为sus4，大二度音挤压掉三音称为sus2。（sus和弦中没有三音） 如Csus4的构成音是CFG，就是将三音E替换为纯四度音F；Csus2的构成音是CDG，就是将三音E替换为大二度音D。 省略音和弦 省略音和弦(omit和弦、no和弦)指省略某个和弦的音。如Fm7omit5（或Fm7no5）指省略Fm7和弦（构成音F、A♭、C、E♭）的五音C，得到和弦构成音F、A♭、E♭。 Comit3（或Cno3）指省略C大三和弦的三音E，得到和弦构成音C、G。省略了三音的和弦，模糊了和弦的明暗色彩感。由于该和弦只由根音与五音构成，因此又可简记为C5，称为五和弦。 五和弦也可称作power chord（强力和弦、重力和弦），常出现在朋克、摇滚、金属等风格中。 和弦功能与级数标记法 对音符与和弦的功能与级数标记法如上图所示，其中音符的级数标记法指的是将大调中的七个音依次标罗马数字I到VII。并将七个音依次命名为主音、上主音、中音、下属音、属音、下中音、导音。 将这七个音做为根音，向上叠加两个三度得如上图所示的三和弦（需要使用大调内的音），可以发现这里的根音I、IV、V形成的是大三和弦，分别记为I（主和弦）、IV（下属和弦）、V（属和弦）；根音II、III、VI形成的是小三和弦，分别记为ii（二级和弦）、iii（三级和弦）、vi（六级和弦）；根音VII形成的是减三和弦，记为vii°（导和弦）。上述规律适用于所有的大调。 和弦同样可以使用阿拉伯数字标记，如上图所示。 功能标记法源自西方功能和声体系理论，使用三种功能记号对和弦进行标记，分别为T（主功能、Tonica）、D（属功能、Dominant）、S（下属功能、Subdominant）。在和声中主功能代表“稳定”，属功能与下属功能代表“紧张”。音乐里和声的底层逻辑，就是从“稳定”到“紧张”再到“稳定”再到“紧张”......通过循环保持音乐的推进。显然主和弦、下属和弦、属和弦分别可以记为T、S、D。其余和弦的标记取决于其体现的功能，如二级和弦具有下属功能，可标记为Sii；三级和弦既有一部分属功能，又有一部分主功能，因此标记为DTiii。全部标记可见上图。 属七和弦原意为“调式中的五级属功能七和弦”，如C大调中的G7便是这种含义下的属七和弦。而这个和弦恰恰是大小七和弦，因此最终泛指“大小七和弦”。 七和弦的级数标记法为级数右下角标7，如C大调的G属七和弦(G7)可标记为\\(V_7\\)。 转位和弦通过级数右侧数字体现和弦结构。如C大调C大三和弦第一转位(C/E)可标记为\\(I_6\\)，三和弦第一转位又称为六和弦，这里右下角的6体现该和弦根音与三音的距离是六度。再如C大调E小三和弦第二转位(Em/B)可标记为\\({iii}_4^6\\)，三和弦第二转位又称为四六和弦，这里右下角的4与右上角6体现该和弦低音与根音的距离是四度，低音与三音的距离是六度。 和声模板 和声模板指一些常见的和弦走向套路，如4536251、15634125、6415、1645等。 使用和声模板需要注意以下几点： 几乎所有模板都通过首调方式提示某个音的和弦，可以先使用C调进行创作，然后根据实际需要移调。如1645对应C大调C-Am-F-G。 所有模板均采用44拍，且每个和弦占据一个小节，收尾的和弦可以长一点，尽量把整体补成4个或8个小节。如4536251对应C大调F-G-Em-Am-Dm-G-C，前面六个和弦各占一个小节，最后一个C和弦占两个小节。 不局限于原位三和弦，可以尝试七、九、转位、add、sus等和弦。 织体上可以多做变化。 有些模板中的数字可能强调的是低音进行，而不是某级和弦。如17654325这里的7通常指的是“低音为7的属和弦”而非七级和弦。 多看谱，多分析，扩充自己的模板库。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记06-音程","slug":"音乐/乐理/乐理笔记06-音程","date":"2023-07-20T12:40:25.000Z","updated":"2024-01-25T05:20:21.081Z","comments":true,"path":"音乐/乐理/乐理笔记06-音程/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B006-%E9%9F%B3%E7%A8%8B/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 122-142节 音程 音程的概念 音程，即音与音的音高距离，如半音、全音（见“乐理笔记01-基础知识”）都是音程。 度数 两个音，忽略音名升降号（忽略钢琴黑键），只看音名的字母（只看钢琴白键），从低音到高音数有几个字母，就称几度。 如E4到A4经过了E4,F4,G4,A4四个字母，就称E4到A4有四度； 再如E4♭到A4♯，去掉升降号为E4与A4，仍然经过E4,F4,G4,A4四个字母，故E4♭到A4♯也是四度。 （这里F4到G4，G4到A4间有黑键F4♯与G4♯，但是要忽略黑键，因此F4♯与G4♯不计入度数） 根音与冠音 两个音中的低音是根音，高音是冠音。如E4与A4中的E4是根音，A4是冠音。 音数 表示两个音之间有多少个全音与半音。一个全音的音数为1，一个半音的音数为0.5，两个音的音数等于其间隔的全音数x1+半音数x0.5。 换一种说法，音数等于两个音之间的键数距离x0.5，这里的键包括白键与黑键。 如E4到A4间有一个半音(E4-&gt;F4)与两个全音(F4-&gt;G4,G4-&gt;A4)，故E4到A4的音数为2.5。 也可以数两个键的距离，E4-&gt;F4-&gt;F4♯-&gt;G4-&gt;G4♯-&gt;A4，显然E4到A4间是五个半音的距离，音数为2.5。 小二度、大二度、小三度、大三度、小六度、大六度、小七度、大七度 音数为0.5的二度称为小二度。 如C4到D4♭，两个音是半音（音数为0.5），度数是二度，故为小二度。 小二度的音数必为0.5，但音数为0.5不一定为小二度。如C4到C4♯（不是二度、是增一度）。 音数为1的二度称为大二度。 如C4到D4，两个音是全音（音数为1），度数是二度，故为大二度。 大二度的音数必为1，但音数为1不一定为大二度。如B4♯到D4（不是二度、是减三度）。 小三度、大三度、小六度、大六度、小七度、大七度见表1。 纯一度、纯八度、纯四度、纯五度 音数为0的一度称为纯一度（即两个相同的音）。如C4到C4。 一个音与其相邻组别的相同音名的距离是纯八度。如C4到C5。 纯四度是音数为2.5的四度，纯五度是音数为3.5的五度。 纯四度、纯五度见表1。 表1 音程总结表（一） 名称 定义 举例 纯一度 音数为0的一度 C4到C4 小二度 音数为0.5的二度 C4到D4♭ 大二度 音数为1的二度 C4到D4 小三度 音数为1.5的三度 C4到E4♭ 大三度 音数为2的三度 C4到E4 纯四度 音数为2.5的四度 C4到F4 纯五度 音数为3.5的五度 C4到G4 小六度 音数为4的六度 C4到A4♭ 大六度 音数为4.5的六度 C4到A4 小七度 音数为5的七度 C4到B4♭ 大七度 音数为5.5的七度 C4到B4 纯八度 音数为6的八度 C4到C5 增音程、减音程、倍增音程、倍减音程 二、三、六、七 由表1可知音数为1.5的三度为小三度，在1.5的基础上减0.5，得到音数为1的三度，被称为减三度，如C4到E4♭♭。 在1的基础上再减0.5，得到音数为0.5的三度，被称为倍减三度，如C4♯到E4♭♭。 同理，音数为2的三度为大三度，在2的基础上加0.5，得到音数为2.5的三度，被称为增三度，如C4到E4♯。 在2.5的基础上再加0.5，得到音数为3的三度，被称为倍增三度，如C4到E𝄪。 一、四、五、八 由表1可知音数为2.5的四度为纯四度，在2.5的基础上减0.5，得到音数为2的四度，被称为减四度，如C4到F4♭。 在2的基础上再减0.5，得到音数为1.5的四度，被称为倍减四度，如C4♯到F4♭♭。 同理，在2.5基础上加0.5，得到音数为3的四度，被称为增四度，如C4到F4♯。 在3的基础上再加0.5，得到音数为3.5的四度，被称为倍增四度，如C4到F4𝄪。 表2 音程总结表（二） 二三六七度 倍减X度 减X度 小X度 大X度 增X度 倍增X度 音数 Y-1.5 Y-1 Y-0.5 Y Y+0.5 Y+1 一四五八度 倍减X度 减X度 纯X度 增X度 倍增X度 音数 Y-1 Y-0.5 Y Y+0.5 Y+1 表3 音程总结表（三） 等音程 音数相等的音程被称作等音程。如减三度、大二度、倍增一度互为等音程，它们的音数都是1。 全音与半音 所有音数为0.5的音程（增一度、小二度、倍减三度）都是半音，所有音数为1的音程（减三度、大二度、倍增一度）都是全音。 三全音 所有音数为3的音程（倍增三度、增四度、减五度、倍减六度）都是三全音，倍增与倍减的情况较为罕见，因此三全音通常指的是增四度或减五度。 三全音的听觉感受极不协和。 识别音程的方法 不含升降号的情况 使用钢琴键可以更好的判断音程。钢琴键如下图所示，首先把钢琴中所有的EF、BC圈出，因为E到F、B到C是半音，它们中间没有黑键。 一度音程（或八度音程）不用判断，肯定是纯一度（或纯八度），如C4到C4（或C4到C5）。 对于二度音程，如果是E-F、B-C，那就是小二度。其他情况（C-D、D-E、F-G、G-A、A-B）就是大二度。 对于三度音程，三度中包含EF或BC时音数会小一些，是小三度（D-F、E-G、A-C、B-D）。不包含EF或BC时音数会大一些，是大三度（C-E、F-A、G-B）。 对于四度音程，EF或BC中包含一个时是纯四度（C-F、D-G、E-A、G-C、A-D、B-E）。EF或BC都不包含时是增四度（F-B）。 对于五度音程，EF或BC中包含一个时是纯五度（C-G、D-A、E-B、F-C、G-D、A-E）。EF或BC都包含时是减五度（B-F）。 对于六度音程或七度音程，EF或BC中包含一个时是大六度/七度，EF或BC都包含时是小六度/七度。 不含升降号的情况下，识别音程的方法可总结为表4，如下所示： 表4 识别音程的方法（不含升降号） 名称 不包含 包含一个 包含两个 一度 纯一度 二度 大二度 小二度 三度 大三度 小三度 四度 增四度 纯四度 五度 纯五度 减五度 六度 大六度 小六度 七度 大七度 小七度 八度 纯八度 含升降号的情况 先去掉升降号，判断出音程后，根据升降号确定音数是变大了还是变小了，进而得到最后的音程。 如要判断E4♭♭到C5♯的音程，首先知道E4到C5是六度，其间包含两个EF或BC，因此是小六度。 E4到C5♯相较于E4到C5音数要大0.5，因此E4到C5♯是大六度。 E4♭♭到C5♯相较于E4到C5♯音数要大1，因此E4♭♭到C5♯是倍增六度。 超过八度的音程 先确定两个音的度数，再将两个音放在八度以内，判断八度以内的音程，来确定音程度数前面的前缀。 如C4到E5是十度，将其放到同一个八度，即C4到E4，C-E是三度，且不包含EF或BC，是大三度。保留大三度的前缀“大”，因此C4到E5是大十度。 再如D3到G6♯是二十五度，将其放到同一个八度，即D3到G3♯，D-G是四度，且包含一个EF，因此是纯四度，D3到G3♯相较于D3到G3多0.5个音数，因此是增四度，保留增四度的前缀“增”，因此D3到G6♯是增二十五度。 单音程与复音程 有两种定义。定义一认为度数小于等于8为单音程，度数大于八为复音程；定义二认为实际距离小于等于纯八度的距离（音数小于等于6）为单音程，反之为复音程。 倍增七度、增八度、倍增八度在定义一中为单音程，定义二中为复音程； 减九度、倍减九度在定义一中为复音程，定义二中为单音程。 音程名字的简写 主要的音程前缀有——大(Major)、小(minor,m为小写)、增(Augmented)、减(Diminished)、纯(Perfect或Pure)。（倍增与倍减不常见） 简写时就采用前缀首字母+数字的形式，如大三度记为M3，小七度记为m7，增五度记为A5。 亦可用Major与minor形容调式，如C大调记为C Major，D小调记为D minor。 旋律音程与和声音程 两个音先后弹奏时，称为旋律音程。 两个音同时弹奏时，称为和声音程。 自然音程与变化音程 在“自然大小调音阶”里直接存在的音程称为自然音程。可以由两个白键形成的音程称为自然音程。所有在表4中出现的音程都是自然音程。 在“自然大小调音阶”里不存在的音程称为变化音程，要通过临时升降音产生变化而形成。自然音程之外的音程称为变化音程。 如C4♯到F4♯是纯四度，纯四度在表4中能找到，因此C4♯与F4♯形成的是自然音程。 再如C4到A4♯是增六度，增六度在表4中找不到，说明增六度不是能由两个白键形成的音程，因此C4到A4♯形成的是变化音程。 超过八度的音程，将两个音放在八度以内，判断八度以内的音程能否在表4中找到，从而判断其是自然音程还是变化音程。 协和音程与不协和音程 协和音程分为三种： ①极完全协和音程——纯一度、纯八度...纯(1+7n)度（n为整数且n≥0） ②完全协和音程——纯四度、纯五度...纯(4或5+7n)度（n为整数且n≥0） ③不完全协和音程——大三度、小三度、大六度、小六度...大或小(3或6+7n)度（n为整数且n≥0） 协和音程之外的音程称为不协和音程： 大二度、小二度、大七度、小七度...大或小(2或7+7n)度（n为整数且n≥0） 所有增音程、减音程、倍增音程、倍减音程。 C4到A4♭是小六度，是不完全协和音程，而C4到G4♯是增五度，是不协和音程。虽然A4♭与G4♯是等音，小六度与增五度是等音程，C4到A4♭与C4到G4♯在弹奏时的音高完全相同，但它们所处的音乐语境不同，即在一段连续的音乐中，通过与其他声音，其他和弦，其他音程的对比，所体现出的协和程度是不一样的。 音程转位 转位指改变两个音的高低顺序。如C4到E4，可以转位得到E4到C5、E3到C4、E4到C6、E5到C6等等（只要是E-C就行）。而通常情况下转位得到的是E4到C5、E3到C4（原位中的一个音不动，转位后在八度以内）。 可以根据原位的音程名字，推出转位后的音程名字。音程名字前缀对应关系为：大↔︎小、纯↔︎纯、增↔︎减、倍增↔︎倍减。原位的音数大于0且小于6时，原位与转位的音程度数之和为9。如C4-D4是大二度，其转位D4-C5是小七度。 原位的音数等于0或大于6时，不满足“原位与转位的音程度数之和为9”这一规律。如纯一度的转位仍为纯一度，纯八度的转位仍为纯八度。增七度的转位为减九度（如D4♭到C5♯为增七度，其转位C3♯到D4♭为减九度。其转位不是C4♯到D4♭，是因为C4♯与D4♭等音，而转位要求两个音的高低顺序彻底改变）。 原位音程与转位音程的各类性质（自然音程还是变化音程，协和音程还是不协和音程）不会改变。 如C4到F4𝄪是倍增四度，其转位F4𝄪到C5是倍减五度。倍增四度与倍减五度都是变化音程，不协和音程。 度数大于八的音程，先缩小到八度以内，再转位。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记05-五线谱","slug":"音乐/乐理/乐理笔记05-五线谱","date":"2023-07-17T08:18:20.000Z","updated":"2024-01-25T05:20:21.071Z","comments":true,"path":"音乐/乐理/乐理笔记05-五线谱/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B005-%E4%BA%94%E7%BA%BF%E8%B0%B1/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 101-121节 五线谱 谱号 五线谱有五条线，由下至上分别可称为一线、二线、三线、四线、五线。五条线形成四个空间由下至上可称为一间、二间、三间、四间。此外五线谱可以加线，向上加线可称为上加一线、上加二线、上加三线等，形成上加一间、上加二间、上加三间等；向下加线可称为下加一线、下加二线、下加三线等，形成下加一间、下加二间、下加三间等。 高音谱号 高音谱号符号为𝄞，由字母G的花体演化而来。该谱号记在五线谱的第二线上（手写时从第二线开始画），表示五线谱的第二线对应音名\\(g^1\\)（或G4），对应其他音名如下图所示。 上图中音名全部对应钢琴中的白键，可以在音符前加升降号来对应钢琴中的黑键。 低音谱号 低音谱号符号为𝄢，由字母F的花体演化而来。该谱号记在五线谱的第四线上（手写时从第四线开始画），表示五线谱的第四线对应音名\\(f\\)（或F3），对应其他音名如下图所示。 中音谱号与次中音谱号 中音谱号与次中音谱号的符号为𝄡，由字母C的花体演化而来。中音谱号记在五线谱的第三线上，表示五线谱的第三线对应音名\\(c^1\\)（或C4）;次中音谱号记在五线谱的第四线上，表示五线谱的第四线对应音名\\(c^1\\)（或C4）。 八度记号与十五度记号 八度记号用于表示某个区间的音符需要提高一个八度（𝄶，记在上方）或降低一个八度（𝄷，记在下方）演奏。 十五度记号用于表示某个区间的音符需要提高两个八度（𝄸，记在上方）或降低两个八度（𝄹，记在下方）演奏。 当然也有二十二度记号，即提高或降低三个八度。 拍号 和简谱类似，不再赘述。 补充：44拍亦可记为“𝄴”，22拍亦可记为“𝄵”。 音符 表1 音符及其时长(以44拍为例) 名称 简谱记法 五线谱记法 时长 倍全音符 \\(1-------\\) 𝅜 八拍（两节） 全音符 \\(1---\\) 𝅝 四拍（一节） 二分音符 \\(1-\\) 𝅗𝅥 二拍 四分音符 \\(1\\) 𝅘𝅥 一拍 八分音符 𝅘𝅥𝅮 半拍 十六分音符 𝅘𝅥𝅯 四分之一拍 三十二分音符 𝅘𝅥𝅰 八分之一拍 六十四分音符 𝅘𝅥𝅱 十六分之一拍 音符中的实心或空心圈称为“符头”，符头的位置决定了音高。 竖线可称为“符干”，除全音符、倍全音符外的音符都有符干。 八分音符及时值更短的音符有“符尾”，音符符尾的条数与其简谱音符下横线数相等。 五线谱的附点记在音符的符头右侧，表示的意义与简谱相同，即延长原音符时长一半。 两个附点表示在第一个附点延长一半的基础上，第二个附点再延长原音符时长一半的一半（1.75倍）。三个附点的时长为原音符的1.875倍，以此类推。 表2 休止符及其时长 名称 简谱记法 五线谱记法 全休止符 \\(0000\\) 二分休止符 \\(00\\) 四分休止符 \\(0\\) 𝄽 八分休止符 𝄾 十六分休止符 𝄿 三十二分休止符 𝅀 全休止符贴第四线，二分休止符贴第三线。 八分休止符及时值更短的休止符符尾的条数与其简谱下横线数相等。 全休止符即可表示休止四拍，也可表示休止一整个小节（此时整个小节只记一个全休止符）。 休止符加附点同样是延长时值，规则与音符附点相同。 连线、延音线规则与简谱相同。 速度 抽象的速度记法与简谱相同。 具体的速度，可以记为“𝅘𝅥=120”的形式，意为每分钟奏120个四分音符时对应的速度，若乐谱以四分音符为一拍（拍号分母为4），即可进一步解释为“每分钟120拍”。 同理，“𝅗𝅥=60”意为每分钟奏60个二分音符时对应的速度，若乐谱以二分音符为一拍（拍号分母为2），即可进一步解释为“每分钟60拍”。 对于拍号分子为3或6的乐谱，如83拍、86拍。会以3拍为一组计算速度，如对于83拍乐谱，“𝅘𝅥.=60”意为每分钟奏60个附点四分音符（三拍时长）时对应的速度，相当于每分钟180拍，即“𝅘𝅥𝅮=180”。 节奏型 常见的节奏型与简谱一致。 表3 常见节奏型 名称 简谱记法/打拍子方法 五线谱记法 二八 四十六 前八后十六 前十六后八 前附点 后附点 大附点 小切分 大切分 三连音 调号 五线谱的调号用升降号在谱号后表示，使用哪些升降号取决于调式音阶中哪些音带升降号。 如D大调的调号可表示为，可以观察到其高音谱号第三间(#C5)、第五线(#F5)与低音谱号第二间(#C4)、第四线(#F4)上有升号，有升号的位置对应着音名C与F。而D大调音阶为D、E、#F、G、A、B、#C、D，其中音名C与F上有升号。 五线谱的调号可以理解为适用于整个乐谱的“变音记号”，用于提示相应的音名需要升音或降音演奏。如D大调的调号表示乐谱中（更换调号前）所有的C或F都要演奏为#C或#F（所有组的C与F，不局限于C4、F4、C5、F5），这样在乐谱中的C与F音符不用再加“#”号来提示。 五线谱一共有十五种调号，如上图所示。其中C大调不含任何升降号，其余调号含有1到7个升号或降号。 观察升号最多的大调，升C大调有7个升号，从左到右依次是“#F、#C、#G、#D、#A、#E、#B”。去掉最后一个升号“#B”，得到“#F、#C、#G、#D、#A、#E”，正好是有6个升号的升F大调，再去掉“#E”，则可得到有5个升号的B大调。以此类推，只留下第一个“#F”，这就是有1个升号的G大调。 降号最多的大调为降C大调，从左到右依次是“♭B、♭E、♭A、♭D、♭G、♭C、♭F”，也可按照这个规则推出其他带降号的大调。 口诀：FCGDAEB，BEADGCF；4152637，7362514。 五线谱的调号可以通过一定规则去识别： 带有升号的大调，最后一个升号是#X音时，此调为(#X+半音)大调。 如4个升号的大调，其最后一个升号是#D，#D提高半音是E，故该调为E大调。 带有降号的大调，倒数第二个降号是♭X音时，此调为♭X大调 如5个降号的大调，其倒数第二个降号时♭D，故该调为♭D大调。 记号 五线谱的记号大多数与简谱记号一致。 力度记号、速度记号、反复记号——与简谱完全一致； 省略记号——将单音震音记号画在音符符干位置，双音震音记号画在音符中央，其余省略记号与简谱完全一致； 演奏记号——顿音记号在五线谱中被分为“跳音”与“顿音”两种，其中跳音符号为“·”，标在音符上方或下方，表示演奏原音符二分之一时值，顿音符号为“▼”，标在音符上方或下方，表示演奏原音符四分之一时值。几个连续的跳音记号上画连线时，如“”。意为“连续的跳音”，理论上演奏时长为原音符的四分之三时长。 倚音记号在五线谱中的记法如图，原音与倚音用连线相连，倚音上画有一根短斜线。 其余演奏记号只是记法稍有区别，在意义上与简谱完全一致。 临时变音记号规则与简谱一致。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记04-乐谱记号","slug":"音乐/乐理/乐理笔记04-乐谱记号","date":"2023-07-01T23:07:19.000Z","updated":"2024-01-25T05:20:21.061Z","comments":true,"path":"音乐/乐理/乐理笔记04-乐谱记号/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B004-%E4%B9%90%E8%B0%B1%E8%AE%B0%E5%8F%B7/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 73节、85-99节 乐谱记号 变音记号 变音记号一共有五种，除乐理笔记01-基础知识中提到的升号♯、降号♭、重升号𝄪与重降号𝄫外，还有还原号♮，用于取消前面音符的升降变音记号，还原为原来的音。 变音记号遵循以下的规则： 变音记号对“同一小节”内它出现后的所有“同一个音”生效。只管同一个小节，小节外的部分不会变音。 “同一小节”的“同一个音”出现新的变音记号时，立即以新记号为准。如前面有降号的情况下，后面出现升号，升号及以后的音均要进行升音变音（这里不存在升号与降号相抵消的情况）。 涉及到延音线跨小节的情况，延音线上的音是同一个音，因此以延音线上最前面的音的升降号为准。延音线后的音与延音线上最前面的音不在同一小节，不会受该升降号影响。 为方便看谱，很多简谱会将所有需要升降的音全部标注。 变音记号使用实例（上谱为原谱，下谱表示实际要演奏的音）： 力度记号 标记 含义 \\(pp\\) 很弱(pianssimo) \\(p\\) 弱(piano) \\(mp\\) 稍弱(mezzo piano) \\(mf\\) 稍强(mezzo forte) \\(f\\) 强(forte) \\(ff\\) 很强(fortissimo) \\(fff\\) 最强(forte fortissimo) \\(cresc.\\) 渐强(crescendo) \\(dim.\\) 渐弱(diminuendo) \\(sf\\)、\\(sfz\\)、\\(fz\\) 突强(sforzando) \\(fp\\) 强后突弱(forte piano) \\(sfp\\) 突强后突弱(sforzando piano) \\(&gt;\\) 重音 \\(pp\\)、\\(p\\)、\\(mp\\)、\\(mf\\)、\\(f\\)、\\(ff\\)、\\(fff\\)的作用范围从标有该力度记号的音开始，到下一个力度记号出现为止。 速度记号 标记 含义 \\(rit.\\)、\\(rall.\\) 渐慢 \\(accel.\\) 渐快 𝄐 自由延长时值 反复记号 反复一次标记间的内容 前反复记号“𝄆”与后反复记号“𝄇”之间的内容要多重复一遍。 前反复记号在乐谱开头时可以省略。 跳房子 第一次进入一房子，第二次进入二房子，以此类推。 从头反复 \\(D.C.\\)(Da Capo)回到乐谱开头反复，反复到\\(Fine\\)处结束。 \\(D.C.\\)(Da Capo)回到乐谱开头反复到\\(Da\\ Coda\\)，然后跳转到\\(Coda\\)处继续演奏。 Coda意为“尾声”，\\(Da\\ Coda\\)与\\(Coda\\)均可用符号“𝄌”代替，如下谱所示。 从S处反复 类似于上文“从头反复”，区别为遇到\\(D.S.\\)后回到“𝄋”处。 省略记号 震音记号 单音震音：实际演奏音符取决于震音记号有几根线，实际演奏时长为原音符时长。 如“”的震音记号有两条线，代表十六分音符，原音符为四分音符，则实际演奏四个十六分音符，即“” 再如“”的震音记号有三条线，代表三十二分音符，原音符为八分音符，则实际演奏四个三十二分音符，即“” 双音震音：实际演奏音符取决于震音记号有几根线，实际演奏时长为其中一个原音符时长。（双音震音中各个原音符时长一致） 如“”的震音记号有两条线，代表十六分音符，原音符均为四分音符，则实际演奏四个十六分音符，即“” 音型反复记号 用音型反复记号代表重复的音型，音型反复记号的斜线数与原音符下横线数一致（或与其中某个原音符下横线数一致，并不绝对）。 小节反复记号 标在小节内部时表示重复该小节；标在小节线上就是重复两个小节。 小节反复记号斜线数量与该小节第一个音符下横线数一致（并不绝对）。 演奏记号 换气记号 换气符号为“∨”，标在音符上方，防止一口气唱到底被憋死。 顿音记号 顿音记号为“▼”，标在音符上方，唱的时候要有明显停顿感。理论上演奏时长为原音符的四分之一或二分之一时长（并不绝对）。 几个连续的顿音记号上画连线时，如“”。意为“连续的顿音”，唱的时候也要断开但断开的程度较低。理论上演奏时长为原音符的四分之三时长（并不绝对）。 保持音记号 顿音记号为“—”，标在音符上方，起强调作用，要求充分保证这个音的演奏时长为该音符时长。（受客观条件所限，演奏某个音时通常达不到其音符规定时长） 滑音记号 对于涉及单个音的滑音，上滑音为“↗”，下滑音为“↘”，标在音符两侧。演奏时需要适当的在原有音调基础上平滑地变调，变调的程度自己把握。 对于涉及两个音的滑音，上滑音为“𝆱”，下滑音为“𝆲”，标在两个音符中间。要平滑地从一个音符变调到另一个音符。 刮奏记号为“”，常见与西洋乐器曲谱中，效果上与滑音相同，强调为实现滑音所做的操作为刮奏。 琶音记号 曲谱中同时演奏几个音时，几个音并列标在曲谱同一个位置上，若要使这几个音的演奏有较小的时差时就称为琶音。 琶音记号为“𝆃”，此时需要按从下到上的顺序（默认顺序）迅速弹出同一个位置上的音。 若要按从上到下顺序弹奏，则使用记号“𝆄”。 装饰音记号 理论基础 级进：忽略升降号，若两个音间没有其他唱名，则前一个音到后一个音称为“级进”。如“\\(12\\)”、“\\(^♭1^♯2\\)”可称为向上级进，“\\(\\dot 1 7\\)”可称为向下级进。 跳进：忽略升降号，若两个音间有其他唱名，则前一个音到后一个音称为“跳进”。如“\\(5 \\dot 1\\)”可称为向上跳进，“\\(53\\)”可称为向下跳进。 经过音：三个音X、Y、Z，若X级进到Y，Y又级进到Z，且两次级进的方向相同。则称中间的Y为经过音。如“\\(123\\)”中\\(2\\)为经过音。 辅助音：若X级进到Y，Y又反向级进回到到X，两次级进的方向相反，则称Y为辅助音。如“\\(121\\)”中\\(2\\)为辅助音（先由\\(1\\)向上级进至\\(2\\)，又称为上助音）。同理\\(\\dot 1 7 \\dot 1\\)中\\(7\\)为辅助音（下助音）。 跳进级出的助音：X跳进到Y，Y级进到Z，称Y为跳进级出的助音。如“\\(634\\)”中\\(3\\)为跳进级出的助音。 级进跳出的助音：X级进到Y，Y跳进到Z，称Y为级进跳出的助音。如“\\(341\\)”中\\(4\\)为级进跳出的助音。 环绕助音：上助音与下助音同时出现时对其的统称。如“”中\\(6\\)为上助音，\\(4\\)为下助音，同时出现时都可称为环绕助音。 辅助音、跳进级出的助音、级进跳出的助音、环绕助音统称为助音。经过音和助音都需要处在弱拍或弱节奏位，否则不能称为经过音或助音。 波音 弹奏某音较短时间后迅速弹奏该音的临近音（忽略升降号）较短时间，然后恢复弹奏原音。形成波动感，称为波音。 名称 符号与效果 上波音 下波音 复上波音 复下波音 回音 由四个音或五个音组成的一种旋律型。四个音的顺回音由上助音开始，然后依次为主音、下助音，最后回到主音。四个音的逆回音由下助音开始，然后依次为主音、上助音，最后回到主音。在四个音的回音前加一个主音便是五个音的回音。 在回音符号上侧添加变音记号，表示回音上助音为升/降音，下侧（下助音）同理。 颤音 由主音与其上助音快速交替而成，交替的频率由演奏者自行把握，总时长足够即可。 在颤音符号上侧添加变音记号，表示颤音上助音为升/降音。 倚音 倚音在简谱中通常指短倚音，在某个音的前/后插入时长很短（可忽略不计）的音称为短倚音。按照插入在音前还是音后可分为前倚音和后倚音。如果插入的音包含多个音符，则可称为复倚音。 某个音的后倚音可以看做其后一个音的前倚音。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记03-节奏","slug":"音乐/乐理/乐理笔记03-节奏","date":"2023-06-26T08:09:17.000Z","updated":"2024-01-25T05:20:21.031Z","comments":true,"path":"音乐/乐理/乐理笔记03-节奏/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B003-%E8%8A%82%E5%A5%8F/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 60-84节 基本节奏型 对四分音符进行拆分，可以得到不同的节奏型，一共有九种。 四分节奏 最简单的拆分方式就是不拆分，称为四分节奏型。 八分节奏 把四分音符拆成两个八分音符。 【例】 十六分节奏 把四分音符拆成四个八分音符。 【例】 前八后十六节奏 把四分音符拆成一个八分音符（在前）与两个十六分音符（在后）。 前十六后八节奏 把四分音符拆成一个八分音符（在后）与两个十六分音符（在前）。 【例】 前八分附点节奏 把四分音符拆成一个附点八分音符（在前）与一个十六分音符（在后）。 后八分附点节奏 把四分音符拆成一个附点八分音符（在后）与一个十六分音符（在前）。 【例】 小切分节奏 把四分音符拆成一个八分音符（在中间）与两个十六分音符（在两侧）。 切分改变了音乐中“先强后弱”的强弱关系。中间音符为强音，两侧音符为弱音。 【例】 三连音 把四分音符平分成三分。 三连音的总拍数代表其下方常规音符拍数的两倍，简称“三代二”。因此四分音符时长的三连音用八分音符作为常规音符表示。 【例】 节奏型的变体 大附点及其变体 将两个四分音符拆成一个附点四分音符与一个八分音符，称为大附点。时长为附点节奏的两倍。 大附点节奏的一种变体形式是将八分音符替换为两个十六分音符。附点四分音符不能变动。 【例】 大切分及其变体 将两个四分音符拆成一个四分音符（在中间）与两个八分音符（在两侧），称为切分。时长为小切分节奏的两倍。 大切分节奏的变体可以将两侧的八分音符替换为十六分音符。中间的四分音符不能变动。 【例】 三连音的变体 三连音的总拍数代表其下方常规音符拍数的两倍，简称“三代二”。四分音符（一拍）时长的三连音用八分音符作为常规音符表示。同理，两拍时长的三连音用四分音符作为常规音符表示，四拍时长的三连音用二分音符作为常规音符表示，半拍时长的三连音用十六分音符作为常规音符表示。 三连音下方部分（或全部）常规音符也可以在不改变总时长的前提下用其他常规音符代替，较复杂且不常见，不再过多叙述，感兴趣者可以参考这个视频。 【零基础学音乐·自学乐理】71-打拍子（12）-三连音的变体 基本节奏型的首位休止 指基本节奏型的第一个音符用休止符替代。 【例】 反拍节奏 指强拍强位被休止的节奏形态。八分节奏的首位休止是典型的反拍节奏之一。 其律动与常规节奏相反，有较强的动感，常用于R&amp;B、雷鬼等风格音乐。 “弱起节奏”与“连续切分节奏”也是反拍节奏的重要形态。 【例】 弱起节奏 指从弱拍开始的节奏，可从一小节的任意一个弱拍开始。可分为正拍弱起与反拍弱起两种。 【例1-正拍弱起】 【例2-反拍弱起】 参考资料 三分钟音乐社 基础乐理(流行音乐学院系列教材)","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记02-简谱","slug":"音乐/乐理/乐理笔记02-简谱","date":"2023-06-23T16:00:00.000Z","updated":"2024-01-25T05:20:21.031Z","comments":true,"path":"音乐/乐理/乐理笔记02-简谱/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B002-%E7%AE%80%E8%B0%B1/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 39-59节 简谱 调号 见乐理笔记01-基础知识 拍号 拍号的表示方式为\\(\\frac X Y\\)，读作YX拍，意思是以Y分音符的时长为一拍，每小节有X拍。 最常见的拍号是44拍，即以4分音符的时长为一拍，每小节有4拍。此外可以见到的拍号有42拍、43拍、83拍、86拍，其他拍号极其罕见。 拍号的强弱关系 无论什么拍号，每小节第一拍均为强拍，且每小节只有这一个强拍。 强拍的音量不一定响，弱拍的音量不一定弱。 旋律中的长音符，稳定音，通常处于强拍；短音符，不稳定音，通常处于弱拍。 和声通常要在强拍进行变化，弱拍进行保持。 不同的强弱关系还影响旋律的动机，织体的写法，配器的选择，速度的选择等等。 单拍子 每小节只有一个强拍，并且存在弱拍。 42拍——动次；43拍——动次次；83拍——动次次。 复拍子 由相同的单拍子组合而成。 44拍——动次打次；86拍——动次次打次次。 44拍由两个42拍组合而成，由多个拍号组合而成的拍号，每小节第一个拍子之外的强拍均要变成次强拍。因此这里的第二个42拍的强拍变成了次强拍，其强度弱于强拍。86拍同理，第二个83拍的强拍也变成了次强拍。 混合拍子 由不同的单拍子组合而成。 45拍——动次打次次（或动次次打次）。 45拍的组合顺序有两种：“42拍+43拍”或“43拍+42拍”，因此次强拍的位置有两种可能。 一拍子 每小节只有一拍，且这一拍是强拍。即拍号的分子是1被称为一拍子。 同理，拍号分子为X被称为X拍子。如43拍、83拍可称为三拍子。 散拍子 符号为“艹”。散拍子没有固定小节线，没有固定拍数，没有固定强弱关系，一般用于戏曲音乐中。 情绪与速度 情绪即演奏(唱)时的情绪，常见的情绪有欢快地、愉悦地、柔和地、抒情地、激昂地、悲伤地等。 速度即演奏速度，包括具体的速度和抽象的速度两种。 具体的速度指的是BPM(Beats Per Minute)，即每分钟有多少拍。如BPM为120时可表示为“每分钟120拍”或“𝅘𝅥=120”或“120 BPM”。 抽象的速度是词语式的表达，是一个大致范围，有上下浮动的空间。如BPM在60以下称为慢速，60到120称为中速，120到180称为快速，180以上称为急速。 表1 抽象的速度 意大利文 中文 BPM Grave 庄板 约40 Largo 广板 约46 Lento 慢板 约52 Adagio 柔板 约56 Larghetto 小广板 约60 Andante 行板 约66 Andantino 小行板 约69 Moderato 中板 约88 Allegretto 小快板 约108 Allegro 快板 约132 Presto 急板 约184 Prestissimo 最急板 约208 音符 音符时长取决于拍号的分母。以44拍为例，44拍以四分音符的时长为1拍。那么对应二分音符的时长是2拍，全音符时长为4拍。 附点音符时长为原音符的1.5倍。 复附点音符，两个附点的时长为原音符的1.75倍，三个附点的时长为原音符的1.875倍，以此类推。 表2 音符及其时长(以44拍为例) 名称 记法 时长 全音符 \\(1---\\) 四拍 █ █ █ █ 附点二分音符 \\(1--\\) 三拍 █ █ █ 二分音符 \\(1-\\) 二拍 █ █ 附点四分音符 一点五拍 █ ▌ 四分音符 \\(1\\) 一拍 █ 附点八分音符 四分之三拍 ▌▎ 八分音符 半拍 ▌ 附点十六分音符 八分之三拍 ▎▏ 十六分音符 四分之一拍 ▎ 附点三十二分音符 十六分之三拍 ▏| 三十二分音符 八分之一拍 ▏ 小节 小节使用小节线“|”隔开，小节的时长取决于拍号。以44拍为例，四分音符为一拍，每小节四拍，那么每个小节的时长为四个四分音符的长度，即一个全音符长度。 小节序号 用来标明是第几个小节，最主要的作用是方便查找。小节序号通常标在小节线的正上方或稍微偏右。 弱起小节 不从强拍开始的不完整的小节，常用在乐曲开头。 小节序号从第一个完整小节开始计算，因此弱起小节不是乐曲的第一个小节。 终止线 终止线为“𝄂”，意味着乐谱的终止。 延音线 延音线可以用于表示一个时长无法通过音符或附点音符表示的音。亦用于某个音跨越小节线的情况。 如要表示一个时长为1.25拍的音，可以用延音线表示为，即四分音符与十六分音符的组合，加起来的时长为1.25拍。这里只有第一个音符发出声音，第二个音符不重新发音，仅为前面的音补充时长。 延音线的两个音必须为同一个音。 连线 乐谱中需要连贯演奏(唱)的地方使用连线进行连接，某一个字对应几个音时也会使用连线连接。 连线的画法与延音线相同，但通常情况下会连几个不同的音。 举一个例子。这里最外侧从第一个音连至最后一个音的线为连线。内侧连接同一个音的线为延音线。 休止符 表示停顿，符号为0，停顿时长与音符时长的表示方法类似。 音符下方横线 通常情况下将处于同一拍的音符下方的横线连接起来，方便计算拍数。如，这里连起来的部分的拍数之和都是一拍。 断开的部分不存在停顿，横线的断开与小节线的分割均不表示停顿，都需要连续演奏。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"作曲研究-序言","slug":"音乐/作曲研究-序言","date":"2023-06-22T16:00:00.000Z","updated":"2024-01-25T05:22:33.461Z","comments":true,"path":"音乐/作曲研究-序言/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%BD%9C%E6%9B%B2%E7%A0%94%E7%A9%B6-%E5%BA%8F%E8%A8%80/","excerpt":"","text":"前言 个人的音乐制作研究笔记，包括乐理笔记与Fl Studio作曲笔记。参考了网上的一些公开的视频、文档等资源，将其整理为笔记形式方便查看。我就做了一个整理工作，至于参考的部分其版权自然属于原作者。 出于兴趣爱好整理该笔记，肯定不严谨，若有问题敬请指正。 软件准备 Fl Studio——专业的音乐制作软件，又称宿主软件(DAW) LMMS——开源且免费的音乐制作软件 MuseScore——免费乐谱制作软件 番茄简谱——免费简谱制作软件 硬件准备 电脑——能用就行 耳机——听个响就行 麦克风——如果需要录制声音的话 目录 乐理笔记 内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 乐理笔记01-基础知识 乐理笔记02-简谱 乐理笔记03-节奏 乐理笔记04-乐谱记号 乐理笔记05-五线谱 乐理笔记06-音程 乐理笔记07-和弦 乐理笔记08-调式（敬请期待） Fl Studio作曲笔记 To Be Countinued未完待续...... 参考资料 三分钟音乐社 从零开始学音乐 by-光能丰 FL Studio学院 LMMS Musescore作谱 番茄简谱","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记01-基础知识","slug":"音乐/乐理/乐理笔记01-基础知识","date":"2023-06-22T16:00:00.000Z","updated":"2024-01-25T05:20:21.031Z","comments":true,"path":"音乐/乐理/乐理笔记01-基础知识/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B001-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 1-38节 基础知识 乐音与噪音 乐音：音高（频率）固定，振动规则的音。钢琴等乐器发出的是乐音，听起来悦耳、柔和。 噪音：振动不规则，音高也不明显的音。风声、雨声、机器轰鸣声是噪音，大多数打击乐器（鼓、镲、沙锤等）发出的是噪音，听起来刺耳。 音的物理性质 音高：指音调的高低。由音的频率决定，频率是发音体在单位时间内的振动次数。 音值：指音的持续时间。 音强：指音的响度。由发音体的振幅大小决定。 音色：指不同声音表现在波形方面的与众不同的特性。音色与发音体的材料、结构等有关。 唱名 用来唱的名字，也就是do,re,mi,fa,sol,la,si。在简谱上对应1,2,3,4,5,6,7。 音名 即声音的名字，声音是物体振动产生的，不同的声音会有不同的振动频率，而同一个声音的振动频率是固定的。因此同一个音名的频率不会改变，永远对应同一个音。 钢琴键与音名 钢琴一共有88个键（因此钢琴有时被戏称为88k音游）。按键的分布有周期性的规律，可以划分为若干组，取出其中一组如下图所示，一共有12个键，包括7个白键和5个黑键。7个白键的音名就分别为C,D,E,F,G,A,B。 图1 钢琴键与音名 调号 唱名对应的音名不是固定的，同一个唱名不一定对应同一个音名。唱名与音名的对应关系取决于调号。 调号的格式为“唱名=音名”，简谱采用首调唱名法，如1=C表示的是C大调，即唱名do对应音名C，以此类推唱名re,mi,fa,sol,la,si分别对应音名D,E,F,G,A,B。而1=D则表示是D大调，此时唱名do对应音名D。 首调与固定调 首调唱名法：将大调中的主音唱为do，如C大调中将C唱为do，D大调中就将D唱为do。简谱通常使用首调。 固定调唱名法：在任何调式中，都将C4（中央C）唱为do，其他音以此类推。五线谱通常使用固定调。 半音与全音 观察图1所示的一组钢琴键，不难发现C到D、D到E、F到G、G到A、A到B间都有黑键，而E到F间与B到C间没有黑键。也就是说E到F与B到C是直接相邻的，便可以称E到F、B到C间的音高距离为一个半音。 半音指的是相邻的两个音间的距离，而全音距离是半音的两倍。C到D、D到E、F到G、G到A、A到B间的音高距离为一个全音。 C到♯C、♯C到D的距离是一个半音。 升降号 ♯为升号，表示升一个半音；♭为降号，表示降一个半音。 𝄪为重升号，表示升一个全音；𝄫为重降号，表示降一个全音。 图2 钢琴键与带升降号音名 加上升降符号后的一组钢琴键如上图所示，可以发现同一个键可以用不同的音名表示出来，而实际上这些音是同一个音，只是写法不同，这些对应同一个音的不同音名被称作等音。至于使用哪个音名，这取决于所处的音乐语境。 音的分组 对完整的88键钢琴进行分组，共分为9组，如下图所示： 图3 钢琴键的分组 霍尔赫姆兹音调记号法 命名分大字组、小字组、大字N组与小字N组。 大字组/大字N组的音名大写，小字组/小字N组的音名小写； 大字N组音名右下角写N，小子N组音名右上角写N。 科学音调记号法 将9个组从左至右命名为0到8。直接记为“大写音名+数字”的形式。 例如小字一组的C可以按霍法记为\\(c^1\\)，也可按科法记为C4。 中央C与标准音 小字一组的C（即C4）被称作中央C。 小字一组的A（即A4）被称作标准音，其频率确定为440Hz。 音域 乐器能够发出的声音范围，对于钢琴来说是\\(A_2\\)到\\(c^5\\)。 人声的音域通常情况下为\\(g\\)到\\(d^2\\)，正好覆盖小字一组，因此对于简谱中的“1=C”，其中的C对应钢琴中小字一组的C（中央C）。 高音点与低音点 1=C时，以小字一组为基准，小字一组的CDEFGAB对应简谱1234567。小字二组对应简谱加一个高音点，即\\(\\dot 1\\dot 2\\dot 3\\dot 4\\dot 5\\dot 6\\dot 7\\)，小字三组对应简谱则加两个高音点，以此类推。大字组对应简谱加一个低音点，即，大字一组对应简谱则加两个低音点，以此类推。 纯八度 纯八度是音程的一种，指相邻音组中相同音名的两个音之间的音高距离。纯八度的两个音（如C3与C4），其频率比正好为1:2。当两个音的振动频率比接近简单整数时，两个音听起来会很相近，很协和，感觉像同一个音。 调式 若干高低不同的乐音，围绕某一有稳定感的中心音，按一定的音程关系组织在一起，成为一个有机的体系，称为调式。 调式有很多种，包括大调式、小调式、中古调式、五声调式等。 自然大调是大调式的一种，当七个音按照“全全半全全全半”的规则排列时，构成的是自然大调。 简谱中“1=C”表示的是C大调，CDEFGAB间的音高距离符合“全全半全全全半”的规则，是自然大调的一种。此外有D大调、E大调等。 音阶 将调式中的所有音，以主音开始到主音结束，由低到高或由高到低以阶梯状排列起来，被称作音阶。 如C大调的音阶就可以表示为“CDEFGABC”，这里最后面的C比最前面的C高了一个八度。此外“CBAGFEDC”、“CDEFGABCBAGFEDC”、“CBAGFEDCDEFGAB”也可称作C大调的音阶。 表1 自然大调音阶一览表 1=C C D E F G A B C 1=♯C(第一个黑键) ♯C ♯D ♯E ♯F ♯G ♯A ♯B ♯C 1=♭D(第一个黑键) ♭D ♭E F ♭G ♭A ♭B C ♭D 1=D D E ♯F G A B ♯C D 1=♭E(第二个黑键) ♭E F G ♭A ♭B C D ♭E 1=E E ♯F ♯G A B ♯C ♯D E 1=F F G A ♭B C D E F 1=♯F(第三个黑键) ♯F ♯G ♯A B ♯C ♯D ♯E ♯F 1=♭G(第三个黑键) ♭G ♭A ♭B ♭C ♭D ♭E F ♭G 1=G G A B C D E ♯F G 1=♭A(第四个黑键) ♭A ♭B C ♭D ♭E F G ♭A 1=A A B ♯C D E ♯F ♯G A 1=♭B(第五个黑键) ♭B C D ♭E F G A ♭B 1=B(第七个白键) B ♯C ♯D E ♯F ♯G ♯A B 1=♭C(第七个白键) ♭C ♭D ♭E ♭F ♭G ♭A ♭B ♭C 自然大调的所有音阶如上表所示，一共有十五个大调，对应十二个音。其中第一个黑键上的“1=♯C”与“1=♭D”、第一个黑键上的“1=♯F”与“1=♭G”、第七个白键上的“1=B”与“1=♭C”是等音调，调式中的所有音完全相同，只是音名不同。 为了方便起见，大调中的音名最好不要含有重升重降符号，第二个黑键上的“1=♯D”、第四个黑键上的“1=♯G”、第五个黑键上的“1=♯A”其大调内音名含有重升符号，不符合方便的原则，因此没有列在上表中。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"参赛经历——2020年TI杯辽宁省大学生电子设计竞赛","slug":"日记/参赛经历——2020年TI杯辽宁省大学生电子设计竞赛","date":"2023-05-29T08:58:00.000Z","updated":"2024-01-25T05:20:20.908Z","comments":true,"path":"日记/参赛经历——2020年TI杯辽宁省大学生电子设计竞赛/","link":"","permalink":"https://renahah.github.io/%E6%97%A5%E8%AE%B0/%E5%8F%82%E8%B5%9B%E7%BB%8F%E5%8E%86%E2%80%94%E2%80%942020%E5%B9%B4TI%E6%9D%AF%E8%BE%BD%E5%AE%81%E7%9C%81%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%94%B5%E5%AD%90%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9B/","excerpt":"前言 2020年10月10日至10月13日，我与人组队参加了TI杯辽宁省大学生电子设计竞赛，所选题目为G题——非接触物体尺寸形态测量。在这次竞赛中我主要负责程序相关工作，其中涉及到STM32单片机、OPENMV图像识别模块、激光测距模块、串口屏上位机开发等诸多方面的知识，积累了相当多的经验。经过一个月的前期准备与四天三夜的刻苦奋斗，最终取得了省二等奖的优异成绩。 整理这个笔记，也是对竞赛做一个全面回顾，总结竞赛过程中遇到的困难与解决问题的方法，列举相关参考资料，为今后的读研与工作提供一些参考。","text":"前言 2020年10月10日至10月13日，我与人组队参加了TI杯辽宁省大学生电子设计竞赛，所选题目为G题——非接触物体尺寸形态测量。在这次竞赛中我主要负责程序相关工作，其中涉及到STM32单片机、OPENMV图像识别模块、激光测距模块、串口屏上位机开发等诸多方面的知识，积累了相当多的经验。经过一个月的前期准备与四天三夜的刻苦奋斗，最终取得了省二等奖的优异成绩。 整理这个笔记，也是对竞赛做一个全面回顾，总结竞赛过程中遇到的困难与解决问题的方法，列举相关参考资料，为今后的读研与工作提供一些参考。 题目要求 设计并制作一个非接触式物体形状和尺寸自动测量装置，测量被测目标的形状、 尺寸、 测量头中心点与被测目标之间的距离等参数，并用激光束指示出被测目标的中心位置。 图1 题目要求 硬件与软件准备 STM32单片机 STM32是高性能，低成本，低功耗的嵌入式微控制器。本次竞赛采用的STM32F103ZET6型号单片机，作为整个测量系统的控制中心使用，实现程序的整体流程控制，对二维云台的舵机PWM控制，以及与OPENMV图像识别模块、激光测距模块、串口屏的信息交换处理。 所用IDE为Keil μVision V5.21.1.0 STM32的学习资料可以在此下载 正点原子资料下载中心 OPENMV视觉模块 OpenMV是一款低价，可扩展的机器视觉模块。本次竞赛采用OPENMV2-M3摄像头，该模块采用STM32F427VG微处理器与OV7725感光元件。可以通过编写简单的Python语言脚本，实现数据采集和图像处理。在本次竞赛中用于识别区域内色块，进行相应处理实现形状识别功能。 OPENMV参考资料： OPENMV中文入门教程 OpenMV Cam快速参考 使用与之配套的OPENMV IDE进行程序开发。 USART HMI串口屏 USART HMI串口屏是一款编程简单，易于调试的可触摸显示模块。可以通过图形化软件快速制作显示界面。在本次竞赛中用于显示测距与形状识别结果信息，同时为形状识别提供测量启动按键。本次竞赛使用中景园2.8寸TFT LCD串口屏。 USART HMI参考资料： USART HMI入门教程 使用与之配套的USART HMI IDE进行程序开发。 激光测距模块 本次竞赛采用摩天MyAntenn-L1型号激光测距模块。与超声波测距模块相比，激光测距模块可以更为灵敏，精确度高，且可以满足用激光束指示出被测目标的中心位置之要求。 二维云台 二维云台有两个自由度，通过控制两个舵机的角度即可实现任意对任意方向的瞄准。本次竞赛将OPENMV视觉模块与激光测距模块安装在二维云台上，通过回传的图像确定下一时刻舵机的移动方向，做一个简单的闭环控制，最后使激光测距模块指向待测图形的中心。 蜂鸣器/LED指示灯 作为单片机启动，串口屏按键以及测量结束的提示信号。 硬件设计 稳压电路 采用LM2596S-ADJ来实现12V到6.5V（云台供电）的稳压和5V的稳压。LM2596S-ADJ是德州仪器（TI）生产的3A电流输出降压开关型集成稳压芯片，它内含固定频率振荡器（150KHZ）和基准稳压器（1.23v），并具有完善的保护电路、电流限制、热关断电路等功能，使它的性能很稳定。利用该器件只需极少的外围器件便可构成高效稳压电路。所以，LM2596S-ADJ稳压芯片十分适合系统的稳压电路设计。 图2 稳压电路 电路接线图 图3 电路接线图 系统实物图 图4 系统实物图 STM32F103ZET6与其他器件的连接 串口屏—USART1—PA9(TX),PA10(RX) 激光测距模块—USART2—PA2(TX),PA3(RX) OPENMV视觉模块—USART3—PB10(TX),PB11(RX) 舵机PWM—TIM3—PA6(CH1),PA7(CH2) 蜂鸣器与指示灯—PE14,PE15 软件设计 STM32程序总流程图 图5 STM32程序总流程图 OPENMV视觉模块 OPENMV程序总流程图 图6 OPENMV程序总流程图 OPENMV程序总流程图如上图所示，测量分为“普通测量”与“追踪测量”两种。 普通测量模式下，激光测距模块已事先对准待测图形中心，可以直接调用OPENMV内置库函数识别特定色块，读取色块的各项信息，以此可以判断出待测图形的形状。将图形形状等信息以串口信号形式发送至单片机，结合单片机接收到的来自激光测距模块的距离信息。即可根据相似三角形原理计算出图形的尺寸（正方形或三角形的边长、圆的直径）。为提高测量精确度，这里采取了多次读取求平均值的方法。 追踪测量模式下，激光测距模块未对准待测图形中心，如果摄像头没有观察到待测图形色块，则向单片机发送“移动”信号，控制舵机按照设定好的方式来回运动（从左到右，从上到下，覆盖可能找到色块的所有方向）；摄像头观察到色块后，向单片机发送“对准”信号，通过一个简单的闭环控制使激光测距模块对准色块中心（设定值为摄像头视野中心坐标，实际值为色块在摄像头视野中的坐标，被控量为两个舵机的PWM值）。完成对准后所执行程序同普通测量模式。 非接触式物体尺寸测量原理 图7 相似三角形法测量图形尺寸 本次竞赛的物体尺寸测量基于相似三角形原理，公式如下所示： \\[\\frac{L} {x} = \\frac{ {L&#39;} } {f}\\] 首先进行一次测试以求出摄像头焦距\\(f\\)，可以将某已知边长\\(L\\)的物体放置在摄像头前已知距离\\(x\\)的位置，使用测试程序测量像素点的长度\\(L&#39;\\)，便可用上式求出摄像头焦距\\(f\\)，该值为固定值，一旦确定便不会改变。 普通测量或追踪测量模式下，通过来自激光测距模块的距离\\(x\\)，与来自OpenMV摄像头模块的像素点长度\\(L’\\)，以及固定的摄像头焦距\\(f\\)，便可以求出待测物体的长度\\(L\\)。 形状识别原理 图8 形状识别原理 本次竞赛待测形状有正方形、圆形与正三角形，如上图所示。 调用OPENMV摄像头模块的库函数img.find_blobs可以识别摄像头内所有符合要求的色块blobs。使用自定义的函数find_max(blobs)筛选出最大的色块max_blob，一般情况下是待测色块。 调用库函数img.draw_rectangle(max_blob.rect())可为待测色块绘制一个矩形将其包住，如上图所示。 可以获取到待测色块矩形的像素点长与宽，两者乘积即为矩形像素点面积\\(S_{square}\\)。此外还可以通过max_blob.pixels()得到色块像素点面积\\(S_{blob}\\)（即图中蓝色区域面积）。 设二者比值\\(\\frac{S_{blob}}{S_{square}} = k\\)，则可根据\\(k\\)值区分不同的形状，由上图可知正方形\\(k = 1\\)，圆形\\(k = \\frac{\\pi }{4} \\approx 0.785\\)，正三角形\\(k = 0.5\\)。 结合实际情况，当\\(k \\geqslant 0.9\\)时，判断图形为正方形；当\\(k \\leqslant 0.6\\)时，判断图形为三角形；其余情况为圆形。 USART HMI串口屏 图9 串口屏主界面 串口屏使用USART HMI配套IDE进行图形界面的编辑与程序烧录。本次竞赛所用串口屏主界面如上图所示。按下“普通测量”或“追踪测量”键后，串口屏将向STM32单片机发送不同的串口信号。STM32接到信号后向OPENMV视觉模块发送串口信号，蜂鸣器鸣响提示，OPENMV根据不同的信号按照图5所示程序流程进行测量。 至于立体测量，竞赛时间有限没做出来。 激光测距模块 STM32单片机与激光测距模块的通信通过单片机的串口USART2实现，设置波特率为38400。 根据摩天MyAntenn-L1型号激光测距模块参考手册，结合实际情况使用快速测距模式。 在STM32主函数写下代码printf(\"iFACM\");便可启用快速测距模式。 注意这里需要对printf函数进行重定义，重定义代码位于usart.c文件下，具体如下： (这里将原有例程中的USART1改成了USART2。这样才能用printf通过USART2发送字符串信号。) 1234567891011121314151617181920212223#if 1#pragma import(__use_no_semihosting) //标准库需要的支持函数 struct __FILE &#123; int handle; &#125;; FILE __stdout; //定义_sys_exit()以避免使用半主机模式 _sys_exit(int x) &#123; x = x; &#125; //重定义fputc函数 int fputc(int ch, FILE *f)&#123; while((USART2-&gt;SR&amp;0X40)==0);//循环发送,直到发送完毕 USART2-&gt;DR = (u8) ch; return ch;&#125;#endif USART2串口中断函数如下所示，通常串口接收到的数据以0x0d,0x0c结尾。 123456789101112131415161718void USART2_IRQHandler(void) //串口2中断服务程序&#123; u8 Res; if(USART_GetITStatus(USART2, USART_IT_RXNE) != RESET) //接收中断 &#123; Res = USART_ReceiveData(USART2); //读取接收到的数据 if(Res!=0x0d&amp;&amp;Res!=0x0a) &#123; USART_RX_BUF2[USART_RX_STA2] = Res ;//USART_RX_BUF2 USART_RX_STA2++; &#125; else &#123; USART_RX_STA2 = 0; Distance_cal(); &#125; &#125;&#125; 激光测距模块距离处理函数如下： 1234567891011void Distance_cal(void)//数据处理&#123; if(USART_RX_BUF2[0]==&#x27;D&#x27;&amp;&amp;USART_RX_BUF2[3]==&#x27;.&#x27;) &#123; dis=(USART_RX_BUF2[2]-48)*1000+(USART_RX_BUF2[4]-48)*100+(USART_RX_BUF2[5]-48)*10+(USART_RX_BUF2[6]-48); &#125; else if(USART_RX_BUF2[0]==&#x27;D&#x27;&amp;&amp;USART_RX_BUF2[4]==&#x27;.&#x27;) &#123; dis=(USART_RX_BUF2[2]-48)*10000+(USART_RX_BUF2[3]-48)*1000+(USART_RX_BUF2[5]-48)*100+(USART_RX_BUF2[6]-48)*10; &#125;&#125; 在快速测距模式下，数据格式为D=1.234m或D=12.34m。 注意串口输出的数字为'0'到'9'的ASCII码，需要减去'0'的ASCII码，即48。 二维云台 二维云台的两个舵机采用PWM控制，分别使用定时器TIM3的CH1与CH2通道。 TIM1为20ms的定时器中断，根据外部状态（识别色块过程中的二维云台“移动”或“对准”状态）每隔20ms对舵机PWM值进行更新。 通过来自OPENMV摄像头的信息判断二维云台的工作状态。摄像头未识别到色块时，二维云台处于“移动”状态，舵机按照设定好的方式来回运动，搜寻目标色块；摄像头识别到色块后，二维云台处于“对准”状态，通过一个简单的闭环控制使激光测距模块对准色块中心，以便接下来的测量。 二维云台移动对准色块效果 蜂鸣器/LED指示灯 使用TIM1定时器中断，根据外部状态（串口屏是否有按键按下，是否完成测量）每隔20ms对蜂鸣器与LED指示灯状态进行更新。 后续与总结 这次竞赛基本上发挥了自己本科阶段在单片机电子方面的全部实力，最后做出来的东西也实现了测距、判断物体形状与尺寸的基本功能。当然软件上还有一些bug，不过将将能用。 记得竞赛结束前大概两个小时，我一时手贱改了改程序还不备份，结果整个系统全不能用了，全都不好使了。当时心态彻底炸了，因为其实不改也行。还好使用Ctrl+Z大法把程序恢复到了修改前的状态，在竞赛结束前一小时一切恢复正常。这里特地感谢帮我稳住心态，提供安慰的队友。接下来仓促地写了写设计报告，随后封箱等待测评。 测评是在竞赛结束两周后，鬼知道这两周时间会发生什么，设备还好不好用。不过还好一切正常，最终拿了省二等奖（这次电赛我们学校成绩不咋好，二十五个队伍就拿了两个二等奖和三个三等奖）。 参加电赛的那个学期，基本上算是我大学阶段的高光时刻了，除了电赛还拿了其他几个比赛的奖，当然这里也有取舍，有一些比赛我就放弃了。随后就是下坡路了，考研一战寄了，二战将将考上本校，二战复试结束后暂时也没什么事，所以就搭建了这个博客。 既然已经到谷底了，就该触底反弹了，虽然接下来会遇到新的挑战，落入新的谷底，但是干就完了！任何时刻都不轻言放弃。","categories":[{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"竞赛","slug":"竞赛","permalink":"https://renahah.github.io/tags/%E7%AB%9E%E8%B5%9B/"},{"name":"单片机","slug":"单片机","permalink":"https://renahah.github.io/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"},{"name":"OPENMV","slug":"OPENMV","permalink":"https://renahah.github.io/tags/OPENMV/"}]},{"title":"自制网易云音乐淘歌软件","slug":"日记/自制网易云音乐淘歌软件","date":"2023-05-27T16:00:00.000Z","updated":"2024-01-25T05:20:20.918Z","comments":true,"path":"日记/自制网易云音乐淘歌软件/","link":"","permalink":"https://renahah.github.io/%E6%97%A5%E8%AE%B0/%E8%87%AA%E5%88%B6%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%B7%98%E6%AD%8C%E8%BD%AF%E4%BB%B6/","excerpt":"","text":"前言 本人是网易云音乐听歌量30000+用户，主要听电子音乐，其他类型音乐亦有涉及。随着听歌量的增长，就会越来越发现一个问题，就是有大量的优质冷门音乐无人问津。对于多数普通用户而言，所听音乐以评论数999+甚至1w+的热门歌曲为主。但实际上，999+评论的音乐只是网易云庞大曲库的冰山一角，冰山以下蕴含丰富的宝藏。 本人开发的这个程序，试图用最原始的方法——按歌曲专辑id序号顺序逐一展示与挑选音乐。 本软件采用Python爬虫技术，逐一爬取规定范围内的各专辑ID的网址和名称，并将其所得数据整理到HTML文件中，方便挑选音乐。 目前程序仍处于开发阶段，存在诸多待改善之处。最重要的是本人非计算机专业，许多技术还不会，纯粹出于爱好查阅相关资料，最终整合出了这样一个刚好能用的答辩，所以大佬轻喷、轻喷、轻喷啊！ 整理这个笔记，也是对开发软件的步骤与技术细节进行一个全面的回顾，列举相关参考资料，为进一步的开发提供便利。 为什么是网易云音乐——目前只有网易云的链接仍然包含数字id，其他平台全用上了乱码，根本无法按顺序检索。 为什么是专辑id——目前网易云音乐的绝大多数歌曲都对应着一个专辑，而一个专辑对应一个或多个单曲，因此检索专辑的效率更高。除专辑id外，本软件亦支持单曲、歌单、用户、歌手、电台、节目、视频、话题的id检索，可以在操作界面中选择。 工具准备 IDE 目前使用的是Visual Studio 2019（当然也可以使用PyCharm）。 Python Python是一种解释型、面向对象、动态数据类型的高级程序设计语言。本软件使用3.7版本进行开发。 Python3.7中文文档 Python下载地址 菜鸟教程——Python安装教程 安装完成后，在运行的CMD界面中进入Python安装文件夹，输入python -V，出现有版本号则说明Python已经安装到电脑上。 输入cd scripts，则会进入Python的库文件夹，输入pip install xxx==x.x.x即可下载指定版本的插件。 Selenium+PhantomJS PhantomJS是一个自带JavaScript API的无头WebKit脚本，即无头浏览器（不展示图形界面）。 PhantomJS下载与安装——中文文档 Selenium+PhantomJS使用 by-qq_38767359 Selenium+PhantomJS使用详解 by-尘世gu行 Selenium是一个Web的自动化测试工具，它可以模拟人类浏览网页时的各种操作，它是一个python库。新版本的selenium已经不在支持PhantomJS，因此需要安装旧版本的selenium。 pip install selenium==2.48.0 Selenium+PhantomJS共同构成所谓的“爬虫”，用于爬取网页上的各类数据。 BeautifulSoup Beautiful Soup是一个可以从HTML或XML文件中提取数据的Python库。可以按照一定的规则处理所得的网页源代码，提取想要的数据。本程序中用于提取网页源代码中的专辑名称与专辑图片链接。 pip install beautifulsoup4 还需要搭配第三方解析器lxml pip install lxml Beautiful Soup 4.4.0 文档 爬虫知识——第三方库Beautiful Soup4 使用总结 by-fengzhen8023 PyQt5 pyqt5中文教程 Python Qt教程 by-白月黑羽 PyQt5是最强大的GUI库之一。本程序使用PyQt5制作一个图形化的界面，使淘歌操作更为方便。 pip install pyqt5-tools Qt Designer是一个QT界面生成器，其位置为Python\\Lib\\site-packages\\qt5_applications\\Qt\\bin PyInstaller PyInstaller用于将Python代码编译为可执行文件 pip install pyinstaller pyinstaller -D -w 入口程序路径\\入口程序.py --distpath=目标路径 生成包含exe的文件夹，并在执行的时候不显示黑框（若-D换为-F，则生成单个exe文件；若去掉-w，程序执行时将显示黑框）。 生成含exe的文件夹后，一定要在该文件夹内添加phantomjs.exe，否则点击'ok'键就会闪退。 程序详解 爬取数据并整理成HTML文件 12345678910111213141516171819202122232425262728293031323334import requestsfrom urllib.request import urlopenfrom selenium import webdriverfrom bs4 import BeautifulSoupi=j=0id=3057200num=200web_or_app=1 #0——网页 1——调用applist_a=[&#x27;album&#x27;,&#x27;song&#x27;,&#x27;playlist&#x27;,&#x27;user&#x27;,&#x27;artist&#x27;,&#x27;djradio&#x27;,&#x27;program&#x27;,&#x27;mv&#x27;,&#x27;activity&#x27;]list_b=[&#x27;专辑&#x27;,&#x27;单曲&#x27;,&#x27;歌单&#x27;,&#x27;用户&#x27;,&#x27;歌手&#x27;,&#x27;电台&#x27;,&#x27;节目&#x27;,&#x27;视频&#x27;,&#x27;话题&#x27;]list_index=0path = &quot;D:/SongPage/&quot;+ list_b[list_index] + str(id) + &quot;~&quot; + str(id+num-1) + &quot;.htm&quot;driver = webdriver.PhantomJS()fp=open(path,&quot;w+&quot;,encoding=&quot;utf-8&quot;)#创建文件fp.write(&quot;&lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=utf-8\\&quot;&gt;\\n&lt;/head&gt;\\n&lt;body&gt;&quot;)for i in range(num): url = &quot;https://music.163.com/#/&quot; + list_a[list_index] + &quot;?id=&quot; + str(id+i) #请求网址 driver.get(url) driver.switch_to.frame(&quot;g_iframe&quot;) html = driver.page_source#网页源码 soup = BeautifulSoup(html, &#x27;lxml&#x27;)#创建Beautifulsoup对象 title=soup.title.string if(title!=&#x27;网易云音乐&#x27;):#无歌曲的情况下，标题为“网易云音乐” pic=soup.select(&#x27;meta[property=&quot;og:image&quot;]&#x27;)[0].attrs[&#x27;content&#x27;] j=j+1 fp.write(&quot;&lt;p&gt;&quot; + str(id+i) + &quot;&lt;/p&gt;&quot;)#专辑网址 fp.write(&quot;&lt;img src=\\&quot;&quot; + pic + &quot;\\&quot;width=\\&quot;120\\&quot; height=\\&quot;120\\&quot;/&gt;&quot;)#专辑图片 if(web_or_app==1):#是否调用软件播放音乐 url = &quot;orpheus://&quot; + list_a[list_index] + &quot;/&quot; + str(id+i) + &quot;?autoplay=1&quot; fp.write(&quot;&lt;a href=\\&quot;&quot; + url + &quot;\\&quot;&gt;&quot; + title + &quot;&lt;/a&gt;&quot;)#专辑标题 print(&quot;已完成&quot; + str(i+1) + &quot;\\t标题:&quot; + str(title))fp.write(&quot;&lt;/body&gt;\\n&lt;/html&gt;&quot;)fp.close() 先编写一个如上所示的相对简单的程序，实现基本功能。其中id是检索起始id，num是检索数量。list_index是检索资源的类型，默认为0（专辑）。使用web_or_app变量指定文件的打开形式，用网页打开或者在app内打开。 使用PyQt5绘制操作界面 打开Qt Designer，设计好图形界面后保存，该文件为.ui格式 使用pyuic5将ui文件转换为py文件 pyuic5 - o 新文件名.py ui文件名.ui PyQt5，Qt Designer，PyUIC，pyrcc5安装与使用 by-开饭了船长 为图形界面添加背景图片，可以参考以下资料，样式表文件为.qrc格式 PyQt5最详细pyrcc5配置+样式使用 by-咸菜萝卜头 使用pyrcc5将qrc文件转换为py文件 pyrcc5 - o 新文件名.py qrc文件名.qrc 经过亿点点修改后的完整代码如下： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788import sysimport requestsfrom urllib.request import urlopenfrom selenium import webdriverfrom bs4 import BeautifulSoupfrom PyQt5 import QtCore, QtGui, QtWidgetsfrom PyQt5.QtCore import QObject, pyqtSignal, QThreadfrom SongWindow import Ui_MainWindowid=num=list_index=web_or_app=0path0=&quot;D:/Code/NCM/SongPage&quot;list_e=[&#x27;album&#x27;,&#x27;song&#x27;,&#x27;playlist&#x27;,&#x27;user&#x27;,&#x27;artist&#x27;,&#x27;djradio&#x27;,&#x27;program&#x27;,&#x27;mv&#x27;,&#x27;activity&#x27;]list_c=[&#x27;专辑&#x27;,&#x27;单曲&#x27;,&#x27;歌单&#x27;,&#x27;用户&#x27;,&#x27;歌手&#x27;,&#x27;电台&#x27;,&#x27;节目&#x27;,&#x27;视频&#x27;,&#x27;话题&#x27;]class GoSearch(QThread):#检索线程 _signal = pyqtSignal(int) _signal2 = pyqtSignal(str) finished = pyqtSignal() def __init__(self): super(GoSearch, self).__init__() def run(self): i=j=percent=0 path = path0 + &quot;/&quot; + list_c[list_index] + str(id) + &quot;~&quot; + str(id+num-1) + &quot;.htm&quot; driver = webdriver.PhantomJS() fp=open(path,&quot;w+&quot;,encoding=&quot;utf-8&quot;) fp.write(&quot;&lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=utf-8\\&quot;&gt;\\n&lt;/head&gt;\\n&lt;body&gt;&quot;) for i in range(num): url = &quot;https://music.163.com/#/&quot; + list_e[list_index] + &quot;?id=&quot; + str(id+i) #请求网址 driver.get(url) driver.switch_to.frame(&quot;g_iframe&quot;) html = driver.page_source#网页源码 soup = BeautifulSoup(html, &#x27;lxml&#x27;)#创建Beautifulsoup对象 title=soup.title.string if(title!=&#x27;网易云音乐&#x27;):#无歌曲的情况下，标题为“网易云音乐” pic=soup.select(&#x27;meta[property=&quot;og:image&quot;]&#x27;)[0].attrs[&#x27;content&#x27;] j=j+1 fp.write(&quot;&lt;p&gt;&quot; + str(id+i) + &quot;&lt;/p&gt;&quot;)#专辑网址 fp.write(&quot;&lt;img src=\\&quot;&quot; + pic + &quot;\\&quot;width=\\&quot;120\\&quot; height=\\&quot;120\\&quot;/&gt;&quot;)#专辑图片 if(web_or_app==1):#是否调用软件播放音乐 url = &quot;orpheus://&quot; + list_e[list_index] + &quot;/&quot; + str(id+i) + &quot;?autoplay=1&quot; fp.write(&quot;&lt;a href=\\&quot;&quot; + url + &quot;\\&quot;&gt;&quot; + title + &quot;&lt;/a&gt;&quot;)#专辑标题 infomation=&quot;已完成:&quot; + str(i+1) + &quot;\\t标题:&quot; + str(title) percent=int((i+1)/num*100) self._signal2.emit(infomation) self._signal.emit(percent) fp.write(&quot;&lt;/body&gt;\\n&lt;/html&gt;&quot;) fp.close() self.finished.emit()#线程结束class mywindow(QtWidgets.QMainWindow,Ui_MainWindow): def __init__(self): super(mywindow,self).__init__() self.setupUi(self) def OK(self):#按下OK键 global id,num,list_index,web_or_app,path0 id=int(self.lineEdit.text()) num=int(self.lineEdit_2.text()) list_index=int(self.comboBox.currentIndex()) web_or_app=int(self.comboBox_2.currentIndex()) path0=self.lineEdit_3.text() self.gosearch = GoSearch() self.test_thread = QThread() self.gosearch.moveToThread(self.test_thread) self.gosearch._signal.connect(self.progressBar.setValue) self.gosearch._signal2.connect(self.plainTextEdit.appendPlainText) self.gosearch.finished.connect(self.gosearch_finished) self.test_thread.started.connect(self.gosearch.run) self.test_thread.start() self.plainTextEdit.appendPlainText(&quot;检索即将开始......&quot;) def gosearch_finished(self): self.test_thread.quit() self.test_thread.wait() self.plainTextEdit.appendPlainText(&quot;检索结束&quot;) def path(self):#设置网页保存位置 path0 = QtWidgets.QFileDialog.getExistingDirectory(self,&quot;浏览&quot;,&quot;D:&quot;) self.lineEdit_3.setText(path0)app = QtWidgets.QApplication(sys.argv)window = mywindow()window.show()sys.exit(app.exec_()) 软件操作界面如下图所示，点击OK键即可开始检索。 图1 软件操作界面 检索完成后，HTML文件可在目标文件夹找到。 展望 目前的问题 这个程序目前就是依托堪堪能用的答辩，还有很多需要改进之处。 需要爬取完毕才能看到输出的页面结果，需要实时爬取实时出结果。（最好可以直接在网页上操作） 目前爬取是单线程的，慢且容易卡死，需要支持多线程。 To Be Countinued未完待续...... 参考资料 RenAhah的网易云音乐用户页 Python爬取网易云音乐辑的图片、专辑名和专辑出版时间 by-哈利波特","categories":[{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"软件开发","slug":"软件开发","permalink":"https://renahah.github.io/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"},{"name":"python","slug":"python","permalink":"https://renahah.github.io/tags/python/"}]},{"title":"电力电子技术02-电力电子器件","slug":"课程笔记/电力电子技术/电力电子技术02-电力电子器件","date":"2023-05-21T07:36:56.000Z","updated":"2024-01-25T05:20:20.928Z","comments":true,"path":"课程笔记/电力电子技术/电力电子技术02-电力电子器件/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF02-%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E5%99%A8%E4%BB%B6/","excerpt":"","text":"《电力电子技术(第五版)》学习笔记 本节内容对应书中第二章 绪论；对应页码p10-p42 电力电子器件概述 电力电子器件的一般特征 处理电功率的大小，即承受电压和电流的能力远大于信息电子器件； 一般工作在开关状态； 需要由信息电子电路来控制； 自身功耗远大于信息电子器件，一般要安装散热器。 电力电子器件损耗包括通态损耗、断态损耗与开关损耗，其中开关损耗包括开通损耗和关断损耗。 电力电子器件的主要损耗为通态损耗，器件开关频率较高时，开关损耗成为主要损耗。 电力电子器件的分类 按照被信号控制的程度分类： 半控型器件——通过控制信号可控制通，不能控制关——晶闸管(Thyristor)及其大部分派生器件 全控型器件——通过控制信号既可控制通又可控制关，又称自关断器件——绝缘栅极双极型晶体管（IGBT）、电力场效应晶体管（Power-MOSFET） 不可控器件——不能用控制信号来控制其通断, 不需要驱动电路——电力二极管(Power Diode) 按照驱动电路信号的性质，可分为电流驱动型和电压驱动型（场效应器件）。 电流驱动型：双极型器件中除SITH外——具有电导调制效应，因而通态压降低，导通损耗小，但工作频率较低，所需驱动功率大,驱动电路较复杂。 电压驱动型：单极型器件和复合型器件，双极型器件中的SITH——输入阻抗高，所需驱动功率小，驱动电路简单，工作频率高。 按照驱动电路信号的波形，可分为脉冲触发型和电平控制型。 按照器件内部电子和空穴两种载流子参与导电的情况，可分为单极型器件、双极型器件、复合型器件。 图0 电力电子器件分类 不可控器件——电力二极管 电力二极管工作原理与信息电子电路中的二极管一致，皆以半导体PN结为基础。 电力二级管于20世纪50年代初开始应用，至今在中、高频整流和逆变场合，仍然不可替代。其主要封装有螺栓型和平板型两种。 图1 电力二极管a) 外形 b) 基本结构 c) 电气符号 电力二极管的基本特性 静态特性（伏安特性） 图2 电力二极管伏安特性 电力二极管承受电压大于一定值（门槛电压\\(U_{TO}\\)）时，正向电流开始明显增加，处于稳定导通状态（正向偏置）。 电力二极管承受反向电压时，只有少子引起的微小而数值恒定的反向漏电流，处于截至状态（反向偏置）。 动态特性（开关特性） 图3 电力二极管关断过程 外加电压突然由正向变为反向时，电力二极管不能立即关断，需要经一短暂时间重获反向阻断能力，进入截至状态。 在关断前有较大反向电流,伴有明显反向电压过冲\\(U_{RP}\\)。 反向恢复时间\\(t_{rr}\\)——\\(t_{rr} = t_d + t_f\\)。其中\\(t_d\\)为延迟时间，\\(t_f\\)为电流下降时间。 恢复系数\\({S_r} = \\frac{t_f} {t_d}\\)，\\(S_r\\)越大则恢复特性越软，反向电流下降时间相对越长，在同样的外电路条件下造成的反向电压\\(U_{RP}\\)过冲较小。 图4 电力二极管开通过程 正向压降先出现一个过冲\\(U_{FP}\\)，经过一段时间才趋于接近稳态压降的某个值。 正向恢复时间为\\(t_{fr}\\)。电流上升率越大，\\(U_{FP}\\)越高。 电力二极管的主要参数 正向平均电流\\({I_{F(AV)} }\\)——在指定的管壳温度\\(T_c\\)和散热条件下，其允许流过的最大工频正弦半波电流的平均值。按照电流的发热效应来定义，使用时应按有效值相等的原则来选取电流定额，并应留有一定的裕量。 正向压降\\(U_F\\)——指定温度下，流过某一指定的稳态正向电流时对应的正向压降。 反向重复峰值电压\\(U_{RRM}\\)——能重复施加的反向最高峰值电压。使用时，应留有两倍裕量（反向最高峰值电压的两倍）。 最高工作结温\\(T_{JM}\\)——在PN结不致损坏的前提下所能承受的最高平均温度，通常在125~175℃范围之内。（结温\\(T_J\\)指PN结的平均温度） 关断过程反向恢复时间\\(t_{rr}\\)——\\(t_{rr} = t_d + t_f\\)。其中\\(t_d\\)为延迟时间，\\(t_f\\)为电流下降时间。 浪涌电流\\(I_{FSM}\\)——指能承受最大的连续一个或几个工频周期的过电流。 电力二极管的主要类型 普通二极管(General Purpose Diode)又称整流二极管(Rectifier Diode)，多用于开关频率不高（1kHz以下）的整流电路中，反向恢复时间较长，正向电流定额和反向电压定额可以达到很高。 快恢复二极管(Fast Recovery Diode,FRD)简称快速二极管，反向恢复过程很短，正向压降很低。分快速恢复和超快速恢复两个等级。 肖特基二极管(Schottky Barrier Diode,SBD)反向恢复时间很短（10~40ns），正向恢复无明显的电压过冲。 反向耐压较低时其正向压降也很小，明显低于快恢复二极管。其开关损耗和正向导通损耗都比快速二极管还小，效率高。其缺点在于：当所能承受的反向耐压提高时其正向压降也会变高以至于不满足要求，因此多用于200V以下的低压场合；反向漏电流较大且对温度敏感，因此反向稳态损耗不能忽略，需严格限制其工作温度。 半控型器件——晶闸管 晶闸管的结构与工作原理 晶体闸流管(Thyristor)，简称晶闸管，又称可控硅整流器(Silicon Controlled Rectifier,SCR)，简称可控硅。 其主要封装有螺栓型和平板型两种。有三个连接端，分别为阳极A、阴极K、门级G（控制端）。 图5 晶闸管a) 外形 b) 基本结构 c) 电气符号 晶闸管可以看作由\\(P_1 N_1 P_2\\)和\\(N_1 P_2 N_2\\)构成的两个晶体管\\(V_1\\)、\\(V_2\\)组合而成。 若外电路向门级注入驱动电流\\(I_G\\)，则\\(I_G\\)流入晶体管\\(V_2\\)的基极，产生集电极电流\\(I_{c2}\\)，它构成晶体管\\(V_1\\)的基极电流，放大成集电极电流\\(I_{c1}\\)，又进一步增大\\(V_2\\)的基极电流，如此形成强烈的正反馈使\\(V_1\\)和\\(V_2\\)进入完全饱和状态，即晶闸管导通。 此时若撤掉门极电流\\(I_G\\)，晶闸管内部由于强烈的正反馈仍能维持导通状态。除非去掉阳极所加的正向电压，或者阳极施加反压，或者设法使流过晶闸管的电流降低到接近于零的某一数值以下，晶闸管才能关断。 因此晶闸管的驱动方式为触发驱动，晶闸管是半控型器件。 图6 晶闸管的双晶体管模型及其工作原理 晶闸管导通条件：晶闸管阳极与阴极间加有正向电压，且在门极施加触发电流 晶闸管关断条件：晶闸管的正向电流小于维持电流，或在晶闸管上加反向电压 晶闸管的基本特性 静态特性 图7 晶闸管静态特性 正向特性（第一象限） \\(I_G = 0\\)时，器件两端加正向电压，有很小的正向漏电流，晶闸管处于正向阻断状态。 正向电压超过正向转折电压\\(U_{bo}\\)时，漏电流急剧增大，器件开通。 门极电流\\(I_G\\)越大，正向转折电压\\(U_{bo}\\)越小。 晶闸管正向导通的管压降很小，1V左右。 导通期间若门极电流为零且阳极电流降低至维持电流\\(I_H\\)以下，晶闸管回到正向阻断状态。 反向特性（第三象限） 阻断状态时，有极小的反向漏电流。 反向击穿后，反向漏电流急剧增大，可能导致晶闸管发热损坏。 动态特性 图8 晶闸管开通与关断过程 开通过程 延迟时间\\(t_d\\)(0.5~1.5μs)——从门极电流阶跃时刻开始，到阳极电流上升至稳态值10%的时间——随门极电流的增大而减小 上升时间\\(t_r\\)(0.5~3μs)——阳极电流从10%上升至90%所需的时间——反应晶闸管本身特性，受到外电路电感严重影响 开通时间\\(t_{gt}=t_d+t_r\\)——提高阳极电压可以增大晶体管\\(V_2\\)的电流增益\\(\\alpha_2\\)，使正反馈过程加速，缩短开通时间 关断过程 反向阻断恢复时间\\(t_{rr}\\)——从正向电流降为零，到反向电流衰减至接近于零的时间。 正向阻断恢复时间\\(t_{gr}\\)——从到反向电流衰减至接近于零，到晶闸管恢复对正向电压的阻断能力的时间。 关断时间\\(t_q=t_{rr}+t_{gr}\\)——普通晶闸管的关断时间约几百微秒。 晶闸管的主要参数 电压定额 断态重复峰值电压\\(U_{DRM}\\)——门极断路而结温额定时，允许重复加在器件上的正向峰值电压。规定\\(U_{DRM}\\)为断态不重复峰值电压\\(U_{DSM}\\)的90%。规定重复频率为50Hz，每次持续时间不超过10ms。 反向重复峰值电压\\(U_{RRM}\\)——门极断路而结温额定时，允许重复加在器件上的反向峰值电压。规定\\(U_{RRM}\\)为反向不重复峰值电压\\(U_{RSM}\\)的90%。\\(U_{RSM}\\)应低于反向击穿电压。 通态（峰值）电压\\(U_{TM}\\)——晶闸管通有某一规定倍数的额定通态平均电流时的瞬态峰值电压。 额定电压——通常取晶闸管的\\(U_{DRM}\\)和\\(U_{RRM}\\)中较小的标值作为额定电压。额定电压要有一定裕量，为正常工作时晶闸管所承受峰值电压的2~3倍。 电流定额 通态平均电流\\(I_{T(AV)}\\)——允许长期流过的最大工频正弦半波电流的平均值。使用时应按有效值相等的原则来选取晶闸管。 如若需要晶闸管实际承担波形电流有效值400A，则对应通态平均电流为400A/1.57=255A（正弦半波波形平均值：有效值=1：1.57）。考虑裕量（1.5到2倍），则可选择额定电流（通态平均电流）500A的晶闸管。 维持电流\\(I_H\\)——使晶闸管维持导通所必需的最小电流。 擎住电流\\(I_L\\)——刚从断态转入通态并移除触发信号后，能维持导通所需的最小电流。对同一晶闸管来说，通常\\(I_L\\)约为\\(I_H\\)的2~4倍。 浪涌电流\\(I_{TSM}\\)——使超过额定结温的不重复性最大正向过载电流。 动态参数 开通时间\\(t_{gt}\\) 关断时间\\(t_q\\) 断态电压临界上升率du/dt——额定结温、门极开路，从断态到通态转换的外加电压最大上升率。电压上升率过大，使充电电流足够大，就会使晶闸管误导通。 通态电流临界上升率di/dt——指在规定条件下，晶闸管能承受而无有害影响的最大通态电流上升率。如果电流上升太快，可能造成局部过热而使晶闸管损坏。 晶闸管的派生器件 快速晶闸管 快速晶闸管(Fast Switching Thyristor,FST)分为快速晶闸管(400Hz)和高频晶闸管(10kHz)。 开关时间以及du/dt和di/dt耐量都有明显改善。 普通晶闸管关断时间数百微秒，快速晶闸管为数十微秒，高频晶闸管为10μs左右。 高频晶闸管的不足在于其电压和电流定额都不易做高。 由于工作频率较高，不能忽略其开关损耗的发热效应。 双向晶闸管 双向晶闸管(Triode AC Switch,TRIAC或Bidirectional triode thyristor)由一对反并联的普通晶闸管集合而成。 有两个主电极\\(T_1\\)和\\(T_2\\)，一个门极\\(G\\)。在第Ｉ和Ⅲ象限有对称的伏安特性。 控制电路简单，在交流调压电路、固态继电器(Solid State Relay,SSR)和交流电动机调速等领域应用较多。 用有效值而非平均值来表示其额定电流值。 图9 双向晶闸管 逆导晶闸管 逆导晶闸管(Reverse Conducting Thyristor,RCT)将晶闸管反并联一个二极管制作在同一管芯上的功率集成器件。 不具有承受反向电压能力，一旦承受反向电压即开通，适用于不需要阻断反向电压的电路。 具有正向压降小、关断时间短、高温特性好、额定结温高等优点。 图10 逆导晶闸管 光控晶闸管 光控晶闸管(Light Triggered Thyristor,LTT)又称光触发晶闸管，利用一定波长的光照信号触发导通。 保证了主电路与控制电路之间的绝缘，且可避免电磁干扰影响。 多应用在高压大功率的场合，如高压直流输电和高压核聚变装置中。 图11 光控晶闸管 典型全控型器件 门极可关断晶闸管——GTO GTO的结构和工作原理 图12 门极可关断晶闸管a) 各单元的阴极、门极间隔排列的图形 b) 并联单元结构断面示意图 c) 电气图形符号 门极可关断晶闸管(Gate Turn-Off Thyristor,GTO)是一种多元的功率集成器件。 其外部结构与普通晶闸管一致，是PNPN四层半导体结构，外部可以引出阳极、阴极与门极。但其内部包含数十个甚至数百个共用阳极的小GTO元，这些GTO元的阴极和门极则在器件内部并联在一起。 可以通过在门极施加负的脉冲电流使其关断。 与普通晶闸管一样，GTO亦可以用图6所示的双晶体管模型来分析其工作原理，GTO导通原理与普通晶闸管一样，是一个正反馈过程，只是导通时饱和程度较浅。 关断时，门极加负脉冲，即从门极抽出电流，则晶体管\\(V_2\\)的基极电流\\(I_{b2}\\)减小，使\\(I_K\\)和\\(I_{c2}\\)减小，继而使\\(I_A\\)和\\(I_{c1}\\)减小又进一步减小\\(V_2\\)的基极电流。当\\(I_A\\)和\\(I_K\\)的减小到不能维持时， 器件退出饱和关断（同样是一个正反馈过程）。 多元集成结构使GTO比普通晶闸管开通过程快，承受di/dt能力强。 GTO的动态特性与主要参数 图13 GTO开通与关断过程 开通过程与普通晶闸管相同，开通时间\\(t_{on} = t_d + t_r\\)。延迟时间\\(t_d\\)一般约1~2μs，上升时间\\(t_r\\)则随通态阳极电流的增大而增大。 关断过程与普通晶闸管不同，关断时间\\(t_{off} = t_s + t_f\\)。其中储存时间\\(t_s\\)是使等效晶体退出饱和状态的时间；下降时间\\(t_f\\)是等效晶体从饱和区退至放大区的时间，阳极电流逐渐减小下降时间一般小于2μs。；尾部时间\\(t_f\\)是残存载流子复合所需时间，尾部时间不计入关断时间。 \\({t_t} &gt; {t_s} \\gg {t_f}\\)，门极负脉冲电流幅值越大，\\(t_s\\)越短。 最大可关断阳极电流\\(I_{ATO}\\)——标称GTO额定电流。 电流关断增益\\(\\beta_{off} = \\frac{I_{ATO} } {I_{GM} }\\)——最大可关断阳极电流与门极负脉冲电流最大值之比。 不少GTO都制造成逆导型，类似于逆导晶闸管，需承受反压时，应和电力二极管串联。 电力晶体管——GTR GTR的结构和工作原理 电力晶体管(Giant Transistor,GTR)，直译为巨型晶体管，是一种耐压高、电流大、开关特性好的双极结型晶体管(Bipolar Junction Transistor,BJT)，即GTR = Power BJT。 GTR通常采用至少由两个晶体管按达林顿接法组成单元结构。同GTO一样采用集成电路工艺将许多这种单元并联而成。 20世纪80年代以来，GTR在中、小功率范围内取代晶闸管，但目前又大多被IGBT和电力MOSFET取代。 图14 电力晶体管a) 内部结构断面示意图 b) 电气图形符号 c) 内部载流子的流动 在应用中，GTR一般采用共射极接法。 电流放大系数\\(\\beta = \\frac{i_c} {i_b}\\)，反映了基极电流对集电极电流的控制能力。 单管GTR的\\(\\beta\\)值比小功率的晶体管小得多，通常为10左右，采用达林顿接法可有效增大电流增益。 GTR的基本特性 静态特性 图15 GTR静态特性 共射接法时的典型输出特性：截止区、放大区和饱和区。 在电力电子电路中GTR工作在开关状态（截止区与饱和区）。 在开关过程中，即在截止区和饱和区之间过渡时，要经过放大区。 动态特性 图16 GTR开通与关断过程 开通时间\\(t_{on} = t_d + t_r\\)，与GTO类似。增大基极驱动电流\\(i_b\\)的幅值并增大\\(di_b/dt\\)，可以缩短开通时间。 关断时间\\(t_{off} = t_s + t_f\\)。 GTR的开关时间在几微秒以内，比晶闸管和GTO都短很多。 GTR的主要参数 电流放大系数\\(\\beta = \\frac{i_c} {i_b}\\)。 集射极间漏电流\\(I_{ceo}\\)，若考虑\\(I_{ceo}\\)，则有\\(i_c = \\beta i_b + I_{ceo}\\)。集射极间饱和压降\\(U_{ces}\\)。 直流电流增益\\(h_{FE}\\)，一般可认为\\(h_{FE} \\approx \\beta\\)。 开通时间\\(t_{on}\\)与关断时间\\(t_{off}\\)。 最高工作电压（GTR上电压超过规定值时会发生击穿）。 集电极最大允许电流\\(I_{cM}\\)与集电极最大耗散功率\\(P_{cM}\\)。 GTR的二次击穿现象与安全工作区 一次击穿——集电极电压升至击穿电压时，\\(I_c\\)迅速增大。只要\\(I_c\\)不超过限度，GTR一般不会损坏，特性也不变。 二次击穿——一次击穿发生时，\\(I_c\\)突然急剧上升，电压陡然下降。常常立即导致器件的永久损坏，或者工作特性明显衰变。 安全工作区(Safe Operating Area,SOA)——二次击穿临界线由不同基极电流的二次击穿临界点连接而成。 图17 GTR安全工作区 其中\\(U_{ceM}\\)为最高电压，\\(I_{cM}\\)为集电极最高电流，\\(P_{cM}\\)为最大耗散功率，\\(P_{SB}\\)为二次击穿功率。 电力场效应晶体管——Power MOSFET 电力场效应晶体管分为结型（静电感应晶体管）(Static Induction Transistor,SIT)和绝缘栅型(Metal Oxide Semiconductor,MOS)，电力MOSFET主要指绝缘栅型场效应晶体管(MOSFET)。 电力MOSFET利用栅极电压来控制漏极电流，驱动电路简单，驱动功率小。开关速度快，工作频率高。热稳定性优于GTR。电流容量小，耐压低，一般用于功率≼10kW的电力电子装置。 电力MOSFET按导电沟道分类可分为P沟道和N沟道。对于N（或P）沟道器件，栅极电压为零时漏源极间存在导电沟道的称为耗尽型，栅极电压大于（或小于）零时漏源极间存在导电沟道的称为增强型。电力MOSFET通常指N沟道增强型。 电力MOSFET的结构和工作原理 导电机理与小功率MOS管相同，结构上有区别。小功率MOS管是横向导电器件，而电力MOSFET采用垂直导电结构。 按垂直导电结构的差异，又分为利用V型槽实现垂直导电的VVMOSFET(Vertical V-groove MOSFET)和具有垂导电双扩散MOS结构的VDMOSFET(Vertical Double-diffused MOSFET)。这里以VDMOSFET为例讨论。 电力MOSFET采用多元集成结构，一个器件由多个小MOSFET元组成。 图18 电力MOSFET结构截面图及电气图形符号a) N沟道增强型VDMOS单元截面图 b) 电气图形符号 截止：漏源极间加正电源，栅源极间电压为零。 P基区与N漂移区之间形成的PN结\\(J_1\\)反偏，漏源极之间无电流流过。 导电：在栅源极间加正电压\\(U_{GS}\\)。 当\\(U_{GS}\\)大于\\(U_T\\)时，P型半导体反型成N型而成为反型层，该反型层形成N沟道而使PN结\\(J_1\\)消失，漏极和源极导电。 场效应管的引脚与三极管相对应：栅极/门极G对应基极b，漏极D对应集电极c，源极S对应发射级e。 电力MOSFET的基本特性 图19 电力MOSFET静态特性a) 转移特性 b) 输出特性 漏极电流\\(I_D\\)和\\(U_{GS}\\)的关系称为MOSFET的转移特性。 \\(I_D\\)较大时，\\(I_D\\)与\\(U_{GS}\\)的关系近似线性，曲线的斜率定义为跨导\\(G_{fs}\\)。 MOSFET的漏极伏安特性对应为输出特性。 其中截止区对应于GTR的截止区，饱和区对应于GTR的放大区，非饱和区对应GTR的饱和区。 MOSFET工作在开关状态，即在截止区和非饱和区之间来回转换。 漏源极间有寄生二极管，加反向电压时器件导通。 通态电阻\\(R_{on}\\)具有正温度系数，对器件并联时的均流有利。 图20 电力MOSFET动态特性测试电路与开关过程波形 开通时间\\(t_{on} = t_{d(on)} + t_r\\)，开通延迟时间与上升时间之和。 关断时间\\(t_{off} = t_{d(off)} + t_f\\)，关断延迟时间和下降时间之和。 MOSFET的开关速度和\\(C_{in}\\)充放电有很大关系。可降低驱动电路内阻\\(R_s\\)减小时间常数，加快开关速度。 MOSFET不存在少子储存效应，关断过程非常迅速。开关时间在10~100ns之间，频率可达100kHz以上，是器件中最高的。 MOSFET是场控器件，静态时不需输入电流。但开关时需对输入电容充放电，仍需一定驱动功率。开关频率越高，所需要的驱动功率越大。 电力MOSFET的主要参数 跨导\\(G_{fs}\\)、开启电压\\(U_T\\)、开通延迟时间\\(t_{d(on)}\\)、上升时间\\(t_r\\)、关断延迟时间\\(t_{d(off)}\\)、下降时间\\(t_f\\)。 漏极电压\\(U_{DS}\\)——标称电力MOSFET电压定额 漏极直流电流\\(I_D\\)和漏极脉冲电流幅值\\(I_{DM}\\)——标称电力MOSFET电流定额 栅源电压\\(U_{GS}\\)——栅源之间的绝缘层很薄，\\(U_{GS} &gt; 20V\\)将导致绝缘层击穿。 极间电容\\(C_{GS}\\)、\\(C_{GD}\\)、\\(C_{DS}\\) 绝缘栅双极晶体管——IGBT GTR和GTO是双极型电流驱动器件，有电导调制效应，通流能力很强，但开关速度较低，所需驱动功率大，驱动电路复杂。电力MOSFET是单极型电压驱动器件，开关速度快，输入阻抗高，热稳定性好，所需驱动功率小而且驱动电路简单。将两类器件取长补短结合而成的复合器件，通常称为Bi-MOS器件。 绝缘栅双极晶体管(Insulated-gate Bipolar Transistor,IGBT)结合了GTR和MOSFET的优点，于1986年投入市场，是中小功率电力电子设备的主导器件，并在继续努力提高电压和电流容量。 开关速度高，开关损耗小。 安全工作区比GTR大，且具有耐脉冲电流冲击能力。 通态压降比VDMOSFET低。 输入阻抗高，输入特性与MOSFET类似。 与MOSFET和GTR相比，耐压和通流能力还可以进一步提高，同时保持开关频率高的特点。 IGBT的结构和工作原理 图21 IGBT结构和工作原理a) 内部结构断面示意图(N沟道VDMOSFET与GTR结合的N沟道IGBT) b) 简化等效电路 c) 电气图形符号 IGBT比VDMOSFET多一层P+注入区，使其有很强的通流能力。 简化等效电路表明，IGBT是GTR与MOSFET组成达林顿结构，相当于一个由MOSFET驱动的厚基区PNP晶体管。 \\(R_N\\)为基区内调制电阻。 IGBT是场控器件，驱动原理与电力MOSFET基本相同，通断由栅射极电压\\(u_{GE}\\)决定。 导通：\\(u_{GE}\\)为正且大于开启电压\\(U_{GE(th)}\\)时，MOSFET内形成沟道，提供基极电流，IGBT导通。由于电导调制效应，电阻\\(R_N\\)减小，使高耐压的IGBT也有很小的通态压降。 关断：栅射极间施加反压或不加信号时，MOSFET内的沟道消失，晶体管的基极电流被切断，IGBT关断。 IGBT亦为三端器件，分别是栅极G，集电极C，发射级E。 IGBT的基本特性 图22 IGBT静态特性a) 转移特性 b) 输出特性 IGBT的转移特性——集电极电流\\(I_C\\)与栅极电压\\(U_{GE}\\)间的关系，与电力MOSFET的转移特性类似。开启电压为\\(U_{GE(th)}\\)。 IGBT的输出特性——栅极电压\\(U_{GE}\\)为参考变量时，集电极电流\\(I_c\\)与集射极间电压\\(U_{CE}\\)间的关系。与GTR的输出特性类似，不同的是参考变量（GTR参考变量为基极电流\\(I_B\\)）。 分为三个区域：正向阻断区、有源区和饱和区（对应GTR的截止区、放大区、饱和区）。 \\(U_{CE} &lt; 0\\)时，IGBT为反向阻断工作状态。 电力电子电路中，IGBT工作于开关状态，即在正向阻断区与饱和区间转换。 图23 IGBT开关过程 IGBT的开通过程与MOSFET类似，其中开通时间\\(t_{on} = t_{d(on)} + t_r\\)。 \\(u_{CE}\\)的下降过程分为\\(t_{fv1}\\)和\\(t_{fv2}\\)两段。\\(t_{fv1}\\)为IGBT中MOSFET单独工作的电压下降过程；\\(t_{fv2}\\)为MOSFET和PNP晶体管同时工作的电压下降过程。 IGBT的关断过程，关断时间\\(t_{off} = t_{d(off)} + t_f\\)，电流下降时间又可分为\\(t_{fi1}\\)和\\(t_{fi2}\\)两段。 \\(t_{fi1}\\)为IGBT器件内部的MOSFET的关断过程，\\(i_C\\)下降较快。\\(t_{fi2}\\)为IGBT内部的PNP晶体管的关断过程，\\(i_C\\)下降较慢。 IGBT的主要参数 最大集射极间电压\\(U_{CES}\\)——由内部PNP晶体管的击穿电压确定。 最大集电极电流包括额定直流电流\\(I_C\\)和1ms脉宽最大电流\\(I_{CP}\\)。 最大集电极功耗\\(P_{CM}\\)——正常工作温度下允许的最大功耗。 其他新型电力电子器件 MOS控制晶闸管MCT MCT(MOS Controlled Thyristor)是将MOSFET与晶闸管组合而成的复合型器件。 结合了MOSFET高输入阻抗、低驱动功率、快速的开关过程（开关损耗小）与晶闸管高电压大电流、低导通压降的优点。 MCT可承受较高的di/dt和du/dt，使其保护电路可以简化。 一个MCT器件由数以万计的MCT元组成，每个由一个PNPN晶闸管，一个控制该晶闸管开通的MOSFET和一个控制该晶闸管关断的MOSFET组成。 遗憾的是，MCT的关键技术问题没有大的突破，电压和电流容量都远未达到预期的数值，未能投入实际应用。 静电感应晶体管SIT SIT(Static Induction Transistor)是一种结型场效应晶体管。SIT是多子导电的器件，工作频率与电力MOSFET相当，甚至更高，功率容量更大，因而适用于高频大功率场合。 在雷达通信设备、超声波功率放大、脉冲功率放大和高频感应加热等领域获得应用。 然而，SIT栅极会在不加任何信号时导通，加负偏压时关断，称为正常导通型器件，使用不太方便。 此外，SIT通态电阻较大，通态损耗也大，因而还未在大多数电力电子设备中得到广泛应用。 静电感应晶闸管SITH SITH(Static Induction Thyristor)可以看作是SIT与GTO组合而成的复合型器件。 SITH是双极型器件，具有电导调制效应，通态压降低、通流能力强。 其很多特性与GTO类似，但开关速度比GTO高，是大容量的快速器件。 SITH一般也是正常导通型，但也有正常关断型。此外，电流关断增益较小，因而其应用范围还有待拓展。 集成门极换流晶闸管IGCT IGCT(Integrated Gate-Commutated Thyristor)于20世纪90年代后期出现，结合了IGBT与GTO的优点，容量与GTO相当，开关速度快10倍。 可省去GTO复杂的缓冲电路，但驱动功率仍很大。 目前正在与IGBT等新型器件激烈竞争，试图最终取代GTO在大功率场合的位置。 基于宽禁带半导体材料的电力电子器件 硅的禁带宽度为1.12电子伏特（eV），而宽禁带半导体材料是指禁带宽度在3.0电子伏特左右及以上的半导体材料，典型的是碳化硅（SiC）、氮化镓（GaN）、金刚石等材料。 基于宽禁带半导体材料的电力电子器件将具有高得多的耐受高电压的能力、低得多的通态电阻、更好的导热性能、热稳定性以及耐受高温和射线辐射的能力。 宽禁带半导体器件的发展一直受制于材料的提炼和制造以及随后的半导体制造工艺的困难。 功率集成电路与集成电力电子模块 基本概念 20世纪80年代中后期开始，模块化趋势，将多个器件封装在一个模块中，称为功率模块。 可缩小装置体积，降低成本，提高可靠性。 对工作频率高的电路，可大大减小线路电感，从而简化对保护和缓冲电路的要求。 将器件与逻辑、控制、保护、传感、检测、自诊断等信息电子电路制作在同一芯片上，称为功率集成电路(Power Integrated Circuit,PIC)。 实际应用电路 高压集成电路(High Voltage IC,HVIC)一般指横向高压器件与逻辑或模拟控制电路的单片集成。 智能功率集成电路(Smart Power IC,SPIC)一般指纵向功率器件与逻辑或模拟控制电路的单片集成。 智能功率模块(Intelligent Power Module,IPM)则专指IGBT及其辅助器件与其保护和驱动电路的单片集成，也称智能IGBT(Intelligent IGBT)。 发展现状 功率集成电路的主要技术难点：高低压电路之间的绝缘问题以及温升和散热的处理。 以前功率集成电路的开发和研究主要在中小功率应用场合。 智能功率模块在一定程度上回避了上述两个难点,最近几年获得了迅速发展。 功率集成电路实现了电能和信息的集成，成为机电一体化的理想接口。 附表1：常用电力半导体开关器件性能对比 器件名称 可控性 驱动信号 额定电压、电流 工作频率 饱和压降 二极管 不可控 无 最大 有高有低 小 晶闸管 半控 脉冲电流（开通） 最大 最低 小 GTO 全控 正、负脉冲电流 大 较低 中 GTR(BJT) 全控 正电流 中 中 小 IGBT 全控 正电压 较大 较高 较小 MOSFET 全控 正电压 小 最该 大 附表2：全控型器件性能对比 器件名称 功率容量 驱动电路 通态压降 开关速度 GTO 6kV/6kA,9kV/1kA 复杂, 功率大 小 1~2kHz GTR 450V/30A,1200V/800A 较复杂, 功率大 较大 5kHz IGBT 1kV/100A,10~50A 简单,功率小 大,与耐压成正比 100kHz MOSFET 2.5kV/1.8kA 简单,功率小 较大 50kHz 扩展阅读 基本元器件 - 晶体三级管(by Power's Wiki) 【模拟电子技术Analog Electronics Technology 6】—— 共射放大电路的原理与改进 【模拟电子技术Analog Electronics Technology 10】——放大电路的三种接法详解 基本元器件 - 场效应管(by Power's Wiki)","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"课程笔记/电力电子技术","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"电力电子技术","permalink":"https://renahah.github.io/tags/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}]},{"title":"运动控制系统04-稳态调速性能指标和开环直流调速系统","slug":"课程笔记/运动控制系统/运动控制系统04-稳态调速性能指标和开环直流调速系统","date":"2023-05-20T02:18:05.000Z","updated":"2024-01-25T05:20:20.969Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统04-稳态调速性能指标和开环直流调速系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F04-%E7%A8%B3%E6%80%81%E8%B0%83%E9%80%9F%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E5%92%8C%E5%BC%80%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第二章 转速开环控制的直流调速系统 第三节 稳态调速性能指标和开环系统存在的问题；对应页码p24-p26 对于调速系统转速控制的要求 调速——在一定的最高转速和最低转速范围，有级（分档地）或无极（平滑地）调节转速； 稳速——以一定的精度在所需转速上稳定运行，在各种干扰下不允许有过大的转速波动； 加、减速——频繁起、制动的设备要求加、减速尽量快；不宜经受剧烈速度变化的机械则要求起、制动尽量平稳。 稳态性能指标 调速范围\\(D\\) 图1 调速范围 调速范围\\(D = \\frac{n_{\\max } } {n_{\\min } } = \\frac{n_{N} } {n_{\\min } }\\) \\(n_{\\max }\\)和\\(n_{\\min }\\)为电动机运行在额定负载下的最高转速与最低转速 一般以电动机最高转速作为额定转速\\(n_{\\max } = n_{N}\\) 静差率\\(s\\) 图2 静差率 静差率\\(s = \\frac{\\Delta {n_N} } {n_{0min} } \\times 100\\%\\) 静差率用来衡量调速系统在负载变化下的稳定度，影响静差率大小的因素有理想空载转速\\(n_0\\)与额定速降\\(\\Delta n_N\\) 调速系统的静差率指标应以最低速时所能达到的数值为准（图中b线） 调速范围、静差率和额定速降的关系 \\[D = \\frac{ {n_N}s} {\\Delta {n_N} (1 - s)}\\] 开环调速系统 图3 开环调速系统的结构原理图 图4 开环调速系统的稳态结构图 开环调速系统的性能：在要求的静差率不高时，可以实现一定范围内的无级调速。 开环调速系统存在的问题：对负载变化引起的转速波动没有抑制作用（没有抗扰能力）。不能同时满足\\(D\\)和\\(s\\)的要求（提高\\(D\\)的同时降低\\(s\\)）。 开环系统不能同时满足\\(D\\)和\\(s\\)的要求的原因：开环系统的转速降落太大。 解决问题的方案：减少额定负载所引起的转速降落。 但由直流电机系统机械特性方程式可知，额定负载转速降落\\(\\Delta {n_N} = \\frac{R{I_{dN} } } {C_e}\\)，由直流电动机的参数决定，无法改变。 解决矛盾的有效途径是采用反馈控制技术，构成转速闭环的控制系统。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统03-PWM变换器——电动机系统","slug":"课程笔记/运动控制系统/运动控制系统03-PWM变换器——电动机系统","date":"2023-05-16T01:42:26.000Z","updated":"2024-01-25T05:20:20.962Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统03-PWM变换器——电动机系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F03-PWM%E5%8F%98%E6%8D%A2%E5%99%A8%E2%80%94%E2%80%94%E7%94%B5%E5%8A%A8%E6%9C%BA%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第二章 转速开环控制的直流调速系统 第二节 PWM变换器——电动机系统的工作原理及调速特性；对应页码p16-p24 直流PWM调速系统由全控型电力电子器件构成，采用脉冲宽度调制控制方式。 在中、小容量的高动态性能系统中，直流PWM调速系统已经完全取代了V-M系统。 相较于V-M系统，直流PWM调速系统有如下优点： 主电路简单，需要的电力电子器件少； 开关频率高，电流容易连续，谐波少，电动机损耗及发热较少； 低速性能好，稳速精度高，调速范围宽； 若与快速响应的电动机配合，则系统频带宽，动态响应快，动态抗扰能力强； 电力电子开关器件工作在开关状态，导通损耗小，当开关频率适当时，开关损耗也不大，因而装置效率较高； 直流电源采用不控整流时，电网功率因数比相控整流器高。 脉宽调制变换器的作用是：用脉冲宽度调制的方法，把恒定的直流电源电压调制成频率一定、宽度可变的脉冲电压序列，从而可以改变平均输出电压的大小，以调节电动机转速。 PWM变换器电路有多种形式，总体上可分为不可逆与可逆两大类。 简单的不可逆PWM变换器——电动机系统 图1 简单的不可逆PWM变换器-直流电动机系统 上图为简单不可逆PWM变换器-直流电动机系统，其中\\(U_g\\)为脉宽可调的脉冲电压，脉冲电压宽度由控制电压\\(U_c\\)调节。 在一个开关周期\\(T\\)内： 当\\(0 \\leqslant t &lt; {t_{on} }\\)时，\\(U_g\\)为正，VT饱和导通，电源电压\\(U_s\\)通过VT加到直流电动机电枢两端。 当\\({t_{on} } \\leqslant t &lt; T\\)时，\\(U_g\\)为负，VT关断，电枢电路中的电流通过续流二极管VD续流，直流电动机电枢电压近似等于零。 因此，直流电动机电枢两端平均电压\\({U_d} = \\frac{t_{on} } {T} {U_s} = \\rho {U_s} = \\frac{U_c} {U_{TM} } {U_s} = {K_s} {U_c}\\) 其中，\\(\\rho = \\frac{t_{on} } {T} = \\frac{U_c} {U_{TM} }\\)为占空比，取值在0到1之间，改变占空比即可实现直流电动机的调压调速。 若令\\(\\gamma = \\frac{U_d} {U_s}\\)为PWM电压系数，则在不可逆PWM变换器中\\(\\gamma = \\rho\\) \\(U_{TM}\\)为锯齿电压最大值，也是控制电压的最大值；\\(K_s = \\frac{U_s} {U_{TM} }= \\frac{U_d} {U_c}\\)为电力电子变换器放大系数。 有制动电流通路的不可逆PWM变换器——电动机系统 简单的不可逆PWM变换器——电动机系统不允许电流反向； 续流二极管VD的作用只是为\\(i_d\\)提供一个续流的通道，没有制动能力； 若占空比过低，使\\(U_d\\)小于反电动势时，电流将衰减到零，直流就会断续，出现和相控整流器同样的问题。 为了实现电动机的制动，就需要为其提供反向电流通道。 图2 简单的不可逆PWM变换器-直流电动机系统电路原理图 原系统电路中的VT和VD作为新系统电路中的\\(VT_1\\)和\\(VD_2\\)，增加\\(VT_2\\)和\\(VD_1\\)来提供反向电枢电流通路。 \\(VT_1\\)和\\(VD_2\\)的驱动电压相等极型相反，即\\(U_{g1} = -U_{g2}\\)。 电压和电流波形有三种状态，分别为一般电动状态、制动状态和轻载电动状态。 一般电动状态 图3 一般电动状态 在一般电动状态中，\\(i_d\\)始终为正值。其电压与电流波形与简单不可逆电路工作波形一致。 \\(0 \\leqslant t &lt; {t_{on} }\\)期间，\\(U_{g1}\\)为正，\\(VT_1\\)导通，\\(U_{g2}\\)为负，\\(VT_2\\)关断，电流\\(i_d\\)沿图2回路①流通。 \\({t_{on} } \\leqslant t &lt; T\\)期间，\\(U_{g1}\\)与\\(U_{g2}\\)皆改变极性，\\(VT_1\\)关断，\\(i_d\\)沿图2回路②经过二极管\\(VD_2\\)续流。 \\(VT_1\\)和\\(VD_2\\)交替导通，\\(VT_2\\)和\\(VD_1\\)始终关断。 制动状态 图4 制动状态 在电动运行需要降速的时候，减小控制电压\\(U_c\\)使，\\(U_{g1}\\)正脉冲变窄，\\(U_{g2}\\)负脉冲变宽，从而使\\({U_d}\\)降低，\\(E &gt; {U_d}\\)（由于机电惯性，转速和电动势不会立即变化）。制动状态\\(i_d\\)始终为负值。 \\(t_{on} \\leqslant t &lt; T\\)期间，\\(U_{g2}\\)为正，\\(VT_2\\)导通，在感应电动势\\(E\\)作用下，反向电流沿图2回路③能耗制动。 \\(T \\leqslant t &lt; T + t_{on}\\)期间，\\(VT_2\\)关断，反向电流沿图2回路④经过二极管\\(VD_1\\)续流，向电源回馈能量。 \\(VT_2\\)和\\(VD_1\\)交替导通，\\(VT_1\\)和\\(VD_2\\)始终关断。 轻载电动状态 图5 轻载电动状态 特殊情况，平均电流较小，\\(VT_1\\)、\\(VD_2\\)、\\(VT_2\\)、\\(VD_1\\)依次导通。 \\(t_{on} \\leqslant t &lt; t_2\\)期间，\\(VT_1\\)关断，\\(i_d\\)沿图2回路②经过\\(VD_2\\)续流； \\(t_2 \\leqslant t &lt; T\\)，电流在\\(t = t_2\\)时刻衰减至零，\\(VT_2\\)导通，使电流反向，产生局部时间的制动作用，反向电流沿图2回路③能耗制动； \\(T \\leqslant t &lt; T + t_4\\)期间，\\(VT_2\\)关断，反向电流沿图2回路④经过二极管\\(VD_1\\)续流，向电源回馈能量。 \\(T + t_4 \\leqslant t &lt; T + t_{on}\\)期间，\\(VT_1\\)导通，电流\\(i_d\\)沿图2回路①流通。 注释1：电动机是感性元件，流过的电流不会因外部电路状态变化而突变。 注释2：电流经过二极管\\(VD_2\\)或\\(VD_1\\)续流时（对应回路②与回路④），对应的\\(VT_2\\)或\\(VT_1\\)不能导通，因为此时二极管有压降向晶闸管施加反压，使晶闸管无法导通。 桥式可逆PWM变换器——电动机系统 不可逆PWM变换器——电动机系统的平均电压\\(U_d\\)始终大于零，电压和转速不能反向。 如果要求转速反向，需要再增加VT和VD，构成可逆的PWM变换器-直流电动机系统，如下图所示： 图6 桥式可逆PWM变换器 可逆PWM变换器控制方式有双极式、单极式、受限单极式等，这里分析双极式控制的桥式可逆PWM变换器工作原理。 关于PWM变换器的几种控制方式的具体原理可参见我的电力电子技术笔记（还没写，到时候会附上链接）。 图7 双极式控制可逆PWM变换器的驱动电压、输出电压和电流波形 四个驱动电压波形关系：\\(U_{g1} = U_{g4} = -U_{g2} = -U_{g3}\\) \\(0 \\leqslant t &lt; {t_{on} }\\)期间，\\(VT_1,VT_4\\)导通，\\(U_{AB} = U_s\\)，电枢电流\\(i_d\\)沿图6回路①流通； \\({t_{on} } \\leqslant t &lt; T\\)期间，驱动电压反号，\\(U_{AB} = -U_s\\)，\\(i_d\\)沿图6回路②经二极管\\(VD_2,VD_3\\)续流。 PWM正负脉冲的宽窄通过控制电压\\(U_c\\)调节，\\(U_c\\)越大，正脉冲就越宽（即\\(t_{on}\\)越大），负脉冲越窄。 若\\(t_{on} &gt; \\frac T 2\\)，\\(U_{AB}\\)的平均值为正，电动机正转；(\\(\\rho&gt;\\frac 1 2,\\gamma&gt;0\\)) 若\\(t_{on} &lt; \\frac T 2\\)，\\(U_{AB}\\)的平均值为负，电动机反转；(\\(\\rho&lt;\\frac 1 2,\\gamma&lt;0\\)) 若\\(t_{on} = \\frac T 2\\)，正负脉冲相等，平均输出电压为零，电动机停止。(\\(\\rho=\\frac 1 2,\\gamma=0\\)) 双极式控制可逆PWM变换器的输出平均电压 \\[{U_d} = \\frac{t_{on} } {T} {U_s} - \\frac{T - {t_{on} } } {T} {U_s} = (\\frac{2{t_{on} } } {T} - 1){U_s} = \\gamma{U_s} = \\frac{U_c} {U_{TM} } {U_s} = {K_s} {U_c}\\] 占空比\\(\\rho = \\frac{t_{on} } {T} = \\frac{ { {U_c} + {U_{TM} } } } {2{U_{TM} } }\\) 占空比\\(\\rho\\)和电压系数\\(\\gamma\\)的关系\\(\\gamma = 2\\rho - 1\\) 电流波形存在两种情况，如图7所示： \\(i_{d1}\\)对应电动机负载较重情况，平均电流大，电机始终工作在第Ⅰ象限（正转电动状态）。 \\(i_{d2}\\)对应电动机轻载情况，平均电流小，续流阶段电流很快衰减到零，于是二极管终止续流，而反向开关器件导通，电枢电流反向，电动机处于制动状态。 \\(i_{d2}\\)电流中的线段3和4是工作在第Ⅱ象限（正转制动状态）。 电枢电流的方向决定了电流是经过续流二极管还是经过开关器件流动。 注释3：电动机的四个象限，指的是电机转速为横轴，电机转矩为纵轴，将电机的运行分为四个状态 第Ⅰ象限，转速为正，转矩为正，正转电动状态； 第Ⅱ象限，转速为负，转矩为正，正转制动状态，此时电机发电，又称回馈制动； 第Ⅲ象限，转速为负，转矩为负，反转电动状态； 第Ⅳ象限，转速为正，转矩为负，反转制动状态，此时电机发电，又称回馈制动。 对于直流电动机而言，\\(T = {C_T}\\Phi {I_a}\\)，即电磁转矩常数与磁通一定时，电机转矩与电枢电流成正比。 双极式控制的桥式可逆PWM的优点： 电流一定连续； 可使电动机在四象限运行； 电动机停止时有微振电流，能消除静磨擦死区； 低速平稳性好，系统的调速范围大； 低速时，每个开关器件的驱动脉冲仍较宽，有利于保证器件的可靠导通。 双极式控制的桥式可逆PWM的不足之处： 在工作过程中，四个开关器件可能都处于开关状态，开关损耗大，而且在切换时可能发生上、下桥臂直通的事故，为了防止直通，在上、下桥臂的驱动脉冲之间，应设置死区时间（逻辑延时）。亦可采用单极式控制。 直流PWM调速系统的机械特性 对于有制动电流通路的不可逆PWM变换器——电动机系统，其电压平衡方程式分两个阶段： \\(0 \\leqslant t &lt; {t_{on} }\\)期间，\\({U_s} = R{i_d} + L\\frac{d{i_d} } {dt} + E\\) \\({t_{on} } \\leqslant t &lt; T\\)期间，\\(0 = R{i_d} + L\\frac{d{i_d} } {dt} + E\\) 式中\\(R\\)、\\(L\\)分别为电枢电路的电阻和电感。 取平均电压\\({U_d} = \\gamma {U_s}\\)，平均电流\\(I_d\\)，电枢电感压降的均值\\(L\\frac{d{i_d} } {dt} = 0\\)，转速\\(n = \\frac{E} {C_e}\\) 得电压平均值方程\\(\\gamma {U_s} = R{I_d} + E = R{I_d} + {C_e}n\\) 进而得机械特性方程式（理想空载转速\\({n_0} = \\frac{ {\\gamma {U_s} } } {C_e}\\)，与电压系数成正比） \\[n = \\frac{\\gamma {U_s} } {C_e} - \\frac{R} {C_e} {I_d} = \\frac{ { {K_s} {U_c} } } {C_e} - \\frac{R} {C_e} {I_d} = {n_0} - \\frac{R} {C_e} {I_d}\\] 机械特性方程式可用转矩表示为（电动机在额定磁通下的转矩系数\\({C_m} = {K_m} {\\Phi _N}\\)） \\[n = \\frac{\\gamma {U_s} } {C_e} - \\frac{R} { { {C_e} {C_m} } } {T_e} = \\frac{ { {K_s} {U_c} } } {C_e} - \\frac{R} { { {C_e} {C_m} } } {T_e} = {n_0} - \\frac{R}{ { {C_e} {C_m} } } {T_e}\\] 对于有制动电流通路的不可逆PWM变换器——电动机系统，\\(0 \\leqslant \\gamma \\leqslant 1\\)，其理想空载转速与电压系数成正比，机械特性如下图所示： 图8 直流PWM调速系统（电流连续）的机械特性 对于双极式控制可逆PWM变换器——电动机系统，直流电动机机械特性与之类似为一组平行直线，且扩展到四个象限。 PWM控制器与变换器的动态数学模型 图9 PWM控制器与变换器框图 与V-M系统类似，控制电压\\(U_c\\)与PWM变换器输出平均电压\\(U_d\\)的变化存在延迟，最大时延为一个开关周期\\(T\\)，可被视作一个纯滞后环节。 传递函数\\({W_s}(s) = \\frac{ {U_d}(s)} { {U_c}(s)} = {K_s} {e^{ - {T_s}s} }\\) 其中\\(K_s\\)为PWM装置放大系数，\\(T_s\\)为PWM装置延迟时间（\\(T_s \\leqslant T\\)）。 在系统分析设计中，通常按最大延时考虑，取\\(T_s = T\\)。 传递函数近似为一阶惯性环节\\({W_s}(s) \\approx \\frac{K_s} { {T_s}s + 1}\\) 直流PWM调速系统的电能回馈和泵升电压 PWM变换器的直流电源通常由交流电网经不可控的二极管整流器产生，并采用大电容C滤波，以获得恒定的直流电压。 当电动机工作在回馈制动状态时，电能不可能通过整流装置送回交流电网，只能向滤波电容充电，形成直流PWM变换器-电动机系统特有的电能回馈问题。 对滤波电容充电的结果造成直流侧电压升高，称作“泵升电压”。 系统在制动时释放的动能将表现为电容储能的增加，要适当地选择电容的电容量，或采取其它措施，以保护电力电子开关器件不被泵升电压击穿。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"电力电子技术01-绪论","slug":"课程笔记/电力电子技术/电力电子技术01-绪论","date":"2023-05-14T07:34:51.000Z","updated":"2024-01-25T05:20:20.928Z","comments":true,"path":"课程笔记/电力电子技术/电力电子技术01-绪论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF01-%E7%BB%AA%E8%AE%BA/","excerpt":"《电力电子技术(第五版)》学习笔记 本节内容对应书中第一章 绪论；对应页码p1-p9 什么是电力电子技术","text":"《电力电子技术(第五版)》学习笔记 本节内容对应书中第一章 绪论；对应页码p1-p9 什么是电力电子技术 电子技术的分类 电力电子技术是使用器件对电能进行变换和控制的技术。电力电子技术使用的器件是电力半导体器件，主要用于电力变换，而信息电子技术主要用于信息处理，这是二者的主要区别。 电力电子技术可分为器件制造技术与变流技术。其中器件制造技术，即制造晶闸管、电力晶体管、IGBT等电力电子器件的技术是电力电子技术的基础，其理论基础是半导体物理。变流技术包括使用电力电子器件构成电力变换电路、电力装置、电力电子系统，以及对电力电子系统进行控制的技术，变流技术是电力电子技术的核心，其理论基础为电路理论。 电力变换可分为四大类： 四种电力变换 交流变直流（AC-DC）——整流 直流变交流（DC-AC）——逆变 直流变直流（DC-DC）——斩波 交流变交流（AC-AC）——变频（交流电力控制，可以是电压、频率、相数的变换） 电力电子技术与相关学科的关系、地位 与电子学（信息电子技术）的关系 都分为器件和电路应用两大分支 器件制造技术的理论基础均基于半导体理论；材料、工艺基本相同，采用微电子技术 电路应用的分析方法、分析软件基本相同 信息电子器件工作在开关、放大状态；电力电子器件工作在开关状态 与电力学（电气工程）的关系 电力电子技术广泛用于电气工程中 应用场景：高压直流输电、静止无功补偿、电力机车牵引、交直流电力传动、电解、励磁、电加热、高性能交直流电源 电力电子技术是电气工程学科最活跃的一个分支 与控制理论（自动化技术）的关系 控制理论广泛用于电力电子系统中 电力电子技术是弱电控制强电的技术，是弱电和强电的接口的有力纽带 电力电子装置是自动化技术的基础元件和重要支撑技术 电力电子技术和运动控制一起，和计算机技术共同成为未来科学技术的两大支柱。 若把计算机比作人的大脑，电力电子技术就可以比作人的消化系统与循环系统，可以实现能量的转换（电网或其他电源提供的“粗电”转化为易于消化利用的“精电”）。电力电子技术和运动控制还可以比作人的肌肉和四肢，可以使人运动和从事劳动，以实现大脑指令的执行。 电力电子技术作为20世纪后半叶诞生和发展的一门崭新的技术，21世纪仍将以迅猛的速度发展。 电力电子技术的发展史 史前期 1904年，电子管诞生，能在真空中对电子流进行控制，并应用于通信和无线电，从而开启了电子技术应用于电力领域的先河。 水银整流器流行于二十世纪30到50年代，它将水银封于管内，利用对其蒸汽的点弧可对大电流进行控制，在晶闸管未问世的时代广泛用于电化学工业、电气铁道直流变电、轧钢用直流电动机的传动以及直流输电。 交流变直流的方法除水银整流器外，还有电动机—直流发电机组，即变流机组。 1947年，贝尔实验室发明晶体管。 晶闸管时期 1957年，晶闸管问世，取代水银整流器与旋转变流机组，广泛应用于电化学工业、铁道电气机车、钢铁工业（轧钢用电气传动、感应加热等）、电力工业（直流输电、无功补偿等）。 晶闸管是半控型器件（通过对门极的控制使其导通而不能关断），电路控制方式为相位控制，晶闸管关断需要依靠电网电压等外部条件实现，有一定的局限性。 20世纪70年代，全控型器件迅速发展。包括门极可关断晶闸管（GTO）、电力双极型晶体管（BJT）、电力场效应晶体管（Power-MOSFET）等。全控型器件可以通过对门极的控制既可对其开通又可对其关断，且开关速度高于晶闸管。 全控型器件的控制方式为脉冲宽度调制（PWM）方式，又称斩波控制。 复合型器件时期 80年代后期以绝缘栅极双极型晶体管（IGBT）为代表的复合型器件异军突起，IGBT是全控型器件，是MOSFET和BJT的复合体，IGBT兼具MOSFET驱动功率小、开关速度快的优点与BJT通态压降小、载流能力大、可承受电压高的优点。 MOS控制晶闸管（MCT）和集成门极换流晶闸管（IGCT）是MOSFET和GTO的复合体，同样综合了两种器件的优点。 电力电子集成电路（PIC）将驱动、控制、保护电路和电力电子器件集成到了一起。PIC结构紧凑、体积小，这给应用带来了很大的方便。 除以PIC为代表的单片集成技术，电力电子集成技术还包括混合集成与系统集成。 软开关技术应运而生，零电压开关（ZVS）和零电流开关（ZCS）是软开关的基本形式。软开关可以有效降低开关损耗，进而提高开关频率与电力电子装置的功率密度。 电力电子技术的应用 一般工业：各类交直流电动机（轧钢机、数控机床、矿山牵引、大型鼓风机）、电机软起动装置、电化学工业整流电源（电解铝、电解食盐水、电镀装置）、冶金工业（感应加热电源、淬火电源、直流电弧炉电源） 交通运输：电气化铁道、电动汽车、飞机、船舶、电梯。 电力系统：直流输电、柔性交流输电、无功补偿和谐波抑制、电能质量控制。 电源：程控交换机、大型计算机、各类信息技术装置的电源。不间断电源（UPS）。 家用电器：节能灯、变频空调等。 其他：航天领域、太阳能发电与风力发电缓冲储能装置、抽水储能发电站、超导储能、特种电源。 电力电子技术研究的是电源技术——电力电子装置提供给负载的是各种不同的直流电源、恒频交流电源以及变频交流电源。 电力电子技术是节能技术——在大型风机、水泵采用变频调速方面，在使用量十分庞大的照明电源等方面，电力电子技术的节能效果十分显著。 参考资料 王兆安,刘进军. 电力电子技术(第5版)[M]. 北京:机械工业出版社,2009","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"课程笔记/电力电子技术","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"电力电子技术","permalink":"https://renahah.github.io/tags/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}]},{"title":"运动控制系统02-晶闸管整流器——直流电动机系统","slug":"课程笔记/运动控制系统/运动控制系统02-晶闸管整流器——直流电动机系统","date":"2023-05-13T01:39:40.000Z","updated":"2024-01-25T05:20:20.959Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统02-晶闸管整流器——直流电动机系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F02-%E6%99%B6%E9%97%B8%E7%AE%A1%E6%95%B4%E6%B5%81%E5%99%A8%E2%80%94%E2%80%94%E7%9B%B4%E6%B5%81%E7%94%B5%E5%8A%A8%E6%9C%BA%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第二章 转速开环控制的直流调速系统 第一节 晶闸管整流器——直流电动机系统的工作原理及调速特性；对应页码p9-p15 触发脉冲相位控制 晶闸管整流器-电动机调速系统 图中VT为晶闸管整流器，通过调整触发装置GT的控制电压\\(U_c\\)来移动触发脉冲的相位，即可改变可控整流器输出瞬时电压\\(u_d\\)的波形，进而改变输出平均电压\\(U_d\\)。 瞬时电压平衡方程式\\[{u_{d0} } = E + {i_d}R + L\\frac{ {d{i_d} } } {dt}\\] 其中： \\(E\\)——电动机反电动势（V） \\(i_d\\)——电动机电流瞬时值（A） \\(L\\)——主电路总电感（H） \\(R=R_{rec}+R_a+R_L\\)——主电路总电阻（Ω） 其中\\(R_{rec}\\)为整流装置电阻，\\(R_a\\)为电枢电阻，\\(R_L\\)为平波电抗器电阻。 V-M系统主电路的等效电路图 理想空载整流电压平均值\\({U_{d0}} = \\frac{m}{\\pi }{U_m}\\sin \\frac{\\pi }{m}\\cos \\alpha\\)（假设电流波形连续） \\(\\alpha\\)——从自然换相点算起的触发脉冲控制角 \\(U_m\\)——\\(\\alpha=0\\)时的整流电压波形峰值 \\(m\\)——交流电源一周内的整流电压脉波数 不同整流电路的整流电压波峰值、脉冲数及平均整流电压 电流脉动及波形断续问题 带负载单相全控桥式整流电路的输出 对于带R-L-E负载的可控整流系统，以单相全控桥式电路为例。 在整流变压器二次侧额定相电压\\(u_2\\)的瞬时值大于反电动势\\(E\\)时，晶闸管才可能被触发导通。 导通后如果\\(u_2\\)降低到\\(E\\)以下，靠电感作用可以维持电流\\(i_d\\)继续流通。 由于电压波形的脉动，造成了电流波形的脉动。 在\\(I_d\\)上升阶段，电感储能；在\\(I_d\\)下降阶段，电感中的能量将释放出来维持电流连续。 电路有足够的电感量时，电动机负载足够大时，电流脉动波形连续；但当负载电流较小时，电感中的储能较少，等到\\(I_d\\)降到零时，则会造成电流波形断续，如下图所示。 V-M系统的电流波形断续 脉动电流会增加电动机的发热，产生脉动转矩对生产机械不利。抑制电流脉动可以： 增加整流电路相数，或采用多重化技术。 设置电感量足够大的平波电抗器。 V-M系统的机械特性 电流波形连续时，V-M系统机械特性方程式： \\[n = \\frac{1} { {C_e} }({U_{d0} } - {I_d}R)\\] 其中\\(C_e = {K_e} {\\phi_N}\\)为额定磁通下的电动势系数；\\(K_e\\)为直流电机电动势结构常数 电流连续时V-M系统的机械特性 电流波形断续时，由于非线性因素，机械特性方程十分复杂，这里不再赘述。 V-M系统的机械特性 由图可知电流连续时，机械特性较硬，这时的晶闸管整流器可视作线性的可控电压源。 电流断续时，机械特性软，理想空载转速高，特性曲线上翘处于非线性状态。 连续区与断续曲的分界线位于\\(\\theta = \\frac{2\\pi } {3}\\)处，其中\\(\\theta\\)为一个电流脉波的导通角，\\(\\theta &gt; \\frac{2\\pi } {3}\\)时电流波形连续。 图中\\(\\alpha\\)为触发脉冲控制角，\\(\\alpha &lt; \\frac{\\pi } {2}\\)时系统处于整流状态，\\(\\alpha &gt; \\frac{\\pi } {2}\\)处于逆变状态。 晶闸管触发和整流装置的传递函数 实际晶闸管触发和整流装置是非线性的，在一定的工作范围内可近似看作线性环节。分别求出它的放大系数与传递函数后，便可以利用线性控制理论分析V-M系统。 放大系数计算 晶闸管触发与整流装置的输入输出特性 晶闸管触发与整流装置的输入输出特性如上图所示，其中\\(U_c\\)为输入电压（控制电压），\\(U_d\\)为输出电压（整流电压） 可求出放大系数\\({K_s} = \\frac{\\Delta {U_d} } {\\Delta {U_c} }\\)，即工作范围内的特性斜率。 亦可根据装置的工作参数估算。如\\(U_c\\)范围为0~10V，\\(U_d\\)范围为0~220V，则放大系数\\(K_s=220/10=22\\)。 失控时间 晶闸管的整流作用具有滞后性，即晶闸管导通后，控制电压\\(U_c\\)的变化不再起到作用，直到下一个自然换相点后，控制电压\\(U_c\\)对应的下一相触发脉冲到来才会使输出整流电压\\(U_{d0}\\)发生变化。这使得整流电压滞后于控制电压。 晶闸管触发与整流装置的失控时间 上图所示电路为单相桥式全控整流电路，其具体原理可参见我的电力电子技术笔记（还没写，到时候会附上链接）。 图中\\(t_2\\)时刻控制电压发生变化，但\\(u_d\\)没有立刻发生改变，而是在下一相发生变化。平均整流电压的计算周期是从自然换向点开始到下一个自然换向点结束，因此\\(t_3\\)时刻平均整流电压\\(U_{d0}\\)改变。在这里失控时间\\(T_s=t_3-t_2\\)。 由于\\(U_c\\)变化的时刻不确定，因此失控时间\\(T_s\\)是随机值。 最大失控时间\\({T_{smax} } = \\frac{1} {mf}\\) 其中\\(f\\)为交流电源频率，通常取50Hz；\\(m\\)为一周内整流电压脉波数。 平均失控时间\\({T_s} = \\frac{1}{2}{T_{smax } }\\) 常见晶闸管整流器失控时间（\\(f=50Hz\\)） 整流电路形式 最大失控时间 \\({T_{smax} }\\)(ms) 平均失控时间 \\({T_{smax} }\\)(ms) 单相半波(\\(m=1\\)) 20 10 单相桥式（全波）(\\(m=2\\)) 10 5 三相半波(\\(m=3\\)) 6.67 3.33 三相桥式(\\(m=6\\)) 3.33 1.67 传递函数 因上可知，在动态过程中，晶闸管触发与整流装置可被视作一个纯滞后环节。 输入阶跃信号\\(1(t)\\)，在\\(T_s\\)时间后产生响应\\(1(t-T_s)\\)。 输入输出关系（时域）：\\({U_{d0} } = {K_s} {U_c} \\times 1(t - {T_s})\\) 传递函数：\\({W_s}(s) = \\frac{ { {U_{d0} }(s)} } { { {U_c}(s)} } = {K_s} {e^{ - {T_s}s} }\\) 泰勒展开，忽略高次项后，可近似为一阶惯性环节\\({W_s}(s) \\approx \\frac{ { {K_s} } } { {1 + {T_s}s} }\\) 动态结构图如下所示： 晶闸管触发与整流装置动态结构图a)准确的时滞环节 b)近似的一阶惯性环节 晶闸管整流器运行中存在的问题 晶闸管是单向导电的。 晶闸管对过电压、过电流和过高的du/dt与di/dt都十分敏感。 晶闸管的导通角变小时会使得系统的功率因数也随之减少，称之为“电力公害”。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统01-绪论","slug":"课程笔记/运动控制系统/运动控制系统01-绪论","date":"2023-05-11T23:13:57.000Z","updated":"2024-01-25T05:20:20.952Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统01-绪论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F01-%E7%BB%AA%E8%AE%BA/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第一章 绪论；对应页码p1-p6 运动控制系统的概念 电力拖动——电能与机械能间的能量转换 电力拖动自动控制系统(运动控制系统) ——通过控制电动机的电压、电流、频率等输入量，来改变机械转矩、速度、位移等机械量 运动控制系统的实现涉及到多个学科 运动控制系统及其组成 ①电动机——电机学/电机拖动 ②功率放大与变换装置——电力电子技术 ③控制器——自动控制原理/计算机控制技术 ④信号处理与传感器——检测与转换 运动控制系统基本方程式 \\[J\\frac{ {d{\\omega _m} } } { {dt} } = {T_e} - {T_L} - D{\\omega _m} - K{\\theta _m}\\] \\[\\frac{ {d{\\theta _m} } } { {dt} } = {\\omega _m}\\] 其中： \\(J\\)——机械转动惯量（kg·㎡） \\(\\omega _m\\)——转子机械角速度（rad/s） \\(\\theta _m\\)——转子机械角（rad） \\(T_e\\)——电磁转矩（N·m） \\(T_L\\)——负载转矩（N·m） \\(D\\)——阻尼转矩系数 \\(K\\)——扭转弹性转矩系数 通常忽略阻尼转矩和扭转弹性转矩，运动方程式简化为 \\[J\\frac{ {d{\\omega _m} } } { {dt} } = {T_e} - {T_L}\\] 采用飞轮距代替转动惯量，可以将式子改写为 \\[\\frac{ {G{D^2} } } { {375} }\\frac{ {dn} } { {dt} } = {T_e} - {T_L}\\] 其中：转换公式为\\(J = m{\\rho ^2} = \\frac{ {G{D^2} } } { {4g} }\\)，角速度\\({\\omega _m} = \\frac{ {2\\pi n} } { {60} }\\)，\\(375 \\approx \\frac{ {120g} } {\\pi }\\)（m/min·s） \\(m\\)——转动部分质量（kg） \\(G\\)——转动部分重力（N） \\(\\rho\\)——转动惯性半径（m） \\(D\\)——转动惯性直径（m） \\(g\\)——重力加速度（取9.8\\(m{\\text{/} } { {\\text{s} }^2}\\)） \\(n\\)——转子机械转速（r/min） 转矩控制是运动控制的根本问题 因为要控制电机的转速与转角（或直线电机的速度与位移），唯一需要控制的是电机的电磁转矩\\(T_e\\) 磁链控制同样重要 为了有效地控制电磁转矩，充分利用电机铁芯，在一定的电流作用下尽可能产生最大的电磁转矩，必须在控制转矩的同时也控制磁通（或磁链）。 通常在基速（额定转速）以下采用恒磁通控制，基速度以上采用弱磁控制。 生产机械的负载转矩特性 恒转矩负载 恒转矩负载 a）位能性恒转矩负载（由重力产生）——起重机、电梯 负载转矩的大小和方向始终不变。例如起重设备提升重物时，负载转矩为阻转矩，其作用方向与电动机旋转方向相反，当下放重物时，负载转矩变为驱动转矩，其作用方向与电动机旋转方向相同，促使电动机旋转 b) 反抗性恒转矩负载——轧钢机、机床平移机构 负载转矩的方向始终与生产机械运动的方向相反，始终是阻转矩 恒功率负载 恒功率负载 \\(P_L\\)为常数，\\({T_L} = \\frac{P_L}{\\omega _m} = \\frac{ {60{P_L} } } { {2\\pi n}}\\) 负载转矩与转速成反比、反抗性负载——车床加工、牵引 车床粗加工时，切削量大（负载大），用低速挡 车床精加工时，切削量小（负载小），用高速挡 风机泵类负载 风机泵类负载 \\({T_L} \\propto \\omega _m^2 \\propto {n^2}\\)负载转矩与转速平方成正比、反抗性负载——风机、水泵、油泵 参考资料 阮毅,杨影,陈伯时. 电力拖动自动控制系统——运动控制系统(第四版)[M]. 北京:机械工业出版社,2016 机电之家——生产机械的负载转矩特性","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"建站历程","slug":"hello-world-1","date":"2023-05-11T12:53:46.000Z","updated":"2024-01-25T05:20:20.888Z","comments":true,"path":"hello-world-1/","link":"","permalink":"https://renahah.github.io/hello-world-1/","excerpt":"记录网站搭建的过程，解决问题的途径，列举所参考的资料。","text":"记录网站搭建的过程，解决问题的途径，列举所参考的资料。 2023年 2023-4-3 最初的打算是搭建一个wiki形式的知识库，参考B站相关教程，建立了基于Wikitten的本地网站。Wikitten是基于PHP的动态网站，开始初步学习（其实是复习，以前有基础）HTML、CSS、Javascript、PHP等相关知识。 搭建本地Wiki，创建属于自己的知识管理体系 by-FiixOne Wikitten by-devaneando 菜鸟教程 2023-5-11 基于静态网页生成器Hexo搭建个人知识库/博客，使用Wikitten主题，挂载在GitHub上。 hexo搭建个人博客超简单效果超好的个人网站博客搭建对小白很友好 by-计算机毕业设计团队 【2022最新版】保姆级Hexo+github搭建个人博客并绑定自己的域名 by-武师叔 hexo-script使用文档 hexo文档 hexo-theme-Wikitten by-zthxxx Hexo博客搭建基础教程 by-fomal 2023-5-12 实现对MathJax数学公式的支持 2023-5-13 加入网页404界面 2023-5-14 试图实现Mermaid流程图支持，成功了但效果不好，目前未启用。 ①太慢，二十多秒才能渲染出来；②手机端显示效果不佳——应该是mermaid.min.js的问题 设置Hexo支持mermaid by-天天教程 2023-5-21 成功支持twikoo评论系统，使用Zeabur进行部署 twikoo文档 Zeabur hexo-yilia主题支持twikoo评论系统 by-布小星 2023-5-23 成功支持夜间模式，点击🌞或🌙图标即可切换 Hexo 暗黑模式 by-Royce 2023-7-18 关闭了评论系统，因为Zeabur试用期结束，之后需要花钱，而我只想白嫖。 也不会有人在我的博客里评论吧。 计划中的内容 实现分类页与文章目录的浮动。 To Be Countinued未完待续......","categories":[],"tags":[]},{"title":"论外星人存在的可能性","slug":"日记/论外星人存在的可能性","date":"2023-05-11T10:30:57.000Z","updated":"2024-01-25T05:20:20.928Z","comments":true,"path":"日记/论外星人存在的可能性/","link":"","permalink":"https://renahah.github.io/%E6%97%A5%E8%AE%B0/%E8%AE%BA%E5%A4%96%E6%98%9F%E4%BA%BA%E5%AD%98%E5%9C%A8%E7%9A%84%E5%8F%AF%E8%83%BD%E6%80%A7/","excerpt":"个人认为，在宇宙中，外星人存在的可能性无限趋近于百分之百，不存在的可能性几乎没有。","text":"个人认为，在宇宙中，外星人存在的可能性无限趋近于百分之百，不存在的可能性几乎没有。 如果没有外星人，也就是说宇宙中只有地球上出现了智慧生命，或者说地球人是的宇宙中第一个出现的智慧生命种族，那未免过于巧合，毕竟宇宙太大了，存在无限的可能性。 从另一个角度看，我们可以试着想一下，地球在宇宙中，是否具有特殊性。目前的答案是否定的，因为基于目前的天文观测结果，太阳在银河系中，只是一个普通恒星，银河系也只是宇宙中的一个普通河系，没有任何特别之处。既然地球上能出现智慧生命，那么宇宙中其他的普通恒星系上，只要存在处于宜居带上的岩石行星，就有机会存在智慧生命。也就是说外星人在宇宙中到处都是，不要把自己想的太特殊。 可能有人会说，就算宇宙中存在大量符合条件的类似于地球的行星，也不意味着这些行星会有智慧生命，这种概率太低了。地球诞生了约45亿年，在诞生几亿年后出现了最初的生命，而再此基础上出现我们却用了约40亿年，可以看出来生命的出现相对容易，火星上也有可能存在生命，但出现智慧生命并不容易，这需要漫长的进化，天时地利，以及各种复杂条件。这确实使得类地行星出现智慧生命的概率极低。但概率再低也不是零，哪怕是亿分之一，只要宇宙足够大，就可以诞生数以亿计的智慧文明。这种概率极低事情就在你身上发生过，数以亿计的精子争夺一个进入卵子的机会，你所在的精子取得胜利，结合为受精卵。概率低不要紧，只要基数足够大，事件发生的次数就会很多。 当然有这么一种可能性，地球具有特殊性，只是以目前科学无法探测，通过这样的特殊性推测出我们是目前宇宙中唯一智慧生命族群，如果这事真的发生了，那就更证实了外星人确实存在，为什么地球会特殊？这会不会是外星人的刻意安排，或许它们躲在宇宙深处观察我们，进行一项实验，研究内容可能是在没有任何外星人的前提下，单一智慧文明在宇宙中会如何发展。如果地球有特殊性，那么极有可能是外星人的干预造成的，自然形成特殊性的可能性极低。 综上，外星人不存在的可能性极低，外星人不存在的情况只有两种可能：地球具有特殊性，且这种特殊性系自然形成；地球人是的宇宙中第一个出现的智慧生命种族。","categories":[{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"科幻","slug":"科幻","permalink":"https://renahah.github.io/tags/%E7%A7%91%E5%B9%BB/"},{"name":"脑洞","slug":"脑洞","permalink":"https://renahah.github.io/tags/%E8%84%91%E6%B4%9E/"}]},{"title":"使用技巧","slug":"hello-world","date":"2023-05-11T02:53:46.000Z","updated":"2024-01-25T08:00:55.093Z","comments":true,"path":"hello-world/","link":"","permalink":"https://renahah.github.io/hello-world/","excerpt":"","text":"Hexo指令 在hexoblog文件夹内，右键点击Git Bash Here进入窗口输入指令 启动本地服务器 hexo s 清空静态文件 hexo clean 生成静态文件 hexo g 上传至git hexo d 创建新文章 hexo new 文章名称.md 安装Nodejs插件 npm i 插件名称 --save 卸载Nodejs插件 npm un 插件名称 --save 查看插件是否安装 npm list 插件名称 一键部署脚本up.sh 清空+生成+上传git source up.sh Hexo语法 摘要 &lt;!--more--&gt;之上的内容为摘要。 站内链接 格式为： &#123;% post_link 音乐/乐理/乐理笔记01-基础知识 '乐理笔记01-基础知识' %&#125; 显示效果： 乐理笔记01-基础知识 HTML语法 Markdown不支持或者支持效果不好的语法可以使用HTML代替。 文本高亮 &lt;mark&gt;文本高亮&lt;/mark&gt; 文本高亮 &lt;mark style=\"background-color:cyan\"&gt;也可以使用CSS换一个高亮颜色&lt;/mark&gt; 也可以使用CSS换一个高亮颜色 文本标注 鼠标移动到这段文字上会显示标注 文本下划线 &lt;u&gt;文本下划线&lt;/u&gt; 文本下划线 文章插入图片方法 修改工程根目录下的_config.yml的配置：post_asset_folder: true； 创建一个文件夹，文件夹的名字和博客文件名一样，在里面放置你要引入的图片； 在文章中正常引用，只需要把图片名字引入即可，不需要写相对地址和绝对地址 &lt;center&gt;&lt;img src=\"1 图片插入模板.png\" width=400/&gt;&lt;span class=\"caption\"&gt;图1 图片插入模板&lt;/span&gt;&lt;/center&gt; Mathjax公式 使用说明 所用渲染插件为hexo-rendere-pandoc 从mathtype粘贴AMSLaTex格式，公式内不能出现连续的左大括号——将公式内连续的大括号用空格隔开即可 公式内不能出现换行——删掉换行即可 公式符号边要紧挨$字符，不能有空格 公式语法 太多了，暂略 公式测试 \\[E = m{c^2}\\] 行内\\(O(f(n))=log_2^{n}\\)测试 行内\\(\\begin{Bmatrix} a &amp; b \\\\ c &amp; d \\end{Bmatrix}\\)显示测试 \\[{I_d} - {I_{dL}}\\] \\[i\\hbar\\frac{\\partial}{\\partial t}\\psi=-\\frac{\\hbar^2}{2m}\\nabla^2\\psi+V\\psi\\] \\[\\left\\{ \\begin{gathered} {U_{d0} } - E = R({I_d} + {T_e}\\frac{ {d{I_d} } } { {dt} }) \\hfill \\\\{I_d} - {I_{dL} } = \\frac{ { {T_m} } } {R}\\frac{ {dE} } { {dt} } \\hfill \\\\ \\end{gathered} \\right. \\] \\[{I_d} - {I_{dL}} = \\frac{G{D^2}}{375*{C_T}*{C_e}}\\frac{dE}{dt}\\] \\[u(t) = {K_p}e(t) + {K_i}\\int_0^t {e(t)dt + {K_d}\\frac{de(t)}{dt}}\\] \\[X_{k + 1}^{(j)} = X_k^{(j)} + v_{k + 1}^{(j)} \\cdot dt\\] \\[{W_{opi} }(s) = \\frac{ { {K_i}({\\tau _i}s + 1)} } { { {\\tau _i}s} }\\frac{ {\\beta {K_s}/R} } { {({T_l}s + 1)({T_{\\sum i}}s + 1)} }\\] \\[3\\sqrt {\\frac{1} { { {T_m} {T_l} } } } = 3 \\times \\sqrt {\\frac{1} { {0.137 \\times 0.032} } } {s^{ - 1} } = 45.31{s^{ - 1} } &lt; {\\omega _{ci} }\\] Git的使用 Git是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。 Git是将代码和文档更新并上传至网站（或下载到本地）的数据备份方式。 配置账号名与邮箱信息： git config --global user.name \"name\" git config --global user.email \"email\" 生成密钥： ssh-keygen -t rsa -C \"email\" 查看密钥（复制到网站设置界面“SSH公钥”内）： cat ~/.ssh/id_rsa.pub 初始化本地仓库： git init 添加所有文件（不会删除文件）： git add .（将“.”替换成具体文件用于添加单个文件） 更新所有文件： git add -A 添加注释(commit)： git commit -m \"注释内容\" 设置网站仓库地址： git remote add origin https://gitee.com/renahah/RenAhahWikiSource.git 删除网站仓库地址： git remote rm origin 同步网站仓库内容到本地： git pull --rebase origin master 由本地上传到网站： git push -u origin master hexo d报错“Spawn failed”的解决办法 1234567891011进入站点根目录cd D:/RenAhah/hexoblog 删除git提交内容文件夹rm -rf .deploy_git/ 执行git config --global core.autocrlf false 最后hexo clean &amp;&amp; hexo g &amp;&amp; hexo d 代码段嵌入测试 在主题配置文件_config.Wikitten.yml中修改customize.highlight的值，即可修改代码段的高亮样式，高亮样式文件夹位于hexoblog\\themes\\Wikitten\\source\\css\\_highlight 目前所用高亮样式为atelier-forest-light 注意修改yml文件后要重新hexo s一次才能生效 123456789101112131415int main(void)&#123; NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);//设置中断优先级分组为组2：2位抢占优先级，2位响应优先级 delay_init(); //延时函数初始化 uart_init(9600); //串口初始化为115200 TIM1_Int_Init(99,7199);//定时10ms(电机) CAN2_Configuration(); Sensor_Init(); PID_Reset(&amp;pid1); PID_Reset(&amp;pid2); while(1) &#123; &#125;&#125; To Be Countinued未完待续...... 参考资料 Git 常用命令详解 hexo部署报错Spawn failed原因及解决方法 hexo-theme-Wikitten说明 这次彻底解决在Hexo中渲染MathJax数学公式出现的问题！！！","categories":[],"tags":[]}],"categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"},{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"课程笔记/神经网络原理及应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"},{"name":"课题笔记","slug":"课题笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"电机","slug":"课题笔记/电机","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E9%A2%98%E7%AC%94%E8%AE%B0/%E7%94%B5%E6%9C%BA/"},{"name":"鲁棒控制理论与应用","slug":"课程笔记/鲁棒控制理论与应用","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"作曲","slug":"音乐/作曲","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%BD%9C%E6%9B%B2/"},{"name":"线性系统理论","slug":"课程笔记/线性系统理论","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"},{"name":"电磁场数值分析与计算","slug":"课程笔记/电磁场数值分析与计算","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"},{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"},{"name":"电力电子技术","slug":"课程笔记/电力电子技术","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"},{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"神经网络原理及应用","slug":"神经网络原理及应用","permalink":"https://renahah.github.io/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/"},{"name":"智能优化算法","slug":"智能优化算法","permalink":"https://renahah.github.io/tags/%E6%99%BA%E8%83%BD%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/"},{"name":"粒子群算法","slug":"粒子群算法","permalink":"https://renahah.github.io/tags/%E7%B2%92%E5%AD%90%E7%BE%A4%E7%AE%97%E6%B3%95/"},{"name":"鲁棒控制理论与应用","slug":"鲁棒控制理论与应用","permalink":"https://renahah.github.io/tags/%E9%B2%81%E6%A3%92%E6%8E%A7%E5%88%B6%E7%90%86%E8%AE%BA%E4%B8%8E%E5%BA%94%E7%94%A8/"},{"name":"课题","slug":"课题","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E9%A2%98/"},{"name":"作曲","slug":"作曲","permalink":"https://renahah.github.io/tags/%E4%BD%9C%E6%9B%B2/"},{"name":"线性系统理论","slug":"线性系统理论","permalink":"https://renahah.github.io/tags/%E7%BA%BF%E6%80%A7%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/"},{"name":"电磁场数值分析与计算","slug":"电磁场数值分析与计算","permalink":"https://renahah.github.io/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%A1%E7%AE%97/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"},{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"},{"name":"竞赛","slug":"竞赛","permalink":"https://renahah.github.io/tags/%E7%AB%9E%E8%B5%9B/"},{"name":"单片机","slug":"单片机","permalink":"https://renahah.github.io/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"},{"name":"OPENMV","slug":"OPENMV","permalink":"https://renahah.github.io/tags/OPENMV/"},{"name":"软件开发","slug":"软件开发","permalink":"https://renahah.github.io/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"},{"name":"python","slug":"python","permalink":"https://renahah.github.io/tags/python/"},{"name":"电力电子技术","slug":"电力电子技术","permalink":"https://renahah.github.io/tags/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"},{"name":"科幻","slug":"科幻","permalink":"https://renahah.github.io/tags/%E7%A7%91%E5%B9%BB/"},{"name":"脑洞","slug":"脑洞","permalink":"https://renahah.github.io/tags/%E8%84%91%E6%B4%9E/"}]}