{"meta":{"title":"RenAhahWiki","subtitle":"个人数据库/个人博客","description":"电气工程/控制工程/电机控制/电力电子/信息技术","author":"RenAhah","url":"https://renahah.github.io","root":"/"},"pages":[{"title":"","date":"2023-06-10T05:59:28.559Z","updated":"2023-06-10T05:59:28.559Z","comments":true,"path":"README.html","permalink":"https://renahah.github.io/README.html","excerpt":"","text":"RenAhahWiki_source RenAhahWiki源文件备份"},{"title":"异！误！","date":"2023-05-13T12:08:47.000Z","updated":"2023-05-30T13:42:38.000Z","comments":true,"path":"/404.html","permalink":"https://renahah.github.io/404.html","excerpt":"","text":"异页顶针，鉴定为404错误。 ⣿⣿⣿⠟⠛⠛⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⢋⣩⣉⢻⣿⣿ ⣿⣿⣿⠀⣿⣶⣕⣈⠹⠿⠿⠿⠿⠟⠛⣛⢋⣰⠣⣿⣿⠀⣿⣿ ⣿⣿⣿⡀⣿⣿⣿⣧⢻⣿⣶⣷⣿⣿⣿⣿⣿⣿⠿⠶⡝⠀⣿⣿ ⣿⣿⣿⣷⠘⣿⣿⣿⢏⣿⣿⣋⣀⣈⣻⣿⣿⣷⣤⣤⣿⡐⢿⣿ ⣿⣿⣿⣿⣆⢩⣝⣫⣾⣿⣿⣿⣿⡟⠿⠿⠦⠀⠸⠿⣻⣿⡄⢻ ⣿⣿⣿⣿⣿⡄⢻⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣾⣿⣿⣿⣿⠇⣼ ⣿⣿⣿⣿⣿⣿⡄⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⣰⣿ ⣿⣿⣿⣿⣿⣿⠇⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢀⣿⣿ ⣿⣿⣿⣿⣿⠏⢰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢸⣿⣿ ⣿⣿⣿⣿⠟⣰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⣿⣿ ⣿⣿⣿⠋⣴⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡄⣿⣿ ⣿⣿⠋⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⢸⣿ 12345 44 00000 44 NN NN tt FFFFFFF dd 444 00 00 444 NNN NN oooo tt FF oooo uu uu nn nnn dd 44 4 00 00 44 4 NN N NN oo oo tttt FFFF oo oo uu uu nnn nn dddddd44444444 00 00 44444444 NN NNN oo oo tt FF oo oo uu uu nn nn dd dd 444 00000 444 NN NN oooo tttt FF oooo uuuu u nn nn dddddd"},{"title":"About","date":"2023-07-23T08:17:52.389Z","updated":"2023-07-23T08:17:52.389Z","comments":true,"path":"about/index.html","permalink":"https://renahah.github.io/about/index.html","excerpt":"","text":"关于我 一个普通而平凡的人。虽努力，但也不完全努力；虽顺利，但也不怎么顺利；虽失败，但也不彻底失败；虽然生命的起源与世界为何存在至今仍是未解之谜，但怎么说得证明自己存在的价值，为这个世界留下点什么。 虽是电气/自动化专业学生，但一直以来都对计算机感兴趣，看了下目前的个人博客，除了生活类内容外，绝大多数技术性分享都是计算机软件相关内容，最多涉及到单片机硬件，涉及其他学科的个人博客较少，涉及电气工程——电机控制方向的个人博客更是相当稀少（特指个人建立网站发布，不包括在CSDN、博客园等大型平台上发布的博客）。我的个人博客将弥补国内在这方面的空白。我就随便写一写，整理资料罢了。 音乐方面主要听电子音乐；想自学乐理及Fl Stdio做曲，但是懒得学 书籍方面主要看科幻小说，网文也看；想自己写科幻小说或者网文，但是懒得写 游戏方面主要玩我的世界(Minecraft)以及类似的沙盒游戏(Starbound,terraria,Minetest等)；想编程开发类似的沙盒游戏或者做Minecraft模组，但是懒得编 除此之外还玩玩音乐游戏，天赋不够水平一般，主要是听歌打节奏，毕竟音游曲与电子音乐有较大的重合度。 电影电视剧不怎么看，因为感觉信息密度太低，看书可以自由控制阅读节奏，脑补出的场景效果更好。 个人非常不喜欢把看视频作为学习某门课程知识的方式（除非是动手操作类的视频），对于理论知识的学习，对我个人而言其效率排序为文章≥PPT&gt;书籍&gt;视频。看视频学知识实在是太低效了，可能看半天也看不到重点；书籍的内容全面，但是内容过多，其中很多都是废话；上课用的PPT就很好，内容全是干货，当然有时会过于精炼，导致有的点get不到；而文章，我认为是学习知识的最好载体，基于PPT和书籍以及自己的心得体会整理而成的笔记，可以兼顾到书籍和PPT的优点，看文章的学习效率，可以说是视频的十倍不止。这或许是大家写博客的一个重要原因。 哪里有我 网易云音乐RenAhah 知乎任啊啊 B站我是任啊啊 微博RenAhah osu! RenAhah MalodyRenAhah githubRenAhah SpotifyRenAhah SoundcloudRenAhah 邮箱527849618@qq.com 网站内容规划 网站定位：个人知识数据库兼博客 ①电气工程——电机控制相关：研究生阶段专业知识数据库，包括不同种类电机的本体及调速原理方法，自动控制原理及方法；建模仿真软件ANSYS，MATLAB的使用及相关例程，DSP控制器编程方法及相关例程。 ②单片机——硬件相关：单片机知识数据库，包括微机原理，单片机原理，计算机控制技术，数字电子技术等基础知识；STM32等各类单片机编程方法及相关例程。 ③计算机——软件相关：网站搭建所需知识数据库(HTML,CSS,Javascript,php,SQL等)。其他编程语言笔记及项目实战(C,C++,Java,Python,lua等)。 ④兴趣爱好相关：作曲研究，读过的书籍整理及读后感，视频剪辑学习研究等。 ⑤个人日记：心路历程。"},{"title":"Categories","date":"2023-07-23T08:17:52.539Z","updated":"2023-07-23T08:17:52.539Z","comments":true,"path":"categories/index.html","permalink":"https://renahah.github.io/categories/index.html","excerpt":"","text":""},{"title":"Tags","date":"2023-07-23T08:17:52.805Z","updated":"2023-07-23T08:17:52.805Z","comments":true,"path":"tags/index.html","permalink":"https://renahah.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Maxwell教程01-螺线管静磁场仿真","slug":"工业软件/ANSYS/Maxwell教程01-螺线管静磁场仿真","date":"2023-08-13T13:56:52.000Z","updated":"2023-08-15T03:23:45.384Z","comments":true,"path":"工业软件/ANSYS/Maxwell教程01-螺线管静磁场仿真/","link":"","permalink":"https://renahah.github.io/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/ANSYS/Maxwell%E6%95%99%E7%A8%8B01-%E8%9E%BA%E7%BA%BF%E7%AE%A1%E9%9D%99%E7%A3%81%E5%9C%BA%E4%BB%BF%E7%9C%9F/","excerpt":"","text":"基于B站视频手把手教你Maxwell-【案例B201】螺线管静磁场仿真整理的学习笔记，视频原作者为搞仿真的晴博。 为了节约流量，使网页更快打开，整理的笔记以文字为主，不会有太多图片，所以最好配合视频来看笔记 背景介绍 建模 打开软件，点击Desktop菜单里的Maxwell图标，点击Maxwell 2D。点完之后才会出现仿真界面。 点击菜单栏Maxwell 2D-&gt;Solution Type，改变求解模式，将Geometry Mode由Cartesian,XY改为Cylindrical about Z（关于Z轴的圆柱体），Magnetic（磁场类型）保持为Magnetostatic（静磁场）不变。 （也就是说画的是XoZ平面上的二维图像，然后绕Z轴形成一个圆柱体） 点击Draw菜单栏中的矩形图标，画一个线圈，点击CreateRectangle修改矩形尺寸与位置（单位mm）。 这里设置Position为10,0,0，表示线圈内径10mm；XSize设为2，ZSize设为20，表示线圈厚度2mm（外径12mm），高20mm。 可以在Properties（属性）窗口中修改Rectangle1的颜色，便于其与螺线管区分。 再画一个矩形（螺线管）。设置CreateRectangle的Position为0,0,25，XSize设为8，ZSize设为-30。这样就得到了一个半径8mm，长度30mm的螺线管。 （不难发现这里的Position是基础坐标，确定了矩形的一个顶点，XSize与YSize是矩形从顶点延伸出去的两个边长） 画一个空气域，点击Draw菜单栏中的Create Region（红色边框空心正方体）图标，设置Percentage Offset值为100，表示在已经画出来的几何模型基础上扩大100%的区域内建立空气域。 材料 双击Rectangle1进入属性界面，可以修改它的名称，这里修改为Coil（线圈）。Material（材料）修改为Copper（铜）。 Rectangle2同理，名字修改为Core（铁芯），材料为电工纯铁，这个材料库里没有，需要自己建立，包括自己确定磁化曲线，具体看原视频，这里不自己建了，选择材料steel_1008。 激励 给线圈加一个电流，选取Coil右键Assign Excitation-&gt;Current，选择电流为100A，方向保持为Positive（正方向）。可以在Project Manager窗口Excitation-&gt;Current1看到这个电流。 边界 右键仿真区域Selection Mode-&gt;Edge将选取模式改为边界，选中空气域的三个边（Z轴是对称轴，可以不给边界）。右键Assign Boundary-&gt;Balloon，确认后就可在Project Manager窗口Boundries-&gt;Balloon1看到这个气球边。 网格使用默认的自适应网格，不需要去设置。 求解 右键Project Manager中的Analysis-&gt;Add Solution Setup，进入求解设置界面。 General选项卡中Maximum Number of Passes为最大迭代次数，Percent Error为允许结束迭代的误差百分比（收敛误差，默认为1%）。 Convergance选项卡通常不改。其中Refinement Per Pass表示每次迭代前后，网格数量能增加的百分比（默认为30%）。Minimum Number of Passes表示无论是否达到收敛标准，必须在完成此处所设定的最小迭代次数之后才能停止网格剖分细化（默认值2）。Minimum Converged Passes表示在达到收敛标准后，还需要继续进行的迭代次数（默认值1）。 Solver选项卡Smooth BH Curve默认关闭，如果是自建材料使用了自己设置的磁化曲线时建议开启。 确认后就可在Project Manager窗口Analysis-&gt;Setup1看到这个求解设置。 正式求解前的最后一步，点击菜单栏Maxwell 2D-&gt;Validation Check，检查以下求解准备工作是否完成。 点击菜单栏Maxwell 2D-&gt;Analyze All开始求解。 计算完成后，可在Message Manager窗口中看到信息“Normal completion of simulation on server: Local Machine.” 在Project Manager窗口Results-&gt;Solution Data可以看到每次迭代的数据，还可以将View模式改为Plot观看其中任意两项数据关系的折线图。 图1 迭代结果 某一次的迭代结果如上图所示，其中Delta Energy项表示收敛误差百分比，可以看到在第三次迭代时数量降到了1以下，符合收敛标准。由于Minimum Converged Passes值设置为1，这使得迭代需要再此基础上再进行一次。 观察实验结果 顺序为“先源量后场量、先定性再定量”。 这里先看线圈电流，选中线圈后右键Fields-&gt;J-&gt;J_Vector查看电流矢量（结果为朝里的平行直线）。 再看磁场分布，将线圈、螺线管、空气域都选中，右键Fields-&gt;A-&gt;Flux_lines便可查看磁场，如果只想看一半（X轴正方向），可以将Full Model关闭。 接下来看磁通密度，选中线圈、螺线管、空气域后右键Fields-&gt;B-&gt;Mag_B。 图2 磁场分布 图3 磁通密度 图4 磁通密度（矢量）","categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"}]},{"title":"运动控制系统10-转速、电流双闭环控制直流调速系统的设计","slug":"课程笔记/运动控制系统/运动控制系统10-转速、电流双闭环控制直流调速系统的设计","date":"2023-08-10T00:22:49.000Z","updated":"2023-08-15T05:36:33.764Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统10-转速、电流双闭环控制直流调速系统的设计/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F10-%E8%BD%AC%E9%80%9F%E3%80%81%E7%94%B5%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%AE%BE%E8%AE%A1/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第四章 转速、电流双闭环控制的直流调速系统 第三节 转速、电流双闭环控制直流调速系统的设计；对应页码p61-p91 控制系统的动态性能指标 在控制系统中设置调节器是为了改善系统的静、动态性能。 控制系统的动态性能指标包括对给定输入信号的跟随性能指标和对扰动输入信号的抗扰性能指标。 跟随性能指标 通常以输出量的初始值为零，给定信号阶跃变化下的过渡过程作为典型的跟随过程。此跟随过程的输出量动态响应称作阶跃响应。 图1 跟随性能指标 常用的阶跃响应跟随性能指标有上升时间\\(t_r\\)、超调量\\(\\sigma\\)、峰值时间\\(t_p\\)和调节时间\\(t_s\\)，如上图所示。 抗扰随性能指标 在调速系统中主要扰动来源于负载扰动和电网电压波动。 当调速系统在稳定运行中，突加一个使输出量降低（或上升）的扰动量\\(F\\)之后，输出量由降低（或上升）到恢复到稳态值的过渡过程就是一个抗扰过程。 图2 抗扰性能指标 常用的抗扰性能指标有动态降落\\(\\Delta C_{max}\\)和恢复时间\\(t_v\\)，如上图所示。 动态降落\\(\\Delta C_{max}\\)一般用它所占输出量原稳态值\\(C_{\\infty 1}\\)的百分数(\\(\\Delta C_{max}/C_{\\infty 1} \\times 100\\%\\))来表示。\\(C_{\\infty 2}\\)为扰动后的新稳态值，(\\(C_{\\infty 1} - C_{\\infty 2}\\))为扰动作用的稳态误差（静差），\\(C_b\\)为输出量基准值，视情况决定。 频域性能指标和伯德图 图3 典型控制系统伯德图 典型控制系统伯德图如上图所示，反映系统性能的伯德图特征有下列四个方面： 中频段以‐20dB/dec的斜率穿越零分贝线，而且这一斜率占有足够的频带宽度，则系统的稳定性好。 截止频率（或称剪切频率）\\(\\omega _c\\)越高，则系统的快速性越好。 低频段的斜率陡、增益高，表示系统的稳态精度好（即静差率小、调速范围宽）。 高频段衰减得越快，即高频特性负分贝值越低，说明系统抗高频噪声干扰的能力越强。 调节器的工程设计方法 典型系统 控制系统开环传递函数可表示为： \\[W(s) = \\frac{ {K\\prod\\limits_{i = 1}^m {({\\tau _i}s + 1)} } }{ { {s^r}\\prod\\limits_{j = 1}^n {({T_j}s + 1)} } }\\] 分母中的\\(s^r\\)项表示该系统在\\(s=0\\)处有\\(r\\)重极点，或者说系统有\\(r\\)个积分环节，称作\\(r\\)型系统。 为了使系统对阶跃给定无稳态误差，不能使用0型系统(r=0)，至少是Ⅰ型系统(r=1)；当给定是斜坡输入时，则要求是Ⅱ型系统(r=2)才能实现稳态无差。 由于Ⅲ型(r=3)和Ⅲ型以上的系统很难稳定，而0型系统的稳态精度低。因此常把Ⅰ型和Ⅱ型系统作为系统设计的目标。 典型Ⅰ型系统 典型Ⅰ型系统的开环传递函数为\\(W(s)=\\frac{K}{s(Ts+1)}\\)，其中\\(T\\)为系统的惯性时间常数，\\(K\\)为系统的开环增益。典型Ⅰ型系统的闭环系统结构图与开环对数频率特性如下图所示： 图4 典型Ⅰ型系统(a)闭环系统结构图 (b)开环对数频率特性 对数幅频特性的中频段以-20dB/dec的斜率穿越零分贝线，只要参数的选择能保证足够的中频带宽度，系统就一定是稳定的。 只包含开环增益\\(K\\)和时间常数\\(T\\)两个参数，时间常数\\(T\\)往往是控制对象本身固有的，唯一可变的只有开环增益\\(K\\) 。设计时，需要按照性能指标选择参数\\(K\\)的大小。 为使对数幅频特性的中频段以-20dB/dec的斜率穿越零分贝线，满足稳定裕度的要求。选择参数时需保证\\(\\omega _c &lt; \\frac{1}{T}\\)。进而使得\\(\\omega _c T&lt; 1\\)，\\(arctan\\omega _c T&lt;45^\\circ\\) 相角稳定裕度\\(\\gamma = 180^\\circ -90^\\circ -arctan\\omega _c T=90^\\circ -arctan\\omega _c T&gt;45^\\circ\\) 由对数坐标函数关系\\(20lgK=20(lg \\omega _c -lg1)=20lg \\omega _c\\)可知\\(K=\\omega _c (\\omega _c &lt;\\frac {1}{T})\\)，\\(KT&lt;1\\) \\(K\\)值越大，截止频率\\(\\omega _c\\)也越大，系统响应越快，但相角稳定裕度会越小。也就是说快速性与稳定性间存在矛盾。在选择参数\\(K\\)时，须在快速性与稳定性之间取折中。 动态跟随性能指标 典型Ⅰ型系统的闭环传递函数： \\[W_{cl}(s) = \\frac{W(s)}{1 + W(s)} = \\frac{ {\\frac{K}{ {s(Ts + 1)} } } }{ {1 + \\frac{K}{ {s(Ts + 1)} } } } = \\frac{ {\\frac{K}{T} } }{ { {s^2} + \\frac{1}{T}s + \\frac{K}{T} } } = \\frac{ {\\omega _n^2} }{ { {s^2} + 2\\xi {\\omega _n}s + \\omega _n^2} }\\] 其中自然震荡角频率\\({\\omega _n} = \\sqrt {\\frac{K}{T} }\\)，阻尼比\\(\\xi=\\frac{1}{2}\\sqrt {\\frac{1}{KT} }\\) \\(0&lt;\\xi&lt;1\\)时，欠阻尼，系统震荡；\\(\\xi&gt;1\\)时，过阻尼，系统单调；\\(\\xi=1\\)时为临界阻尼。 通常把系统设计成欠阻尼状态，又由\\(KT&lt;1\\)得\\(\\xi&gt;0.5\\)，因此通常取\\(0.5&lt;\\xi&lt;1\\)。 超调量\\(\\sigma = {e^{ - (\\xi \\pi /\\sqrt {1 - {\\xi ^2} } )} } \\times 100\\%\\) 上升时间\\(t_r = \\frac{2\\xi T}{\\sqrt {1 - {\\xi ^2} } }(\\pi - \\arccos \\xi )\\) 峰值时间\\(t_p = \\frac{\\pi }{ {\\omega _n}\\sqrt {1 - {\\xi ^2} } }\\) 调节时间\\(t_s \\approx \\frac{3}{ {\\xi {\\omega _n} } } = 6T\\)（\\(\\xi&lt;0.9\\)、误差带\\(\\pm 5\\%\\)的情况下近似估算） 截止频率\\(\\omega _c = {\\omega _n}{[\\sqrt {4{\\xi ^4} + 1} - 2{\\xi ^2}]^{\\frac{1}{2} } }\\)（精确计算，不使用伯德图近似估算） 相角稳定裕度\\(\\gamma = \\arctan \\frac{2\\xi}{ { {[\\sqrt {4{\\xi ^4} + 1} - 2{\\xi ^2}]}^{\\frac{1}{2} } } }\\) 根据上列各式，求出\\(0.5&lt;\\xi&lt;1\\)时典型Ⅰ型系统各项动态跟随指标和频域指标与参数\\(KT\\)的关系如下表所示： 表1 典型Ⅰ型系统各项动态跟随指标和频域指标与参数\\(KT\\)的关系 参数关系\\(KT\\) 阻尼比\\(\\xi\\) 超调量\\(\\sigma\\) 上升时间\\(t_r\\) 峰值时间\\(t_p\\) 相角稳定裕度\\(\\gamma\\) 截止频率\\(\\omega _c\\) 0.25 1.0 0% 76.3° 0.243/T 0.39 0.8 1.5% 6.6T 8.3T 69.9° 0.367/T 0.50 0.707 4.3% 4.7T 6.2T 65.5° 0.455/T 0.69 0.6 9.5% 3.3T 4.7T 59.2° 0.596/T 1.0 0.5 16.3% 2.4T 3.6T 51.8° 0.786/T 可以观察到系统的时间常数T已知时，随着K的增大，系统的快速性提高，但稳定性变差。 要求动态响应快时可取\\(\\xi = 0.5 \\sim 0.6\\)，并选较大的K；要求超调小时可取\\(\\xi = 0.8 \\sim 1.0\\)，并选较小的K；要求无超调时可取\\(\\xi = 1.0\\)。 无特殊要求时，取\\(\\xi = 0.707\\)，\\(KT=0.5\\)，这一参数又称为“二阶最佳整定参数”，它兼顾了快速性与稳定性。 动态抗扰性能指标 影响到参数K的选择的第二个因素是它和抗扰性能指标之间的关系，典型Ⅰ型系统已经规定了系统的结构，分析它的抗扰性能指标的关键因素是扰动作用点，某种定量的抗扰性能指标只适用于一种特定的扰动作用点。 这里以电流环扰动作用为例分析典型Ⅰ型系统的抗电网电压波动性能。 图5 电流环典型Ⅰ型系统电压扰动下动态结构(a)动态结构图 (b)等效结构图 其中\\(T_1=T_s\\)，\\(T_2=T_l\\)，\\(K_2=\\beta /R\\)，再取\\(K_1=K_pK_s/\\tau\\)，\\(\\tau=T_2\\)（\\(T_2&gt;T_1\\)） 讨论抗扰性能时，令输入变量\\(R(s)=0\\)，输出变量写成\\(\\Delta C\\)。 令\\(m=\\frac{T_1}{T_2}&lt;1\\)为小时间常数与大时间常数的比值，分别分析\\(m=\\frac{1}{5},\\frac{1}{10},\\frac{1}{20},\\frac{1}{30}\\)时的最大动态降落\\(\\Delta C_{max}\\)、最大动态降落对应时间\\(t_m\\)与恢复时间\\(t_v\\)。 具体分析过程参见教材p68-p69，这里不再赘述，下面放出结论 表2 典型Ⅰ型系统动态抗扰指标和频域指标与参数\\(m\\)的关系 \\(m\\) 最大动态降落\\(\\frac{\\Delta C_{max} }{C_b} \\times 100\\%\\) 最大动态降落时间\\(\\frac{t_m}{T_2}\\) 恢复时间\\(\\frac{t_v}{T_2}\\) \\(\\frac{1}{5}\\) 27.78% 0.566 2.209 \\(\\frac{1}{10}\\) 16.58% 0.336 1.478 \\(\\frac{1}{20}\\) 9.27% 0.19 0.741 \\(\\frac{1}{30}\\) 6.45% 0.134 1.104 当控制对象的两个时间常数相距越大（m值越小），动态降落越小。 恢复时间的变化不是单调的，\\(m=\\frac{1}{20}\\)时恢复时间最短。 典型Ⅱ型系统 典型Ⅱ型系统的开环传递函数为\\(W(s) = \\frac{K(\\tau s + 1)}{ {s^2}(Ts + 1)}\\)。 其中\\(T\\) 为系统的惯性时间常数，分子上的比例微分环节\\((\\tau s + 1)\\)用以保证系统稳定，待定参数为\\(K\\)和\\(\\tau\\)。 图6 典型Ⅱ型系统(a)闭环系统结构图 (b)开环对数频率特性 典型Ⅱ型系统的闭环系统结构图与开环对数频率特性如上图所示。与典型Ⅰ型系统一样，中频段以-20dB/dec的斜率穿越零分贝线。要求\\(\\frac{1}{\\tau}&lt;\\omega _c&lt;\\frac{1}{T}\\)，或者\\(\\tau&gt;T\\)。 相角稳定裕度\\(\\gamma = 180^\\circ - 180^\\circ + arctan\\omega _c\\tau - arctan\\omega _c T = arctan\\omega _c\\tau - arctan\\omega _c T\\) 由相角稳定裕度可知\\(\\tau\\)比\\(T\\)大得越多，系统的稳定裕度越大。 由对数坐标函数关系\\(20lgK=40(lg\\omega _1 - lg1) + 20(lg\\omega _c - lg1)=20lg\\omega _1 \\omega _c\\)可知\\(K=\\omega _1 \\omega _c\\)。 改变\\(K\\)相当于使开环对数幅频特性上下平移，从而改变截止频率\\(\\omega _c\\)，此特性与闭环系统的快速性有关。 定义中频宽（斜率为-20dB/dec的中频段宽度）\\(h=\\frac{\\tau}{T}=\\frac{\\omega _2}{\\omega _1}\\)，中频宽的状况对控制系统的动态品质起着决定性的作用。 由于\\(T\\)值一定，改变\\(\\tau\\)就相当于改变了中频宽\\(h\\)，在此基础上改变\\(K\\)相当于改变\\(\\omega _c\\)。因此选择频域参数\\(h\\)和\\(\\omega _c\\)，相当于选择参数\\(\\tau\\)和\\(K\\)。 采用“振荡指标法”中的闭环幅频特性峰值最小准则，可以找到\\(h\\)和\\(\\omega _c\\)两个参数之间的一种最佳配合。 这一准则表明对于一定的\\(h\\)值，只有一个确定的\\(\\omega _c\\)或\\(K\\)可以得到最小的闭环幅频特性峰值\\(M_{rmin}\\)。 取\\(\\omega _c=\\frac{\\omega _1+\\omega _2}{2}\\)时，有\\(M_{rmin}=\\frac{h+1}{h-1}\\)。 \\(h\\)值越大，\\(M_{rmin}\\)越小，超调量便会随之减小，但是\\(\\omega _c\\)也会减小，这会使系统的快速性变弱。 \\(h\\)通常在3~10间选择。确定\\(h\\)值后，可以推算出\\(\\tau = hT\\)，\\(K=\\frac{h+1}{2h^2 T^2}\\)。 具体推算过程见教材p70-p71 动态跟随性能指标 以\\(T\\)为时间基准，当\\(h\\)取3~10的不同值时，求其对应单位阶跃响应函数，计算出\\(\\tau\\)、\\(t_r/T\\)、\\(t_s/T\\)和震荡次数\\(k\\)。 具体计算过程与计算结果见教材p71-p72，这里不再赘述，下面放出结论 动态跟随性能分析结论： 调节时间\\(t_s\\)随\\(h\\)的变化不单调，当\\(h=5\\)时，调节时间最短。 \\(h\\)值越小，上升时间\\(t_s\\)越快；\\(h\\)值越大，超调量\\(\\tau\\)越小。 综合考虑，可以取\\(h=5\\)，其动态跟随性能比较适中。 动态抗扰性能指标 这里以转速环扰动作用为例分析典型Ⅱ型系统的抗负载波动性能。 图6 转速环典型Ⅱ型系统负载扰动下动态结构(a)动态结构图 (b)等效结构图 取\\(K_1=K_p K_d/\\tau _1\\)，\\(\\tau _1=hT\\)，\\(K_2=\\frac{R\\alpha}{T_m C_e}\\)，\\(K=K_1 K_2\\)，按照闭环幅频特性峰值最小准则确定参数关系。 令输入变量\\(R(s)=0\\)，输出变量写成\\(\\Delta C\\)，阶跃扰动\\(F(s)=\\frac{F}{s}\\)，输出变量写成\\(\\Delta C\\)。 计算出不同\\(h\\)值对应的动态抗扰过程曲线\\(\\Delta C(t)\\)，进而求最大动态降落\\(\\Delta C_{max}\\)、最大动态降落对应时间\\(t_m\\)与恢复时间\\(t_v\\)。 具体分析过程与计算结果参见教材p72-p73，这里不再赘述，下面放出结论 动态抗扰性能分析结论： \\(h\\)值越小，最大动态降落\\(\\Delta C_{max}\\)越小，最大动态降落对应时间\\(t_m\\)越短，说明抗扰性能越好。 恢复时间\\(t_v\\)随\\(h\\)的变化不单调，当\\(h&lt;5\\)时，由于震荡次数增加，恢复时间\\(t_v\\)变长。 综合考虑，可以取\\(h=5\\)，其动态抗扰性能比较适中。 控制对象的工程近似处理方法 高频段小惯性环节的近似处理 当高频段有多个小时间常数\\(T_1,T_2,T_3,\\ldots\\)的小惯性环节时，可以等效地用一个小时间常数\\(T\\)的惯性环节来代替。 其等效时间常数为\\(T=T_1+T_2+T_3+\\ldots\\)。 图7 高频段小惯性环节的近似处理 两个高频小惯性环节的近似条件：\\({\\omega _c} \\leqslant \\frac{1}{ {3\\sqrt { {T_1}{T_2} } } }\\) 三个高频小惯性环节的近似条件：\\({\\omega _c} \\leqslant \\frac{1}{3}\\frac{1}{ {\\sqrt { {T_1}{T_2} + {T_2}{T_3} + {T_3}{T_1} } } }\\) 高阶系统的降阶近似处理 如三阶稳定系统\\(W(s)=\\frac{K}{as^3+bs^2+cs+1}\\)（\\(a,b,c\\)均为正数且\\(bc&gt;a\\)） 在一定条件下可以忽略高次项近似为\\(W(s)\\approx \\frac{K}{cs+1}\\) 近似条件：\\(\\omega _c \\leqslant \\frac{1}{3} min(\\sqrt{\\frac{1}{b} },\\sqrt{\\frac{c}{a} })\\) 低频段大惯性环节的近似处理 当系统中存在一个时间常数特别大的惯性环节时\\(\\frac{1}{Ts+1}\\)，可以近似地将它看成是积分环节\\(\\frac{1}{Ts}\\) 近似条件：\\(\\omega _c \\geqslant \\frac{3}{T}\\) 图8 低频段大惯性环节的近似处理 这种近似处理仅适用于分析动态性能，考虑稳态精度时仍要使用原来的传递函数\\(W(s)\\)。 按工程设计方法设计转速、电流反馈控制直流调速系统的调节器 设计原则为“先内环后外环”。 先从电流环开始，进行必要的变换与近似处理，根据电流环控制要求确定矫正成Ⅰ型系统还是Ⅱ型系统，根据控制对象确定电流调节器类型，按动态性能指标确定电流调节器的参数。电流环设计完成后，将电流环等效为转速环的一个环节，再用同样的方法设计转速环。 电流调节器的设计 图9 双闭环调速系统动态结构图 确定时间常数 Ⅰ型系统与Ⅱ型系统所需要确定的时间常数相同。 ①电力电子变换器滞后时间常数\\(T_s\\)：对于PWM变换器，其滞后时间常数为其开关频率的倒数，如开关频率为8kHz的PWM变换器的\\(T_s=0.000125s\\)；对于晶闸管整流器，其滞后时间常数为其最大失控时间的一半。 ②电流滤波时间常数\\(T_{oi}\\)：为消除纹波应有\\(\\frac{1}{T_{oi}} = (\\frac{1}{5}\\sim\\frac{1}{10}) \\frac{1}{T_{s}}\\)。 ③电流环小时间常数之和\\(T_{\\sum i}=T_s+T_{oi}\\)（按小时间常数近似处理）。 选择电流调节器结构 首先根据实际控制需求确定使用Ⅰ型系统还是Ⅱ型系统。 如果要选用Ⅰ型系统，需检查对电源电压的抗扰性能，求\\(\\frac{T_l}{T_{\\sum i} }\\)的值。这里\\(\\frac{T_l}{T_{\\sum i} }=\\frac{T_2}{T_1}=\\frac{1}{m}\\)可以求出\\(m\\)值，查看表2判断动态抗扰性能是否符合要求。 典型Ⅰ型系统把双惯性环节的电流环控制对象近似等效成只有较小时间常数\\(2T_{\\sum i}\\)的一阶惯性环节，加快了电流的跟随作用。使用典型Ⅰ型系统的前提是超前环节恰好对消掉了控制对象的大惯性环节，如果电动机参数测量不准，大惯性环节未被准确对消，就会影响电流环的动态性能。 具体分析过程与计算结果参见教材p78-p80，这里不再赘述 如果要选用Ⅱ型系统，典型Ⅱ型系统超调量大，不能很好满足电流环对跟随性能指标的要求。可以在电流给定后加入低通滤波能有效降低超调量，解决这一问题。但响应速度会变慢，调节时间与上升时间变长。 低通滤波是一个惯性环节，其时间常数为\\(T_{in}\\)。经过实验分析，可知当\\(T_{in}=4T_{\\sum i}\\)时，超调量得到了有效的降低且调节时间最短。因此一般选择低通滤波时间常数\\(T_{in}=4T_{\\sum i}\\)，再判断在此条件下是否符合要求。 具体分析过程与计算结果参见教材p81-p84，这里不再赘述 计算电流调节器参数 对于Ⅰ型系统： 电流调节器设计为PI调节器，其传递函数\\(W_{ACR}(s)=\\frac{K_i(\\tau _i s+1)}{\\tau _i s}\\) 校正为Ⅰ型系统传递函数\\(W_{opi}(s)=\\frac{K_i \\beta K_s /R}{\\tau_i s(T_{\\sum i}s+1)}=\\frac{K_I}{s(T_{\\sum i}s+1)}\\) 电流调节器超前时间常数\\(\\tau_i=T_l\\) （这里\\(T_l \\gg T_{\\sum i}\\)，用调节器的零点对消掉控制对象的大时间常数极点，以便矫正成Ⅰ型系统） 电流环开环增益\\(K_I=\\frac{0.5}{T_{\\sum i} }\\)（取\\(K_I T_{\\sum i}=0.5\\)时） 电流调节器比例系数\\(K_i=\\frac{K_I \\tau_i R}{K_s \\beta}\\) 对于Ⅱ型系统： 电流调节器设计为PI调节器，传递函数同上。 校正为Ⅱ型系统传递函数\\(W_{opi}(s)=\\frac{K_i \\beta K_s(\\tau_i s+1)}{\\tau_i R T_l s^2(T_{\\sum i}s+1)}=\\frac{K_I(\\tau_i s+1)}{s^2(T_{\\sum i}s+1)}\\) （这里的大惯性环节\\(\\frac{1}{T_l s+1}\\)满足近似条件\\(\\omega_{cli} \\geqslant \\frac{3}{T_l}\\)被近似为积分环节） 电流调节器超前时间常数\\(\\tau_i=hT_{\\sum i}\\) 电流调节器比例系数\\(K_i=\\frac{h+1}{2h}\\frac{RT_l}{K_s \\beta T_{\\sum i}}\\) 校验近似条件 Ⅰ型系统取电流环截止频率\\(\\omega_{ci}=K_I\\) Ⅱ型系统取电流环截止频率\\(\\omega_{ci} \\approx \\frac{1}{4T_{\\sum i} }\\) Ⅰ型系统与Ⅱ型系统都要校验的近似条件： ①PWM变换器传递函数近似条件\\(\\frac{1}{3T_s}&gt;\\omega_{ci}\\) ②忽略反电动势变化对电流环动态影响条件\\(3\\sqrt{\\frac{1}{T_m T_l} }&lt;\\omega_{ci}\\) ③电流环小时间常数近似处理条件\\(\\frac{1}{3}\\sqrt{\\frac{1}{T_s T_{oi} } }&gt;\\omega_{ci}\\) Ⅱ型系统还需要校验的近似条件： ④大惯性环节近似处理条件\\(\\frac{3}{T_l} \\leqslant \\omega_{cli}\\) 计算调节器电阻与电容 Ⅰ型系统电路参数： 图10 含配合滤波与反馈滤波的PI电流调节器 含配合滤波与反馈滤波的PI电流调节器如上图所示，\\(U_i^*\\)为电流给定电压，\\(-\\beta I_d\\)为电流负反馈电压，调节器输出量\\(U_c\\)为电力电子变换器控制电压。 \\(R_0\\)需要按照运算放大器实际情况自己给定。 \\(R_i=K_i R_0\\) \\(C_i=\\frac{\\tau_i}{R_i}\\) \\(C_{oi}=\\frac{4T_{oi} }{R_0}\\) Ⅱ型系统电路参数： 图11 输入滤波与含配合滤波与反馈滤波的PI电流调节器串联 Ⅱ型系统需要在原PI调节器前加入输入滤波，如上图所示。 \\(R_0\\)与\\(R_{i\\_i}\\)需要根据实际情况自己给定。 \\(R_i\\)、\\(C_i\\)、\\(C_{oi}\\)运算公式与Ⅰ型系统电路相同。 \\(C_{i\\_i}=\\frac{4T_{\\sum i} }{R_{i\\_i} }\\) 转速调节器的设计 确定时间常数 分析转速环时，电流环被等效为一阶惯性环节，其时间常数为\\(2T_{\\sum i}\\)。 转速滤波时间常数\\(T_{on}\\)根据测速发电机纹波情况选取，可以取\\(T_{on}=0.01s\\)。 转速环小时间常数\\(T_{\\sum n}\\)按小时间常数近似处理，取\\(T_{\\sum n}=2T_{\\sum i}+T_{on}\\)。 选择转速调节器结构 为了实现转速无静差，在负载扰动作用点前需有一个积分环节，包含在转速调节器中，由于在扰动作用点后已经有了一个积分环节，因此转速环开环传递函数应有两个积分环节。转速调节器需设计为典型Ⅱ型系统，这样的系统同时也能满足动态抗扰性能好的要求。 转速调节器也设计为PI调节器，其传递函数为\\(W_{ASR}(s)=\\frac{K_n(\\tau_n s+1)}{\\tau_n s}\\)。 调速系统开环传递函数\\(W_n(s)=\\frac{K_n \\alpha R(\\tau_n s+1)}{\\tau_n \\beta C_e T_m s^2(T_{\\sum n}s+1)}=\\frac{K_N(\\tau_n s+1)}{s^2(T_{\\sum n}s+1)}\\) 计算转速调节器参数 转速调节器超前时间常数\\(\\tau_n=hT_{\\sum n}\\) 转速环开环增益\\(K_N=\\frac{h+1}{2h^2 T_{\\sum n}^2}\\) 转速调节器比例系数\\(K_n=\\frac{(h+1)\\beta C_e T_m}{2h\\alpha R T_{\\sum n} }\\) 校验近似条件 转速环截止频率\\(\\omega_{cn}=\\frac{K_N}{\\omega_1}\\) 电流环传递函数简化条件\\(\\frac{1}{3}\\sqrt{\\frac{K_I}{T_{\\sum i} } }&gt;\\omega_{cn}\\) 转速换小时间常数近似处理条件\\(\\frac{1}{3}\\sqrt{\\frac{K_I}{T_{on} } }&gt;\\omega_{cn}\\) 计算调节器电阻与电容 图12 含配合滤波与反馈滤波的PI转速调节器 含配合滤波与反馈滤波的PI转速调节器如上图所示，\\(U_n^*\\)为转速给定电压，\\(-\\alpha n\\)为转速负反馈电压，调节器输出量\\(U_i^*\\)为电流调节器给定电压。 \\(R_0\\)需要按照运算放大器实际情况自己给定。 \\(R_n=K_n R_0\\) \\(C_n=\\frac{\\tau_n}{R_n}\\) \\(C_{on}=\\frac{4T_{on} }{R_0}\\) 校核转速超调量 突加阶跃给定时，ASR饱和，不符合线性系统的前提，在饱和限幅的非线性控制作用下，超调量会大大降低，需要按照ASR退饱和的情况重新计算超调量。 图13 ASR饱和时转速换按Ⅱ型系统设计的调速系统起动过程 上图\\(t_2\\)时刻，当转速超过给定值之后，转速调节器ASR由饱和限幅状态进入线性调节状态，此时的转速环由开环进入闭环控制，迫使电流由最大值\\(I_{dm}\\)降到负载电流\\(I_{dl}\\)。ASR开始退饱和时，由于电动机电流\\(I_d\\)仍大于负载电流\\(I_{dl}\\)，电动机继续加速，直到\\(I_d &lt; I_{dl}\\)时转速才降低。这不是按线性系统规律的超调，而是经历了饱和非线性区域之后的超调，因此称作“退饱和超调”。 ASR退饱和超调量计算公式为： \\[\\sigma_n = (\\frac{\\Delta {C_{max} } }{C_b})\\frac{\\Delta n_b}{n^*}=2(\\frac{\\Delta{C_{max} } }{C_b})(\\lambda-z)\\frac{\\Delta{n_N} }{n^*}\\frac{T_{\\sum n} }{T_m}\\] 具体公式推导参见教材p87-p90，这里不再赘述 式中\\(\\frac{\\Delta {C_{max} } }{C_b}\\)为动态降落，可以根据\\(h\\)值查教材P73表4-5得知，\\(h=5\\)时\\(\\frac{\\Delta {C_{max} } }{C_b}=81.2\\%\\)。 \\(\\lambda\\)为电动机允许的过载倍数，有\\(I_{dm}=\\lambda I_{dN}\\)。 \\(z\\)为负载系数，有\\(I_{dL}=z I_{dN}\\)。 \\(\\Delta{n_N}\\)为调速系统开环机械特性的额定稳态速降，\\(\\Delta{n_N}=\\frac{I_{dN} R}{C_e}\\)。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统09-转速、电流双闭环控制直流调速系统的数学模型与动态过程分析","slug":"课程笔记/运动控制系统/运动控制系统09-转速、电流双闭环控制直流调速系统的数学模型与动态过程分析","date":"2023-08-09T00:01:00.000Z","updated":"2023-08-09T14:36:11.183Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统09-转速、电流双闭环控制直流调速系统的数学模型与动态过程分析/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F09-%E8%BD%AC%E9%80%9F%E3%80%81%E7%94%B5%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%95%B0%E5%AD%A6%E6%A8%A1%E5%9E%8B%E4%B8%8E%E5%8A%A8%E6%80%81%E8%BF%87%E7%A8%8B%E5%88%86%E6%9E%90/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第四章 转速、电流双闭环控制的直流调速系统 第二节 转速、电流双闭环控制直流调速系统的数学模型与动态过程分析；对应页码p57-p61 动态数学模型 图1 双闭环控制直流调速系统动态结构图 转速、电流双闭环控制直流调速系统的动态结构图如上图所示。图中\\(W_{ASR}(s)\\)与\\(W_{ACR}(s)\\)分别表示转速调节器和电流调节器的传递函数，红框内为电机部分。 动态过程分析 起动过程 图2 起动过程 双闭环直流调速系统起动过程的转速和电流波形如上图所示。由图可知电流\\(I_d\\)先从零增长到\\(I_{dm}\\)，然后在一段时间内维持在\\(I_{dm}\\)不变，之后又下降并经调节到达稳态值\\(I_{dL}\\)。转速\\(n\\)先缓慢升速，然后以恒加速上升，产生超调后，最终回到给定值\\(n^*\\)。 起动过程分为电流上升、恒流升速和转速调节三个阶段，转速调节器在此三个阶段中经历了不饱和、饱和以及退饱和三种情况。 电流上升阶段 第I阶段\\((0 \\sim t_1)\\)是电流上升阶段。 \\(t=0\\)时，系统突加阶跃给定信号\\(U_n^*\\)，在ASR与ACR调节器作用下，\\(U_c\\)、\\(U_{d0}\\)、\\(I_d\\)均上升。 \\(I_d \\geqslant I_{dL}\\)后，电机起动，由于机电惯性作用，转速不会很快增长。转速调节器ASR的输入偏差电压仍较大，这使得其比例部分输出值较大，输出电压保持在限幅值\\(U_{im}^*\\)，强迫电枢电流\\(I_d\\)迅速上升。在这一阶段，ASR很快进入饱和状态，而ACR一般不饱和。直到\\(I_d= I_{dm}\\)，\\(U_i=U_{im}^*\\)，此时电流调节器ACR压制了\\(I_d\\)的增长，第I阶段结束。 恒流升速阶段 第II阶段\\((t_1 \\sim t_2)\\)是恒流升速阶段。 ASR调节器始终保持在饱和状态，转速环相当于开环工作。系统表现为使用PI调节器的电流闭环控制，ACR的给定值就是ASR的饱和值\\(U_{im}^*\\)，基本上保持电流\\(I_d=I_{dm}\\)不变，因此系统的加速度恒定，转速呈线性增长。 电流闭环调节的扰动是电动机的反电动势\\(E\\)，其值随着转速\\(n\\)线性增长，电枢电压\\(U_{d0}\\)和控制电压\\(U_c\\)也线性增加。反电动势\\(E\\)是一个线性渐增的斜坡扰动量，因此系统做不到无静差，而是使\\(I_d\\)略低于\\(I_{dm}\\)。 转速调节阶段 第III阶段(\\(t_2\\)以后)是转速调节阶段。 转速上升至给定值\\(n^*\\)时，ASR的输入偏差为0，但输出由于控制器积分环节作用仍维持在\\(U_{im}^*\\)，这使得转速超调。 转速超调后\\(\\Delta n &lt; 0\\)，ASR退出饱和状态，\\(U_i\\)和\\(I_d\\)很快下降。由于此时\\(I_d\\)仍大于负载电流\\(I_{dL}\\)，转速仍继续上升。直到\\(t_3\\)时刻，\\(I_d=I_{dL}\\)，转矩\\(T_e=T_L\\)，\\(\\frac{dn}{dt}=0\\)，转速达到峰值。 \\(t_3 \\sim t_4\\)时间内，\\(I_d &lt; I_{dL}\\)，转速开始减速，直到转速稳定。如果调节器参数整定得不够好，则会有一段振荡的过程。 在第III阶段中，ASR和ACR都不饱和，ASR起主导转速调节作用，ACR是一个电流跟随子系统，力图使\\(I_d\\)尽快跟随其给定值\\(U_i^*\\)。 起动过程的三个特点 饱和非线性控制——随着ASR的饱和与不饱和，系统处于完全不同的两个状态，因此需要分段分析，不能用线性系统理论分析整个起动过程。 转速超调——ASR采用PI调节器必有超调。 准时间最优控制——“时间最优控制”指在设备物理条件允许下实现最短时间的控制。起动过程I、II两个阶段电流不能突变，使得实际起动过程与理想起动过程有一定差距，因此这里的起动过程可称为“准时间最优控制”。 制动过程 图3 制动过程 双闭环直流调速系统制动过程的控制电压、电枢电流与转速波形如上图所示。这里采用电动机拖动位能性恒转矩负载进行举例。 \\(t_0\\)时刻收到停车指令后，电流先从\\(I_{dL}\\)衰减至0，随后建立反向电枢电流\\(-I_d\\)，直到其反向最大值\\(-I_{dm}\\)，并在一段时间内近似维持在\\(-I_{dm}\\)不变。最后负值电流降低，回到稳态值\\(I_{dL}\\)。 转速波形先缓慢下降，再恒速下降，产生反向超调后，经过调节达到给定值0（停转）。 制动过程分为正向电流衰减、反向电流建立、恒流制动和转速调节四个阶段。转速调节器在此四个阶段中经历了不饱和、饱和以及退饱和三种情况。 正向电流衰减阶段 第I阶段\\((t_0 \\sim t_1)\\)是正向电流衰减阶段。 \\(t_0\\)时刻收到停车指令，转速调节器的输入偏差为较大负值，其输出电压很快下降到反向限幅值\\(-U_{im}^*\\)，电流环强迫电枢电流迅速下降到0，标志着这一阶段结束。 电流调节器输入偏差\\(\\Delta U_i=-U_{im}^*-U_i\\)，调节器输出控制电压快速下降，电枢电压也随之快速下降。 转速调节器很快进入并保持饱和状态。 反向电流建立阶段 第II阶段\\((t_1 \\sim t_2)\\)是反向电流建立阶段。 转速调节器输入偏差仍为较大负值，始终处在反向饱和状态，转速环相当于开环，系统为在恒值给定\\(-U_{im}^*\\)控制下的电流单环系统，强迫电流在\\(t_2\\)时刻反向增加至\\(-I_{dm}\\)。 电流调节器输入仍为负值，电枢电流快速下降，电流调节器中比例输出在快速增加，待电枢电流下降到一定值后，输出控制电压和电枢电压开始上升，但只要\\(U_d&lt;E\\), 电流将继续下降。 第II阶段电机处于反接制动状态，和第I阶段一样，所占时间很短，转速来不及产生明显下降。 恒流制动阶段 第III阶段\\((t_2 \\sim t_3)\\)是恒流制动阶段（又称“回馈制动阶段”）。 转速环仍为开环，系统仍为在恒值给定\\(-U_{im}^*\\)控制下的电流单环系统，除短暂的电流调节阶段外，在恒流制动阶段中反电动势\\(E\\)线性下降，为维持\\(I_d \\approx -I_{dm}\\)，控制电压线性降低，电枢电压也随之线性下降。 由于电流调节系统的扰动量是电动机的反电动势，它是一个线性渐减的扰动量，而扰动作用点之前只有一个积分环节，所以系统做不到无静差，而是接近于\\(-I_{dm}\\)。 电动机在恒减速条件下回馈制动，把机械动能转换为电能存在直流母线的电容中，直到\\(t_3\\)时刻电动机转速下降到0。恒流制动阶段所占的时间最长，是制动过程的主要阶段。 转速调节阶段 第IV阶段(\\(t_3\\)以后)是转速调节阶段。 转速下降到0后，转速调节器输入偏差减小到0，但其输出却由于积分作用还维持在限幅值\\(-U_{im}^*\\)，电动机开始反转，转速调节器输出反向退饱和，\\(-U_i^*\\)反向快速下降，电枢电流\\(I_d\\)在电流环的作用下跟随给定，反向快速下降到0后建立正向电枢电流。此时仍有\\(I_d&lt;I_{dL}\\)，转速继续下降，直至\\(t_4\\)时刻，\\(I_d=I_{dL}\\)，转速达到反向最大值。此后电动机反向减速，直至停转。 转速调节阶段电机反电动势很小，电枢电压主要用来改变电枢电流，控制电压变化趋势与电流波形相似，但相位超前。 与起动过程转速调节阶段类似，如果调节器参数整定得不够好，最后还会有一段振荡过程。 与起动过程转速调节阶段类似，ASR和ACR都不饱和，ASR起主导转速调节作用，ACR是一个电流跟随子系统，力图使\\(I_d\\)尽快跟随其给定值\\(U_i^*\\)。 与起动过程类似，制动过程也有饱和非线性控制、转速超调、准时间最优控制这三个特点。 动态抗扰性能分析 调速系统，最主要的抗扰性能有抗负载扰动性能和抗电网电压扰动性能。调速系统抗扰能力与其作用点的位置有关。 观察双闭环控制直流调速系统动态结构图（图1），负载扰动影响的是\\(I_{dL}\\)，其作用点在电流环之后，只能靠转速调节器ASR来产生抗负载扰动的作用。因此在设计ASR时，要求有较好的抗扰性能指标。电网电压扰动(\\(\\pm \\Delta {U_d}\\))影响的是\\(U_{d0}\\)，扰动作用点在电流环之前，可以通过电流反馈得到比较及时的调节，使抗扰性能得到改善。在双闭环系统中，由电网电压波动引起的转速变化会比单闭环系统小得多。 转速、电流调节器在双闭环系统中的作用 转速调节器的作用 转速调节器是调速系统的主导调节器，它使转速很快地跟随给定电压变化, 稳态时可减小转速误差，如果采用PI调节器，则可实现无静差。 对负载变化起抗扰作用。 其输出限幅值决定电动机允许的最大电流。 电流调节器的作用 作为内环的调节器，在转速外环的调节过程中，使电流紧紧跟随其给定电压（即外环调节器的输出量）变化。 对电网电压的波动起及时抗扰的作用。 在转速动态过程中，保证获得电机允许的最大电流，从而加快动态过程。 当电动机过载甚至堵转时，限制电枢电流的最大值，起快速的自动保护作用。一旦故障消失，系统自动恢复正常。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统08-转速、电流双闭环控制直流调速系统的组成及其静特性","slug":"课程笔记/运动控制系统/运动控制系统08-转速、电流双闭环控制直流调速系统的组成及其静特性","date":"2023-08-07T23:51:22.000Z","updated":"2023-08-08T05:49:55.326Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统08-转速、电流双闭环控制直流调速系统的组成及其静特性/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F08-%E8%BD%AC%E9%80%9F%E3%80%81%E7%94%B5%E6%B5%81%E5%8F%8C%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90%E5%8F%8A%E5%85%B6%E9%9D%99%E7%89%B9%E6%80%A7/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第四章 转速、电流双闭环控制的直流调速系统 第一节 转速、电流双闭环控制直流调速系统的组成及其静特性；对应页码p53-p56 转速单闭环控制的直流调速系统存在的问题 转速单闭环控制的直流调速系统使用PI调节器后可以实现转速稳态无静差，消除负载转矩对稳态转速的影响，并使用电流截止负反馈限制电枢电流的冲击，避免出现过电流现象。但转速单闭环系统不能充分控制电流（或电磁转矩）的动态过程，电流截止负反馈不能很好地控制电流的动态波形。 对于经常正、反转运行的调速系统，缩短起、制动过程的时间是提高生产率的重要因素。 图1 时间最优的理想过渡过程 时间最优的理想过渡过程如上图所示，在起动（或制动）过渡过程中，希望始终保持电流（电磁转矩）为允许的最大值，使调速系统以最大的加（减）速度运行。当达到稳态转速时，最好使电流立即降下来，使电磁转矩与负载转矩相平衡，从而迅速转入稳态运行。 转速、电流双闭环控制直流调速系统的组成 为了实现在允许条件下的最快起动，关键是要获得一段使电流保持为最大值\\(I_{dm}\\)的恒流过程，采用电流负反馈可以得到近似的恒流过程。 需要在起动过程中只有电流负反馈，没有转速负反馈。达到稳态转速后，使转速负反馈发挥主要作用，使转速跟随给定，而电流负反馈不起阻碍作用。 为了实现上述要求，需要在系统中设置两个调节器，分别引入转速负反馈和电流负反馈以调节转速和电流，且两者需要在系统中以特定的方式连接。 图2 双闭环直流调速系统原理图 图3 双闭环直流调速系统电路图ASR—转速调节器 ACR—电流调节器 TG—测速发电机 TA—电流互感器 UPE—电力电子变换器\\(U_n^*\\)—转速给定电压 \\(U_n\\)—转速反馈电压 \\(U_i^*\\)—电流给定电压 \\(U_i\\)—电流反馈电压 转速、电流双闭环直流调速系统原理图如图2所示，其电路图如图3所示。可见转速调节器(ASR)与电流调节器(ACR)两者实行串级连接。转速调节器的输出作为电流调节器的输入，再用电流调节器输出作为电力电子变换器(UPE)的输入。 从闭环结构上看，电流环在里面，称作内环；转速环在外边，称作外环。形成了转速、电流双闭环控制直流调速系统。 稳态结构图与参数计算 图4 双闭环直流调速系统稳态结构图\\(\\alpha\\)—转速反馈系数 \\(\\beta\\)—电流反馈系数 双闭环直流调速系统的稳态结构图如上图所示。可见转速与电流调节器均采用带限幅作用的PI控制。转速调节器的输出限幅电压决定了电流给定的最大值，电流调节器的输出限幅电压限制了电力电 子变换器的最大输出电压。 当调节器不饱和时，PI调节器工作在线性调节状态，其作用是使输入偏差电压在稳态时为零；当调节器饱和时，输出达到限幅值，输入量的变化不再影响输出，除非有反向的输入信号使调节器退出饱和。 对于静特性来说，只有转速调节器饱和与不饱和两种情况，设计合理的电流调节器不进入饱和状态。 双闭环直流调速系统的静特性 图5 双闭环直流调速系统静特性 转速调节器不饱和 两个调节器都不饱和，输入偏差电压都为零，即转速、电流均无静差。 对应图上静特性AB段，此时负载电流\\(I_d &lt; I_{dm}\\)，转速\\(n = \\frac{U_n^*}{\\alpha} = n_0\\)。此时转速调节器起主要调节作用。 \\[U_n^*=U_n=\\alpha n=\\alpha n_0\\] \\[U_i^*=U_i=\\beta I_d\\] 转速调节器饱和 ASR输出输出达到限幅值时，转速外环呈开环状态，转速的变化对转速环不再产生影响。 对应图上静特性BC段，此时负载电流\\(I_d = \\frac{U_{im}^*}{\\beta} = I_{dm}\\)，转速\\(n &lt; n_0\\)。此时电流调节器起主要调节作用，双闭环系统变成一个电流无静差的单电流闭环调节系统。 当ASR处于饱和状态时，\\(I_d=I_{dm}\\)，若负载电流减小，\\(I_d&lt;I_{dm}\\)，使转速上升，\\(n&gt;n_0\\)，\\(\\Delta n&lt;0\\)，ASR反向积分，使ASR调节器退出饱和。 各变量的稳态工作点和稳态参数计算 双闭环调速系统在稳态工作中，当两个调节器都不饱和时，各变量关系为： \\[U_n^*=U_n=\\alpha n=\\alpha n^*\\] \\[U_i^*=U_i=\\beta I_d=\\beta I_{dL}\\] \\[U_c=\\frac{U_{d0} }{K_s}=\\frac{C_en+I_dR}{K_s}=\\frac{C_eU_n^*/\\alpha+I_{dL}R}{K_s}\\] 上述关系表明，在稳态工作点上，转速\\(n\\)由给定电压\\(U_n^*\\)决定，ASR的输出量\\(U_i^*\\)由负载电流\\(I_{dL}\\)决定，ACR的输出量由即控制电压\\(U_c\\)的大小同时取决于\\(n\\)和\\(I_d\\)（或\\(U_n^*\\)和\\(I_{dL}\\)） 当转速给定和电枢电流分别为\\(U_{nm}^*\\)和\\(I_{dm}\\)，调节器输出对应最大控制电压\\(U_{cm}\\)。 根据各调节器的给定与反馈值计算有关的反馈系数： 转速反馈系数\\(\\alpha=\\frac{U_{nm}^*}{n_{max} }\\)，电流反馈系数\\(\\beta=\\frac{U_{im}^*}{I_{dm} }\\)。 两个给定电压的最大值\\(U_{nm}^*\\)和\\(U_{im}^*\\)由设计者选定。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统07-转速闭环直流调速系统的限流保护","slug":"课程笔记/运动控制系统/运动控制系统07-转速闭环直流调速系统的限流保护","date":"2023-08-07T00:58:52.000Z","updated":"2023-08-07T09:28:23.242Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统07-转速闭环直流调速系统的限流保护/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F07-%E8%BD%AC%E9%80%9F%E9%97%AD%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E9%99%90%E6%B5%81%E4%BF%9D%E6%8A%A4/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第三章 转速闭环控制的直流调速系统 第三节 转速闭环直流调速系统的限流保护；对应页码p42-p44 转速闭环直流调速系统的限流问题 转速反馈控制直流调速系统有效解决了调速范围与静差率的矛盾，有效抑制了扰动对转速的影响，采用比例积分调节器后便可实现无静差调速。然而转速反馈控制直流调速系统并没有实现对电流的控制，在电动机的起动、制动过程与堵转状态下，必须限制电枢电流。 起动：突加给定电压时，电枢电压\\(U_d\\)立即立即达到它的最高值，对电动机来说，相当于全压起动，会造成电动机过流。 堵转：根据系统静特性，堵转时电流将远远超过允许值。如果只依靠过流继电器或熔断器来保护，过载时就跳闸。 因此系统中必须有自动限制电枢电流的环节，需要引入电流负反馈，使它不超过允许值。但这种作用只应在起动和堵转时存在，在正常的稳速运行时又得取消。因为正常运行时需要电流随着负载的增减而变化，电流负反馈会抑制电动机的带载能力。 这种电流大到一定程度时才出现的电流负反馈，称为电流截止负反馈。 带电流截止负反馈环节的直流调速系统 图1 带电流截止负反馈环节的模拟实现(a)利用独立直流电源作为比较电压 (b)利用稳压管产生比较电压 用模拟电路实现带电流截止负反馈环节如上图所示，电流反馈信号取自串入电动机电枢回路的小阻值电阻\\(R_s\\)，\\(I_dR_s\\)正比于电流。设\\(I_{dcr}\\)为临界截止电流，当电流大于\\(I_{dcr}\\)时，将电流负反馈信号加到放大器输入端；当电流小于\\(I_{dcr}\\)时，将电流反馈切断。 图(a)中使用独立的直流电流源作为比较电压\\(U_{com}\\)，图(b)使用稳压管的击穿电压\\(U_{br}\\)作为比较电压\\(U_{com}\\)。 图2 电流截止负反馈环节输入输出特性 电流截止负反馈环节输入输出特性如上图所示： 当\\(I_dR_s &gt; U_{com}\\)时，二极管导通，电流负反馈信号加到\\(U_i\\)上，\\(U_i=I_dR_s-U_{com}\\)； 当\\(I_dR_s \\leqslant U_{com}\\)时，二极管截止，输出\\(U_i=0\\)，可知截止电流\\(I_{dcr}=\\frac{U_{com} }{R_s}\\)。 带电流截止负反馈比例控制闭环直流调速系统的稳态结构框图与静特性 图3 带电流截止负反馈比例控制闭环直流调速系统的稳态结构框图 带电流截止负反馈的比例控制闭环直流调速系统的稳态结构框图如上图所示，其静特性如下图所示。 \\(I_d \\leqslant I_{dcr}\\)时，电流负反馈被截止，其静特性与转速负反馈调速系统的静特性相同,对应下图CA段。 \\[n = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} (1 + K) } } - \\frac{ {R{I_d} } } { { {C_e} (1 + K) } }\\] \\(I_d &gt; I_{dcr}\\)时，引入电流负反馈，静特性发生改变，对应下图AB段。 \\[n = \\frac{ { {K_p}{K_s}U_n^*} }{ { {C_e}(1 + K)} } - \\frac{ { {K_p}{K_s} } }{ { {C_e}(1 + K)} }({R_s}{I_d} - {U_{com} }) - \\frac{ {R{I_d} } }{ { {C_e}(1 + K)} }\\] \\[= \\frac{ { {K_p}{K_s}(U_n^* + {U_{com} })} }{ { {C_e}(1 + K)} } - \\frac{ {(R + {K_p}{K_s}{R_s}){I_d} } }{ { {C_e}(1 + K)} }\\] 图4 带电流截止负反馈比例控制闭环直流调速系统的静特性 电流负反馈的作用相当于在主电路中串入一个大电阻\\({K_p}{K_s}{R_s}\\)因此稳态速降极大，特性急剧下垂。 比较电压\\(U_{com}\\)作用与给定电压\\(U_n^*\\)一致，相当于将给定电压提高至\\(U_n^*+U_{com}\\)，AB段的理想空载转速被提高为\\(n_0&#39; = \\frac{ { {K_p}{K_s}(U_n^* + {U_{com} })} }{ { {C_e}(1 + K)} }\\)。 这样的两段式静特性常被称作下垂式特性或挖土机特性。 令\\(n=0\\)，可得到堵转电流\\(I_{dbl}\\)（一般\\({K_p}{K_s}{R_s} \\gg R\\)）： \\[{I_{dbl} } = \\frac{ { {K_p}{K_s}(U_n^* + {U_{com} })} }{ {R + {K_p}{K_s}{R_s} } } \\approx \\frac{ {U_n^* + {U_{com} } } }{ { {R_s} } }\\] 堵转电流\\(I_{dbl}\\)应小于电动机允许的最大电流，一般取\\(I_{dbl}=(1.5 \\sim 2)I_N\\)。 截止电流\\(I_{dcr}\\)应大于电动机的额定电流，一般取\\(I_{dcr}=(1.1 \\sim 1.2)I_N\\)。 带电流截止负反馈的无静差直流调速系统 图5 带电流截止负反馈的无静差直流调速系统 带电流截止负反馈的无静差直流调速系统如上图所示，采用PI调节器实现无静差，采用带电流截止负反馈环节限制电枢电流。 TA为检测电流的交流互感器，经整流后得到电流反馈信号\\(U_i\\)。 当电流达到截止电流\\(I_{dcr}\\)时，\\(U_i\\)高于稳压管VS的击穿电压，使晶体三极管VT导通。 忽略晶体管VT的导通压降，则PI调节器的输出电压\\(U_c=0\\)，电力电子变换器的输出电压\\(U_d=0\\)，达到限制电流的目的。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统06-无静差的转速闭环直流调速系统","slug":"课程笔记/运动控制系统/运动控制系统06-无静差的转速闭环直流调速系统","date":"2023-08-05T23:14:51.000Z","updated":"2023-08-06T11:42:18.515Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统06-无静差的转速闭环直流调速系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F06-%E6%97%A0%E9%9D%99%E5%B7%AE%E7%9A%84%E8%BD%AC%E9%80%9F%E9%97%AD%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第三章 转速闭环控制的直流调速系统 第二节 无静差的转速闭环直流调速系统；对应页码p38-p42 比例控制规律 在比例控制的调速系统中调节器输出为电力电子变换器控制电压\\(U_c\\)，输入输出关系为\\({U_c} = {K_p}\\Delta {U_n}\\)。这使得电动机运行时\\(\\Delta {U_n}\\)会一直存在，即静差无法消除。比例控制调速系统突加负载（负载转矩由\\(T_{L1}\\)增加到\\(T_{L2}\\)）时调速系统转速\\(n\\)、偏差电压\\(\\Delta {U_n}\\)、控制电压\\(U_c\\)的动态变化过程如下图所示。 图1 有静差调速系统突加负载时的动态过程 积分控制规律 积分调节器中输出量为输入量的积分，输入量为转速误差信号\\(\\Delta {U_n}\\)时，积分调节器的输入输出关系为： \\[{U_c} = \\frac{1}{\\tau }\\int\\limits_0^t {\\Delta {U_n}dt}\\] 其传递函数为： \\[{W_I}(s) = \\frac{1}{\\tau s}\\] 其中\\(\\tau\\)为积分时间常数，积分调节器的输入输出动态过程如下图所示。 图2 积分调节器的输入输出动态过程 可以观察到当\\(\\Delta {U_n}\\)为阶跃函数时，\\(U_c\\)按线性规律增长。其大小与\\(\\Delta {U_n}\\)与横轴包围的区域面积成正比。（体现了积分控制的延缓作用与积累作用）直到达到输出限幅值\\(U_{cm}\\)不再增长。 当\\(\\Delta {U_n}\\)为零时，\\(U_c\\)并不为零，而是一个终值\\(U_{cf}\\)。若\\(\\Delta {U_n}\\)一直为零，则\\(U_c\\)将始终保持为终值不再变化（体现了积分控制的记忆作用）。正因为如此，积分控制可以使系统在无静差的情况下保持恒速运行，实现无静差调速。 图3 积分控制调速系统突加突加负载时的动态过程 积分控制调速系统突加突加负载时的动态过程如上图所示。可见突加负载时\\(I_{dL}\\)增加使转速\\(n\\)下降，产生正的\\(\\Delta {U_n}\\)，从而使\\(U_c\\)增长。值得注意的是，在积分控制中\\(U_c\\)的增长量与\\(\\Delta {U_n}\\)曲线形成的阴影面积成正比，而不是像比例控制那样与\\(\\Delta {U_n}\\)本身成正比。当\\(\\Delta {U_n}\\)值降为零时，\\(U_c\\)的增长量不再变化，即\\(U_c\\)不再变化，这样实现了无静差的调速。 换句话说，\\(U_c\\)的改变依靠的是\\(\\Delta {U_n}\\)在一段时间内的积累。 比例积分控制器及其控制规律 积分控制可以实现无静差调速，但是在快速性上却不如比例控制。为兼顾快速性与稳态精度上的优势，可以采用比例积分(PI)控制。 PI调节器的输入输出关系为： \\[{U_{ex} } = {K_p}{U_{in} } + \\frac{1}{\\tau}\\int\\limits_0^t { {U_{in} }dt}\\] PI调节器的传递函数为： \\[{W_{PI} }(s) = K_p + \\frac{1}{\\tau s} = {K_p}\\frac{ {\\tau_1}s + 1}{ {\\tau_1}s}\\] 其中\\(K_p\\)为比例放大系数，\\(\\tau\\)为积分时间常数，\\(\\tau_1={K_p}\\tau\\)为微分项中的超前时间常数。 图4 比例积分(PI)调节器 采用模拟控制时，比例积分调节器可以用运算放大器实现，其电路图如上图所示（运算放大器原理参见《模拟电子技术》教材）。 输入\\(U_{in}\\)的极性和输出\\(U_{ex}\\)的极性时反向的。\\(R_{bal}\\)为运算放大器同相输入端平衡电阻，一般取反向输入端各路电阻的并联值。 输入输出关系为： \\[{U_{ex} } = \\frac{R_1}{R_0}{U_{in} } + \\frac{1}{ { {R_0}{C_1} } }\\int { {U_{in} }dt} = {K_p}{U_{in} } + \\frac{1}{\\tau }\\int { {U_{in} }dt}\\] 其中比例放大系数\\(K_p=\\frac{R_1}{R_0}\\)、积分时间常数\\(\\tau={R_0}{C_1}\\) 图5 比例积分控制调速系统突加突加负载时的动态过程 比例积分控制调速系统突加突加负载时的动态过程如上图所示，突加负载后负载电流增大，转速\\(n\\)下降同时产生\\(\\Delta {U_n}\\)。这里\\(U_c\\)的响应曲线由比例部分与积分部分叠加而成。其中①与\\(\\Delta {U_n}\\)成正比，是比例部分的响应曲线；其中②与从\\(t=0\\)到此时刻对\\(\\Delta {U_n}(t)\\)的积分值（\\(\\Delta {U_n}\\)曲线与横轴由\\(t=0\\)到此时刻间的阴影面积）成正比，是积分部分的响应曲线。从时间上看，前期比例部分起主要作用，实现了迅速响应，增强了系统的的快速性；后期积分部分起主要作用，最终消除稳态误差。\\(\\Delta {U_n}\\)归零后比例部分不再起作用，积分部分也始终保持为终值不再变化，这样就实现了无静差的调速。 在起动及抗负载扰动过程中，比例作用由强变弱，起强烈作用，加速系统响应；积分作用由弱变强，最后消除静差。比例积分控制综合了比例控制和积分控制的优点。比例部分能迅速响应控制作用，积分部分则最终消除稳态误差。 无静差的转速单闭环直流调速系统稳态参数设计 图6 无静差直流调速系统稳态结构图 无静差的转速单闭环直流调速系统稳态结构图如上图所示。图中转速调节器（Automatic Speed Regulator,ASR）采用比例积分调节器，用象征性的比例积分特性来表示。 系统稳态工作时，各变量间有以下关系： \\[U_n^* = {U_n} = \\alpha n = \\alpha {n^*}\\] \\[{U_c} = \\frac{U_{d0} }{K_s} = \\frac{ { {C_e}{n^*} + {I_d}R} }{ { {K_s} } } = \\frac{ { {C_e}U_n^*/\\alpha + {I_{dL} }R} }{K_s}\\] 由此可知，在稳态工作点上，转速\\(n\\)由给定电压\\(U_n^*\\)决定，ASR的输出量控制电压\\(U_c\\)的大小由\\(n\\)和\\(I_d\\)决定（或由\\(U_n^*\\)和\\(I_{dL}\\)决定）。 这体现了PI调节器与P调节器的不同之处。P调节器的输出量总是正比于其输入量，而 PI调节器的输出量在动态过程中取决于输入量的积分，而到达稳态时，输入为零，输出的稳态值与输入无关，而是由它后面环节为了保证输入为零的需要决定的。 无静差直流调速系统的稳态参数计算： 稳态时\\(\\Delta {U_n}=0\\)，\\(U_n=U_n^*\\) 转速反馈系数\\(\\alpha=\\frac {U_{nmax}^*}{n_{max} }\\) 其中\\(n_{max}\\)为电动机调压时的最高转速，\\(U_{nmax}^*\\)为相应的最高给定电压。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统05-有静差的转速闭环直流调速系统","slug":"课程笔记/运动控制系统/运动控制系统05-有静差的转速闭环直流调速系统","date":"2023-08-03T03:34:10.000Z","updated":"2023-08-05T07:35:25.918Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统05-有静差的转速闭环直流调速系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F05-%E6%9C%89%E9%9D%99%E5%B7%AE%E7%9A%84%E8%BD%AC%E9%80%9F%E9%97%AD%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第三章 转速闭环控制的直流调速系统 第一节 有静差的转速闭环直流调速系统；对应页码p28-p38 比例控制转速闭环直流调速系统的结构与静特性 转速开环控制系统对负载扰动没有任何抑制作用。因此要引入负反馈，构成转速闭环的控制系统。 图1 比例控制转速闭环直流调速系统原理框图 比例控制的转速闭环直流调速系统原理框图如上图所示。相较于开环系统，闭环系统增加了比例放大器A与测速发电机TG。 图中\\(U_n^*\\)为给定电压，\\(U_n\\)为反馈电压，其大小与被测转速成正比。给定电压与反馈电压做差得到转速偏差电压\\(\\Delta {U_n}\\)。转速偏差电压经过比例放大器A放大后得到控制电压\\(U_c\\)，控制电压是实际加到电力电子变换器UPE（相控整流器或PWM变换器）的电压值。系统其余部分与开环系统相同。 比例控制转速闭环直流调速系统各个环节关系式（忽略非线性因素、忽略控制器电源与电位器内阻）： 电压比较环节：\\(\\Delta {U_n} = U_n^* - {U_n}\\) 比例放大器：\\({U_c} = {K_p}\\Delta {U_n}\\)（\\(K_p\\)为比例系数） 测速反馈环节：\\({U_n} = \\alpha n\\)（\\(\\alpha\\)为转速反馈系数，单位V·min/r） 电力电子变换器：\\({U_{d0}} = {K_s}{U_c}\\) 直流电动机：\\(n = \\frac{ { {U_{d0} } - {I_d}R} } {C_e}\\) 根据上述关系式，可以得到系统稳态结构框图如下所示： 图2 比例控制转速闭环直流调速系统稳态结构框图 将给定量\\(U_n^*\\)与扰动量\\(-{I_d}R\\)看作两个独立的输入量，求其单独作用时的输入输出关系式，再将二者结果叠加得到闭环调速系统静特性方程式： \\[n = \\frac{ { {K_p} {K_s}U_n^* - {I_d}R} } { { {C_e} (1 + {K_p} {K_s}\\alpha /{C_e} ) } } = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} (1 + K) } } - \\frac{ {R{I_d} } } { { {C_e} (1 + K) } }\\] 这里取闭环系统的开环放大系数\\(K = \\frac{ { {K_p} {K_s}\\alpha } } {C_e}\\)。 开环系统机械特性和比例闭环系统静特性的对比分析 开环系统机械特性： \\(n = \\frac{ { {U_{d0} } - {I_d}R} } { { {C_e} } } = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} } } - \\frac{ {R{I_d} } } { { {C_e} } } = {n_{0op} } - \\Delta {n_{op} }\\) 其中\\(n_{0op}\\)为开环系统的理想空载转速，\\(\\Delta n_{op}\\)为开环系统的稳态速降。 比例闭环系统静特性： \\(n = \\frac{ { {K_p} {K_s}U_n^*} } { { {C_e} (1 + K) } } - \\frac{ {R{I_d} } } { { {C_e} (1 + K) } } = {n_{0cl} } - \\Delta {n_{cl} }\\) 其中\\(n_{0cl}\\)为闭环系统理想空载转速，\\(\\Delta n_{cl}\\)为闭环系统的稳态速降。 当\\(K\\)值较大时，\\(\\Delta n_{cl}\\)比\\(\\Delta n_{op}\\)小得多，二者关系为：\\(\\Delta {n_{cl} } = \\frac{ {\\Delta {n_{op} } } } { {1 + K} }\\)。 由此可知，闭环系统静特性比开环系统机械特性要硬的多。 闭环系统静差率\\({s_{cl} } = \\frac{ {\\Delta {n_{cl} } } } { { {n_{0cl} } } }\\)；开环系统静差率\\({s_{op} } = \\frac{ {\\Delta {n_{op} } } } { { {n_{0op} } } }\\)。 当\\({n_{0op} } = {n_{0cl} }\\)时，有\\({s_{cl} } = \\frac{ { {s_{op} } } } {1 + K}\\)。 由此可知，理想空载转速一致时，闭环系统静差率比开环系统小得多。 闭环系统调速范围\\({D_{cl} } = \\frac{ { {n_N}s} } { {\\Delta {n_{cl} } (1 - s) } }\\)；开环系统调速范围\\({D_{op} } = \\frac{ { {n_N}s} } { {\\Delta {n_{op} } (1 - s) } }\\)。 若两者最高转速都为\\(n_N\\)，最低速静差率都为\\(s\\)，则有\\({D_{cl} } = (1 + K){D_{op} }\\)。 由此可知，系统要求静差率一定时，闭环系统可以有更大的调速范围。 图3 闭环系统静特性和开环系统机械特性的关系 闭环系统静特性和开环系统机械特性如上图所示。 在开环状态下，提高负载，负载电流\\(I_d\\)增大，转速会有明显的下降，如图中从A点到A'点。 转速闭环状态下，转速下降时，测速反馈电压\\(U_n\\)会相应的减小，使得给定电压与反馈电压差值\\(\\Delta U_n\\)变大，进而使控制电压\\(U_c\\)与整流器输出电压\\(U_{d0}\\)成比例变大，最终使转速\\(n\\)有所回升，显著降低稳态速降，如图中从A点到B点。 也就是说，在闭环系统中，每增加（或减少）一点负载，就相应地提高（或降低）一点电枢电压，使电动机在新的机械特性下工作。比例控制直流调速系统能够减少稳态速降的实质在于它的自动调节作用，在于它能随着负载的变化而相应地改变电枢电压，以补偿电枢回路电阻压降的变化。 闭环直流调速系统的反馈控制规律 只有比例放大器的反馈控制系统，其被调量仍是有静差的。静差率\\(\\Delta {n_{cl} } = \\frac{ {R{I_d} } } { { {C_e}(1 + K)} }\\)，无论K为多少，静差率都不为零，过大的K值会使系统不稳定。 反馈控制系统的作用是：抵抗扰动，服从给定 。它能够有效地抑制一切被包含在负反馈环内前向通道上的扰动作用，但对给定信号的任何变化都是唯命是从。 系统的精度依赖于给定和反馈检测的精度。反馈控制系统无法鉴别是给定信号的正常调节还是外界的电压波动。反馈通道上有一个测速反馈系数，它同样存在着因扰动而发生的波动，由于它不是在被反馈环包围的前向通道上，因此也不能被抑制。 比例控制转速闭环系统的稳定性 转速反馈控制直流调速系统的动态数学模型 比例放大器传递函数：\\({W_a}(s) = \\frac{ { {U_c} (s) } } { {\\Delta {U_n}(s)} } = {K_p}\\) 电力电子变换器传递函数：\\({W_s}(s) \\approx \\frac{ { {K_s} } } { { {T_s}s + 1} }\\) 注：参考运动控制系统02-晶闸管整流器——直流电动机系统与运动控制系统03-PWM变换器——电动机系统，相控整流器或PWM变换器的近似传递函数相同，只是不同场合下\\(K_s\\)与\\(T_s\\)的数值不同。 测速反馈环节传递函数：\\({W_{fn} }(s) = \\frac {U_n(s)} {n(s)} = \\alpha\\) 直流电动机动态数学模型： 注：参考运动控制系统01-绪论与运动控制系统02-晶闸管整流器——直流电动机系统 图4 他励直流电动机在额定励磁下的等效电路 (1)电压方程（假设主电路电流连续） \\[{U_{d0} } = R{I_d} + L\\frac{ {d{I_d} } } { {dt} } + E\\] (2)转矩方程 额定励磁下的电磁转矩：\\({T_e} = {C_m} {I_d}\\) 额定励磁下的感应电动势：\\(E = {C_e}n\\) 电动机轴上的动力学方程（忽略粘性摩擦及弹性转矩）：\\({T_e} - {T_L} = \\frac{ {G{D^2} } } { {375} }\\frac{ {dn} } { {dt} }\\) 其中， \\(T_L\\)——包括电动机空载转矩在内的负载转矩(N·m) \\({GD}^2\\)——电力拖动装置折算到电动机轴上的飞轮惯量(N·㎡) \\({C_m} = \\frac{ {30} } {\\pi } {C_e}\\)——电动机额定励磁下的转矩系数(N·m/A) 上述式子可整理为： \\[{U_{d0} } - E = R({I_d} + {T_l}\\frac{ {d{I_d} } } {dt})\\] \\[{I_d} - {I_{dL} } = \\frac{ { {T_m} } } {R}\\frac{ {dE} } { {dt} }\\] 其中， \\({T_l} = \\frac{L}{R}\\)——电枢回路电磁时间常数(s) \\({T_m} = \\frac{ {G{D^2}R} }{ {375{C_e}{C_m} } }\\)——电力拖动系统机电时间常数(s) \\({I_{dL} } = \\frac{T_L}{C_m}\\)——负载电流(A) 在零初始条件下，取拉氏变换，得电压与电流间的传递函数为 \\[\\frac{ { {I_d}(s)} }{ { {U_{d0} }(s) - E(s)} } = \\frac{ {\\frac{1}{R} } }{ { {T_1}s + 1} }\\] 电流与电动势间的传递函数为 \\[\\frac{ {E(s)} }{ { {I_d}(s) - {I_{dL} }(s)} } = \\frac{R}{ { {T_m}s} }\\] 通过上述两个式子与公式\\(E = {C_e}n\\)，可得额定励磁下直流电动机的动态结构框图如下图所示： 图5 额定励磁下直流电动机的动态结构框图 由上图可知，直流电动机有两个输入量，一个是施加在电枢上的理想空载电压\\(U_{d0}\\)（控制输入量），另一个是负载电流\\(I_{dL}\\)（扰动输入量）。如果不需要在结构图中显现出电流，可将扰动量的综合点移前，再进行等效变换，如下图所示： 图6 直流电动机动态结构框图的变换 由上图可知，额定励磁直流电动机可以等效为一个二阶线性环节。\\(T_m\\)和\\(T_l\\)时间常数分别表示机电惯性和电磁惯性。完整的转速反馈控制直流调速系统如下图所示： 图7 转速反馈控制直流调速系统的动态结构框图 比例控制闭环直流调速系统的动态稳定性 转速反馈控制的直流调速系统的开环传递函数： \\[W(s) = \\frac{ { {U_n}(s)} }{ {\\Delta {U_n}(s)} } = \\frac{K}{ {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1)} }\\] 其中\\(K = {K_p}{K_s}\\alpha /{C_e}\\) 转速反馈控制的直流调速系统的闭环传递函数： \\[{W_{cl} }(s) = \\frac{ {n(s)} }{ {U_n^*(s)} } = \\frac{ {\\frac{ { {K_p}{K_s}/{C_e} } } { {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1)} } } }{ {1 + \\frac{ { {K_p}{K_s}\\alpha /{C_e} } }{ {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1)} } } } = \\frac{ { {K_p}{K_s}/{C_e} } }{ {({T_s}s + 1)({T_m}{T_l}{s^2} + {T_m}s + 1) + K} }\\] \\[= \\frac{ {\\frac{ { {K_p}{K_s} } }{ { {C_e}(1 + K)} } } }{ {\\frac{ { {T_m}{T_l}{T_s} } }{ {1 + K} }{s^3} + \\frac{ { {T_m}({T_l} + {T_s})} }{ {1 + K} }{s^2} + \\frac{ { {T_m} + {T_s} } }{ {1 + K} }s + 1} }\\] 由上式可知，比例控制闭环系统的特征方程为\\(\\frac{ { {T_m}{T_l}{T_s} } }{ {1 + K} }{s^3} + \\frac{ { {T_m}({T_l} + {T_s})} }{ {1 + K} }{s^2} + \\frac{ { {T_m} + {T_s} } }{ {1 + K} }s + 1 = 0\\) 对于三阶系统\\({a_0}{s^3} + {a_1}{s^2} + {a_2}s + {a_3} = 0\\)，其劳斯判据判断系统稳定的充分必要条件是\\(a_0&gt;0\\),\\(a_1&gt;0\\),\\(a_2&gt;0\\),\\(a_3&gt;0\\),\\({a_1}{a_2}-{a_0}{a_3}&gt;0\\) 这里特征方程各项系数均大于0符合要求，故其系统稳定条件为\\(\\frac{ { {T_m}({T_l} + {T_s})} }{ {1 + K} } \\cdot \\frac{ { {T_m} + {T_s} } }{ {1 + K} } - \\frac{ { {T_m}{T_l}{T_s} } }{ {1 + K} } &gt; 0\\) 整理后得\\(K &lt; \\frac{T_m}{T_s} + \\frac{T_m}{T_l} + \\frac{T_s}{T_l}\\) 取系统的临界放大系数\\(K_{cr} = \\frac{T_m}{T_s} + \\frac{T_m}{T_l} + \\frac{T_s}{T_l}\\)，则当\\(K \\geqslant K_{cr}\\)时，系统将不稳定。 通常情况下，K值越大意味着系统的稳态误差越小，稳态性能越好，而上述计算却说明K值增大会降低系统的动态性能，K值过大甚至会使系统不稳定。由此可见，比例控制闭环系统的动态稳定性和稳态性能的要求是矛盾的。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"乐理笔记07-和弦","slug":"音乐/乐理/乐理笔记07-和弦","date":"2023-07-23T23:02:57.000Z","updated":"2023-07-30T09:37:21.693Z","comments":true,"path":"音乐/乐理/乐理笔记07-和弦/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B007-%E5%92%8C%E5%BC%A6/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 143-161节 和弦 和弦 三个音或者三个以上的音构成的集体称为和弦。在特定风格或条件下，有些和弦会规律性地省略自己内部的一些音，导致这些和弦看上去只有1或2个音。 和声 和声指不同的和弦组合、连接、运用方式、细节处理等。强调不同和弦连接而形成的整体。 三和弦 三个音，按照三度叠置的关系形成的和弦称为三和弦。三个音由低到高分别为根音、三音与五音。根音到三音，三音到五音的音程皆为三度。 大三和弦与小三和弦 根音到三音是大三度，三音到五音是小三度，称为大三和弦（大+小）。听起来通常感觉明亮、温馨。 根音到三音是小三度，三音到五音是大三度，称为小三和弦（小+大）。听起来通常感觉暗淡、忧伤。 大三和弦与小三和弦的根音到五音是纯五度，是协和音程，听起来顺耳。 增三和弦与减三和弦 根音到三音是大三度，三音到五音是大三度，称为增三和弦（大+大）。 根音到三音是小三度，三音到五音是小三度，称为减三和弦（小+小）。 增三和弦与减三和弦的根音到五音是增五度/减五度，是不协和音程，听起来紧张、压抑。 增三和弦是需要扩张的紧张、压抑，后面通常接大六度；减三和弦是需要收缩的紧张、压抑，后面通常接纯四度或大三度； 三和弦的转位 三和弦的第一转位，指将原位的根音提高八度，三音与五音保持不变。所得和弦低音（三音）与根音的距离是六度，故又称为六和弦。 三和弦的第二转位，指将原位的根音与三音提高八度，五音保持不变。所得和弦低音（五音）与根音的距离是四度，低音（五音）与三音的距离是六度，故又称为四六和弦。 注意转位后音高最低的音（低音）不是根音。 如图为大三和弦的转位，小三和弦、增三和弦、减三和弦同理，其转位后的名称前缀与原位三和弦的前缀相同。 七和弦 四个音，按照三度叠置的关系形成的和弦称为七和弦。四个音由低到高分别为根音、三音、五音、七音。根音到三音，三音到五音，五音到七音的音程皆为三度。 七和弦的命名规则 七和弦名字前有两个前缀，第一个前缀与其根音、三音、五音形成的三和弦前缀相同，第二个前缀与其根音与七音形成的音程前缀相同。 如C4、E4、G4、B4构成的七和弦，其根三五音为CEG，是大三和弦；根音与七音是大七度。分别取两者的前缀，得到七和弦的名称为“大大七和弦”（有两个“大”的情况通常会省略一个，称其为“大七和弦”）。 如B4、D5、F5、A5构成的七和弦，其根三五音是减三和弦；根音与七音是小七度。分别取两者的前缀，得到七和弦的名称为“减小七和弦”。 常用七和弦及其简称 常用的七和弦一共有7种，如下表所示： 表1 常用七和弦及其简称 全称 简称/别称 举例 大大七和弦 大七和弦 C4、E4、G4、B4 大小七和弦 属七和弦 G4、B4、D5、F5 小大七和弦 D4、F4、A4、C5♯ 小小七和弦 小七和弦 E4、G4、B4、D5 减小七和弦 半减七和弦小七降五和弦 B3、D4、F4、A4 减减七和弦 减七和弦 B3、D4、F4、A4♭ 增大七和弦 半增七和弦大七升五和弦 F4、A4、C5♯、E5 这里减小七和弦又称“半减七和弦”，指的是相较于“减减七和弦”，减小七和弦只有一个减。半增七和弦同理。 这里减小七和弦又称“小七降五和弦”，是指将小七和弦的五音降低一个半音，就可以得到减小七和弦。增大七和弦同理，可以将大七和弦的五音升一个半音来得到，故可称为“大七升五和弦”。 七和弦的转位 七和弦的转位根据低音与七音、根音的度数来命名。 七和弦的第一转位，指将原位的根音提高八度，三音、五音、七音保持不变。所得和弦低音（三音）与七音的距离是五度，低音与根音的距离是六度，故又称为五六和弦。 七和弦的第二转位，指将原位的根音与三音提高八度，五音、七音保持不变。所得和弦低音（五音）与七音的距离是三度，低音与根音的距离是四度，故又称为三四和弦。 七和弦的第三转位，指将原位的根音、三音、五音提高八度，七音保持不变。所得和弦低音（七音）与根音的距离是二度，故又称为二和弦。 如图为大七和弦的转位，与三和弦类似，七和弦的转位后的名称前缀与原位七和弦的前缀相同。 广义的和弦原位与转位、转位的意义 判断和弦的两条标准：①和弦的构成音；②低音。 如大三和弦的构成音为CEG，低音为C。只要满足这两个条件构成的和弦就是大三和弦。与构成音的数量、所处的组无关。C3E4G5、C4E4G4E5G5等都是大三和弦。 只要和弦的根音不是低音，转位构成音仍是原位的构成音，则都是（广义的）该和弦的转位。不局限于提高或降低八度。如大三和弦原位C4E4G4，可以转位为E4G4C6(C/E)、G3C4E5(C/G)等。 转位的意义：①使声部进行流畅；②构建低音线条。 和弦的织体 织体(texture)是一个抽象的概念，用于描述乐曲的状态、形态、造型、形式、神态、质感等，可以用来形容声部关系、节奏、和声、附调、配器等的相互关系。 和弦的织体表示和弦在纵横两个方向上的具体形态。常见的和弦织体有柱式织体、分解织体、混合织体等。 柱式织体： 分解织体： 混合织体： 和弦固定标记法 三和弦的标记 表2 常用三和弦及其标记 全称 标记 大三和弦 XMajor(Xmajor)XMaj(Xmaj)XMX 小三和弦 XminorXminXmX- 增三和弦 XaugmentedXaugX+ 减三和弦 XdiminishedXdimX° 七和弦的标记 表3 常用七和弦及其标记 全称 简称/别称 标记 大大七和弦 大七和弦 XMajor7(Xmajor7)XMaj7(Xmaj7)XM7XΔ7 大小七和弦 属七和弦 Xdominant7Xdom7X7 小大七和弦 XminorMajor7XminMaj7XmMaj7XmM7X-M7X-Δ7 小小七和弦 小七和弦 Xminor7Xmin7Xm7X-7 减小七和弦 半减七和弦小七降五和弦 Xdim(m7)X°(m7)Xhalf-dim7XØ7Xm7(♭5)Xm7-5 减减七和弦 减七和弦 Xdiminished7Xdim7X°7 增大七和弦 半增七和弦大七升五和弦 Xaug(maj7)X+(maj7)X+Δ7XM7+5XM7♯5XΔ7+5XΔ7♯5 注意这里“减”前缀的标记不是“-”，而是“°”，“小”前缀的标记是“-”，这里容易产生混淆。 斜杠和弦 斜杠和弦（又称slash和弦、分数和弦、分割和弦）可以用于表示含有转位的和弦。其表示方法为“X/Y”，其中X为原位和弦标记，Y为低音。 如“C/G”表示的就是低音为G的C大三和弦（四六和弦），是三和弦的第二转位，根音与三音皆提高八度。 再如“F♯Δ7/C♯”表示低音为C♯的F♯大七和弦（大三四和弦），是大七和弦的第二转位，根音与三音皆提高八度。 再如“Bm7-5/A”表示低音为A的B减小七和弦（减小二和弦），是减小七和弦的第三转位，根音、三音、五音皆提高八度。 斜杠和弦亦可用于再原和弦基础上加一个不在此和弦内的音。 如“Fm/G”中Fm为F小三和弦（构成音F、A♭、C），G表示以G为低音。该斜杠和弦表示同时奏G、F、A♭、C四个音（如G3、F4、A4♭、C5）。 九音、十一音、十三音 九和弦有五个音，在七和弦的基础上增加一个九音；十一和弦有六个音，在九和弦的基础上增加一个十一音；十三和弦有七个音，在九和弦的基础上增加一个十三音。九和弦、十一和弦、十三和弦举例如下图所示： 九和弦、十一和弦、十三和弦的标记遵循以下规则： ①若标记中的9（或11、13）没有升降号，则该和弦根音与九音（或十一音、十三音）的音程为大九度（或纯十一度、大十三度）。 如Fm7(11)表示的小七和弦由F、A♭、C、E♭构成，要求根音与十一音的音程为纯十一度，则十一音应为B♭。 ②在实际乐谱中，并不要求根音与九音（或十一音、十三音）的音程必须为大九度（或纯十一度、大十三度）。只要求和弦构成音正确。 如D7(11)表示大小七和弦加一个与根音距离为纯十一度的十一音，其构成音为“D、F♯、A、C、G”。在实际乐谱中，这五个音可以是D4、F4♯、A4、C5、G5，也可以是D4、G4、F4♯、A4、C5（将G5移动到G4），虽然此时根音与十一音的音程是四度，但是其构成音仍是D7(11)的构成音，因此仍可用D7(11)表示。依据为“判断和弦的两条标准”。 ③标记直接后接9、11、13时，需要包含其下方所有三度叠加音。 如CM11的构成音为“C、E、G、B、D、F”，这里既有十一音，也有九音和七音。 如果想表示七和弦加十一音，则应记为CM7(11)，11要外加一个括号，其构成音为“C、E、G、B、F”。 如果想表示七和弦加九音与十三音，则应记为CM7(9,13)，9与13外加一个括号，其构成音为“C、E、G、B、D、A”。 如果想表示三和弦加一个十一音，则应记为Cadd11，其构成音为“C、E、G、F”。 ④和弦构成音过多时，一般优先省略五音。（去掉五音对听觉的影响最小） ⑤标记中的9、11、13可以加升降号。如Fm7(♯11)表示小七和弦加音程为增十一度的十一音，即构成音为“F、A♭、C、E♭、B”。 “♭5 ♯5 ♭9 9 ♯9 11 ♯11 ♭13 13”统称为延伸音(Tension音)，这些音的加入，会增加和弦的不稳定性，增加和弦的张力。 注意这里没有♭11与♯13，因为大小七和弦（属七和弦）的♭11音等同于其3音，♯13音等同于其7音，这使得♭11与♯13变得没有意义。 ⑥大小七和弦可以使用⑤中的所有Tension音，其他结构的七和弦只能使用其中的一部分。 加音和弦 加音和弦格式为XaddY，表示在原X和弦基础上加上一个Y音。在这里Y可以为9、11、13，此时加音与根音距离为大九度、纯十一度、大十三度。 如Cadd9表示在C大三和弦基础上加一个大九度音，其构成音有“C、E、G、D”。 在实际乐谱中，并不要求根音与九音的音程必为九度。如上图所示，Cadd9可以为“C4、D4、E4、G4”，此时根音与九音的音程是二度。因此Xadd9也可记作Xadd2（不常用记法）。 同理Xadd11亦可记作Xadd4。由于其所加的纯十一度音容易产生不协和的冲突而导致三音模糊，因此该加音和弦很少使用。 Xadd13亦可记作Xadd6（常用记法），指在X和弦基础上加大十三度音（大六度音）。Xadd6又可进一步简记为X6，称为六和弦，。而三和弦的第一转位也称为六和弦，因此六和弦又两种意义，需要结合具体的构成音加以区分。 Xadd6add9指在X和弦基础上加大六度与大九度音，可进一步简记为X69，称为六九和弦。 同样的构成音及低音可能有不同的和弦名字，如Fadd6的构成音为F、A、C、D，低音为F，而这也是Dm7/F的构成音及低音。但两者的侧重点不一样，在不同的音乐语境下有不同的含义。Fadd6侧重于F大三和弦，在此基础上加入大六度音；Dm7/F侧重于D小七和弦，在此基础上进行第一转位得到低音为F的五六和弦。 挂留和弦 挂留和弦(Suspended和弦、sus和弦)来源于“延留音”或“延留音和弦”。即前一个和弦的某个音X的时值被延长，继续保持在下一个和弦中，导致下一个和弦的音Y被挤掉，推迟了音Y开始发音的时间（也有可能音Y不再发音）。 挂留和弦的举例如上图所示，这里C大三和弦中原本的E4音（三音）被前面的G属七和弦的F4（纯四度音）代替，而E4则推迟半拍才发出。纯四度音挤压掉三音，因此该和弦亦可称为Csus4。 “挂留和弦”最常见的有两种形式，纯四度音挤压掉三音称为sus4，大二度音挤压掉三音称为sus2。（sus和弦中没有三音） 如Csus4的构成音是CFG，就是将三音E替换为纯四度音F；Csus2的构成音是CDG，就是将三音E替换为大二度音D。 省略音和弦 省略音和弦(omit和弦、no和弦)指省略某个和弦的音。如Fm7omit5（或Fm7no5）指省略Fm7和弦（构成音F、A♭、C、E♭）的五音C，得到和弦构成音F、A♭、E♭。 Comit3（或Cno3）指省略C大三和弦的三音E，得到和弦构成音C、G。省略了三音的和弦，模糊了和弦的明暗色彩感。由于该和弦只由根音与五音构成，因此又可简记为C5，称为五和弦。 五和弦也可称作power chord（强力和弦、重力和弦），常出现在朋克、摇滚、金属等风格中。 和弦功能与级数标记法 对音符与和弦的功能与级数标记法如上图所示，其中音符的级数标记法指的是将大调中的七个音依次标罗马数字I到VII。并将七个音依次命名为主音、上主音、中音、下属音、属音、下中音、导音。 将这七个音做为根音，向上叠加两个三度得如上图所示的三和弦（需要使用大调内的音），可以发现这里的根音I、IV、V形成的是大三和弦，分别记为I（主和弦）、IV（下属和弦）、V（属和弦）；根音II、III、VI形成的是小三和弦，分别记为ii（二级和弦）、iii（三级和弦）、vi（六级和弦）；根音VII形成的是减三和弦，记为vii°（导和弦）。上述规律适用于所有的大调。 和弦同样可以使用阿拉伯数字标记，如上图所示。 功能标记法源自西方功能和声体系理论，使用三种功能记号对和弦进行标记，分别为T（主功能、Tonica）、D（属功能、Dominant）、S（下属功能、Subdominant）。在和声中主功能代表“稳定”，属功能与下属功能代表“紧张”。音乐里和声的底层逻辑，就是从“稳定”到“紧张”再到“稳定”再到“紧张”......通过循环保持音乐的推进。显然主和弦、下属和弦、属和弦分别可以记为T、S、D。其余和弦的标记取决于其体现的功能，如二级和弦具有下属功能，可标记为Sii；三级和弦既有一部分属功能，又有一部分主功能，因此标记为DTiii。全部标记可见上图。 属七和弦原意为“调式中的五级属功能七和弦”，如C大调中的G7便是这种含义下的属七和弦。而这个和弦恰恰是大小七和弦，因此最终泛指“大小七和弦”。 七和弦的级数标记法为级数右下角标7，如C大调的G属七和弦(G7)可标记为\\(V_7\\)。 转位和弦通过级数右侧数字体现和弦结构。如C大调C大三和弦第一转位(C/E)可标记为\\(I_6\\)，三和弦第一转位又称为六和弦，这里右下角的6体现该和弦根音与三音的距离是六度。再如C大调E小三和弦第二转位(Em/B)可标记为\\({iii}_4^6\\)，三和弦第二转位又称为四六和弦，这里右下角的4与右上角6体现该和弦低音与根音的距离是四度，低音与三音的距离是六度。 和声模板 和声模板指一些常见的和弦走向套路，如4536251、15634125、6415、1645等。 使用和声模板需要注意以下几点： 几乎所有模板都通过首调方式提示某个音的和弦，可以先使用C调进行创作，然后根据实际需要移调。如1645对应C大调C-Am-F-G。 所有模板均采用44拍，且每个和弦占据一个小节，收尾的和弦可以长一点，尽量把整体补成4个或8个小节。如4536251对应C大调F-G-Em-Am-Dm-G-C，前面六个和弦各占一个小节，最后一个C和弦占两个小节。 不局限于原位三和弦，可以尝试七、九、转位、add、sus等和弦。 织体上可以多做变化。 有些模板中的数字可能强调的是低音进行，而不是某级和弦。如17654325这里的7通常指的是“低音为7的属和弦”而非七级和弦。 多看谱，多分析，扩充自己的模板库。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记06-音程","slug":"音乐/乐理/乐理笔记06-音程","date":"2023-07-20T12:40:25.000Z","updated":"2023-07-30T07:09:19.608Z","comments":true,"path":"音乐/乐理/乐理笔记06-音程/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B006-%E9%9F%B3%E7%A8%8B/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 122-142节 音程 音程的概念 音程，即音与音的音高距离，如半音、全音（见“乐理笔记01-基础知识”）都是音程。 度数 两个音，忽略音名升降号（忽略钢琴黑键），只看音名的字母（只看钢琴白键），从低音到高音数有几个字母，就称几度。 如E4到A4经过了E4,F4,G4,A4四个字母，就称E4到A4有四度； 再如E4♭到A4♯，去掉升降号为E4与A4，仍然经过E4,F4,G4,A4四个字母，故E4♭到A4♯也是四度。 （这里F4到G4，G4到A4间有黑键F4♯与G4♯，但是要忽略黑键，因此F4♯与G4♯不计入度数） 根音与冠音 两个音中的低音是根音，高音是冠音。如E4与A4中的E4是根音，A4是冠音。 音数 表示两个音之间有多少个全音与半音。一个全音的音数为1，一个半音的音数为0.5，两个音的音数等于其间隔的全音数x1+半音数x0.5。 换一种说法，音数等于两个音之间的键数距离x0.5，这里的键包括白键与黑键。 如E4到A4间有一个半音(E4-&gt;F4)与两个全音(F4-&gt;G4,G4-&gt;A4)，故E4到A4的音数为2.5。 也可以数两个键的距离，E4-&gt;F4-&gt;F4♯-&gt;G4-&gt;G4♯-&gt;A4，显然E4到A4间是五个半音的距离，音数为2.5。 小二度、大二度、小三度、大三度、小六度、大六度、小七度、大七度 音数为0.5的二度称为小二度。 如C4到D4♭，两个音是半音（音数为0.5），度数是二度，故为小二度。 小二度的音数必为0.5，但音数为0.5不一定为小二度。如C4到C4♯（不是二度、是增一度）。 音数为1的二度称为大二度。 如C4到D4，两个音是全音（音数为1），度数是二度，故为大二度。 大二度的音数必为1，但音数为1不一定为大二度。如B4♯到D4（不是二度、是减三度）。 小三度、大三度、小六度、大六度、小七度、大七度见表1。 纯一度、纯八度、纯四度、纯五度 音数为0的一度称为纯一度（即两个相同的音）。如C4到C4。 一个音与其相邻组别的相同音名的距离是纯八度。如C4到C5。 纯四度是音数为2.5的四度，纯五度是音数为3.5的五度。 纯四度、纯五度见表1。 表1 音程总结表（一） 名称 定义 举例 纯一度 音数为0的一度 C4到C4 小二度 音数为0.5的二度 C4到D4♭ 大二度 音数为1的二度 C4到D4 小三度 音数为1.5的三度 C4到E4♭ 大三度 音数为2的三度 C4到E4 纯四度 音数为2.5的四度 C4到F4 纯五度 音数为3.5的五度 C4到G4 小六度 音数为4的六度 C4到A4♭ 大六度 音数为4.5的六度 C4到A4 小七度 音数为5的七度 C4到B4♭ 大七度 音数为5.5的七度 C4到B4 纯八度 音数为6的八度 C4到C5 增音程、减音程、倍增音程、倍减音程 二、三、六、七 由表1可知音数为1.5的三度为小三度，在1.5的基础上减0.5，得到音数为1的三度，被称为减三度，如C4到E4♭♭。 在1的基础上再减0.5，得到音数为0.5的三度，被称为倍减三度，如C4♯到E4♭♭。 同理，音数为2的三度为大三度，在2的基础上加0.5，得到音数为2.5的三度，被称为增三度，如C4到E4♯。 在2.5的基础上再加0.5，得到音数为3的三度，被称为倍增三度，如C4到E𝄪。 一、四、五、八 由表1可知音数为2.5的四度为纯四度，在2.5的基础上减0.5，得到音数为2的四度，被称为减四度，如C4到F4♭。 在2的基础上再减0.5，得到音数为1.5的四度，被称为倍减四度，如C4♯到F4♭♭。 同理，在2.5基础上加0.5，得到音数为3的四度，被称为增四度，如C4到F4♯。 在3的基础上再加0.5，得到音数为3.5的四度，被称为倍增四度，如C4到F4𝄪。 表2 音程总结表（二） 二三六七度 倍减X度 减X度 小X度 大X度 增X度 倍增X度 音数 Y-1.5 Y-1 Y-0.5 Y Y+0.5 Y+1 一四五八度 倍减X度 减X度 纯X度 增X度 倍增X度 音数 Y-1 Y-0.5 Y Y+0.5 Y+1 表3 音程总结表（三） 等音程 音数相等的音程被称作等音程。如减三度、大二度、倍增一度互为等音程，它们的音数都是1。 全音与半音 所有音数为0.5的音程（增一度、小二度、倍减三度）都是半音，所有音数为1的音程（减三度、大二度、倍增一度）都是全音。 三全音 所有音数为3的音程（倍增三度、增四度、减五度、倍减六度）都是三全音，倍增与倍减的情况较为罕见，因此三全音通常指的是增四度或减五度。 三全音的听觉感受极不协和。 识别音程的方法 不含升降号的情况 使用钢琴键可以更好的判断音程。钢琴键如下图所示，首先把钢琴中所有的EF、BC圈出，因为E到F、B到C是半音，它们中间没有黑键。 一度音程（或八度音程）不用判断，肯定是纯一度（或纯八度），如C4到C4（或C4到C5）。 对于二度音程，如果是E-F、B-C，那就是小二度。其他情况（C-D、D-E、F-G、G-A、A-B）就是大二度。 对于三度音程，三度中包含EF或BC时音数会小一些，是小三度（D-F、E-G、A-C、B-D）。不包含EF或BC时音数会大一些，是大三度（C-E、F-A、G-B）。 对于四度音程，EF或BC中包含一个时是纯四度（C-F、D-G、E-A、G-C、A-D、B-E）。EF或BC都不包含时是增四度（F-B）。 对于五度音程，EF或BC中包含一个时是纯五度（C-G、D-A、E-B、F-C、G-D、A-E）。EF或BC都包含时是减五度（B-F）。 对于六度音程或七度音程，EF或BC中包含一个时是大六度/七度，EF或BC都包含时是小六度/七度。 不含升降号的情况下，识别音程的方法可总结为表4，如下所示： 表4 识别音程的方法（不含升降号） 名称 不包含 包含一个 包含两个 一度 纯一度 二度 大二度 小二度 三度 大三度 小三度 四度 增四度 纯四度 五度 纯五度 减五度 六度 大六度 小六度 七度 大七度 小七度 八度 纯八度 含升降号的情况 先去掉升降号，判断出音程后，根据升降号确定音数是变大了还是变小了，进而得到最后的音程。 如要判断E4♭♭到C5♯的音程，首先知道E4到C5是六度，其间包含两个EF或BC，因此是小六度。 E4到C5♯相较于E4到C5音数要大0.5，因此E4到C5♯是大六度。 E4♭♭到C5♯相较于E4到C5♯音数要大1，因此E4♭♭到C5♯是倍增六度。 超过八度的音程 先确定两个音的度数，再将两个音放在八度以内，判断八度以内的音程，来确定音程度数前面的前缀。 如C4到E5是十度，将其放到同一个八度，即C4到E4，C-E是三度，且不包含EF或BC，是大三度。保留大三度的前缀“大”，因此C4到E5是大十度。 再如D3到G6♯是二十五度，将其放到同一个八度，即D3到G3♯，D-G是四度，且包含一个EF，因此是纯四度，D3到G3♯相较于D3到G3多0.5个音数，因此是增四度，保留增四度的前缀“增”，因此D3到G6♯是增二十五度。 单音程与复音程 有两种定义。定义一认为度数小于等于8为单音程，度数大于八为复音程；定义二认为实际距离小于等于纯八度的距离（音数小于等于6）为单音程，反之为复音程。 倍增七度、增八度、倍增八度在定义一中为单音程，定义二中为复音程； 减九度、倍减九度在定义一中为复音程，定义二中为单音程。 音程名字的简写 主要的音程前缀有——大(Major)、小(minor,m为小写)、增(Augmented)、减(Diminished)、纯(Perfect或Pure)。（倍增与倍减不常见） 简写时就采用前缀首字母+数字的形式，如大三度记为M3，小七度记为m7，增五度记为A5。 亦可用Major与minor形容调式，如C大调记为C Major，D小调记为D minor。 旋律音程与和声音程 两个音先后弹奏时，称为旋律音程。 两个音同时弹奏时，称为和声音程。 自然音程与变化音程 在“自然大小调音阶”里直接存在的音程称为自然音程。可以由两个白键形成的音程称为自然音程。所有在表4中出现的音程都是自然音程。 在“自然大小调音阶”里不存在的音程称为变化音程，要通过临时升降音产生变化而形成。自然音程之外的音程称为变化音程。 如C4♯到F4♯是纯四度，纯四度在表4中能找到，因此C4♯与F4♯形成的是自然音程。 再如C4到A4♯是增六度，增六度在表4中找不到，说明增六度不是能由两个白键形成的音程，因此C4到A4♯形成的是变化音程。 超过八度的音程，将两个音放在八度以内，判断八度以内的音程能否在表4中找到，从而判断其是自然音程还是变化音程。 协和音程与不协和音程 协和音程分为三种： ①极完全协和音程——纯一度、纯八度...纯(1+7n)度（n为整数且n≥0） ②完全协和音程——纯四度、纯五度...纯(4或5+7n)度（n为整数且n≥0） ③不完全协和音程——大三度、小三度、大六度、小六度...大或小(3或6+7n)度（n为整数且n≥0） 协和音程之外的音程称为不协和音程： 大二度、小二度、大七度、小七度...大或小(2或7+7n)度（n为整数且n≥0） 所有增音程、减音程、倍增音程、倍减音程。 C4到A4♭是小六度，是不完全协和音程，而C4到G4♯是增五度，是不协和音程。虽然A4♭与G4♯是等音，小六度与增五度是等音程，C4到A4♭与C4到G4♯在弹奏时的音高完全相同，但它们所处的音乐语境不同，即在一段连续的音乐中，通过与其他声音，其他和弦，其他音程的对比，所体现出的协和程度是不一样的。 音程转位 转位指改变两个音的高低顺序。如C4到E4，可以转位得到E4到C5、E3到C4、E4到C6、E5到C6等等（只要是E-C就行）。而通常情况下转位得到的是E4到C5、E3到C4（原位中的一个音不动，转位后在八度以内）。 可以根据原位的音程名字，推出转位后的音程名字。音程名字前缀对应关系为：大↔︎小、纯↔︎纯、增↔︎减、倍增↔︎倍减。原位的音数大于0且小于6时，原位与转位的音程度数之和为9。如C4-D4是大二度，其转位D4-C5是小七度。 原位的音数等于0或大于6时，不满足“原位与转位的音程度数之和为9”这一规律。如纯一度的转位仍为纯一度，纯八度的转位仍为纯八度。增七度的转位为减九度（如D4♭到C5♯为增七度，其转位C3♯到D4♭为减九度。其转位不是C4♯到D4♭，是因为C4♯与D4♭等音，而转位要求两个音的高低顺序彻底改变）。 原位音程与转位音程的各类性质（自然音程还是变化音程，协和音程还是不协和音程）不会改变。 如C4到F4𝄪是倍增四度，其转位F4𝄪到C5是倍减五度。倍增四度与倍减五度都是变化音程，不协和音程。 度数大于八的音程，先缩小到八度以内，再转位。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记05-五线谱","slug":"音乐/乐理/乐理笔记05-五线谱","date":"2023-07-17T08:18:20.000Z","updated":"2023-07-30T07:09:27.033Z","comments":true,"path":"音乐/乐理/乐理笔记05-五线谱/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B005-%E4%BA%94%E7%BA%BF%E8%B0%B1/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 101-121节 五线谱 谱号 五线谱有五条线，由下至上分别可称为一线、二线、三线、四线、五线。五条线形成四个空间由下至上可称为一间、二间、三间、四间。此外五线谱可以加线，向上加线可称为上加一线、上加二线、上加三线等，形成上加一间、上加二间、上加三间等；向下加线可称为下加一线、下加二线、下加三线等，形成下加一间、下加二间、下加三间等。 高音谱号 高音谱号符号为𝄞，由字母G的花体演化而来。该谱号记在五线谱的第二线上（手写时从第二线开始画），表示五线谱的第二线对应音名\\(g^1\\)（或G4），对应其他音名如下图所示。 上图中音名全部对应钢琴中的白键，可以在音符前加升降号来对应钢琴中的黑键。 低音谱号 低音谱号符号为𝄢，由字母F的花体演化而来。该谱号记在五线谱的第四线上（手写时从第四线开始画），表示五线谱的第四线对应音名\\(f\\)（或F3），对应其他音名如下图所示。 中音谱号与次中音谱号 中音谱号与次中音谱号的符号为𝄡，由字母C的花体演化而来。中音谱号记在五线谱的第三线上，表示五线谱的第三线对应音名\\(c^1\\)（或C4）;次中音谱号记在五线谱的第四线上，表示五线谱的第四线对应音名\\(c^1\\)（或C4）。 八度记号与十五度记号 八度记号用于表示某个区间的音符需要提高一个八度（𝄶，记在上方）或降低一个八度（𝄷，记在下方）演奏。 十五度记号用于表示某个区间的音符需要提高两个八度（𝄸，记在上方）或降低两个八度（𝄹，记在下方）演奏。 当然也有二十二度记号，即提高或降低三个八度。 拍号 和简谱类似，不再赘述。 补充：44拍亦可记为“𝄴”，22拍亦可记为“𝄵”。 音符 表1 音符及其时长(以44拍为例) 名称 简谱记法 五线谱记法 时长 倍全音符 \\(1-------\\) 𝅜 八拍（两节） 全音符 \\(1---\\) 𝅝 四拍（一节） 二分音符 \\(1-\\) 𝅗𝅥 二拍 四分音符 \\(1\\) 𝅘𝅥 一拍 八分音符 𝅘𝅥𝅮 半拍 十六分音符 𝅘𝅥𝅯 四分之一拍 三十二分音符 𝅘𝅥𝅰 八分之一拍 六十四分音符 𝅘𝅥𝅱 十六分之一拍 音符中的实心或空心圈称为“符头”，符头的位置决定了音高。 竖线可称为“符干”，除全音符、倍全音符外的音符都有符干。 八分音符及时值更短的音符有“符尾”，音符符尾的条数与其简谱音符下横线数相等。 五线谱的附点记在音符的符头右侧，表示的意义与简谱相同，即延长原音符时长一半。 两个附点表示在第一个附点延长一半的基础上，第二个附点再延长原音符时长一半的一半（1.75倍）。三个附点的时长为原音符的1.875倍，以此类推。 表2 休止符及其时长 名称 简谱记法 五线谱记法 全休止符 \\(0000\\) 二分休止符 \\(00\\) 四分休止符 \\(0\\) 𝄽 八分休止符 𝄾 十六分休止符 𝄿 三十二分休止符 𝅀 全休止符贴第四线，二分休止符贴第三线。 八分休止符及时值更短的休止符符尾的条数与其简谱下横线数相等。 全休止符即可表示休止四拍，也可表示休止一整个小节（此时整个小节只记一个全休止符）。 休止符加附点同样是延长时值，规则与音符附点相同。 连线、延音线规则与简谱相同。 速度 抽象的速度记法与简谱相同。 具体的速度，可以记为“𝅘𝅥=120”的形式，意为每分钟奏120个四分音符时对应的速度，若乐谱以四分音符为一拍（拍号分母为4），即可进一步解释为“每分钟120拍”。 同理，“𝅗𝅥=60”意为每分钟奏60个二分音符时对应的速度，若乐谱以二分音符为一拍（拍号分母为2），即可进一步解释为“每分钟60拍”。 对于拍号分子为3或6的乐谱，如83拍、86拍。会以3拍为一组计算速度，如对于83拍乐谱，“𝅘𝅥.=60”意为每分钟奏60个附点四分音符（三拍时长）时对应的速度，相当于每分钟180拍，即“𝅘𝅥𝅮=180”。 节奏型 常见的节奏型与简谱一致。 表3 常见节奏型 名称 简谱记法/打拍子方法 五线谱记法 二八 四十六 前八后十六 前十六后八 前附点 后附点 大附点 小切分 大切分 三连音 调号 五线谱的调号用升降号在谱号后表示，使用哪些升降号取决于调式音阶中哪些音带升降号。 如D大调的调号可表示为，可以观察到其高音谱号第三间(#C5)、第五线(#F5)与低音谱号第二间(#C4)、第四线(#F4)上有升号，有升号的位置对应着音名C与F。而D大调音阶为D、E、#F、G、A、B、#C、D，其中音名C与F上有升号。 五线谱的调号可以理解为适用于整个乐谱的“变音记号”，用于提示相应的音名需要升音或降音演奏。如D大调的调号表示乐谱中（更换调号前）所有的C或F都要演奏为#C或#F（所有组的C与F，不局限于C4、F4、C5、F5），这样在乐谱中的C与F音符不用再加“#”号来提示。 五线谱一共有十五种调号，如上图所示。其中C大调不含任何升降号，其余调号含有1到7个升号或降号。 观察升号最多的大调，升C大调有7个升号，从左到右依次是“#F、#C、#G、#D、#A、#E、#B”。去掉最后一个升号“#B”，得到“#F、#C、#G、#D、#A、#E”，正好是有6个升号的升F大调，再去掉“#E”，则可得到有5个升号的B大调。以此类推，只留下第一个“#F”，这就是有1个升号的G大调。 降号最多的大调为降C大调，从左到右依次是“♭B、♭E、♭A、♭D、♭G、♭C、♭F”，也可按照这个规则推出其他带降号的大调。 口诀：FCGDAEB，BEADGCF；4152637，7362514。 五线谱的调号可以通过一定规则去识别： 带有升号的大调，最后一个升号是#X音时，此调为(#X+半音)大调。 如4个升号的大调，其最后一个升号是#D，#D提高半音是E，故该调为E大调。 带有降号的大调，倒数第二个降号是♭X音时，此调为♭X大调 如5个降号的大调，其倒数第二个降号时♭D，故该调为♭D大调。 记号 五线谱的记号大多数与简谱记号一致。 力度记号、速度记号、反复记号——与简谱完全一致； 省略记号——将单音震音记号画在音符符干位置，双音震音记号画在音符中央，其余省略记号与简谱完全一致； 演奏记号——顿音记号在五线谱中被分为“跳音”与“顿音”两种，其中跳音符号为“·”，标在音符上方或下方，表示演奏原音符二分之一时值，顿音符号为“▼”，标在音符上方或下方，表示演奏原音符四分之一时值。几个连续的跳音记号上画连线时，如“”。意为“连续的跳音”，理论上演奏时长为原音符的四分之三时长。 倚音记号在五线谱中的记法如图，原音与倚音用连线相连，倚音上画有一根短斜线。 其余演奏记号只是记法稍有区别，在意义上与简谱完全一致。 临时变音记号规则与简谱一致。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记04-乐谱记号","slug":"音乐/乐理/乐理笔记04-乐谱记号","date":"2023-07-01T23:07:19.000Z","updated":"2023-07-30T07:09:35.798Z","comments":true,"path":"音乐/乐理/乐理笔记04-乐谱记号/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B004-%E4%B9%90%E8%B0%B1%E8%AE%B0%E5%8F%B7/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 73节、85-99节 乐谱记号 变音记号 变音记号一共有五种，除乐理笔记01-基础知识中提到的升号♯、降号♭、重升号𝄪与重降号𝄫外，还有还原号♮，用于取消前面音符的升降变音记号，还原为原来的音。 变音记号遵循以下的规则： 变音记号对“同一小节”内它出现后的所有“同一个音”生效。只管同一个小节，小节外的部分不会变音。 “同一小节”的“同一个音”出现新的变音记号时，立即以新记号为准。如前面有降号的情况下，后面出现升号，升号及以后的音均要进行升音变音（这里不存在升号与降号相抵消的情况）。 涉及到延音线跨小节的情况，延音线上的音是同一个音，因此以延音线上最前面的音的升降号为准。延音线后的音与延音线上最前面的音不在同一小节，不会受该升降号影响。 为方便看谱，很多简谱会将所有需要升降的音全部标注。 变音记号使用实例（上谱为原谱，下谱表示实际要演奏的音）： 力度记号 标记 含义 \\(pp\\) 很弱(pianssimo) \\(p\\) 弱(piano) \\(mp\\) 稍弱(mezzo piano) \\(mf\\) 稍强(mezzo forte) \\(f\\) 强(forte) \\(ff\\) 很强(fortissimo) \\(fff\\) 最强(forte fortissimo) \\(cresc.\\) 渐强(crescendo) \\(dim.\\) 渐弱(diminuendo) \\(sf\\)、\\(sfz\\)、\\(fz\\) 突强(sforzando) \\(fp\\) 强后突弱(forte piano) \\(sfp\\) 突强后突弱(sforzando piano) \\(&gt;\\) 重音 \\(pp\\)、\\(p\\)、\\(mp\\)、\\(mf\\)、\\(f\\)、\\(ff\\)、\\(fff\\)的作用范围从标有该力度记号的音开始，到下一个力度记号出现为止。 速度记号 标记 含义 \\(rit.\\)、\\(rall.\\) 渐慢 \\(accel.\\) 渐快 𝄐 自由延长时值 反复记号 反复一次标记间的内容 前反复记号“𝄆”与后反复记号“𝄇”之间的内容要多重复一遍。 前反复记号在乐谱开头时可以省略。 跳房子 第一次进入一房子，第二次进入二房子，以此类推。 从头反复 \\(D.C.\\)(Da Capo)回到乐谱开头反复，反复到\\(Fine\\)处结束。 \\(D.C.\\)(Da Capo)回到乐谱开头反复到\\(Da\\ Coda\\)，然后跳转到\\(Coda\\)处继续演奏。 Coda意为“尾声”，\\(Da\\ Coda\\)与\\(Coda\\)均可用符号“𝄌”代替，如下谱所示。 从S处反复 类似于上文“从头反复”，区别为遇到\\(D.S.\\)后回到“𝄋”处。 省略记号 震音记号 单音震音：实际演奏音符取决于震音记号有几根线，实际演奏时长为原音符时长。 如“”的震音记号有两条线，代表十六分音符，原音符为四分音符，则实际演奏四个十六分音符，即“” 再如“”的震音记号有三条线，代表三十二分音符，原音符为八分音符，则实际演奏四个三十二分音符，即“” 双音震音：实际演奏音符取决于震音记号有几根线，实际演奏时长为其中一个原音符时长。（双音震音中各个原音符时长一致） 如“”的震音记号有两条线，代表十六分音符，原音符均为四分音符，则实际演奏四个十六分音符，即“” 音型反复记号 用音型反复记号代表重复的音型，音型反复记号的斜线数与原音符下横线数一致（或与其中某个原音符下横线数一致，并不绝对）。 小节反复记号 标在小节内部时表示重复该小节；标在小节线上就是重复两个小节。 小节反复记号斜线数量与该小节第一个音符下横线数一致（并不绝对）。 演奏记号 换气记号 换气符号为“∨”，标在音符上方，防止一口气唱到底被憋死。 顿音记号 顿音记号为“▼”，标在音符上方，唱的时候要有明显停顿感。理论上演奏时长为原音符的四分之一或二分之一时长（并不绝对）。 几个连续的顿音记号上画连线时，如“”。意为“连续的顿音”，唱的时候也要断开但断开的程度较低。理论上演奏时长为原音符的四分之三时长（并不绝对）。 保持音记号 顿音记号为“—”，标在音符上方，起强调作用，要求充分保证这个音的演奏时长为该音符时长。（受客观条件所限，演奏某个音时通常达不到其音符规定时长） 滑音记号 对于涉及单个音的滑音，上滑音为“↗”，下滑音为“↘”，标在音符两侧。演奏时需要适当的在原有音调基础上平滑地变调，变调的程度自己把握。 对于涉及两个音的滑音，上滑音为“𝆱”，下滑音为“𝆲”，标在两个音符中间。要平滑地从一个音符变调到另一个音符。 刮奏记号为“”，常见与西洋乐器曲谱中，效果上与滑音相同，强调为实现滑音所做的操作为刮奏。 琶音记号 曲谱中同时演奏几个音时，几个音并列标在曲谱同一个位置上，若要使这几个音的演奏有较小的时差时就称为琶音。 琶音记号为“𝆃”，此时需要按从下到上的顺序（默认顺序）迅速弹出同一个位置上的音。 若要按从上到下顺序弹奏，则使用记号“𝆄”。 装饰音记号 理论基础 级进：忽略升降号，若两个音间没有其他唱名，则前一个音到后一个音称为“级进”。如“\\(12\\)”、“\\(^♭1^♯2\\)”可称为向上级进，“\\(\\dot 1 7\\)”可称为向下级进。 跳进：忽略升降号，若两个音间有其他唱名，则前一个音到后一个音称为“跳进”。如“\\(5 \\dot 1\\)”可称为向上跳进，“\\(53\\)”可称为向下跳进。 经过音：三个音X、Y、Z，若X级进到Y，Y又级进到Z，且两次级进的方向相同。则称中间的Y为经过音。如“\\(123\\)”中\\(2\\)为经过音。 辅助音：若X级进到Y，Y又反向级进回到到X，两次级进的方向相反，则称Y为辅助音。如“\\(121\\)”中\\(2\\)为辅助音（先由\\(1\\)向上级进至\\(2\\)，又称为上助音）。同理\\(\\dot 1 7 \\dot 1\\)中\\(7\\)为辅助音（下助音）。 跳进级出的助音：X跳进到Y，Y级进到Z，称Y为跳进级出的助音。如“\\(634\\)”中\\(3\\)为跳进级出的助音。 级进跳出的助音：X级进到Y，Y跳进到Z，称Y为级进跳出的助音。如“\\(341\\)”中\\(4\\)为级进跳出的助音。 环绕助音：上助音与下助音同时出现时对其的统称。如“”中\\(6\\)为上助音，\\(4\\)为下助音，同时出现时都可称为环绕助音。 辅助音、跳进级出的助音、级进跳出的助音、环绕助音统称为助音。经过音和助音都需要处在弱拍或弱节奏位，否则不能称为经过音或助音。 波音 弹奏某音较短时间后迅速弹奏该音的临近音（忽略升降号）较短时间，然后恢复弹奏原音。形成波动感，称为波音。 名称 符号与效果 上波音 下波音 复上波音 复下波音 回音 由四个音或五个音组成的一种旋律型。四个音的顺回音由上助音开始，然后依次为主音、下助音，最后回到主音。四个音的逆回音由下助音开始，然后依次为主音、上助音，最后回到主音。在四个音的回音前加一个主音便是五个音的回音。 在回音符号上侧添加变音记号，表示回音上助音为升/降音，下侧（下助音）同理。 颤音 由主音与其上助音快速交替而成，交替的频率由演奏者自行把握，总时长足够即可。 在颤音符号上侧添加变音记号，表示颤音上助音为升/降音。 倚音 倚音在简谱中通常指短倚音，在某个音的前/后插入时长很短（可忽略不计）的音称为短倚音。按照插入在音前还是音后可分为前倚音和后倚音。如果插入的音包含多个音符，则可称为复倚音。 某个音的后倚音可以看做其后一个音的前倚音。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记03-节奏","slug":"音乐/乐理/乐理笔记03-节奏","date":"2023-06-26T08:09:17.000Z","updated":"2023-07-30T07:09:43.628Z","comments":true,"path":"音乐/乐理/乐理笔记03-节奏/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B003-%E8%8A%82%E5%A5%8F/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 60-84节 基本节奏型 对四分音符进行拆分，可以得到不同的节奏型，一共有九种。 四分节奏 最简单的拆分方式就是不拆分，称为四分节奏型。 八分节奏 把四分音符拆成两个八分音符。 【例】 十六分节奏 把四分音符拆成四个八分音符。 【例】 前八后十六节奏 把四分音符拆成一个八分音符（在前）与两个十六分音符（在后）。 前十六后八节奏 把四分音符拆成一个八分音符（在后）与两个十六分音符（在前）。 【例】 前八分附点节奏 把四分音符拆成一个附点八分音符（在前）与一个十六分音符（在后）。 后八分附点节奏 把四分音符拆成一个附点八分音符（在后）与一个十六分音符（在前）。 【例】 小切分节奏 把四分音符拆成一个八分音符（在中间）与两个十六分音符（在两侧）。 切分改变了音乐中“先强后弱”的强弱关系。中间音符为强音，两侧音符为弱音。 【例】 三连音 把四分音符平分成三分。 三连音的总拍数代表其下方常规音符拍数的两倍，简称“三代二”。因此四分音符时长的三连音用八分音符作为常规音符表示。 【例】 节奏型的变体 大附点及其变体 将两个四分音符拆成一个附点四分音符与一个八分音符，称为大附点。时长为附点节奏的两倍。 大附点节奏的一种变体形式是将八分音符替换为两个十六分音符。附点四分音符不能变动。 【例】 大切分及其变体 将两个四分音符拆成一个四分音符（在中间）与两个八分音符（在两侧），称为切分。时长为小切分节奏的两倍。 大切分节奏的变体可以将两侧的八分音符替换为十六分音符。中间的四分音符不能变动。 【例】 三连音的变体 三连音的总拍数代表其下方常规音符拍数的两倍，简称“三代二”。四分音符（一拍）时长的三连音用八分音符作为常规音符表示。同理，两拍时长的三连音用四分音符作为常规音符表示，四拍时长的三连音用二分音符作为常规音符表示，半拍时长的三连音用十六分音符作为常规音符表示。 三连音下方部分（或全部）常规音符也可以在不改变总时长的前提下用其他常规音符代替，较复杂且不常见，不再过多叙述，感兴趣者可以参考这个视频。 【零基础学音乐·自学乐理】71-打拍子（12）-三连音的变体 基本节奏型的首位休止 指基本节奏型的第一个音符用休止符替代。 【例】 反拍节奏 指强拍强位被休止的节奏形态。八分节奏的首位休止是典型的反拍节奏之一。 其律动与常规节奏相反，有较强的动感，常用于R&amp;B、雷鬼等风格音乐。 “弱起节奏”与“连续切分节奏”也是反拍节奏的重要形态。 【例】 弱起节奏 指从弱拍开始的节奏，可从一小节的任意一个弱拍开始。可分为正拍弱起与反拍弱起两种。 【例1-正拍弱起】 【例2-反拍弱起】 参考资料 三分钟音乐社 基础乐理(流行音乐学院系列教材)","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记02-简谱","slug":"音乐/乐理/乐理笔记02-简谱","date":"2023-06-23T16:00:00.000Z","updated":"2023-07-30T07:09:52.078Z","comments":true,"path":"音乐/乐理/乐理笔记02-简谱/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B002-%E7%AE%80%E8%B0%B1/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 39-59节 简谱 调号 见乐理笔记01-基础知识 拍号 拍号的表示方式为\\(\\frac X Y\\)，读作YX拍，意思是以Y分音符的时长为一拍，每小节有X拍。 最常见的拍号是44拍，即以4分音符的时长为一拍，每小节有4拍。此外可以见到的拍号有42拍、43拍、83拍、86拍，其他拍号极其罕见。 拍号的强弱关系 无论什么拍号，每小节第一拍均为强拍，且每小节只有这一个强拍。 强拍的音量不一定响，弱拍的音量不一定弱。 旋律中的长音符，稳定音，通常处于强拍；短音符，不稳定音，通常处于弱拍。 和声通常要在强拍进行变化，弱拍进行保持。 不同的强弱关系还影响旋律的动机，织体的写法，配器的选择，速度的选择等等。 单拍子 每小节只有一个强拍，并且存在弱拍。 42拍——动次；43拍——动次次；83拍——动次次。 复拍子 由相同的单拍子组合而成。 44拍——动次打次；86拍——动次次打次次。 44拍由两个42拍组合而成，由多个拍号组合而成的拍号，每小节第一个拍子之外的强拍均要变成次强拍。因此这里的第二个42拍的强拍变成了次强拍，其强度弱于强拍。86拍同理，第二个83拍的强拍也变成了次强拍。 混合拍子 由不同的单拍子组合而成。 45拍——动次打次次（或动次次打次）。 45拍的组合顺序有两种：“42拍+43拍”或“43拍+42拍”，因此次强拍的位置有两种可能。 一拍子 每小节只有一拍，且这一拍是强拍。即拍号的分子是1被称为一拍子。 同理，拍号分子为X被称为X拍子。如43拍、83拍可称为三拍子。 散拍子 符号为“艹”。散拍子没有固定小节线，没有固定拍数，没有固定强弱关系，一般用于戏曲音乐中。 情绪与速度 情绪即演奏(唱)时的情绪，常见的情绪有欢快地、愉悦地、柔和地、抒情地、激昂地、悲伤地等。 速度即演奏速度，包括具体的速度和抽象的速度两种。 具体的速度指的是BPM(Beats Per Minute)，即每分钟有多少拍。如BPM为120时可表示为“每分钟120拍”或“𝅘𝅥=120”或“120 BPM”。 抽象的速度是词语式的表达，是一个大致范围，有上下浮动的空间。如BPM在60以下称为慢速，60到120称为中速，120到180称为快速，180以上称为急速。 表1 抽象的速度 意大利文 中文 BPM Grave 庄板 约40 Largo 广板 约46 Lento 慢板 约52 Adagio 柔板 约56 Larghetto 小广板 约60 Andante 行板 约66 Andantino 小行板 约69 Moderato 中板 约88 Allegretto 小快板 约108 Allegro 快板 约132 Presto 急板 约184 Prestissimo 最急板 约208 音符 音符时长取决于拍号的分母。以44拍为例，44拍以四分音符的时长为1拍。那么对应二分音符的时长是2拍，全音符时长为4拍。 附点音符时长为原音符的1.5倍。 复附点音符，两个附点的时长为原音符的1.75倍，三个附点的时长为原音符的1.875倍，以此类推。 表2 音符及其时长(以44拍为例) 名称 记法 时长 全音符 \\(1---\\) 四拍 █ █ █ █ 附点二分音符 \\(1--\\) 三拍 █ █ █ 二分音符 \\(1-\\) 二拍 █ █ 附点四分音符 一点五拍 █ ▌ 四分音符 \\(1\\) 一拍 █ 附点八分音符 四分之三拍 ▌▎ 八分音符 半拍 ▌ 附点十六分音符 八分之三拍 ▎▏ 十六分音符 四分之一拍 ▎ 附点三十二分音符 十六分之三拍 ▏| 三十二分音符 八分之一拍 ▏ 小节 小节使用小节线“|”隔开，小节的时长取决于拍号。以44拍为例，四分音符为一拍，每小节四拍，那么每个小节的时长为四个四分音符的长度，即一个全音符长度。 小节序号 用来标明是第几个小节，最主要的作用是方便查找。小节序号通常标在小节线的正上方或稍微偏右。 弱起小节 不从强拍开始的不完整的小节，常用在乐曲开头。 小节序号从第一个完整小节开始计算，因此弱起小节不是乐曲的第一个小节。 终止线 终止线为“𝄂”，意味着乐谱的终止。 延音线 延音线可以用于表示一个时长无法通过音符或附点音符表示的音。亦用于某个音跨越小节线的情况。 如要表示一个时长为1.25拍的音，可以用延音线表示为，即四分音符与十六分音符的组合，加起来的时长为1.25拍。这里只有第一个音符发出声音，第二个音符不重新发音，仅为前面的音补充时长。 延音线的两个音必须为同一个音。 连线 乐谱中需要连贯演奏(唱)的地方使用连线进行连接，某一个字对应几个音时也会使用连线连接。 连线的画法与延音线相同，但通常情况下会连几个不同的音。 举一个例子。这里最外侧从第一个音连至最后一个音的线为连线。内侧连接同一个音的线为延音线。 休止符 表示停顿，符号为0，停顿时长与音符时长的表示方法类似。 音符下方横线 通常情况下将处于同一拍的音符下方的横线连接起来，方便计算拍数。如，这里连起来的部分的拍数之和都是一拍。 断开的部分不存在停顿，横线的断开与小节线的分割均不表示停顿，都需要连续演奏。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"乐理笔记01-基础知识","slug":"音乐/乐理/乐理笔记01-基础知识","date":"2023-06-22T16:00:00.000Z","updated":"2023-07-30T07:09:58.738Z","comments":true,"path":"音乐/乐理/乐理笔记01-基础知识/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/%E4%B9%90%E7%90%86%E7%AC%94%E8%AE%B001-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","excerpt":"","text":"个人乐理自学笔记 本节内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 1-38节 基础知识 乐音与噪音 乐音：音高（频率）固定，振动规则的音。钢琴等乐器发出的是乐音，听起来悦耳、柔和。 噪音：振动不规则，音高也不明显的音。风声、雨声、机器轰鸣声是噪音，大多数打击乐器（鼓、镲、沙锤等）发出的是噪音，听起来刺耳。 音的物理性质 音高：指音调的高低。由音的频率决定，频率是发音体在单位时间内的振动次数。 音值：指音的持续时间。 音强：指音的响度。由发音体的振幅大小决定。 音色：指不同声音表现在波形方面的与众不同的特性。音色与发音体的材料、结构等有关。 唱名 用来唱的名字，也就是do,re,mi,fa,sol,la,si。在简谱上对应1,2,3,4,5,6,7。 音名 即声音的名字，声音是物体振动产生的，不同的声音会有不同的振动频率，而同一个声音的振动频率是固定的。因此同一个音名的频率不会改变，永远对应同一个音。 钢琴键与音名 钢琴一共有88个键（因此钢琴有时被戏称为88k音游）。按键的分布有周期性的规律，可以划分为若干组，取出其中一组如下图所示，一共有12个键，包括7个白键和5个黑键。7个白键的音名就分别为C,D,E,F,G,A,B。 图1 钢琴键与音名 调号 唱名对应的音名不是固定的，同一个唱名不一定对应同一个音名。唱名与音名的对应关系取决于调号。 调号的格式为“唱名=音名”，简谱采用首调唱名法，如1=C表示的是C大调，即唱名do对应音名C，以此类推唱名re,mi,fa,sol,la,si分别对应音名D,E,F,G,A,B。而1=D则表示是D大调，此时唱名do对应音名D。 首调与固定调 首调唱名法：将大调中的主音唱为do，如C大调中将C唱为do，D大调中就将D唱为do。简谱通常使用首调。 固定调唱名法：在任何调式中，都将C4（中央C）唱为do，其他音以此类推。五线谱通常使用固定调。 半音与全音 观察图1所示的一组钢琴键，不难发现C到D、D到E、F到G、G到A、A到B间都有黑键，而E到F间与B到C间没有黑键。也就是说E到F与B到C是直接相邻的，便可以称E到F、B到C间的音高距离为一个半音。 半音指的是相邻的两个音间的距离，而全音距离是半音的两倍。C到D、D到E、F到G、G到A、A到B间的音高距离为一个全音。 C到♯C、♯C到D的距离是一个半音。 升降号 ♯为升号，表示升一个半音；♭为降号，表示降一个半音。 𝄪为重升号，表示升一个全音；𝄫为重降号，表示降一个全音。 图2 钢琴键与带升降号音名 加上升降符号后的一组钢琴键如上图所示，可以发现同一个键可以用不同的音名表示出来，而实际上这些音是同一个音，只是写法不同，这些对应同一个音的不同音名被称作等音。至于使用哪个音名，这取决于所处的音乐语境。 音的分组 对完整的88键钢琴进行分组，共分为9组，如下图所示： 图3 钢琴键的分组 霍尔赫姆兹音调记号法 命名分大字组、小字组、大字N组与小字N组。 大字组/大字N组的音名大写，小字组/小字N组的音名小写； 大字N组音名右下角写N，小子N组音名右上角写N。 科学音调记号法 将9个组从左至右命名为0到8。直接记为“大写音名+数字”的形式。 例如小字一组的C可以按霍法记为\\(c^1\\)，也可按科法记为C4。 中央C与标准音 小字一组的C（即C4）被称作中央C。 小字一组的A（即A4）被称作标准音，其频率确定为440Hz。 音域 乐器能够发出的声音范围，对于钢琴来说是\\(A_2\\)到\\(c^5\\)。 人声的音域通常情况下为\\(g\\)到\\(d^2\\)，正好覆盖小字一组，因此对于简谱中的“1=C”，其中的C对应钢琴中小字一组的C（中央C）。 高音点与低音点 1=C时，以小字一组为基准，小字一组的CDEFGAB对应简谱1234567。小字二组对应简谱加一个高音点，即\\(\\dot 1\\dot 2\\dot 3\\dot 4\\dot 5\\dot 6\\dot 7\\)，小字三组对应简谱则加两个高音点，以此类推。大字组对应简谱加一个低音点，即，大字一组对应简谱则加两个低音点，以此类推。 纯八度 纯八度是音程的一种，指相邻音组中相同音名的两个音之间的音高距离。纯八度的两个音（如C3与C4），其频率比正好为1:2。当两个音的振动频率比接近简单整数时，两个音听起来会很相近，很协和，感觉像同一个音。 调式 若干高低不同的乐音，围绕某一有稳定感的中心音，按一定的音程关系组织在一起，成为一个有机的体系，称为调式。 调式有很多种，包括大调式、小调式、中古调式、五声调式等。 自然大调是大调式的一种，当七个音按照“全全半全全全半”的规则排列时，构成的是自然大调。 简谱中“1=C”表示的是C大调，CDEFGAB间的音高距离符合“全全半全全全半”的规则，是自然大调的一种。此外有D大调、E大调等。 音阶 将调式中的所有音，以主音开始到主音结束，由低到高或由高到低以阶梯状排列起来，被称作音阶。 如C大调的音阶就可以表示为“CDEFGABC”，这里最后面的C比最前面的C高了一个八度。此外“CBAGFEDC”、“CDEFGABCBAGFEDC”、“CBAGFEDCDEFGAB”也可称作C大调的音阶。 表1 自然大调音阶一览表 1=C C D E F G A B C 1=♯C(第一个黑键) ♯C ♯D ♯E ♯F ♯G ♯A ♯B ♯C 1=♭D(第一个黑键) ♭D ♭E F ♭G ♭A ♭B C ♭D 1=D D E ♯F G A B ♯C D 1=♭E(第二个黑键) ♭E F G ♭A ♭B C D ♭E 1=E E ♯F ♯G A B ♯C ♯D E 1=F F G A ♭B C D E F 1=♯F(第三个黑键) ♯F ♯G ♯A B ♯C ♯D ♯E ♯F 1=♭G(第三个黑键) ♭G ♭A ♭B ♭C ♭D ♭E F ♭G 1=G G A B C D E ♯F G 1=♭A(第四个黑键) ♭A ♭B C ♭D ♭E F G ♭A 1=A A B ♯C D E ♯F ♯G A 1=♭B(第五个黑键) ♭B C D ♭E F G A ♭B 1=B(第七个白键) B ♯C ♯D E ♯F ♯G ♯A B 1=♭C(第七个白键) ♭C ♭D ♭E ♭F ♭G ♭A ♭B ♭C 自然大调的所有音阶如上表所示，一共有十五个大调，对应十二个音。其中第一个黑键上的“1=♯C”与“1=♭D”、第一个黑键上的“1=♯F”与“1=♭G”、第七个白键上的“1=B”与“1=♭C”是等音调，调式中的所有音完全相同，只是音名不同。 为了方便起见，大调中的音名最好不要含有重升重降符号，第二个黑键上的“1=♯D”、第四个黑键上的“1=♯G”、第五个黑键上的“1=♯A”其大调内音名含有重升符号，不符合方便的原则，因此没有列在上表中。 参考资料 三分钟音乐社","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"作曲研究-序言","slug":"音乐/作曲研究-序言","date":"2023-06-18T13:29:43.637Z","updated":"2023-07-30T09:45:49.195Z","comments":true,"path":"音乐/作曲研究-序言/","link":"","permalink":"https://renahah.github.io/%E9%9F%B3%E4%B9%90/%E4%BD%9C%E6%9B%B2%E7%A0%94%E7%A9%B6-%E5%BA%8F%E8%A8%80/","excerpt":"","text":"前言 个人的音乐制作研究笔记，包括乐理笔记与Fl Studio作曲笔记。参考了网上的一些公开的视频、文档等资源，将其整理为笔记形式方便查看。我就做了一个整理工作，至于参考的部分其版权自然属于原作者。 出于兴趣爱好整理该笔记，肯定不严谨，若有问题敬请指正。 软件准备 Fl Studio——专业的音乐制作软件，又称宿主软件(DAW) LMMS——开源且免费的音乐制作软件 MuseScore——免费乐谱制作软件 番茄简谱——免费简谱制作软件 硬件准备 电脑——能用就行 耳机——听个响就行 麦克风——如果需要录制声音的话 目录 乐理笔记 内容参考自三分钟音乐社 《零基础学音乐·自学乐理第二季》 乐理笔记01-基础知识 乐理笔记02-简谱 乐理笔记03-节奏 乐理笔记04-乐谱记号 乐理笔记05-五线谱 乐理笔记06-音程 乐理笔记07-和弦 乐理笔记08-调式（敬请期待） Fl Studio作曲笔记 敬请期待 To Be Countinued未完待续...... 参考资料 三分钟音乐社 从零开始学音乐 by-光能丰 FL Studio学院 LMMS Musescore作谱 番茄简谱","categories":[{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"}],"tags":[{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"}]},{"title":"参赛经历——2020年TI杯辽宁省大学生电子设计竞赛","slug":"日记/参赛经历——2020年TI杯辽宁省大学生电子设计竞赛","date":"2023-05-29T08:58:00.000Z","updated":"2023-07-23T08:17:51.853Z","comments":true,"path":"日记/参赛经历——2020年TI杯辽宁省大学生电子设计竞赛/","link":"","permalink":"https://renahah.github.io/%E6%97%A5%E8%AE%B0/%E5%8F%82%E8%B5%9B%E7%BB%8F%E5%8E%86%E2%80%94%E2%80%942020%E5%B9%B4TI%E6%9D%AF%E8%BE%BD%E5%AE%81%E7%9C%81%E5%A4%A7%E5%AD%A6%E7%94%9F%E7%94%B5%E5%AD%90%E8%AE%BE%E8%AE%A1%E7%AB%9E%E8%B5%9B/","excerpt":"前言 2020年10月10日至10月13日，我与人组队参加了TI杯辽宁省大学生电子设计竞赛，所选题目为G题——非接触物体尺寸形态测量。在这次竞赛中我主要负责程序相关工作，其中涉及到STM32单片机、OPENMV图像识别模块、激光测距模块、串口屏上位机开发等诸多方面的知识，积累了相当多的经验。经过一个月的前期准备与四天三夜的刻苦奋斗，最终取得了省二等奖的优异成绩。 整理这个笔记，也是对竞赛做一个全面回顾，总结竞赛过程中遇到的困难与解决问题的方法，列举相关参考资料，为今后的读研与工作提供一些参考。","text":"前言 2020年10月10日至10月13日，我与人组队参加了TI杯辽宁省大学生电子设计竞赛，所选题目为G题——非接触物体尺寸形态测量。在这次竞赛中我主要负责程序相关工作，其中涉及到STM32单片机、OPENMV图像识别模块、激光测距模块、串口屏上位机开发等诸多方面的知识，积累了相当多的经验。经过一个月的前期准备与四天三夜的刻苦奋斗，最终取得了省二等奖的优异成绩。 整理这个笔记，也是对竞赛做一个全面回顾，总结竞赛过程中遇到的困难与解决问题的方法，列举相关参考资料，为今后的读研与工作提供一些参考。 题目要求 设计并制作一个非接触式物体形状和尺寸自动测量装置，测量被测目标的形状、 尺寸、 测量头中心点与被测目标之间的距离等参数，并用激光束指示出被测目标的中心位置。 图1 题目要求 硬件与软件准备 STM32单片机 STM32是高性能，低成本，低功耗的嵌入式微控制器。本次竞赛采用的STM32F103ZET6型号单片机，作为整个测量系统的控制中心使用，实现程序的整体流程控制，对二维云台的舵机PWM控制，以及与OPENMV图像识别模块、激光测距模块、串口屏的信息交换处理。 所用IDE为Keil μVision V5.21.1.0 STM32的学习资料可以在此下载 正点原子资料下载中心 OPENMV视觉模块 OpenMV是一款低价，可扩展的机器视觉模块。本次竞赛采用OPENMV2-M3摄像头，该模块采用STM32F427VG微处理器与OV7725感光元件。可以通过编写简单的Python语言脚本，实现数据采集和图像处理。在本次竞赛中用于识别区域内色块，进行相应处理实现形状识别功能。 OPENMV参考资料： OPENMV中文入门教程 OpenMV Cam快速参考 使用与之配套的OPENMV IDE进行程序开发。 USART HMI串口屏 USART HMI串口屏是一款编程简单，易于调试的可触摸显示模块。可以通过图形化软件快速制作显示界面。在本次竞赛中用于显示测距与形状识别结果信息，同时为形状识别提供测量启动按键。本次竞赛使用中景园2.8寸TFT LCD串口屏。 USART HMI参考资料： USART HMI入门教程 使用与之配套的USART HMI IDE进行程序开发。 激光测距模块 本次竞赛采用摩天MyAntenn-L1型号激光测距模块。与超声波测距模块相比，激光测距模块可以更为灵敏，精确度高，且可以满足用激光束指示出被测目标的中心位置之要求。 二维云台 二维云台有两个自由度，通过控制两个舵机的角度即可实现任意对任意方向的瞄准。本次竞赛将OPENMV视觉模块与激光测距模块安装在二维云台上，通过回传的图像确定下一时刻舵机的移动方向，做一个简单的闭环控制，最后使激光测距模块指向待测图形的中心。 蜂鸣器/LED指示灯 作为单片机启动，串口屏按键以及测量结束的提示信号。 硬件设计 稳压电路 采用LM2596S-ADJ来实现12V到6.5V（云台供电）的稳压和5V的稳压。LM2596S-ADJ是德州仪器（TI）生产的3A电流输出降压开关型集成稳压芯片，它内含固定频率振荡器（150KHZ）和基准稳压器（1.23v），并具有完善的保护电路、电流限制、热关断电路等功能，使它的性能很稳定。利用该器件只需极少的外围器件便可构成高效稳压电路。所以，LM2596S-ADJ稳压芯片十分适合系统的稳压电路设计。 图2 稳压电路 电路接线图 图3 电路接线图 系统实物图 图4 系统实物图 STM32F103ZET6与其他器件的连接 串口屏—USART1—PA9(TX),PA10(RX) 激光测距模块—USART2—PA2(TX),PA3(RX) OPENMV视觉模块—USART3—PB10(TX),PB11(RX) 舵机PWM—TIM3—PA6(CH1),PA7(CH2) 蜂鸣器与指示灯—PE14,PE15 软件设计 STM32程序总流程图 图5 STM32程序总流程图 OPENMV视觉模块 OPENMV程序总流程图 图6 OPENMV程序总流程图 OPENMV程序总流程图如上图所示，测量分为“普通测量”与“追踪测量”两种。 普通测量模式下，激光测距模块已事先对准待测图形中心，可以直接调用OPENMV内置库函数识别特定色块，读取色块的各项信息，以此可以判断出待测图形的形状。将图形形状等信息以串口信号形式发送至单片机，结合单片机接收到的来自激光测距模块的距离信息。即可根据相似三角形原理计算出图形的尺寸（正方形或三角形的边长、圆的直径）。为提高测量精确度，这里采取了多次读取求平均值的方法。 追踪测量模式下，激光测距模块未对准待测图形中心，如果摄像头没有观察到待测图形色块，则向单片机发送“移动”信号，控制舵机按照设定好的方式来回运动（从左到右，从上到下，覆盖可能找到色块的所有方向）；摄像头观察到色块后，向单片机发送“对准”信号，通过一个简单的闭环控制使激光测距模块对准色块中心（设定值为摄像头视野中心坐标，实际值为色块在摄像头视野中的坐标，被控量为两个舵机的PWM值）。完成对准后所执行程序同普通测量模式。 非接触式物体尺寸测量原理 图7 相似三角形法测量图形尺寸 本次竞赛的物体尺寸测量基于相似三角形原理，公式如下所示： \\[\\frac{L} {x} = \\frac{ {L&#39;} } {f}\\] 首先进行一次测试以求出摄像头焦距\\(f\\)，可以将某已知边长\\(L\\)的物体放置在摄像头前已知距离\\(x\\)的位置，使用测试程序测量像素点的长度\\(L&#39;\\)，便可用上式求出摄像头焦距\\(f\\)，该值为固定值，一旦确定便不会改变。 普通测量或追踪测量模式下，通过来自激光测距模块的距离\\(x\\)，与来自OpenMV摄像头模块的像素点长度\\(L’\\)，以及固定的摄像头焦距\\(f\\)，便可以求出待测物体的长度\\(L\\)。 形状识别原理 图8 形状识别原理 本次竞赛待测形状有正方形、圆形与正三角形，如上图所示。 调用OPENMV摄像头模块的库函数img.find_blobs可以识别摄像头内所有符合要求的色块blobs。使用自定义的函数find_max(blobs)筛选出最大的色块max_blob，一般情况下是待测色块。 调用库函数img.draw_rectangle(max_blob.rect())可为待测色块绘制一个矩形将其包住，如上图所示。 可以获取到待测色块矩形的像素点长与宽，两者乘积即为矩形像素点面积\\(S_{square}\\)。此外还可以通过max_blob.pixels()得到色块像素点面积\\(S_{blob}\\)（即图中蓝色区域面积）。 设二者比值\\(\\frac{S_{blob}}{S_{square}} = k\\)，则可根据\\(k\\)值区分不同的形状，由上图可知正方形\\(k = 1\\)，圆形\\(k = \\frac{\\pi }{4} \\approx 0.785\\)，正三角形\\(k = 0.5\\)。 结合实际情况，当\\(k \\geqslant 0.9\\)时，判断图形为正方形；当\\(k \\leqslant 0.6\\)时，判断图形为三角形；其余情况为圆形。 USART HMI串口屏 图9 串口屏主界面 串口屏使用USART HMI配套IDE进行图形界面的编辑与程序烧录。本次竞赛所用串口屏主界面如上图所示。按下“普通测量”或“追踪测量”键后，串口屏将向STM32单片机发送不同的串口信号。STM32接到信号后向OPENMV视觉模块发送串口信号，蜂鸣器鸣响提示，OPENMV根据不同的信号按照图5所示程序流程进行测量。 至于立体测量，竞赛时间有限没做出来。 激光测距模块 STM32单片机与激光测距模块的通信通过单片机的串口USART2实现，设置波特率为38400。 根据摩天MyAntenn-L1型号激光测距模块参考手册，结合实际情况使用快速测距模式。 在STM32主函数写下代码printf(\"iFACM\");便可启用快速测距模式。 注意这里需要对printf函数进行重定义，重定义代码位于usart.c文件下，具体如下： (这里将原有例程中的USART1改成了USART2。这样才能用printf通过USART2发送字符串信号。) 1234567891011121314151617181920212223#if 1#pragma import(__use_no_semihosting) //标准库需要的支持函数 struct __FILE &#123; int handle; &#125;; FILE __stdout; //定义_sys_exit()以避免使用半主机模式 _sys_exit(int x) &#123; x = x; &#125; //重定义fputc函数 int fputc(int ch, FILE *f)&#123; while((USART2-&gt;SR&amp;0X40)==0);//循环发送,直到发送完毕 USART2-&gt;DR = (u8) ch; return ch;&#125;#endif USART2串口中断函数如下所示，通常串口接收到的数据以0x0d,0x0c结尾。 123456789101112131415161718void USART2_IRQHandler(void) //串口2中断服务程序&#123; u8 Res; if(USART_GetITStatus(USART2, USART_IT_RXNE) != RESET) //接收中断 &#123; Res = USART_ReceiveData(USART2); //读取接收到的数据 if(Res!=0x0d&amp;&amp;Res!=0x0a) &#123; USART_RX_BUF2[USART_RX_STA2] = Res ;//USART_RX_BUF2 USART_RX_STA2++; &#125; else &#123; USART_RX_STA2 = 0; Distance_cal(); &#125; &#125;&#125; 激光测距模块距离处理函数如下： 1234567891011void Distance_cal(void)//数据处理&#123; if(USART_RX_BUF2[0]==&#x27;D&#x27;&amp;&amp;USART_RX_BUF2[3]==&#x27;.&#x27;) &#123; dis=(USART_RX_BUF2[2]-48)*1000+(USART_RX_BUF2[4]-48)*100+(USART_RX_BUF2[5]-48)*10+(USART_RX_BUF2[6]-48); &#125; else if(USART_RX_BUF2[0]==&#x27;D&#x27;&amp;&amp;USART_RX_BUF2[4]==&#x27;.&#x27;) &#123; dis=(USART_RX_BUF2[2]-48)*10000+(USART_RX_BUF2[3]-48)*1000+(USART_RX_BUF2[5]-48)*100+(USART_RX_BUF2[6]-48)*10; &#125;&#125; 在快速测距模式下，数据格式为D=1.234m或D=12.34m。 注意串口输出的数字为'0'到'9'的ASCII码，需要减去'0'的ASCII码，即48。 二维云台 二维云台的两个舵机采用PWM控制，分别使用定时器TIM3的CH1与CH2通道。 TIM1为20ms的定时器中断，根据外部状态（识别色块过程中的二维云台“移动”或“对准”状态）每隔20ms对舵机PWM值进行更新。 通过来自OPENMV摄像头的信息判断二维云台的工作状态。摄像头未识别到色块时，二维云台处于“移动”状态，舵机按照设定好的方式来回运动，搜寻目标色块；摄像头识别到色块后，二维云台处于“对准”状态，通过一个简单的闭环控制使激光测距模块对准色块中心，以便接下来的测量。 二维云台移动对准色块效果 蜂鸣器/LED指示灯 使用TIM1定时器中断，根据外部状态（串口屏是否有按键按下，是否完成测量）每隔20ms对蜂鸣器与LED指示灯状态进行更新。 后续与总结 这次竞赛基本上发挥了自己本科阶段在单片机电子方面的全部实力，最后做出来的东西也实现了测距、判断物体形状与尺寸的基本功能。当然软件上还有一些bug，不过将将能用。 记得竞赛结束前大概两个小时，我一时手贱改了改程序还不备份，结果整个系统全不能用了，全都不好使了。当时心态彻底炸了，因为其实不改也行。还好使用Ctrl+Z大法把程序恢复到了修改前的状态，在竞赛结束前一小时一切恢复正常。这里特地感谢帮我稳住心态，提供安慰的队友。接下来仓促地写了写设计报告，随后封箱等待测评。 测评是在竞赛结束两周后，鬼知道这两周时间会发生什么，设备还好不好用。不过还好一切正常，最终拿了省二等奖（这次电赛我们学校成绩不咋好，二十五个队伍就拿了两个二等奖和三个三等奖）。 参加电赛的那个学期，基本上算是我大学阶段的高光时刻了，除了电赛还拿了其他几个比赛的奖，当然这里也有取舍，有一些比赛我就放弃了。随后就是下坡路了，考研一战寄了，二战将将考上本校，二战复试结束后暂时也没什么事，所以就搭建了这个博客。 既然已经到谷底了，就该触底反弹了，虽然接下来会遇到新的挑战，落入新的谷底，但是干就完了！任何时刻都不轻言放弃。","categories":[{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"竞赛","slug":"竞赛","permalink":"https://renahah.github.io/tags/%E7%AB%9E%E8%B5%9B/"},{"name":"单片机","slug":"单片机","permalink":"https://renahah.github.io/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"},{"name":"OPENMV","slug":"OPENMV","permalink":"https://renahah.github.io/tags/OPENMV/"}]},{"title":"自制网易云音乐淘歌软件","slug":"日记/自制网易云音乐淘歌软件","date":"2023-05-27T16:00:00.000Z","updated":"2023-05-29T05:25:28.000Z","comments":true,"path":"日记/自制网易云音乐淘歌软件/","link":"","permalink":"https://renahah.github.io/%E6%97%A5%E8%AE%B0/%E8%87%AA%E5%88%B6%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%B7%98%E6%AD%8C%E8%BD%AF%E4%BB%B6/","excerpt":"","text":"前言 本人是网易云音乐听歌量30000+用户，主要听电子音乐，其他类型音乐亦有涉及。随着听歌量的增长，就会越来越发现一个问题，就是有大量的优质冷门音乐无人问津。对于多数普通用户而言，所听音乐以评论数999+甚至1w+的热门歌曲为主。但实际上，999+评论的音乐只是网易云庞大曲库的冰山一角，冰山以下蕴含丰富的宝藏。 本人开发的这个程序，试图用最原始的方法——按歌曲专辑id序号顺序逐一展示与挑选音乐。 本软件采用Python爬虫技术，逐一爬取规定范围内的各专辑ID的网址和名称，并将其所得数据整理到HTML文件中，方便挑选音乐。 目前程序仍处于开发阶段，存在诸多待改善之处。最重要的是本人非计算机专业，许多技术还不会，纯粹出于爱好查阅相关资料，最终整合出了这样一个刚好能用的答辩，所以大佬轻喷、轻喷、轻喷啊！ 整理这个笔记，也是对开发软件的步骤与技术细节进行一个全面的回顾，列举相关参考资料，为进一步的开发提供便利。 为什么是网易云音乐——目前只有网易云的链接仍然包含数字id，其他平台全用上了乱码，根本无法按顺序检索。 为什么是专辑id——目前网易云音乐的绝大多数歌曲都对应着一个专辑，而一个专辑对应一个或多个单曲，因此检索专辑的效率更高。除专辑id外，本软件亦支持单曲、歌单、用户、歌手、电台、节目、视频、话题的id检索，可以在操作界面中选择。 工具准备 IDE 目前使用的是Visual Studio 2019（当然也可以使用PyCharm）。 Python Python是一种解释型、面向对象、动态数据类型的高级程序设计语言。本软件使用3.7版本进行开发。 Python3.7中文文档 Python下载地址 菜鸟教程——Python安装教程 安装完成后，在运行的CMD界面中进入Python安装文件夹，输入python -V，出现有版本号则说明Python已经安装到电脑上。 输入cd scripts，则会进入Python的库文件夹，输入pip install xxx==x.x.x即可下载指定版本的插件。 Selenium+PhantomJS PhantomJS是一个自带JavaScript API的无头WebKit脚本，即无头浏览器（不展示图形界面）。 PhantomJS下载与安装——中文文档 Selenium+PhantomJS使用 by-qq_38767359 Selenium+PhantomJS使用详解 by-尘世gu行 Selenium是一个Web的自动化测试工具，它可以模拟人类浏览网页时的各种操作，它是一个python库。新版本的selenium已经不在支持PhantomJS，因此需要安装旧版本的selenium。 pip install selenium==2.48.0 Selenium+PhantomJS共同构成所谓的“爬虫”，用于爬取网页上的各类数据。 BeautifulSoup Beautiful Soup是一个可以从HTML或XML文件中提取数据的Python库。可以按照一定的规则处理所得的网页源代码，提取想要的数据。本程序中用于提取网页源代码中的专辑名称与专辑图片链接。 pip install beautifulsoup4 还需要搭配第三方解析器lxml pip install lxml Beautiful Soup 4.4.0 文档 爬虫知识——第三方库Beautiful Soup4 使用总结 by-fengzhen8023 PyQt5 pyqt5中文教程 Python Qt教程 by-白月黑羽 PyQt5是最强大的GUI库之一。本程序使用PyQt5制作一个图形化的界面，使淘歌操作更为方便。 pip install pyqt5-tools Qt Designer是一个QT界面生成器，其位置为Python\\Lib\\site-packages\\qt5_applications\\Qt\\bin PyInstaller PyInstaller用于将Python代码编译为可执行文件 pip install pyinstaller pyinstaller -D -w 入口程序路径\\入口程序.py --distpath=目标路径 生成包含exe的文件夹，并在执行的时候不显示黑框（若-D换为-F，则生成单个exe文件；若去掉-w，程序执行时将显示黑框）。 生成含exe的文件夹后，一定要在该文件夹内添加phantomjs.exe，否则点击'ok'键就会闪退。 程序详解 爬取数据并整理成HTML文件 12345678910111213141516171819202122232425262728293031323334import requestsfrom urllib.request import urlopenfrom selenium import webdriverfrom bs4 import BeautifulSoupi=j=0id=3057200num=200web_or_app=1 #0——网页 1——调用applist_a=[&#x27;album&#x27;,&#x27;song&#x27;,&#x27;playlist&#x27;,&#x27;user&#x27;,&#x27;artist&#x27;,&#x27;djradio&#x27;,&#x27;program&#x27;,&#x27;mv&#x27;,&#x27;activity&#x27;]list_b=[&#x27;专辑&#x27;,&#x27;单曲&#x27;,&#x27;歌单&#x27;,&#x27;用户&#x27;,&#x27;歌手&#x27;,&#x27;电台&#x27;,&#x27;节目&#x27;,&#x27;视频&#x27;,&#x27;话题&#x27;]list_index=0path = &quot;D:/SongPage/&quot;+ list_b[list_index] + str(id) + &quot;~&quot; + str(id+num-1) + &quot;.htm&quot;driver = webdriver.PhantomJS()fp=open(path,&quot;w+&quot;,encoding=&quot;utf-8&quot;)#创建文件fp.write(&quot;&lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=utf-8\\&quot;&gt;\\n&lt;/head&gt;\\n&lt;body&gt;&quot;)for i in range(num): url = &quot;https://music.163.com/#/&quot; + list_a[list_index] + &quot;?id=&quot; + str(id+i) #请求网址 driver.get(url) driver.switch_to.frame(&quot;g_iframe&quot;) html = driver.page_source#网页源码 soup = BeautifulSoup(html, &#x27;lxml&#x27;)#创建Beautifulsoup对象 title=soup.title.string if(title!=&#x27;网易云音乐&#x27;):#无歌曲的情况下，标题为“网易云音乐” pic=soup.select(&#x27;meta[property=&quot;og:image&quot;]&#x27;)[0].attrs[&#x27;content&#x27;] j=j+1 fp.write(&quot;&lt;p&gt;&quot; + str(id+i) + &quot;&lt;/p&gt;&quot;)#专辑网址 fp.write(&quot;&lt;img src=\\&quot;&quot; + pic + &quot;\\&quot;width=\\&quot;120\\&quot; height=\\&quot;120\\&quot;/&gt;&quot;)#专辑图片 if(web_or_app==1):#是否调用软件播放音乐 url = &quot;orpheus://&quot; + list_a[list_index] + &quot;/&quot; + str(id+i) + &quot;?autoplay=1&quot; fp.write(&quot;&lt;a href=\\&quot;&quot; + url + &quot;\\&quot;&gt;&quot; + title + &quot;&lt;/a&gt;&quot;)#专辑标题 print(&quot;已完成&quot; + str(i+1) + &quot;\\t标题:&quot; + str(title))fp.write(&quot;&lt;/body&gt;\\n&lt;/html&gt;&quot;)fp.close() 先编写一个如上所示的相对简单的程序，实现基本功能。其中id是检索起始id，num是检索数量。list_index是检索资源的类型，默认为0（专辑）。使用web_or_app变量指定文件的打开形式，用网页打开或者在app内打开。 使用PyQt5绘制操作界面 打开Qt Designer，设计好图形界面后保存，该文件为.ui格式 使用pyuic5将ui文件转换为py文件 pyuic5 - o 新文件名.py ui文件名.ui PyQt5，Qt Designer，PyUIC，pyrcc5安装与使用 by-开饭了船长 为图形界面添加背景图片，可以参考以下资料，样式表文件为.qrc格式 PyQt5最详细pyrcc5配置+样式使用 by-咸菜萝卜头 使用pyrcc5将qrc文件转换为py文件 pyrcc5 - o 新文件名.py qrc文件名.qrc 经过亿点点修改后的完整代码如下： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788import sysimport requestsfrom urllib.request import urlopenfrom selenium import webdriverfrom bs4 import BeautifulSoupfrom PyQt5 import QtCore, QtGui, QtWidgetsfrom PyQt5.QtCore import QObject, pyqtSignal, QThreadfrom SongWindow import Ui_MainWindowid=num=list_index=web_or_app=0path0=&quot;D:/Code/NCM/SongPage&quot;list_e=[&#x27;album&#x27;,&#x27;song&#x27;,&#x27;playlist&#x27;,&#x27;user&#x27;,&#x27;artist&#x27;,&#x27;djradio&#x27;,&#x27;program&#x27;,&#x27;mv&#x27;,&#x27;activity&#x27;]list_c=[&#x27;专辑&#x27;,&#x27;单曲&#x27;,&#x27;歌单&#x27;,&#x27;用户&#x27;,&#x27;歌手&#x27;,&#x27;电台&#x27;,&#x27;节目&#x27;,&#x27;视频&#x27;,&#x27;话题&#x27;]class GoSearch(QThread):#检索线程 _signal = pyqtSignal(int) _signal2 = pyqtSignal(str) finished = pyqtSignal() def __init__(self): super(GoSearch, self).__init__() def run(self): i=j=percent=0 path = path0 + &quot;/&quot; + list_c[list_index] + str(id) + &quot;~&quot; + str(id+num-1) + &quot;.htm&quot; driver = webdriver.PhantomJS() fp=open(path,&quot;w+&quot;,encoding=&quot;utf-8&quot;) fp.write(&quot;&lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=utf-8\\&quot;&gt;\\n&lt;/head&gt;\\n&lt;body&gt;&quot;) for i in range(num): url = &quot;https://music.163.com/#/&quot; + list_e[list_index] + &quot;?id=&quot; + str(id+i) #请求网址 driver.get(url) driver.switch_to.frame(&quot;g_iframe&quot;) html = driver.page_source#网页源码 soup = BeautifulSoup(html, &#x27;lxml&#x27;)#创建Beautifulsoup对象 title=soup.title.string if(title!=&#x27;网易云音乐&#x27;):#无歌曲的情况下，标题为“网易云音乐” pic=soup.select(&#x27;meta[property=&quot;og:image&quot;]&#x27;)[0].attrs[&#x27;content&#x27;] j=j+1 fp.write(&quot;&lt;p&gt;&quot; + str(id+i) + &quot;&lt;/p&gt;&quot;)#专辑网址 fp.write(&quot;&lt;img src=\\&quot;&quot; + pic + &quot;\\&quot;width=\\&quot;120\\&quot; height=\\&quot;120\\&quot;/&gt;&quot;)#专辑图片 if(web_or_app==1):#是否调用软件播放音乐 url = &quot;orpheus://&quot; + list_e[list_index] + &quot;/&quot; + str(id+i) + &quot;?autoplay=1&quot; fp.write(&quot;&lt;a href=\\&quot;&quot; + url + &quot;\\&quot;&gt;&quot; + title + &quot;&lt;/a&gt;&quot;)#专辑标题 infomation=&quot;已完成:&quot; + str(i+1) + &quot;\\t标题:&quot; + str(title) percent=int((i+1)/num*100) self._signal2.emit(infomation) self._signal.emit(percent) fp.write(&quot;&lt;/body&gt;\\n&lt;/html&gt;&quot;) fp.close() self.finished.emit()#线程结束class mywindow(QtWidgets.QMainWindow,Ui_MainWindow): def __init__(self): super(mywindow,self).__init__() self.setupUi(self) def OK(self):#按下OK键 global id,num,list_index,web_or_app,path0 id=int(self.lineEdit.text()) num=int(self.lineEdit_2.text()) list_index=int(self.comboBox.currentIndex()) web_or_app=int(self.comboBox_2.currentIndex()) path0=self.lineEdit_3.text() self.gosearch = GoSearch() self.test_thread = QThread() self.gosearch.moveToThread(self.test_thread) self.gosearch._signal.connect(self.progressBar.setValue) self.gosearch._signal2.connect(self.plainTextEdit.appendPlainText) self.gosearch.finished.connect(self.gosearch_finished) self.test_thread.started.connect(self.gosearch.run) self.test_thread.start() self.plainTextEdit.appendPlainText(&quot;检索即将开始......&quot;) def gosearch_finished(self): self.test_thread.quit() self.test_thread.wait() self.plainTextEdit.appendPlainText(&quot;检索结束&quot;) def path(self):#设置网页保存位置 path0 = QtWidgets.QFileDialog.getExistingDirectory(self,&quot;浏览&quot;,&quot;D:&quot;) self.lineEdit_3.setText(path0)app = QtWidgets.QApplication(sys.argv)window = mywindow()window.show()sys.exit(app.exec_()) 软件操作界面如下图所示，点击OK键即可开始检索。 图1 软件操作界面 检索完成后，HTML文件可在目标文件夹找到。 展望 目前的问题 这个程序目前就是依托堪堪能用的答辩，还有很多需要改进之处。 需要爬取完毕才能看到输出的页面结果，需要实时爬取实时出结果。（最好可以直接在网页上操作） 目前爬取是单线程的，慢且容易卡死，需要支持多线程。 To Be Countinued未完待续...... 参考资料 RenAhah的网易云音乐用户页 Python爬取网易云音乐辑的图片、专辑名和专辑出版时间 by-哈利波特","categories":[{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"软件开发","slug":"软件开发","permalink":"https://renahah.github.io/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"},{"name":"python","slug":"python","permalink":"https://renahah.github.io/tags/python/"}]},{"title":"电力电子技术02-电力电子器件","slug":"课程笔记/电力电子技术/电力电子技术02-电力电子器件","date":"2023-05-21T07:36:56.000Z","updated":"2023-07-23T08:17:52.197Z","comments":true,"path":"课程笔记/电力电子技术/电力电子技术02-电力电子器件/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF02-%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E5%99%A8%E4%BB%B6/","excerpt":"","text":"《电力电子技术(第五版)》学习笔记 本节内容对应书中第二章 绪论；对应页码p10-p42 电力电子器件概述 电力电子器件的一般特征 处理电功率的大小，即承受电压和电流的能力远大于信息电子器件； 一般工作在开关状态； 需要由信息电子电路来控制； 自身功耗远大于信息电子器件，一般要安装散热器。 电力电子器件损耗包括通态损耗、断态损耗与开关损耗，其中开关损耗包括开通损耗和关断损耗。 电力电子器件的主要损耗为通态损耗，器件开关频率较高时，开关损耗成为主要损耗。 电力电子器件的分类 按照被信号控制的程度分类： 半控型器件——通过控制信号可控制通，不能控制关——晶闸管(Thyristor)及其大部分派生器件 全控型器件——通过控制信号既可控制通又可控制关，又称自关断器件——绝缘栅极双极型晶体管（IGBT）、电力场效应晶体管（Power-MOSFET） 不可控器件——不能用控制信号来控制其通断, 不需要驱动电路——电力二极管(Power Diode) 按照驱动电路信号的性质，可分为电流驱动型和电压驱动型（场效应器件）。 电流驱动型：双极型器件中除SITH外——具有电导调制效应，因而通态压降低，导通损耗小，但工作频率较低，所需驱动功率大,驱动电路较复杂。 电压驱动型：单极型器件和复合型器件，双极型器件中的SITH——输入阻抗高，所需驱动功率小，驱动电路简单，工作频率高。 按照驱动电路信号的波形，可分为脉冲触发型和电平控制型。 按照器件内部电子和空穴两种载流子参与导电的情况，可分为单极型器件、双极型器件、复合型器件。 图0 电力电子器件分类 不可控器件——电力二极管 电力二极管工作原理与信息电子电路中的二极管一致，皆以半导体PN结为基础。 电力二级管于20世纪50年代初开始应用，至今在中、高频整流和逆变场合，仍然不可替代。其主要封装有螺栓型和平板型两种。 图1 电力二极管a) 外形 b) 基本结构 c) 电气符号 电力二极管的基本特性 静态特性（伏安特性） 图2 电力二极管伏安特性 电力二极管承受电压大于一定值（门槛电压\\(U_{TO}\\)）时，正向电流开始明显增加，处于稳定导通状态（正向偏置）。 电力二极管承受反向电压时，只有少子引起的微小而数值恒定的反向漏电流，处于截至状态（反向偏置）。 动态特性（开关特性） 图3 电力二极管关断过程 外加电压突然由正向变为反向时，电力二极管不能立即关断，需要经一短暂时间重获反向阻断能力，进入截至状态。 在关断前有较大反向电流,伴有明显反向电压过冲\\(U_{RP}\\)。 反向恢复时间\\(t_{rr}\\)——\\(t_{rr} = t_d + t_f\\)。其中\\(t_d\\)为延迟时间，\\(t_f\\)为电流下降时间。 恢复系数\\({S_r} = \\frac{t_f} {t_d}\\)，\\(S_r\\)越大则恢复特性越软，反向电流下降时间相对越长，在同样的外电路条件下造成的反向电压\\(U_{RP}\\)过冲较小。 图4 电力二极管开通过程 正向压降先出现一个过冲\\(U_{FP}\\)，经过一段时间才趋于接近稳态压降的某个值。 正向恢复时间为\\(t_{fr}\\)。电流上升率越大，\\(U_{FP}\\)越高。 电力二极管的主要参数 正向平均电流\\({I_{F(AV)} }\\)——在指定的管壳温度\\(T_c\\)和散热条件下，其允许流过的最大工频正弦半波电流的平均值。按照电流的发热效应来定义，使用时应按有效值相等的原则来选取电流定额，并应留有一定的裕量。 正向压降\\(U_F\\)——指定温度下，流过某一指定的稳态正向电流时对应的正向压降。 反向重复峰值电压\\(U_{RRM}\\)——能重复施加的反向最高峰值电压。使用时，应留有两倍裕量（反向最高峰值电压的两倍）。 最高工作结温\\(T_{JM}\\)——在PN结不致损坏的前提下所能承受的最高平均温度，通常在125~175℃范围之内。（结温\\(T_J\\)指PN结的平均温度） 关断过程反向恢复时间\\(t_{rr}\\)——\\(t_{rr} = t_d + t_f\\)。其中\\(t_d\\)为延迟时间，\\(t_f\\)为电流下降时间。 浪涌电流\\(I_{FSM}\\)——指能承受最大的连续一个或几个工频周期的过电流。 电力二极管的主要类型 普通二极管(General Purpose Diode)又称整流二极管(Rectifier Diode)，多用于开关频率不高（1kHz以下）的整流电路中，反向恢复时间较长，正向电流定额和反向电压定额可以达到很高。 快恢复二极管(Fast Recovery Diode,FRD)简称快速二极管，反向恢复过程很短，正向压降很低。分快速恢复和超快速恢复两个等级。 肖特基二极管(Schottky Barrier Diode,SBD)反向恢复时间很短（10~40ns），正向恢复无明显的电压过冲。 反向耐压较低时其正向压降也很小，明显低于快恢复二极管。其开关损耗和正向导通损耗都比快速二极管还小，效率高。其缺点在于：当所能承受的反向耐压提高时其正向压降也会变高以至于不满足要求，因此多用于200V以下的低压场合；反向漏电流较大且对温度敏感，因此反向稳态损耗不能忽略，需严格限制其工作温度。 半控型器件——晶闸管 晶闸管的结构与工作原理 晶体闸流管(Thyristor)，简称晶闸管，又称可控硅整流器(Silicon Controlled Rectifier,SCR)，简称可控硅。 其主要封装有螺栓型和平板型两种。有三个连接端，分别为阳极A、阴极K、门级G（控制端）。 图5 晶闸管a) 外形 b) 基本结构 c) 电气符号 晶闸管可以看作由\\(P_1 N_1 P_2\\)和\\(N_1 P_2 N_2\\)构成的两个晶体管\\(V_1\\)、\\(V_2\\)组合而成。 若外电路向门级注入驱动电流\\(I_G\\)，则\\(I_G\\)流入晶体管\\(V_2\\)的基极，产生集电极电流\\(I_{c2}\\)，它构成晶体管\\(V_1\\)的基极电流，放大成集电极电流\\(I_{c1}\\)，又进一步增大\\(V_2\\)的基极电流，如此形成强烈的正反馈使\\(V_1\\)和\\(V_2\\)进入完全饱和状态，即晶闸管导通。 此时若撤掉门极电流\\(I_G\\)，晶闸管内部由于强烈的正反馈仍能维持导通状态。除非去掉阳极所加的正向电压，或者阳极施加反压，或者设法使流过晶闸管的电流降低到接近于零的某一数值以下，晶闸管才能关断。 因此晶闸管的驱动方式为触发驱动，晶闸管是半控型器件。 图6 晶闸管的双晶体管模型及其工作原理 晶闸管导通条件：晶闸管阳极与阴极间加有正向电压，且在门极施加触发电流 晶闸管关断条件：晶闸管的正向电流小于维持电流，或在晶闸管上加反向电压 晶闸管的基本特性 静态特性 图7 晶闸管静态特性 正向特性（第一象限） \\(I_G = 0\\)时，器件两端加正向电压，有很小的正向漏电流，晶闸管处于正向阻断状态。 正向电压超过正向转折电压\\(U_{bo}\\)时，漏电流急剧增大，器件开通。 门极电流\\(I_G\\)越大，正向转折电压\\(U_{bo}\\)越小。 晶闸管正向导通的管压降很小，1V左右。 导通期间若门极电流为零且阳极电流降低至维持电流\\(I_H\\)以下，晶闸管回到正向阻断状态。 反向特性（第三象限） 阻断状态时，有极小的反向漏电流。 反向击穿后，反向漏电流急剧增大，可能导致晶闸管发热损坏。 动态特性 图8 晶闸管开通与关断过程 开通过程 延迟时间\\(t_d\\)(0.5~1.5μs)——从门极电流阶跃时刻开始，到阳极电流上升至稳态值10%的时间——随门极电流的增大而减小 上升时间\\(t_r\\)(0.5~3μs)——阳极电流从10%上升至90%所需的时间——反应晶闸管本身特性，受到外电路电感严重影响 开通时间\\(t_{gt}=t_d+t_r\\)——提高阳极电压可以增大晶体管\\(V_2\\)的电流增益\\(\\alpha_2\\)，使正反馈过程加速，缩短开通时间 关断过程 反向阻断恢复时间\\(t_{rr}\\)——从正向电流降为零，到反向电流衰减至接近于零的时间。 正向阻断恢复时间\\(t_{gr}\\)——从到反向电流衰减至接近于零，到晶闸管恢复对正向电压的阻断能力的时间。 关断时间\\(t_q=t_{rr}+t_{gr}\\)——普通晶闸管的关断时间约几百微秒。 晶闸管的主要参数 电压定额 断态重复峰值电压\\(U_{DRM}\\)——门极断路而结温额定时，允许重复加在器件上的正向峰值电压。规定\\(U_{DRM}\\)为断态不重复峰值电压\\(U_{DSM}\\)的90%。规定重复频率为50Hz，每次持续时间不超过10ms。 反向重复峰值电压\\(U_{RRM}\\)——门极断路而结温额定时，允许重复加在器件上的反向峰值电压。规定\\(U_{RRM}\\)为反向不重复峰值电压\\(U_{RSM}\\)的90%。\\(U_{RSM}\\)应低于反向击穿电压。 通态（峰值）电压\\(U_{TM}\\)——晶闸管通有某一规定倍数的额定通态平均电流时的瞬态峰值电压。 额定电压——通常取晶闸管的\\(U_{DRM}\\)和\\(U_{RRM}\\)中较小的标值作为额定电压。额定电压要有一定裕量，为正常工作时晶闸管所承受峰值电压的2~3倍。 电流定额 通态平均电流\\(I_{T(AV)}\\)——允许长期流过的最大工频正弦半波电流的平均值。使用时应按有效值相等的原则来选取晶闸管。 如若需要晶闸管实际承担波形电流有效值400A，则对应通态平均电流为400A/1.57=255A（正弦半波波形平均值：有效值=1：1.57）。考虑裕量（1.5到2倍），则可选择额定电流（通态平均电流）500A的晶闸管。 维持电流\\(I_H\\)——使晶闸管维持导通所必需的最小电流。 擎住电流\\(I_L\\)——刚从断态转入通态并移除触发信号后，能维持导通所需的最小电流。对同一晶闸管来说，通常\\(I_L\\)约为\\(I_H\\)的2~4倍。 浪涌电流\\(I_{TSM}\\)——使超过额定结温的不重复性最大正向过载电流。 动态参数 开通时间\\(t_{gt}\\) 关断时间\\(t_q\\) 断态电压临界上升率du/dt——额定结温、门极开路，从断态到通态转换的外加电压最大上升率。电压上升率过大，使充电电流足够大，就会使晶闸管误导通。 通态电流临界上升率di/dt——指在规定条件下，晶闸管能承受而无有害影响的最大通态电流上升率。如果电流上升太快，可能造成局部过热而使晶闸管损坏。 晶闸管的派生器件 快速晶闸管 快速晶闸管(Fast Switching Thyristor,FST)分为快速晶闸管(400Hz)和高频晶闸管(10kHz)。 开关时间以及du/dt和di/dt耐量都有明显改善。 普通晶闸管关断时间数百微秒，快速晶闸管为数十微秒，高频晶闸管为10μs左右。 高频晶闸管的不足在于其电压和电流定额都不易做高。 由于工作频率较高，不能忽略其开关损耗的发热效应。 双向晶闸管 双向晶闸管(Triode AC Switch,TRIAC或Bidirectional triode thyristor)由一对反并联的普通晶闸管集合而成。 有两个主电极\\(T_1\\)和\\(T_2\\)，一个门极\\(G\\)。在第Ｉ和Ⅲ象限有对称的伏安特性。 控制电路简单，在交流调压电路、固态继电器(Solid State Relay,SSR)和交流电动机调速等领域应用较多。 用有效值而非平均值来表示其额定电流值。 图9 双向晶闸管 逆导晶闸管 逆导晶闸管(Reverse Conducting Thyristor,RCT)将晶闸管反并联一个二极管制作在同一管芯上的功率集成器件。 不具有承受反向电压能力，一旦承受反向电压即开通，适用于不需要阻断反向电压的电路。 具有正向压降小、关断时间短、高温特性好、额定结温高等优点。 图10 逆导晶闸管 光控晶闸管 光控晶闸管(Light Triggered Thyristor,LTT)又称光触发晶闸管，利用一定波长的光照信号触发导通。 保证了主电路与控制电路之间的绝缘，且可避免电磁干扰影响。 多应用在高压大功率的场合，如高压直流输电和高压核聚变装置中。 图11 光控晶闸管 典型全控型器件 门极可关断晶闸管——GTO GTO的结构和工作原理 图12 门极可关断晶闸管a) 各单元的阴极、门极间隔排列的图形 b) 并联单元结构断面示意图 c) 电气图形符号 门极可关断晶闸管(Gate Turn-Off Thyristor,GTO)是一种多元的功率集成器件。 其外部结构与普通晶闸管一致，是PNPN四层半导体结构，外部可以引出阳极、阴极与门极。但其内部包含数十个甚至数百个共用阳极的小GTO元，这些GTO元的阴极和门极则在器件内部并联在一起。 可以通过在门极施加负的脉冲电流使其关断。 与普通晶闸管一样，GTO亦可以用图6所示的双晶体管模型来分析其工作原理，GTO导通原理与普通晶闸管一样，是一个正反馈过程，只是导通时饱和程度较浅。 关断时，门极加负脉冲，即从门极抽出电流，则晶体管\\(V_2\\)的基极电流\\(I_{b2}\\)减小，使\\(I_K\\)和\\(I_{c2}\\)减小，继而使\\(I_A\\)和\\(I_{c1}\\)减小又进一步减小\\(V_2\\)的基极电流。当\\(I_A\\)和\\(I_K\\)的减小到不能维持时， 器件退出饱和关断（同样是一个正反馈过程）。 多元集成结构使GTO比普通晶闸管开通过程快，承受di/dt能力强。 GTO的动态特性与主要参数 图13 GTO开通与关断过程 开通过程与普通晶闸管相同，开通时间\\(t_{on} = t_d + t_r\\)。延迟时间\\(t_d\\)一般约1~2μs，上升时间\\(t_r\\)则随通态阳极电流的增大而增大。 关断过程与普通晶闸管不同，关断时间\\(t_{off} = t_s + t_f\\)。其中储存时间\\(t_s\\)是使等效晶体退出饱和状态的时间；下降时间\\(t_f\\)是等效晶体从饱和区退至放大区的时间，阳极电流逐渐减小下降时间一般小于2μs。；尾部时间\\(t_f\\)是残存载流子复合所需时间，尾部时间不计入关断时间。 \\({t_t} &gt; {t_s} \\gg {t_f}\\)，门极负脉冲电流幅值越大，\\(t_s\\)越短。 最大可关断阳极电流\\(I_{ATO}\\)——标称GTO额定电流。 电流关断增益\\(\\beta_{off} = \\frac{I_{ATO} } {I_{GM} }\\)——最大可关断阳极电流与门极负脉冲电流最大值之比。 不少GTO都制造成逆导型，类似于逆导晶闸管，需承受反压时，应和电力二极管串联。 电力晶体管——GTR GTR的结构和工作原理 电力晶体管(Giant Transistor,GTR)，直译为巨型晶体管，是一种耐压高、电流大、开关特性好的双极结型晶体管(Bipolar Junction Transistor,BJT)，即GTR = Power BJT。 GTR通常采用至少由两个晶体管按达林顿接法组成单元结构。同GTO一样采用集成电路工艺将许多这种单元并联而成。 20世纪80年代以来，GTR在中、小功率范围内取代晶闸管，但目前又大多被IGBT和电力MOSFET取代。 图14 电力晶体管a) 内部结构断面示意图 b) 电气图形符号 c) 内部载流子的流动 在应用中，GTR一般采用共射极接法。 电流放大系数\\(\\beta = \\frac{i_c} {i_b}\\)，反映了基极电流对集电极电流的控制能力。 单管GTR的\\(\\beta\\)值比小功率的晶体管小得多，通常为10左右，采用达林顿接法可有效增大电流增益。 GTR的基本特性 静态特性 图15 GTR静态特性 共射接法时的典型输出特性：截止区、放大区和饱和区。 在电力电子电路中GTR工作在开关状态（截止区与饱和区）。 在开关过程中，即在截止区和饱和区之间过渡时，要经过放大区。 动态特性 图16 GTR开通与关断过程 开通时间\\(t_{on} = t_d + t_r\\)，与GTO类似。增大基极驱动电流\\(i_b\\)的幅值并增大\\(di_b/dt\\)，可以缩短开通时间。 关断时间\\(t_{off} = t_s + t_f\\)。 GTR的开关时间在几微秒以内，比晶闸管和GTO都短很多。 GTR的主要参数 电流放大系数\\(\\beta = \\frac{i_c} {i_b}\\)。 集射极间漏电流\\(I_{ceo}\\)，若考虑\\(I_{ceo}\\)，则有\\(i_c = \\beta i_b + I_{ceo}\\)。集射极间饱和压降\\(U_{ces}\\)。 直流电流增益\\(h_{FE}\\)，一般可认为\\(h_{FE} \\approx \\beta\\)。 开通时间\\(t_{on}\\)与关断时间\\(t_{off}\\)。 最高工作电压（GTR上电压超过规定值时会发生击穿）。 集电极最大允许电流\\(I_{cM}\\)与集电极最大耗散功率\\(P_{cM}\\)。 GTR的二次击穿现象与安全工作区 一次击穿——集电极电压升至击穿电压时，\\(I_c\\)迅速增大。只要\\(I_c\\)不超过限度，GTR一般不会损坏，特性也不变。 二次击穿——一次击穿发生时，\\(I_c\\)突然急剧上升，电压陡然下降。常常立即导致器件的永久损坏，或者工作特性明显衰变。 安全工作区(Safe Operating Area,SOA)——二次击穿临界线由不同基极电流的二次击穿临界点连接而成。 图17 GTR安全工作区 其中\\(U_{ceM}\\)为最高电压，\\(I_{cM}\\)为集电极最高电流，\\(P_{cM}\\)为最大耗散功率，\\(P_{SB}\\)为二次击穿功率。 电力场效应晶体管——Power MOSFET 电力场效应晶体管分为结型（静电感应晶体管）(Static Induction Transistor,SIT)和绝缘栅型(Metal Oxide Semiconductor,MOS)，电力MOSFET主要指绝缘栅型场效应晶体管(MOSFET)。 电力MOSFET利用栅极电压来控制漏极电流，驱动电路简单，驱动功率小。开关速度快，工作频率高。热稳定性优于GTR。电流容量小，耐压低，一般用于功率≼10kW的电力电子装置。 电力MOSFET按导电沟道分类可分为P沟道和N沟道。对于N（或P）沟道器件，栅极电压为零时漏源极间存在导电沟道的称为耗尽型，栅极电压大于（或小于）零时漏源极间存在导电沟道的称为增强型。电力MOSFET通常指N沟道增强型。 电力MOSFET的结构和工作原理 导电机理与小功率MOS管相同，结构上有区别。小功率MOS管是横向导电器件，而电力MOSFET采用垂直导电结构。 按垂直导电结构的差异，又分为利用V型槽实现垂直导电的VVMOSFET(Vertical V-groove MOSFET)和具有垂导电双扩散MOS结构的VDMOSFET(Vertical Double-diffused MOSFET)。这里以VDMOSFET为例讨论。 电力MOSFET采用多元集成结构，一个器件由多个小MOSFET元组成。 图18 电力MOSFET结构截面图及电气图形符号a) N沟道增强型VDMOS单元截面图 b) 电气图形符号 截止：漏源极间加正电源，栅源极间电压为零。 P基区与N漂移区之间形成的PN结\\(J_1\\)反偏，漏源极之间无电流流过。 导电：在栅源极间加正电压\\(U_{GS}\\)。 当\\(U_{GS}\\)大于\\(U_T\\)时，P型半导体反型成N型而成为反型层，该反型层形成N沟道而使PN结\\(J_1\\)消失，漏极和源极导电。 场效应管的引脚与三极管相对应：栅极/门极G对应基极b，漏极D对应集电极c，源极S对应发射级e。 电力MOSFET的基本特性 图19 电力MOSFET静态特性a) 转移特性 b) 输出特性 漏极电流\\(I_D\\)和\\(U_{GS}\\)的关系称为MOSFET的转移特性。 \\(I_D\\)较大时，\\(I_D\\)与\\(U_{GS}\\)的关系近似线性，曲线的斜率定义为跨导\\(G_{fs}\\)。 MOSFET的漏极伏安特性对应为输出特性。 其中截止区对应于GTR的截止区，饱和区对应于GTR的放大区，非饱和区对应GTR的饱和区。 MOSFET工作在开关状态，即在截止区和非饱和区之间来回转换。 漏源极间有寄生二极管，加反向电压时器件导通。 通态电阻\\(R_{on}\\)具有正温度系数，对器件并联时的均流有利。 图20 电力MOSFET动态特性测试电路与开关过程波形 开通时间\\(t_{on} = t_{d(on)} + t_r\\)，开通延迟时间与上升时间之和。 关断时间\\(t_{off} = t_{d(off)} + t_f\\)，关断延迟时间和下降时间之和。 MOSFET的开关速度和\\(C_{in}\\)充放电有很大关系。可降低驱动电路内阻\\(R_s\\)减小时间常数，加快开关速度。 MOSFET不存在少子储存效应，关断过程非常迅速。开关时间在10~100ns之间，频率可达100kHz以上，是器件中最高的。 MOSFET是场控器件，静态时不需输入电流。但开关时需对输入电容充放电，仍需一定驱动功率。开关频率越高，所需要的驱动功率越大。 电力MOSFET的主要参数 跨导\\(G_{fs}\\)、开启电压\\(U_T\\)、开通延迟时间\\(t_{d(on)}\\)、上升时间\\(t_r\\)、关断延迟时间\\(t_{d(off)}\\)、下降时间\\(t_f\\)。 漏极电压\\(U_{DS}\\)——标称电力MOSFET电压定额 漏极直流电流\\(I_D\\)和漏极脉冲电流幅值\\(I_{DM}\\)——标称电力MOSFET电流定额 栅源电压\\(U_{GS}\\)——栅源之间的绝缘层很薄，\\(U_{GS} &gt; 20V\\)将导致绝缘层击穿。 极间电容\\(C_{GS}\\)、\\(C_{GD}\\)、\\(C_{DS}\\) 绝缘栅双极晶体管——IGBT GTR和GTO是双极型电流驱动器件，有电导调制效应，通流能力很强，但开关速度较低，所需驱动功率大，驱动电路复杂。电力MOSFET是单极型电压驱动器件，开关速度快，输入阻抗高，热稳定性好，所需驱动功率小而且驱动电路简单。将两类器件取长补短结合而成的复合器件，通常称为Bi-MOS器件。 绝缘栅双极晶体管(Insulated-gate Bipolar Transistor,IGBT)结合了GTR和MOSFET的优点，于1986年投入市场，是中小功率电力电子设备的主导器件，并在继续努力提高电压和电流容量。 开关速度高，开关损耗小。 安全工作区比GTR大，且具有耐脉冲电流冲击能力。 通态压降比VDMOSFET低。 输入阻抗高，输入特性与MOSFET类似。 与MOSFET和GTR相比，耐压和通流能力还可以进一步提高，同时保持开关频率高的特点。 IGBT的结构和工作原理 图21 IGBT结构和工作原理a) 内部结构断面示意图(N沟道VDMOSFET与GTR结合的N沟道IGBT) b) 简化等效电路 c) 电气图形符号 IGBT比VDMOSFET多一层P+注入区，使其有很强的通流能力。 简化等效电路表明，IGBT是GTR与MOSFET组成达林顿结构，相当于一个由MOSFET驱动的厚基区PNP晶体管。 \\(R_N\\)为基区内调制电阻。 IGBT是场控器件，驱动原理与电力MOSFET基本相同，通断由栅射极电压\\(u_{GE}\\)决定。 导通：\\(u_{GE}\\)为正且大于开启电压\\(U_{GE(th)}\\)时，MOSFET内形成沟道，提供基极电流，IGBT导通。由于电导调制效应，电阻\\(R_N\\)减小，使高耐压的IGBT也有很小的通态压降。 关断：栅射极间施加反压或不加信号时，MOSFET内的沟道消失，晶体管的基极电流被切断，IGBT关断。 IGBT亦为三端器件，分别是栅极G，集电极C，发射级E。 IGBT的基本特性 图22 IGBT静态特性a) 转移特性 b) 输出特性 IGBT的转移特性——集电极电流\\(I_C\\)与栅极电压\\(U_{GE}\\)间的关系，与电力MOSFET的转移特性类似。开启电压为\\(U_{GE(th)}\\)。 IGBT的输出特性——栅极电压\\(U_{GE}\\)为参考变量时，集电极电流\\(I_c\\)与集射极间电压\\(U_{CE}\\)间的关系。与GTR的输出特性类似，不同的是参考变量（GTR参考变量为基极电流\\(I_B\\)）。 分为三个区域：正向阻断区、有源区和饱和区（对应GTR的截止区、放大区、饱和区）。 \\(U_{CE} &lt; 0\\)时，IGBT为反向阻断工作状态。 电力电子电路中，IGBT工作于开关状态，即在正向阻断区与饱和区间转换。 图23 IGBT开关过程 IGBT的开通过程与MOSFET类似，其中开通时间\\(t_{on} = t_{d(on)} + t_r\\)。 \\(u_{CE}\\)的下降过程分为\\(t_{fv1}\\)和\\(t_{fv2}\\)两段。\\(t_{fv1}\\)为IGBT中MOSFET单独工作的电压下降过程；\\(t_{fv2}\\)为MOSFET和PNP晶体管同时工作的电压下降过程。 IGBT的关断过程，关断时间\\(t_{off} = t_{d(off)} + t_f\\)，电流下降时间又可分为\\(t_{fi1}\\)和\\(t_{fi2}\\)两段。 \\(t_{fi1}\\)为IGBT器件内部的MOSFET的关断过程，\\(i_C\\)下降较快。\\(t_{fi2}\\)为IGBT内部的PNP晶体管的关断过程，\\(i_C\\)下降较慢。 IGBT的主要参数 最大集射极间电压\\(U_{CES}\\)——由内部PNP晶体管的击穿电压确定。 最大集电极电流包括额定直流电流\\(I_C\\)和1ms脉宽最大电流\\(I_{CP}\\)。 最大集电极功耗\\(P_{CM}\\)——正常工作温度下允许的最大功耗。 其他新型电力电子器件 MOS控制晶闸管MCT MCT(MOS Controlled Thyristor)是将MOSFET与晶闸管组合而成的复合型器件。 结合了MOSFET高输入阻抗、低驱动功率、快速的开关过程（开关损耗小）与晶闸管高电压大电流、低导通压降的优点。 MCT可承受较高的di/dt和du/dt，使其保护电路可以简化。 一个MCT器件由数以万计的MCT元组成，每个由一个PNPN晶闸管，一个控制该晶闸管开通的MOSFET和一个控制该晶闸管关断的MOSFET组成。 遗憾的是，MCT的关键技术问题没有大的突破，电压和电流容量都远未达到预期的数值，未能投入实际应用。 静电感应晶体管SIT SIT(Static Induction Transistor)是一种结型场效应晶体管。SIT是多子导电的器件，工作频率与电力MOSFET相当，甚至更高，功率容量更大，因而适用于高频大功率场合。 在雷达通信设备、超声波功率放大、脉冲功率放大和高频感应加热等领域获得应用。 然而，SIT栅极会在不加任何信号时导通，加负偏压时关断，称为正常导通型器件，使用不太方便。 此外，SIT通态电阻较大，通态损耗也大，因而还未在大多数电力电子设备中得到广泛应用。 静电感应晶闸管SITH SITH(Static Induction Thyristor)可以看作是SIT与GTO组合而成的复合型器件。 SITH是双极型器件，具有电导调制效应，通态压降低、通流能力强。 其很多特性与GTO类似，但开关速度比GTO高，是大容量的快速器件。 SITH一般也是正常导通型，但也有正常关断型。此外，电流关断增益较小，因而其应用范围还有待拓展。 集成门极换流晶闸管IGCT IGCT(Integrated Gate-Commutated Thyristor)于20世纪90年代后期出现，结合了IGBT与GTO的优点，容量与GTO相当，开关速度快10倍。 可省去GTO复杂的缓冲电路，但驱动功率仍很大。 目前正在与IGBT等新型器件激烈竞争，试图最终取代GTO在大功率场合的位置。 基于宽禁带半导体材料的电力电子器件 硅的禁带宽度为1.12电子伏特（eV），而宽禁带半导体材料是指禁带宽度在3.0电子伏特左右及以上的半导体材料，典型的是碳化硅（SiC）、氮化镓（GaN）、金刚石等材料。 基于宽禁带半导体材料的电力电子器件将具有高得多的耐受高电压的能力、低得多的通态电阻、更好的导热性能、热稳定性以及耐受高温和射线辐射的能力。 宽禁带半导体器件的发展一直受制于材料的提炼和制造以及随后的半导体制造工艺的困难。 功率集成电路与集成电力电子模块 基本概念 20世纪80年代中后期开始，模块化趋势，将多个器件封装在一个模块中，称为功率模块。 可缩小装置体积，降低成本，提高可靠性。 对工作频率高的电路，可大大减小线路电感，从而简化对保护和缓冲电路的要求。 将器件与逻辑、控制、保护、传感、检测、自诊断等信息电子电路制作在同一芯片上，称为功率集成电路(Power Integrated Circuit,PIC)。 实际应用电路 高压集成电路(High Voltage IC,HVIC)一般指横向高压器件与逻辑或模拟控制电路的单片集成。 智能功率集成电路(Smart Power IC,SPIC)一般指纵向功率器件与逻辑或模拟控制电路的单片集成。 智能功率模块(Intelligent Power Module,IPM)则专指IGBT及其辅助器件与其保护和驱动电路的单片集成，也称智能IGBT(Intelligent IGBT)。 发展现状 功率集成电路的主要技术难点：高低压电路之间的绝缘问题以及温升和散热的处理。 以前功率集成电路的开发和研究主要在中小功率应用场合。 智能功率模块在一定程度上回避了上述两个难点,最近几年获得了迅速发展。 功率集成电路实现了电能和信息的集成，成为机电一体化的理想接口。 附表1：常用电力半导体开关器件性能对比 器件名称 可控性 驱动信号 额定电压、电流 工作频率 饱和压降 二极管 不可控 无 最大 有高有低 小 晶闸管 半控 脉冲电流（开通） 最大 最低 小 GTO 全控 正、负脉冲电流 大 较低 中 GTR(BJT) 全控 正电流 中 中 小 IGBT 全控 正电压 较大 较高 较小 MOSFET 全控 正电压 小 最该 大 附表2：全控型器件性能对比 器件名称 功率容量 驱动电路 通态压降 开关速度 GTO 6kV/6kA,9kV/1kA 复杂, 功率大 小 1~2kHz GTR 450V/30A,1200V/800A 较复杂, 功率大 较大 5kHz IGBT 1kV/100A,10~50A 简单,功率小 大,与耐压成正比 100kHz MOSFET 2.5kV/1.8kA 简单,功率小 较大 50kHz 扩展阅读 基本元器件 - 晶体三级管(by Power's Wiki) 【模拟电子技术Analog Electronics Technology 6】—— 共射放大电路的原理与改进 【模拟电子技术Analog Electronics Technology 10】——放大电路的三种接法详解 基本元器件 - 场效应管(by Power's Wiki)","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"课程笔记/电力电子技术","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"电力电子技术","permalink":"https://renahah.github.io/tags/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}]},{"title":"运动控制系统04-稳态调速性能指标和开环直流调速系统","slug":"课程笔记/运动控制系统/运动控制系统04-稳态调速性能指标和开环直流调速系统","date":"2023-05-20T02:18:05.000Z","updated":"2023-05-20T14:11:24.000Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统04-稳态调速性能指标和开环直流调速系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F04-%E7%A8%B3%E6%80%81%E8%B0%83%E9%80%9F%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E5%92%8C%E5%BC%80%E7%8E%AF%E7%9B%B4%E6%B5%81%E8%B0%83%E9%80%9F%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第二章 转速开环控制的直流调速系统 第三节 稳态调速性能指标和开环系统存在的问题；对应页码p24-p26 对于调速系统转速控制的要求 调速——在一定的最高转速和最低转速范围，有级（分档地）或无极（平滑地）调节转速； 稳速——以一定的精度在所需转速上稳定运行，在各种干扰下不允许有过大的转速波动； 加、减速——频繁起、制动的设备要求加、减速尽量快；不宜经受剧烈速度变化的机械则要求起、制动尽量平稳。 稳态性能指标 调速范围\\(D\\) 图1 调速范围 调速范围\\(D = \\frac{n_{\\max } } {n_{\\min } } = \\frac{n_{N} } {n_{\\min } }\\) \\(n_{\\max }\\)和\\(n_{\\min }\\)为电动机运行在额定负载下的最高转速与最低转速 一般以电动机最高转速作为额定转速\\(n_{\\max } = n_{N}\\) 静差率\\(s\\) 图2 静差率 静差率\\(s = \\frac{\\Delta {n_N} } {n_{0min} } \\times 100\\%\\) 静差率用来衡量调速系统在负载变化下的稳定度，影响静差率大小的因素有理想空载转速\\(n_0\\)与额定速降\\(\\Delta n_N\\) 调速系统的静差率指标应以最低速时所能达到的数值为准（图中b线） 调速范围、静差率和额定速降的关系 \\[D = \\frac{ {n_N}s} {\\Delta {n_N} (1 - s)}\\] 开环调速系统 图3 开环调速系统的结构原理图 图4 开环调速系统的稳态结构图 开环调速系统的性能：在要求的静差率不高时，可以实现一定范围内的无级调速。 开环调速系统存在的问题：对负载变化引起的转速波动没有抑制作用（没有抗扰能力）。不能同时满足\\(D\\)和\\(s\\)的要求（提高\\(D\\)的同时降低\\(s\\)）。 开环系统不能同时满足\\(D\\)和\\(s\\)的要求的原因：开环系统的转速降落太大。 解决问题的方案：减少额定负载所引起的转速降落。 但由直流电机系统机械特性方程式可知，额定负载转速降落\\(\\Delta {n_N} = \\frac{R{I_{dN} } } {C_e}\\)，由直流电动机的参数决定，无法改变。 解决矛盾的有效途径是采用反馈控制技术，构成转速闭环的控制系统。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统03-PWM变换器——电动机系统","slug":"课程笔记/运动控制系统/运动控制系统03-PWM变换器——电动机系统","date":"2023-05-16T01:42:26.000Z","updated":"2023-05-19T13:47:18.000Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统03-PWM变换器——电动机系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F03-PWM%E5%8F%98%E6%8D%A2%E5%99%A8%E2%80%94%E2%80%94%E7%94%B5%E5%8A%A8%E6%9C%BA%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第二章 转速开环控制的直流调速系统 第二节 PWM变换器——电动机系统的工作原理及调速特性；对应页码p16-p24 直流PWM调速系统由全控型电力电子器件构成，采用脉冲宽度调制控制方式。 在中、小容量的高动态性能系统中，直流PWM调速系统已经完全取代了V-M系统。 相较于V-M系统，直流PWM调速系统有如下优点： 主电路简单，需要的电力电子器件少； 开关频率高，电流容易连续，谐波少，电动机损耗及发热较少； 低速性能好，稳速精度高，调速范围宽； 若与快速响应的电动机配合，则系统频带宽，动态响应快，动态抗扰能力强； 电力电子开关器件工作在开关状态，导通损耗小，当开关频率适当时，开关损耗也不大，因而装置效率较高； 直流电源采用不控整流时，电网功率因数比相控整流器高。 脉宽调制变换器的作用是：用脉冲宽度调制的方法，把恒定的直流电源电压调制成频率一定、宽度可变的脉冲电压序列，从而可以改变平均输出电压的大小，以调节电动机转速。 PWM变换器电路有多种形式，总体上可分为不可逆与可逆两大类。 简单的不可逆PWM变换器——电动机系统 图1 简单的不可逆PWM变换器-直流电动机系统 上图为简单不可逆PWM变换器-直流电动机系统，其中\\(U_g\\)为脉宽可调的脉冲电压，脉冲电压宽度由控制电压\\(U_c\\)调节。 在一个开关周期\\(T\\)内： 当\\(0 \\leqslant t &lt; {t_{on} }\\)时，\\(U_g\\)为正，VT饱和导通，电源电压\\(U_s\\)通过VT加到直流电动机电枢两端。 当\\({t_{on} } \\leqslant t &lt; T\\)时，\\(U_g\\)为负，VT关断，电枢电路中的电流通过续流二极管VD续流，直流电动机电枢电压近似等于零。 因此，直流电动机电枢两端平均电压\\({U_d} = \\frac{t_{on} } {T} {U_s} = \\rho {U_s} = \\frac{U_c} {U_{TM} } {U_s} = {K_s} {U_c}\\) 其中，\\(\\rho = \\frac{t_{on} } {T} = \\frac{U_c} {U_{TM} }\\)为占空比，取值在0到1之间，改变占空比即可实现直流电动机的调压调速。 若令\\(\\gamma = \\frac{U_d} {U_s}\\)为PWM电压系数，则在不可逆PWM变换器中\\(\\gamma = \\rho\\) \\(U_{TM}\\)为锯齿电压最大值，也是控制电压的最大值；\\(K_s = \\frac{U_s} {U_{TM} }= \\frac{U_d} {U_c}\\)为电力电子变换器放大系数。 有制动电流通路的不可逆PWM变换器——电动机系统 简单的不可逆PWM变换器——电动机系统不允许电流反向； 续流二极管VD的作用只是为\\(i_d\\)提供一个续流的通道，没有制动能力； 若占空比过低，使\\(U_d\\)小于反电动势时，电流将衰减到零，直流就会断续，出现和相控整流器同样的问题。 为了实现电动机的制动，就需要为其提供反向电流通道。 图2 简单的不可逆PWM变换器-直流电动机系统电路原理图 原系统电路中的VT和VD作为新系统电路中的\\(VT_1\\)和\\(VD_2\\)，增加\\(VT_2\\)和\\(VD_1\\)来提供反向电枢电流通路。 \\(VT_1\\)和\\(VD_2\\)的驱动电压相等极型相反，即\\(U_{g1} = -U_{g2}\\)。 电压和电流波形有三种状态，分别为一般电动状态、制动状态和轻载电动状态。 一般电动状态 图3 一般电动状态 在一般电动状态中，\\(i_d\\)始终为正值。其电压与电流波形与简单不可逆电路工作波形一致。 \\(0 \\leqslant t &lt; {t_{on} }\\)期间，\\(U_{g1}\\)为正，\\(VT_1\\)导通，\\(U_{g2}\\)为负，\\(VT_2\\)关断，电流\\(i_d\\)沿图2回路①流通。 \\({t_{on} } \\leqslant t &lt; T\\)期间，\\(U_{g1}\\)与\\(U_{g2}\\)皆改变极性，\\(VT_1\\)关断，\\(i_d\\)沿图2回路②经过二极管\\(VD_2\\)续流。 \\(VT_1\\)和\\(VD_2\\)交替导通，\\(VT_2\\)和\\(VD_1\\)始终关断。 制动状态 图4 制动状态 在电动运行需要降速的时候，减小控制电压\\(U_c\\)使，\\(U_{g1}\\)正脉冲变窄，\\(U_{g2}\\)负脉冲变宽，从而使\\({U_d}\\)降低，\\(E &gt; {U_d}\\)（由于机电惯性，转速和电动势不会立即变化）。制动状态\\(i_d\\)始终为负值。 \\(t_{on} \\leqslant t &lt; T\\)期间，\\(U_{g2}\\)为正，\\(VT_2\\)导通，在感应电动势\\(E\\)作用下，反向电流沿图2回路③能耗制动。 \\(T \\leqslant t &lt; T + t_{on}\\)期间，\\(VT_2\\)关断，反向电流沿图2回路④经过二极管\\(VD_1\\)续流，向电源回馈能量。 \\(VT_2\\)和\\(VD_1\\)交替导通，\\(VT_1\\)和\\(VD_2\\)始终关断。 轻载电动状态 图5 轻载电动状态 特殊情况，平均电流较小，\\(VT_1\\)、\\(VD_2\\)、\\(VT_2\\)、\\(VD_1\\)依次导通。 \\(t_{on} \\leqslant t &lt; t_2\\)期间，\\(VT_1\\)关断，\\(i_d\\)沿图2回路②经过\\(VD_2\\)续流； \\(t_2 \\leqslant t &lt; T\\)，电流在\\(t = t_2\\)时刻衰减至零，\\(VT_2\\)导通，使电流反向，产生局部时间的制动作用，反向电流沿图2回路③能耗制动； \\(T \\leqslant t &lt; T + t_4\\)期间，\\(VT_2\\)关断，反向电流沿图2回路④经过二极管\\(VD_1\\)续流，向电源回馈能量。 \\(T + t_4 \\leqslant t &lt; T + t_{on}\\)期间，\\(VT_1\\)导通，电流\\(i_d\\)沿图2回路①流通。 注释1：电动机是感性元件，流过的电流不会因外部电路状态变化而突变。 注释2：电流经过二极管\\(VD_2\\)或\\(VD_1\\)续流时（对应回路②与回路④），对应的\\(VT_2\\)或\\(VT_1\\)不能导通，因为此时二极管有压降向晶闸管施加反压，使晶闸管无法导通。 桥式可逆PWM变换器——电动机系统 不可逆PWM变换器——电动机系统的平均电压\\(U_d\\)始终大于零，电压和转速不能反向。 如果要求转速反向，需要再增加VT和VD，构成可逆的PWM变换器-直流电动机系统，如下图所示： 图6 桥式可逆PWM变换器 可逆PWM变换器控制方式有双极式、单极式、受限单极式等，这里分析双极式控制的桥式可逆PWM变换器工作原理。 关于PWM变换器的几种控制方式的具体原理可参见我的电力电子技术笔记（还没写，到时候会附上链接）。 图7 双极式控制可逆PWM变换器的驱动电压、输出电压和电流波形 四个驱动电压波形关系：\\(U_{g1} = U_{g4} = -U_{g2} = -U_{g3}\\) \\(0 \\leqslant t &lt; {t_{on} }\\)期间，\\(VT_1,VT_4\\)导通，\\(U_{AB} = U_s\\)，电枢电流\\(i_d\\)沿图6回路①流通； \\({t_{on} } \\leqslant t &lt; T\\)期间，驱动电压反号，\\(U_{AB} = -U_s\\)，\\(i_d\\)沿图6回路②经二极管\\(VD_2,VD_3\\)续流。 PWM正负脉冲的宽窄通过控制电压\\(U_c\\)调节，\\(U_c\\)越大，正脉冲就越宽（即\\(t_{on}\\)越大），负脉冲越窄。 若\\(t_{on} &gt; \\frac T 2\\)，\\(U_{AB}\\)的平均值为正，电动机正转；(\\(\\rho&gt;\\frac 1 2,\\gamma&gt;0\\)) 若\\(t_{on} &lt; \\frac T 2\\)，\\(U_{AB}\\)的平均值为负，电动机反转；(\\(\\rho&lt;\\frac 1 2,\\gamma&lt;0\\)) 若\\(t_{on} = \\frac T 2\\)，正负脉冲相等，平均输出电压为零，电动机停止。(\\(\\rho=\\frac 1 2,\\gamma=0\\)) 双极式控制可逆PWM变换器的输出平均电压 \\[{U_d} = \\frac{t_{on} } {T} {U_s} - \\frac{T - {t_{on} } } {T} {U_s} = (\\frac{2{t_{on} } } {T} - 1){U_s} = \\gamma{U_s} = \\frac{U_c} {U_{TM} } {U_s} = {K_s} {U_c}\\] 占空比\\(\\rho = \\frac{t_{on} } {T} = \\frac{ { {U_c} + {U_{TM} } } } {2{U_{TM} } }\\) 占空比\\(\\rho\\)和电压系数\\(\\gamma\\)的关系\\(\\gamma = 2\\rho - 1\\) 电流波形存在两种情况，如图7所示： \\(i_{d1}\\)对应电动机负载较重情况，平均电流大，电机始终工作在第Ⅰ象限（正转电动状态）。 \\(i_{d2}\\)对应电动机轻载情况，平均电流小，续流阶段电流很快衰减到零，于是二极管终止续流，而反向开关器件导通，电枢电流反向，电动机处于制动状态。 \\(i_{d2}\\)电流中的线段3和4是工作在第Ⅱ象限（正转制动状态）。 电枢电流的方向决定了电流是经过续流二极管还是经过开关器件流动。 注释3：电动机的四个象限，指的是电机转速为横轴，电机转矩为纵轴，将电机的运行分为四个状态 第Ⅰ象限，转速为正，转矩为正，正转电动状态； 第Ⅱ象限，转速为负，转矩为正，正转制动状态，此时电机发电，又称回馈制动； 第Ⅲ象限，转速为负，转矩为负，反转电动状态； 第Ⅳ象限，转速为正，转矩为负，反转制动状态，此时电机发电，又称回馈制动。 对于直流电动机而言，\\(T = {C_T}\\Phi {I_a}\\)，即电磁转矩常数与磁通一定时，电机转矩与电枢电流成正比。 双极式控制的桥式可逆PWM的优点： 电流一定连续； 可使电动机在四象限运行； 电动机停止时有微振电流，能消除静磨擦死区； 低速平稳性好，系统的调速范围大； 低速时，每个开关器件的驱动脉冲仍较宽，有利于保证器件的可靠导通。 双极式控制的桥式可逆PWM的不足之处： 在工作过程中，四个开关器件可能都处于开关状态，开关损耗大，而且在切换时可能发生上、下桥臂直通的事故，为了防止直通，在上、下桥臂的驱动脉冲之间，应设置死区时间（逻辑延时）。亦可采用单极式控制。 直流PWM调速系统的机械特性 对于有制动电流通路的不可逆PWM变换器——电动机系统，其电压平衡方程式分两个阶段： \\(0 \\leqslant t &lt; {t_{on} }\\)期间，\\({U_s} = R{i_d} + L\\frac{d{i_d} } {dt} + E\\) \\({t_{on} } \\leqslant t &lt; T\\)期间，\\(0 = R{i_d} + L\\frac{d{i_d} } {dt} + E\\) 式中\\(R\\)、\\(L\\)分别为电枢电路的电阻和电感。 取平均电压\\({U_d} = \\gamma {U_s}\\)，平均电流\\(I_d\\)，电枢电感压降的均值\\(L\\frac{d{i_d} } {dt} = 0\\)，转速\\(n = \\frac{E} {C_e}\\) 得电压平均值方程\\(\\gamma {U_s} = R{I_d} + E = R{I_d} + {C_e}n\\) 进而得机械特性方程式（理想空载转速\\({n_0} = \\frac{ {\\gamma {U_s} } } {C_e}\\)，与电压系数成正比） \\[n = \\frac{\\gamma {U_s} } {C_e} - \\frac{R} {C_e} {I_d} = \\frac{ { {K_s} {U_c} } } {C_e} - \\frac{R} {C_e} {I_d} = {n_0} - \\frac{R} {C_e} {I_d}\\] 机械特性方程式可用转矩表示为（电动机在额定磁通下的转矩系数\\({C_m} = {K_m} {\\Phi _N}\\)） \\[n = \\frac{\\gamma {U_s} } {C_e} - \\frac{R} { { {C_e} {C_m} } } {T_e} = \\frac{ { {K_s} {U_c} } } {C_e} - \\frac{R} { { {C_e} {C_m} } } {T_e} = {n_0} - \\frac{R}{ { {C_e} {C_m} } } {T_e}\\] 对于有制动电流通路的不可逆PWM变换器——电动机系统，\\(0 \\leqslant \\gamma \\leqslant 1\\)，其理想空载转速与电压系数成正比，机械特性如下图所示： 图8 直流PWM调速系统（电流连续）的机械特性 对于双极式控制可逆PWM变换器——电动机系统，直流电动机机械特性与之类似为一组平行直线，且扩展到四个象限。 PWM控制器与变换器的动态数学模型 图9 PWM控制器与变换器框图 与V-M系统类似，控制电压\\(U_c\\)与PWM变换器输出平均电压\\(U_d\\)的变化存在延迟，最大时延为一个开关周期\\(T\\)，可被视作一个纯滞后环节。 传递函数\\({W_s}(s) = \\frac{ {U_d}(s)} { {U_c}(s)} = {K_s} {e^{ - {T_s}s} }\\) 其中\\(K_s\\)为PWM装置放大系数，\\(T_s\\)为PWM装置延迟时间（\\(T_s \\leqslant T\\)）。 在系统分析设计中，通常按最大延时考虑，取\\(T_s = T\\)。 传递函数近似为一阶惯性环节\\({W_s}(s) \\approx \\frac{K_s} { {T_s}s + 1}\\) 直流PWM调速系统的电能回馈和泵升电压 PWM变换器的直流电源通常由交流电网经不可控的二极管整流器产生，并采用大电容C滤波，以获得恒定的直流电压。 当电动机工作在回馈制动状态时，电能不可能通过整流装置送回交流电网，只能向滤波电容充电，形成直流PWM变换器-电动机系统特有的电能回馈问题。 对滤波电容充电的结果造成直流侧电压升高，称作“泵升电压”。 系统在制动时释放的动能将表现为电容储能的增加，要适当地选择电容的电容量，或采取其它措施，以保护电力电子开关器件不被泵升电压击穿。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"电力电子技术01-绪论","slug":"课程笔记/电力电子技术/电力电子技术01-绪论","date":"2023-05-14T07:34:51.000Z","updated":"2023-05-15T12:54:24.000Z","comments":true,"path":"课程笔记/电力电子技术/电力电子技术01-绪论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF01-%E7%BB%AA%E8%AE%BA/","excerpt":"《电力电子技术(第五版)》学习笔记 本节内容对应书中第一章 绪论；对应页码p1-p9 什么是电力电子技术","text":"《电力电子技术(第五版)》学习笔记 本节内容对应书中第一章 绪论；对应页码p1-p9 什么是电力电子技术 电子技术的分类 电力电子技术是使用器件对电能进行变换和控制的技术。电力电子技术使用的器件是电力半导体器件，主要用于电力变换，而信息电子技术主要用于信息处理，这是二者的主要区别。 电力电子技术可分为器件制造技术与变流技术。其中器件制造技术，即制造晶闸管、电力晶体管、IGBT等电力电子器件的技术是电力电子技术的基础，其理论基础是半导体物理。变流技术包括使用电力电子器件构成电力变换电路、电力装置、电力电子系统，以及对电力电子系统进行控制的技术，变流技术是电力电子技术的核心，其理论基础为电路理论。 电力变换可分为四大类： 四种电力变换 交流变直流（AC-DC）——整流 直流变交流（DC-AC）——逆变 直流变直流（DC-DC）——斩波 交流变交流（AC-AC）——变频（交流电力控制，可以是电压、频率、相数的变换） 电力电子技术与相关学科的关系、地位 与电子学（信息电子技术）的关系 都分为器件和电路应用两大分支 器件制造技术的理论基础均基于半导体理论；材料、工艺基本相同，采用微电子技术 电路应用的分析方法、分析软件基本相同 信息电子器件工作在开关、放大状态；电力电子器件工作在开关状态 与电力学（电气工程）的关系 电力电子技术广泛用于电气工程中 应用场景：高压直流输电、静止无功补偿、电力机车牵引、交直流电力传动、电解、励磁、电加热、高性能交直流电源 电力电子技术是电气工程学科最活跃的一个分支 与控制理论（自动化技术）的关系 控制理论广泛用于电力电子系统中 电力电子技术是弱电控制强电的技术，是弱电和强电的接口的有力纽带 电力电子装置是自动化技术的基础元件和重要支撑技术 电力电子技术和运动控制一起，和计算机技术共同成为未来科学技术的两大支柱。 若把计算机比作人的大脑，电力电子技术就可以比作人的消化系统与循环系统，可以实现能量的转换（电网或其他电源提供的“粗电”转化为易于消化利用的“精电”）。电力电子技术和运动控制还可以比作人的肌肉和四肢，可以使人运动和从事劳动，以实现大脑指令的执行。 电力电子技术作为20世纪后半叶诞生和发展的一门崭新的技术，21世纪仍将以迅猛的速度发展。 电力电子技术的发展史 史前期 1904年，电子管诞生，能在真空中对电子流进行控制，并应用于通信和无线电，从而开启了电子技术应用于电力领域的先河。 水银整流器流行于二十世纪30到50年代，它将水银封于管内，利用对其蒸汽的点弧可对大电流进行控制，在晶闸管未问世的时代广泛用于电化学工业、电气铁道直流变电、轧钢用直流电动机的传动以及直流输电。 交流变直流的方法除水银整流器外，还有电动机—直流发电机组，即变流机组。 1947年，贝尔实验室发明晶体管。 晶闸管时期 1957年，晶闸管问世，取代水银整流器与旋转变流机组，广泛应用于电化学工业、铁道电气机车、钢铁工业（轧钢用电气传动、感应加热等）、电力工业（直流输电、无功补偿等）。 晶闸管是半控型器件（通过对门极的控制使其导通而不能关断），电路控制方式为相位控制，晶闸管关断需要依靠电网电压等外部条件实现，有一定的局限性。 20世纪70年代，全控型器件迅速发展。包括门极可关断晶闸管（GTO）、电力双极型晶体管（BJT）、电力场效应晶体管（Power-MOSFET）等。全控型器件可以通过对门极的控制既可对其开通又可对其关断，且开关速度高于晶闸管。 全控型器件的控制方式为脉冲宽度调制（PWM）方式，又称斩波控制。 复合型器件时期 80年代后期以绝缘栅极双极型晶体管（IGBT）为代表的复合型器件异军突起，IGBT是全控型器件，是MOSFET和BJT的复合体，IGBT兼具MOSFET驱动功率小、开关速度快的优点与BJT通态压降小、载流能力大、可承受电压高的优点。 MOS控制晶闸管（MCT）和集成门极换流晶闸管（IGCT）是MOSFET和GTO的复合体，同样综合了两种器件的优点。 电力电子集成电路（PIC）将驱动、控制、保护电路和电力电子器件集成到了一起。PIC结构紧凑、体积小，这给应用带来了很大的方便。 除以PIC为代表的单片集成技术，电力电子集成技术还包括混合集成与系统集成。 软开关技术应运而生，零电压开关（ZVS）和零电流开关（ZCS）是软开关的基本形式。软开关可以有效降低开关损耗，进而提高开关频率与电力电子装置的功率密度。 电力电子技术的应用 一般工业：各类交直流电动机（轧钢机、数控机床、矿山牵引、大型鼓风机）、电机软起动装置、电化学工业整流电源（电解铝、电解食盐水、电镀装置）、冶金工业（感应加热电源、淬火电源、直流电弧炉电源） 交通运输：电气化铁道、电动汽车、飞机、船舶、电梯。 电力系统：直流输电、柔性交流输电、无功补偿和谐波抑制、电能质量控制。 电源：程控交换机、大型计算机、各类信息技术装置的电源。不间断电源（UPS）。 家用电器：节能灯、变频空调等。 其他：航天领域、太阳能发电与风力发电缓冲储能装置、抽水储能发电站、超导储能、特种电源。 电力电子技术研究的是电源技术——电力电子装置提供给负载的是各种不同的直流电源、恒频交流电源以及变频交流电源。 电力电子技术是节能技术——在大型风机、水泵采用变频调速方面，在使用量十分庞大的照明电源等方面，电力电子技术的节能效果十分显著。 参考资料 王兆安,刘进军. 电力电子技术(第5版)[M]. 北京:机械工业出版社,2009","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"课程笔记/电力电子技术","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"电力电子技术","slug":"电力电子技术","permalink":"https://renahah.github.io/tags/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}]},{"title":"运动控制系统02-晶闸管整流器——直流电动机系统","slug":"课程笔记/运动控制系统/运动控制系统02-晶闸管整流器——直流电动机系统","date":"2023-05-13T01:39:40.000Z","updated":"2023-05-20T02:18:14.000Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统02-晶闸管整流器——直流电动机系统/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F02-%E6%99%B6%E9%97%B8%E7%AE%A1%E6%95%B4%E6%B5%81%E5%99%A8%E2%80%94%E2%80%94%E7%9B%B4%E6%B5%81%E7%94%B5%E5%8A%A8%E6%9C%BA%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第二章 转速开环控制的直流调速系统 第一节 晶闸管整流器——直流电动机系统的工作原理及调速特性；对应页码p9-p15 触发脉冲相位控制 晶闸管整流器-电动机调速系统 图中VT为晶闸管整流器，通过调整触发装置GT的控制电压\\(U_c\\)来移动触发脉冲的相位，即可改变可控整流器输出瞬时电压\\(u_d\\)的波形，进而改变输出平均电压\\(U_d\\)。 瞬时电压平衡方程式\\[{u_{d0} } = E + {i_d}R + L\\frac{ {d{i_d} } } {dt}\\] 其中： \\(E\\)——电动机反电动势（V） \\(i_d\\)——电动机电流瞬时值（A） \\(L\\)——主电路总电感（H） \\(R=R_{rec}+R_a+R_L\\)——主电路总电阻（Ω） 其中\\(R_{rec}\\)为整流装置电阻，\\(R_a\\)为电枢电阻，\\(R_L\\)为平波电抗器电阻。 V-M系统主电路的等效电路图 理想空载整流电压平均值\\({U_{d0}} = \\frac{m}{\\pi }{U_m}\\sin \\frac{\\pi }{m}\\cos \\alpha\\)（假设电流波形连续） \\(\\alpha\\)——从自然换相点算起的触发脉冲控制角 \\(U_m\\)——\\(\\alpha=0\\)时的整流电压波形峰值 \\(m\\)——交流电源一周内的整流电压脉波数 不同整流电路的整流电压波峰值、脉冲数及平均整流电压 电流脉动及波形断续问题 带负载单相全控桥式整流电路的输出 对于带R-L-E负载的可控整流系统，以单相全控桥式电路为例。 在整流变压器二次侧额定相电压\\(u_2\\)的瞬时值大于反电动势\\(E\\)时，晶闸管才可能被触发导通。 导通后如果\\(u_2\\)降低到\\(E\\)以下，靠电感作用可以维持电流\\(i_d\\)继续流通。 由于电压波形的脉动，造成了电流波形的脉动。 在\\(I_d\\)上升阶段，电感储能；在\\(I_d\\)下降阶段，电感中的能量将释放出来维持电流连续。 电路有足够的电感量时，电动机负载足够大时，电流脉动波形连续；但当负载电流较小时，电感中的储能较少，等到\\(I_d\\)降到零时，则会造成电流波形断续，如下图所示。 V-M系统的电流波形断续 脉动电流会增加电动机的发热，产生脉动转矩对生产机械不利。抑制电流脉动可以： 增加整流电路相数，或采用多重化技术。 设置电感量足够大的平波电抗器。 V-M系统的机械特性 电流波形连续时，V-M系统机械特性方程式： \\[n = \\frac{1} { {C_e} }({U_{d0} } - {I_d}R)\\] 其中\\(C_e = {K_e} {\\phi_N}\\)为额定磁通下的电动势系数；\\(K_e\\)为直流电机电动势结构常数 电流连续时V-M系统的机械特性 电流波形断续时，由于非线性因素，机械特性方程十分复杂，这里不再赘述。 V-M系统的机械特性 由图可知电流连续时，机械特性较硬，这时的晶闸管整流器可视作线性的可控电压源。 电流断续时，机械特性软，理想空载转速高，特性曲线上翘处于非线性状态。 连续区与断续曲的分界线位于\\(\\theta = \\frac{2\\pi } {3}\\)处，其中\\(\\theta\\)为一个电流脉波的导通角，\\(\\theta &gt; \\frac{2\\pi } {3}\\)时电流波形连续。 图中\\(\\alpha\\)为触发脉冲控制角，\\(\\alpha &lt; \\frac{\\pi } {2}\\)时系统处于整流状态，\\(\\alpha &gt; \\frac{\\pi } {2}\\)处于逆变状态。 晶闸管触发和整流装置的传递函数 实际晶闸管触发和整流装置是非线性的，在一定的工作范围内可近似看作线性环节。分别求出它的放大系数与传递函数后，便可以利用线性控制理论分析V-M系统。 放大系数计算 晶闸管触发与整流装置的输入输出特性 晶闸管触发与整流装置的输入输出特性如上图所示，其中\\(U_c\\)为输入电压（控制电压），\\(U_d\\)为输出电压（整流电压） 可求出放大系数\\({K_s} = \\frac{\\Delta {U_d} } {\\Delta {U_c} }\\)，即工作范围内的特性斜率。 亦可根据装置的工作参数估算。如\\(U_c\\)范围为0~10V，\\(U_d\\)范围为0~220V，则放大系数\\(K_s=220/10=22\\)。 失控时间 晶闸管的整流作用具有滞后性，即晶闸管导通后，控制电压\\(U_c\\)的变化不再起到作用，直到下一个自然换相点后，控制电压\\(U_c\\)对应的下一相触发脉冲到来才会使输出整流电压\\(U_{d0}\\)发生变化。这使得整流电压滞后于控制电压。 晶闸管触发与整流装置的失控时间 上图所示电路为单相桥式全控整流电路，其具体原理可参见我的电力电子技术笔记（还没写，到时候会附上链接）。 图中\\(t_2\\)时刻控制电压发生变化，但\\(u_d\\)没有立刻发生改变，而是在下一相发生变化。平均整流电压的计算周期是从自然换向点开始到下一个自然换向点结束，因此\\(t_3\\)时刻平均整流电压\\(U_{d0}\\)改变。在这里失控时间\\(T_s=t_3-t_2\\)。 由于\\(U_c\\)变化的时刻不确定，因此失控时间\\(T_s\\)是随机值。 最大失控时间\\({T_{smax} } = \\frac{1} {mf}\\) 其中\\(f\\)为交流电源频率，通常取50Hz；\\(m\\)为一周内整流电压脉波数。 平均失控时间\\({T_s} = \\frac{1}{2}{T_{smax } }\\) 常见晶闸管整流器失控时间（\\(f=50Hz\\)） 整流电路形式 最大失控时间 \\({T_{smax} }\\)(ms) 平均失控时间 \\({T_{smax} }\\)(ms) 单相半波(\\(m=1\\)) 20 10 单相桥式（全波）(\\(m=2\\)) 10 5 三相半波(\\(m=3\\)) 6.67 3.33 三相桥式(\\(m=6\\)) 3.33 1.67 传递函数 因上可知，在动态过程中，晶闸管触发与整流装置可被视作一个纯滞后环节。 输入阶跃信号\\(1(t)\\)，在\\(T_s\\)时间后产生响应\\(1(t-T_s)\\)。 输入输出关系（时域）：\\({U_{d0} } = {K_s} {U_c} \\times 1(t - {T_s})\\) 传递函数：\\({W_s}(s) = \\frac{ { {U_{d0} }(s)} } { { {U_c}(s)} } = {K_s} {e^{ - {T_s}s} }\\) 泰勒展开，忽略高次项后，可近似为一阶惯性环节\\({W_s}(s) \\approx \\frac{ { {K_s} } } { {1 + {T_s}s} }\\) 动态结构图如下所示： 晶闸管触发与整流装置动态结构图a)准确的时滞环节 b)近似的一阶惯性环节 晶闸管整流器运行中存在的问题 晶闸管是单向导电的。 晶闸管对过电压、过电流和过高的du/dt与di/dt都十分敏感。 晶闸管的导通角变小时会使得系统的功率因数也随之减少，称之为“电力公害”。","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"运动控制系统01-绪论","slug":"课程笔记/运动控制系统/运动控制系统01-绪论","date":"2023-05-11T23:13:57.000Z","updated":"2023-05-15T12:54:18.000Z","comments":true,"path":"课程笔记/运动控制系统/运动控制系统01-绪论/","link":"","permalink":"https://renahah.github.io/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F01-%E7%BB%AA%E8%AE%BA/","excerpt":"","text":"《电力拖动自动控制系统——运动控制系统(第五版)》学习笔记 本节内容对应书中第一章 绪论；对应页码p1-p6 运动控制系统的概念 电力拖动——电能与机械能间的能量转换 电力拖动自动控制系统(运动控制系统) ——通过控制电动机的电压、电流、频率等输入量，来改变机械转矩、速度、位移等机械量 运动控制系统的实现涉及到多个学科 运动控制系统及其组成 ①电动机——电机学/电机拖动 ②功率放大与变换装置——电力电子技术 ③控制器——自动控制原理/计算机控制技术 ④信号处理与传感器——检测与转换 运动控制系统基本方程式 \\[J\\frac{ {d{\\omega _m} } } { {dt} } = {T_e} - {T_L} - D{\\omega _m} - K{\\theta _m}\\] \\[\\frac{ {d{\\theta _m} } } { {dt} } = {\\omega _m}\\] 其中： \\(J\\)——机械转动惯量（kg·㎡） \\(\\omega _m\\)——转子机械角速度（rad/s） \\(\\theta _m\\)——转子机械角（rad） \\(T_e\\)——电磁转矩（N·m） \\(T_L\\)——负载转矩（N·m） \\(D\\)——阻尼转矩系数 \\(K\\)——扭转弹性转矩系数 通常忽略阻尼转矩和扭转弹性转矩，运动方程式简化为 \\[J\\frac{ {d{\\omega _m} } } { {dt} } = {T_e} - {T_L}\\] 采用飞轮距代替转动惯量，可以将式子改写为 \\[\\frac{ {G{D^2} } } { {375} }\\frac{ {dn} } { {dt} } = {T_e} - {T_L}\\] 其中：转换公式为\\(J = m{\\rho ^2} = \\frac{ {G{D^2} } } { {4g} }\\)，角速度\\({\\omega _m} = \\frac{ {2\\pi n} } { {60} }\\)，\\(375 \\approx \\frac{ {120g} } {\\pi }\\)（m/min·s） \\(m\\)——转动部分质量（kg） \\(G\\)——转动部分重力（N） \\(\\rho\\)——转动惯性半径（m） \\(D\\)——转动惯性直径（m） \\(g\\)——重力加速度（取9.8\\(m{\\text{/} } { {\\text{s} }^2}\\)） \\(n\\)——转子机械转速（r/min） 转矩控制是运动控制的根本问题 因为要控制电机的转速与转角（或直线电机的速度与位移），唯一需要控制的是电机的电磁转矩\\(T_e\\) 磁链控制同样重要 为了有效地控制电磁转矩，充分利用电机铁芯，在一定的电流作用下尽可能产生最大的电磁转矩，必须在控制转矩的同时也控制磁通（或磁链）。 通常在基速（额定转速）以下采用恒磁通控制，基速度以上采用弱磁控制。 生产机械的负载转矩特性 恒转矩负载 恒转矩负载 a）位能性恒转矩负载（由重力产生）——起重机、电梯 负载转矩的大小和方向始终不变。例如起重设备提升重物时，负载转矩为阻转矩，其作用方向与电动机旋转方向相反，当下放重物时，负载转矩变为驱动转矩，其作用方向与电动机旋转方向相同，促使电动机旋转 b) 反抗性恒转矩负载——轧钢机、机床平移机构 负载转矩的方向始终与生产机械运动的方向相反，始终是阻转矩 恒功率负载 恒功率负载 \\(P_L\\)为常数，\\({T_L} = \\frac{P_L}{\\omega _m} = \\frac{ {60{P_L} } } { {2\\pi n}}\\) 负载转矩与转速成反比、反抗性负载——车床加工、牵引 车床粗加工时，切削量大（负载大），用低速挡 车床精加工时，切削量小（负载小），用高速挡 风机泵类负载 风机泵类负载 \\({T_L} \\propto \\omega _m^2 \\propto {n^2}\\)负载转矩与转速平方成正比、反抗性负载——风机、水泵、油泵 参考资料 阮毅,杨影,陈伯时. 电力拖动自动控制系统——运动控制系统(第四版)[M]. 北京:机械工业出版社,2016 机电之家——生产机械的负载转矩特性","categories":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"}]},{"title":"建站历程","slug":"hello-world-1","date":"2023-05-11T12:53:46.000Z","updated":"2023-07-23T08:17:51.679Z","comments":true,"path":"hello-world-1/","link":"","permalink":"https://renahah.github.io/hello-world-1/","excerpt":"记录网站搭建的过程，解决问题的途径，列举所参考的资料。","text":"记录网站搭建的过程，解决问题的途径，列举所参考的资料。 2023年 2023-4-3 最初的打算是搭建一个wiki形式的知识库，参考B站相关教程，建立了基于Wikitten的本地网站。Wikitten是基于PHP的动态网站，开始初步学习（其实是复习，以前有基础）HTML、CSS、Javascript、PHP等相关知识。 搭建本地Wiki，创建属于自己的知识管理体系 by-FiixOne Wikitten by-devaneando 菜鸟教程 2023-5-11 基于静态网页生成器Hexo搭建个人知识库/博客，使用Wikitten主题，挂载在GitHub上。 hexo搭建个人博客超简单效果超好的个人网站博客搭建对小白很友好 by-计算机毕业设计团队 【2022最新版】保姆级Hexo+github搭建个人博客并绑定自己的域名 by-武师叔 hexo-script使用文档 hexo文档 hexo-theme-Wikitten by-zthxxx Hexo博客搭建基础教程 by-fomal 2023-5-12 实现对MathJax数学公式的支持 2023-5-13 加入网页404界面 2023-5-14 试图实现Mermaid流程图支持，成功了但效果不好，目前未启用。 ①太慢，二十多秒才能渲染出来；②手机端显示效果不佳——应该是mermaid.min.js的问题 设置Hexo支持mermaid by-天天教程 2023-5-21 成功支持twikoo评论系统，使用Zeabur进行部署 twikoo文档 Zeabur hexo-yilia主题支持twikoo评论系统 by-布小星 2023-5-23 成功支持夜间模式，点击🌞或🌙图标即可切换 Hexo 暗黑模式 by-Royce 2023-7-18 关闭了评论系统，因为Zeabur试用期结束，之后需要花钱，而我只想白嫖。 也不会有人在我的博客里评论吧。 计划中的内容 实现分类页与文章目录的浮动。 To Be Countinued未完待续......","categories":[],"tags":[]},{"title":"论外星人存在的可能性","slug":"日记/论外星人存在的可能性","date":"2023-05-11T10:30:57.000Z","updated":"2023-06-10T00:45:33.796Z","comments":true,"path":"日记/论外星人存在的可能性/","link":"","permalink":"https://renahah.github.io/%E6%97%A5%E8%AE%B0/%E8%AE%BA%E5%A4%96%E6%98%9F%E4%BA%BA%E5%AD%98%E5%9C%A8%E7%9A%84%E5%8F%AF%E8%83%BD%E6%80%A7/","excerpt":"个人认为，在宇宙中，外星人存在的可能性无限趋近于百分之百，不存在的可能性几乎没有。","text":"个人认为，在宇宙中，外星人存在的可能性无限趋近于百分之百，不存在的可能性几乎没有。 如果没有外星人，也就是说宇宙中只有地球上出现了智慧生命，或者说地球人是的宇宙中第一个出现的智慧生命种族，那未免过于巧合，毕竟宇宙太大了，存在无限的可能性。 从另一个角度看，我们可以试着想一下，地球在宇宙中，是否具有特殊性。目前的答案是否定的，因为基于目前的天文观测结果，太阳在银河系中，只是一个普通恒星，银河系也只是宇宙中的一个普通河系，没有任何特别之处。既然地球上能出现智慧生命，那么宇宙中其他的普通恒星系上，只要存在处于宜居带上的岩石行星，就有机会存在智慧生命。也就是说外星人在宇宙中到处都是，不要把自己想的太特殊。 可能有人会说，就算宇宙中存在大量符合条件的类似于地球的行星，也不意味着这些行星会有智慧生命，这种概率太低了。地球诞生了约45亿年，在诞生几亿年后出现了最初的生命，而再此基础上出现我们却用了约40亿年，可以看出来生命的出现相对容易，火星上也有可能存在生命，但出现智慧生命并不容易，这需要漫长的进化，天时地利，以及各种复杂条件。这确实使得类地行星出现智慧生命的概率极低。但概率再低也不是零，哪怕是亿分之一，只要宇宙足够大，就可以诞生数以亿计的智慧文明。这种概率极低事情就在你身上发生过，数以亿计的精子争夺一个进入卵子的机会，你所在的精子取得胜利，结合为受精卵。概率低不要紧，只要基数足够大，事件发生的次数就会很多。 当然有这么一种可能性，地球具有特殊性，只是以目前科学无法探测，通过这样的特殊性推测出我们是目前宇宙中唯一智慧生命族群，如果这事真的发生了，那就更证实了外星人确实存在，为什么地球会特殊？这会不会是外星人的刻意安排，或许它们躲在宇宙深处观察我们，进行一项实验，研究内容可能是在没有任何外星人的前提下，单一智慧文明在宇宙中会如何发展。如果地球有特殊性，那么极有可能是外星人的干预造成的，自然形成特殊性的可能性极低。 综上，外星人不存在的可能性极低，外星人不存在的情况只有两种可能：地球具有特殊性，且这种特殊性系自然形成；地球人是的宇宙中第一个出现的智慧生命种族。","categories":[{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"科幻","slug":"科幻","permalink":"https://renahah.github.io/tags/%E7%A7%91%E5%B9%BB/"},{"name":"脑洞","slug":"脑洞","permalink":"https://renahah.github.io/tags/%E8%84%91%E6%B4%9E/"}]},{"title":"使用技巧","slug":"hello-world","date":"2023-05-11T02:53:46.000Z","updated":"2023-08-14T02:39:05.802Z","comments":true,"path":"hello-world/","link":"","permalink":"https://renahah.github.io/hello-world/","excerpt":"","text":"Hexo指令 在hexoblog文件夹内，右键点击Git Bash Here进入窗口输入指令 启动本地服务器 hexo s 清空静态文件 hexo clean 生成静态文件 hexo g 上传至git hexo d 创建新文章 hexo new 文章名称.md 安装Nodejs插件 npm i 插件名称 --save 卸载Nodejs插件 npm un 插件名称 --save 查看插件是否安装 npm list 插件名称 一键部署脚本up.sh 清空+生成+上传git source up.sh Hexo语法 摘要 &lt;!--more--&gt;之上的内容为摘要。 站内链接 格式为： &#123;% post_link 音乐/乐理/乐理笔记01-基础知识 '乐理笔记01-基础知识' %&#125; 显示效果： 乐理笔记01-基础知识 HTML语法 Markdown不支持或者支持效果不好的语法可以使用HTML代替。 文本高亮 &lt;mark&gt;文本高亮&lt;/mark&gt; 文本高亮 文本下划线 &lt;u&gt;文本下划线&lt;/u&gt; 文本下划线 文章插入图片方法 修改工程根目录下的_config.yml的配置：post_asset_folder: true； 创建一个文件夹，文件夹的名字和博客文件名一样，在里面放置你要引入的图片； 在文章中正常引用，只需要把图片名字引入即可，不需要写相对地址和绝对地址 &lt;center&gt;&lt;img src=\"1 图片插入模板.png\" width=400/&gt;&lt;span class=\"caption\"&gt;图1 图片插入模板&lt;/span&gt;&lt;/center&gt; Mathjax公式 使用说明 所用渲染插件为hexo-rendere-pandoc 从mathtype粘贴AMSLaTex格式，公式内不能出现连续大括号——将公式内连续的大括号用空格隔开即可 公式内不能出现换行——删掉换行即可 公式符号边要紧挨$字符，不能有空格 公式语法 太多了，暂略 公式测试 \\[E = m{c^2}\\] 行内\\(O(f(n))=log_2^{n}\\)测试 行内\\(\\begin{Bmatrix} a &amp; b \\\\ c &amp; d \\end{Bmatrix}\\)显示测试 \\[{I_d} - {I_{dL}}\\] \\[i\\hbar\\frac{\\partial}{\\partial t}\\psi=-\\frac{\\hbar^2}{2m}\\nabla^2\\psi+V\\psi\\] \\[\\left\\{ \\begin{gathered} {U_{d0} } - E = R({I_d} + {T_e}\\frac{ {d{I_d} } } { {dt} }) \\hfill \\\\{I_d} - {I_{dL} } = \\frac{ { {T_m} } } {R}\\frac{ {dE} } { {dt} } \\hfill \\\\ \\end{gathered} \\right. \\] \\[{I_d} - {I_{dL}} = \\frac{G{D^2}}{375*{C_T}*{C_e}}\\frac{dE}{dt}\\] \\[u(t) = {K_p}e(t) + {K_i}\\int_0^t {e(t)dt + {K_d}\\frac{de(t)}{dt}}\\] \\[X_{k + 1}^{(j)} = X_k^{(j)} + v_{k + 1}^{(j)} \\cdot dt\\] \\[{W_{opi} }(s) = \\frac{ { {K_i}({\\tau _i}s + 1)} } { { {\\tau _i}s} }\\frac{ {\\beta {K_s}/R} } { {({T_l}s + 1)({T_{\\sum i}}s + 1)} }\\] \\[3\\sqrt {\\frac{1} { { {T_m} {T_l} } } } = 3 \\times \\sqrt {\\frac{1} { {0.137 \\times 0.032} } } {s^{ - 1} } = 45.31{s^{ - 1} } &lt; {\\omega _{ci} }\\] hexo d报错“Spawn failed”的解决办法 1234567891011进入站点根目录cd D:/RenAhah/hexoblog 删除git提交内容文件夹rm -rf .deploy_git/ 执行git config --global core.autocrlf false 最后hexo clean &amp;&amp; hexo g &amp;&amp; hexo d 代码段嵌入测试 在主题配置文件_config.Wikitten.yml中修改customize.highlight的值，即可修改代码段的高亮样式，高亮样式文件夹位于hexoblog\\themes\\Wikitten\\source\\css\\_highlight 目前所用高亮样式为atelier-forest-light 注意修改yml文件后要重新hexo s一次才能生效 123456789101112131415int main(void)&#123; NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);//设置中断优先级分组为组2：2位抢占优先级，2位响应优先级 delay_init(); //延时函数初始化 uart_init(9600); //串口初始化为115200 TIM1_Int_Init(99,7199);//定时10ms(电机) CAN2_Configuration(); Sensor_Init(); PID_Reset(&amp;pid1); PID_Reset(&amp;pid2); while(1) &#123; &#125;&#125; To Be Countinued未完待续...... 参考资料 hexo部署报错Spawn failed原因及解决方法 hexo-theme-Wikitten说明 这次彻底解决在Hexo中渲染MathJax数学公式出现的问题！！！","categories":[],"tags":[]}],"categories":[{"name":"工业软件","slug":"工业软件","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/"},{"name":"Maxwell","slug":"工业软件/Maxwell","permalink":"https://renahah.github.io/categories/%E5%B7%A5%E4%B8%9A%E8%BD%AF%E4%BB%B6/Maxwell/"},{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"课程笔记/运动控制系统","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/"},{"name":"乐理","slug":"音乐/乐理","permalink":"https://renahah.github.io/categories/%E9%9F%B3%E4%B9%90/%E4%B9%90%E7%90%86/"},{"name":"日记","slug":"日记","permalink":"https://renahah.github.io/categories/%E6%97%A5%E8%AE%B0/"},{"name":"电力电子技术","slug":"课程笔记/电力电子技术","permalink":"https://renahah.github.io/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"Maxwell","slug":"Maxwell","permalink":"https://renahah.github.io/tags/Maxwell/"},{"name":"课程笔记","slug":"课程笔记","permalink":"https://renahah.github.io/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"},{"name":"运动控制系统","slug":"运动控制系统","permalink":"https://renahah.github.io/tags/%E8%BF%90%E5%8A%A8%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/"},{"name":"乐理","slug":"乐理","permalink":"https://renahah.github.io/tags/%E4%B9%90%E7%90%86/"},{"name":"音乐","slug":"音乐","permalink":"https://renahah.github.io/tags/%E9%9F%B3%E4%B9%90/"},{"name":"竞赛","slug":"竞赛","permalink":"https://renahah.github.io/tags/%E7%AB%9E%E8%B5%9B/"},{"name":"单片机","slug":"单片机","permalink":"https://renahah.github.io/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"},{"name":"OPENMV","slug":"OPENMV","permalink":"https://renahah.github.io/tags/OPENMV/"},{"name":"软件开发","slug":"软件开发","permalink":"https://renahah.github.io/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"},{"name":"python","slug":"python","permalink":"https://renahah.github.io/tags/python/"},{"name":"电力电子技术","slug":"电力电子技术","permalink":"https://renahah.github.io/tags/%E7%94%B5%E5%8A%9B%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/"},{"name":"科幻","slug":"科幻","permalink":"https://renahah.github.io/tags/%E7%A7%91%E5%B9%BB/"},{"name":"脑洞","slug":"脑洞","permalink":"https://renahah.github.io/tags/%E8%84%91%E6%B4%9E/"}]}